<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>博客魔改教程总结(二)</title>
      <link href="/posts/5389e93f.html"/>
      <url>/posts/5389e93f.html</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><b>魔改前必看（我当你们都懂了，太细节的就不写在教程中了🤣🤣🤣）：</b></p><ol><li>博客魔改有风险，如果博客魔改出问题了又没有备份，可通过此项目查看基础源码进行<strong>回滚</strong>：<a href="https://github.com/ccknbc-actions/blog-butterfly">ccknbc-actions/blog-butterfly</a>。</li><li>这部分魔改基本上都是大佬们造好的轮子，我按照大佬们的轮子结合自己的喜好进行魔改的，具体见我友人帐第一个栏目大佬们的网站，本处仅做一个总结，如有侵权请联系删除。</li><li>鉴于每个人的根目录名称都不一样，本帖<strong>博客根目录</strong>一律以<code>[BlogRoot]</code>指代。</li><li>本帖涉及魔改源码的内容，会使用<strong>diff代码块</strong>标识，复制时请<strong>不要忘记删除</strong>前面的<code>+、-</code>符号。</li><li>因为<code>.pug</code>和<code>.styl</code>以及<code>.yml</code>等对缩进要求较为严格，请尽量<strong>不要使用记事本等无法提供语法高亮的文本编辑器</strong>进行修改。</li><li>本帖基于<code>Butterfly主题</code>进行魔改方案编写，因此请读者优先掌握<a href="https://butterfly.js.org/">Butterfly主题官方文档</a>的内容后再来进行魔改。</li><li>魔改会过程常常引入<strong>自定义的css与js文件</strong>，方法见<a href="https://b.leonus.cn/2022/custom.html">Hexo博客添加自定义css和js文件</a>(太懒了不想自己写)</li></ol></div><h2 id="个人卡片渐变色">个人卡片渐变色</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><img src="https://s1.vika.cn/space/2022/10/30/b35fce448bc9404a8d65c3ce1e6e46eb" alt="image (1)" style="zoom:67%;" /></div></div><p>在<code>[BlogRoot]\css\custom.css</code>自定义样式的文件中引入如下代码（最后记得在<code>inject</code>配置项引入!!!）：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 侧边栏个人信息卡片动态渐变色 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(</span><br><span class="line">    -<span class="number">45deg</span>,</span><br><span class="line">    <span class="number">#e8d8b9</span>,</span><br><span class="line">    <span class="number">#eccec5</span>,</span><br><span class="line">    <span class="number">#a3e9eb</span>,</span><br><span class="line">    <span class="number">#bdbdf0</span>,</span><br><span class="line">    <span class="number">#eec1ea</span></span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgb</span>(<span class="number">66</span>, <span class="number">68</span>, <span class="number">68</span>);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">400%</span> <span class="number">400%</span>;</span><br><span class="line">  -webkit-<span class="attribute">animation</span>: Gradient <span class="number">10s</span> ease infinite;</span><br><span class="line">  -moz-<span class="attribute">animation</span>: Gradient <span class="number">10s</span> ease infinite;</span><br><span class="line">  <span class="attribute">animation</span>: Gradient <span class="number">10s</span> ease infinite <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> Gradient &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> Gradient &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> Gradient &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 个人信息Follow me按钮 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> &gt; <span class="selector-id">#card-info-btn</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#3eb8be</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="顶部渐变条色加载条">顶部渐变条色加载条</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://www.chuckle.top/article/13d6481a.html">给Butterfly加上顶部加载条</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><p><img src="https://s1.vika.cn/space/2022/10/30/2a5cb2eb271f4135aae2c0e7be580164" alt="image-20221030160812710"></p></div></div><ol><li><p>新建<code>[BlogRoot]\css\progress_bar.css</code>文件，写入以下内容（或者你在<code>[BlogRoot]\css\custom.css</code>直接加也行，最后在配置文件记得引入即可）</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.pace</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">pointer-events</span>: none;</span><br><span class="line">    <span class="attribute">pointer-events</span>: none;</span><br><span class="line">    -webkit-user-select: none;</span><br><span class="line">    -moz-user-select: none;</span><br><span class="line">    user-select: none;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">7rem</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eaecf2</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#e3e8f7</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace-inactive</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span> ease-in</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    -moz-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    -ms-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    -o-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    -moz-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    -ms-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    -o-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">/* linear-gradient(to right, #3494e6, #ec6ead) */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to right, <span class="number">#43cea2</span>, <span class="number">#3866ca</span>);</span><br><span class="line">    <span class="attribute">animation</span>: gradient <span class="number">2s</span> ease infinite;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">200%</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span><span class="selector-class">.pace-inactive</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">8px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>的<code>inject</code>配置项加入刚刚的css样式和必须的js依赖：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">xxx</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/static/css/progress_bar.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span> </span><br><span class="line">  <span class="attr">bottom:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">xxx</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;//npm.elemecdn.com/pace-js@1.2.4/pace.min.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h2 id="Bilibili视频适配">Bilibili视频适配</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><p><img src="https://s1.vika.cn/space/2022/10/30/cb5ee923f1544e369c4b91fafa4919b9" alt="image"></p></div></div><ol><li><p>在<code>[BlogRoot]\css\custom.css</code>自定义样式的文件中引入如下代码（这是我的，你可以自行微调）：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*哔哩哔哩视频适配*/</span></span><br><span class="line"><span class="selector-class">.aspect-ratio</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span>;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">75%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">3%</span> auto;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.aspect-ratio</span> <span class="selector-tag">iframe</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">86%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>直接复制插入你的 <code>md</code> 文章就行，修改里面的 <code>aid</code> 为你视频的 <code>AV</code>号：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">align</span>=<span class="string">center</span> <span class="attr">class</span>=<span class="string">&quot;aspect-ratio&quot;</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;iframe src=&quot;https://player.bilibili.com/player.html?aid=474023258&amp;&amp;page=1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=0&quot; </span></span><br><span class="line"><span class="code">    scrolling=&quot;no&quot; </span></span><br><span class="line"><span class="code">    border=&quot;0&quot; </span></span><br><span class="line"><span class="code">    frameborder=&quot;no&quot; </span></span><br><span class="line"><span class="code">    framespacing=&quot;0&quot; </span></span><br><span class="line"><span class="code">    high_quality=1</span></span><br><span class="line"><span class="code">    danmaku=1 </span></span><br><span class="line"><span class="code">    allowfullscreen=&quot;true&quot;&gt; </span></span><br><span class="line"><span class="code">    &lt;/iframe&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h2 id="文章页局部-html-代码不渲染">文章页局部 html 代码不渲染</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>在你的 md 文章页中，部分内容不想经过 Hexo 渲染，则包一层 <code>raw</code> 标签：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% raw %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span></span>你的一些代码...<span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span>你的一些代码...<span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure><p>那么标签内的代码就不会被框架渲染了~</p>              </div>            </details><h2 id="文章H1-H6标题小风车转动效果">文章H1~H6标题小风车转动效果</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><div class="video"><video controls preload><source src='https://anzhiy.cn/video/风车样式效果预览.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div></div></div><ol><li><p>修改主题配置文件<code>_config.butterfly.yml</code>文件的<code>beautify</code>配置项：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">beautify:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span> <span class="comment"># site/post</span></span><br><span class="line">  <span class="comment"># title-prefix-icon: &#x27;\f0c1&#x27; 原内容</span></span><br><span class="line">  <span class="attr">title-prefix-icon:</span> <span class="string">&#x27;\f863&#x27;</span></span><br><span class="line">  <span class="attr">title-prefix-icon-color:</span> <span class="string">&quot;#F47466&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]\css\custom.css</code> 中加入以下代码，可以自己调节一下转速:</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 文章页H1-H6图标样式效果 */</span></span><br><span class="line"><span class="comment">/* 控制风车转动速度 4s那里可以自己调节快慢 */</span></span><br><span class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">h2</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">h3</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">h4</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">h5</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-tag">h6</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">animation</span>: ccc <span class="number">4s</span> linear infinite;</span><br><span class="line">  <span class="attribute">animation</span>: ccc <span class="number">4s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 控制风车转动方向 -1turn 为逆时针转动，1turn 为顺时针转动，相同数字部分记得统一修改 */</span></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> ccc &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">1turn</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">1turn</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> ccc &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">1turn</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">1turn</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 设置风车颜色 */</span></span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ef50a8</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">1.55rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.3rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">0.23rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fb7061</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">1.35rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.1rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">0.12rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffbf00</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">1.22rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.95rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">0.09rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#a9e000</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">1.05rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.8rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">0.09rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#57c850</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">0.9rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.7rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#5ec1e0</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">0.9rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.66rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* s设置风车hover动效 6s那里可以自己调节快慢*/</span></span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color);</span><br><span class="line">  -webkit-<span class="attribute">animation</span>: ccc <span class="number">6s</span> linear infinite;</span><br><span class="line">  <span class="attribute">animation</span>: ccc <span class="number">6s</span> linear infinite;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>的<code>inject</code>配置项进行引入（不再赘述）。</p></li></ol>              </div>            </details><h2 id="右边的小猫咪-tzy大佬的">右边的小猫咪(tzy大佬的)</h2><h2 id="文章统计-Eurkon">文章统计(Eurkon)</h2><h2 id="百度API访客统计-Eurkon">百度API访客统计(Eurkon)</h2><h2 id="自定义域名邮箱">自定义域名邮箱</h2><h2 id="地图插件-Guo-Le’s-Blog">地图插件(Guo Le’s Blog)</h2><h2 id="自定义字体与css">自定义字体与css</h2><h2 id="abbrlink映射链接">abbrlink映射链接</h2><h2 id="页面样式微调">页面样式微调</h2><h2 id="代码框样式微调">代码框样式微调</h2><h2 id="评论系统部署与魔改">评论系统部署与魔改</h2><h2 id="PDF插件">PDF插件</h2><h2 id="夜间模式动画-店长">夜间模式动画(店长)</h2><h2 id="加载动画-HEO">加载动画(HEO)</h2><h2 id="文章加密插件">文章加密插件</h2><h2 id="禁用f12">禁用f12</h2><h2 id="自定义右键菜单">自定义右键菜单</h2><h2 id="魔改svg图标-店长">魔改svg图标(店长)</h2><h2 id="友链样式魔改">友链样式魔改</h2><h2 id="综合美化模块-基于winbox">综合美化模块(基于winbox)</h2><h2 id="博客宽屏适配">博客宽屏适配</h2><h2 id="导航栏魔改">导航栏魔改</h2><h2 id="夜间模式星空背景">夜间模式星空背景</h2><h2 id="背景樱花特效">背景樱花特效</h2><h2 id="github仓库配合Vercel做一个图床">github仓库配合Vercel做一个图床</h2><h2 id="侧边栏微博热搜插件">侧边栏微博热搜插件</h2><h2 id="夜间模式与白天模式两个背景">夜间模式与白天模式两个背景</h2><h2 id="鼠标样式魔改-LYXの小破站">鼠标样式魔改(LYXの小破站)</h2><h2 id="🍕🍕🍕大家有啥教程想看的可以在评论区留言，如果搭建过程中遇到不懂的可以加群咨询，进群密码：唐志远。">🍕🍕🍕大家有啥教程想看的可以在评论区留言，如果搭建过程中遇到不懂的可以加群咨询，进群密码：唐志远。</h2><img src="https://s1.vika.cn/space/2022/11/04/0bd8a1a7e8f64d6a8248d1d872c5a178" alt="二维码" style="zoom:50%;" />]]></content>
      
      
      <categories>
          
          <category> 魔改教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客搭建基础教程(三)</title>
      <link href="/posts/3451f874.html"/>
      <url>/posts/3451f874.html</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p>参考：<a href="https://tzy1997.com/articles/hexo1605/">基于 Hexo 从零开始搭建个人博客（五）</a>、<a href="https://butterfly.js.org/posts/4aa8abbe/">Butterfly 安装文档(三) 主题配置-1</a>、<a href="https://butterfly.js.org/posts/ceeb73f/">Butterfly 安装文档(四) 主题配置-2</a><br>阅读本篇前，请先阅读前面的文章：<a href="https://www.fomal.cc/posts/e593433d.html">Hexo 博客搭建基础教程 (一)</a>、<a href="https://www.fomal.cc/posts/4aa2d85f.html">Hexo 博客搭建基础教程 (二)</a><br>视频教程会同步至在我的B站账号<a href="https://space.bilibili.com/220757832">Fomalhaut1998a</a><br>注意：我的博客根目录路径为 【C:/Hexo-Blog/blog-demo】，下文所说的根目录都是此路径，将用[BlogRoot]代替。<br>修改站点配置文件<code>_config.yml</code>，路径为<code>[BlogRoot]\_config.yml</code><br>修改主题配置文件<code>_config.butterfly.yml</code>，路径为<code>[BlogRoot]\_config.butterfly.yml</code></p></div><h2 id="1-前言-3">1.前言</h2><ol><li>博客搭建过程遇到任何问题，优先在本页面搜索，检查是否已经有该配置教程。</li><li>遇到问题可以优先在文章评论区留言，注意留言时请填写正确的邮箱以确保能收到站长的回复。</li><li>实在解决不了的问题可添加站长的微信进行交流，备注自己的个人信息。</li></ol><h2 id="2-语言">2.语言</h2><p>修改站点配置文件<code>_config.yml</code>，默认语言是 en 。<br>主题支持三种语言：</p><ul><li>default(en)</li><li>zh-CN (简体中文)</li><li>zh-TW (繁体中文)</li></ul><h2 id="3-网站资料">3.网站资料</h2><p>修改网站各种资料，例如标题、副标题和邮箱等个人资料，请修改站点配置文件<code>_config.yml</code>。部分参数如下，详细参数可参考官方的<a href="https://hexo.io/zh-cn/docs/configuration">配置描述</a>。</p><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">title</td><td style="text-align:center">网站标题</td></tr><tr><td style="text-align:center">subtitle</td><td style="text-align:center">描述</td></tr><tr><td style="text-align:center">description</td><td style="text-align:center">网站描述</td></tr><tr><td style="text-align:center">keywords</td><td style="text-align:center">网站的关键词。支持多个关键词</td></tr><tr><td style="text-align:center">author</td><td style="text-align:center">您的名字</td></tr><tr><td style="text-align:center">language</td><td style="text-align:center">网站使用的语言。对于简体中文用户来说，使用不同的主题可能需要设置成不同的值，请参考你的主题的文档自行设置，常见的有 zh-Hans和 zh-CN。</td></tr><tr><td style="text-align:center">timezone</td><td style="text-align:center">网站时区。Hexo 默认使用您电脑的时区。请参考 时区列表 进行设置，如 America/New_York, Japan, 和 UTC 。一般的，对于中国大陆地区可以使用 Asia/Shanghai</td></tr></tbody></table><h2 id="4-导航菜单">4.导航菜单</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">Archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">Tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">Categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">List||fas</span> <span class="attr">fa-list:</span></span><br><span class="line">    <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="attr">Link:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="attr">About:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><ul><li><p>必须是 <code>/xxx/</code>，后面<code>||</code>分开，然后写图标名，如果不想显示图标，图标名可不写</p></li><li><p>若主题版本大于 v4.0.0，可以直接在子目录里添加 hide 隐藏子目录，如下面的List</p></li></ul><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">Archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">Tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">Categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">List||fas</span> <span class="string">fa-list||hide:</span></span><br><span class="line">   <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="attr">Link:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="attr">About:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><ul><li>文字可自行更改，中英文都可以</li></ul><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">清单||fa</span> <span class="attr">fa-heartbeat:</span></span><br><span class="line">    <span class="string">音乐:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="string">照片:</span> <span class="string">/Gallery/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-images</span></span><br><span class="line">    <span class="string">电影:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="string">友链:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><p>最终效果如下图所示：</p><p><img src="https://s1.vika.cn/space/2022/10/29/08530571ff2f44c3b7419bfdbf66f8c6" alt="image-20221029173243861"></p><h2 id="5-代码">5.代码</h2><h3 id="5-1-代码高亮主题">5.1 代码高亮主题</h3><p>Butterfly支持 6 种代码高亮样式：</p><ul><li>darker</li><li>pale night</li><li>light</li><li>ocean</li><li>mac</li><li>mac light</li></ul><p>修改主题配置文件<code>_config.butterfly.yml</code>。中的<code>highlight_theme</code>属性。</p><div class="tabs" id="代码高亮主题"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#代码高亮主题-1">darker</button></li><li class="tab"><button type="button" data-href="#代码高亮主题-2">pale night</button></li><li class="tab"><button type="button" data-href="#代码高亮主题-3">light</button></li><li class="tab"><button type="button" data-href="#代码高亮主题-4">ocean</button></li><li class="tab"><button type="button" data-href="#代码高亮主题-5">mac</button></li><li class="tab"><button type="button" data-href="#代码高亮主题-6">mac light</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="代码高亮主题-1"><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">darker</span></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2022/05/31/62962018a84e7.webp" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="代码高亮主题-2"><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">pale</span> <span class="string">night</span></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2022/05/31/62961859b9e8c.webp" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="代码高亮主题-3"><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">light</span></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2022/05/31/629617b3de088.webp" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="代码高亮主题-4"><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">ocean</span></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2022/05/31/6296188b7c513.webp" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="代码高亮主题-5"><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">mac</span></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2022/05/31/629618f4b4847.webp" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="代码高亮主题-6"><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">mac</span> <span class="string">light</span></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2022/05/31/629618cb37ff7.webp" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="5-2-代码复制">5.2 代码复制</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>highlight_copy</code>属性，<code>true</code>表示可以复制。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="https://s1.vika.cn/space/2022/10/29/af884592171e423c9be632b82932d9d1" alt="image-20221029173420960"></p><h3 id="5-3-代码框展开-关闭">5.3 代码框展开/关闭</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>。中的<code>highlight_shrink</code>属性。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">true</span> <span class="comment">#代码框不展开，需点击 &#x27;&gt;&#x27; 打开</span></span><br></pre></td></tr></table></figure><p>在默认情况下，代码框自动展开，可设置是否所有代码框都关闭状态，点击&gt;可展开代码。</p><ul><li>true 全部代码框不展开，需点击&gt;打开</li><li>false 代码框展开，有&gt;点击按钮</li><li>none 不显示&gt;按钮</li></ul><p><img src="https://s1.vika.cn/space/2022/10/29/fd17fb642e08403bae6554df4ae714f0" alt="image-20221029173458309"></p><h3 id="5-4-代码换行">5.4 代码换行</h3><p>在默认情况下，Hexo 在编译的时候不会实现代码自动换行。如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能。</p><p>修改主题配置文件<code>_config.butterfly.yml</code>。中的<code>code_word_wrap</code>属性。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="5-5-代码高度限制">5.5 代码高度限制</h3><p>可配置代码高度限制，超出的部分会隐藏，并显示展开按钮。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_height_limit:</span> <span class="literal">false</span> <span class="comment"># unit: px</span></span><br></pre></td></tr></table></figure><ol><li>单位是<code>px</code>，直接添加数字，如 200</li><li>实际限制高度为<code>highlight_height_limit + 30 px</code> ，多增加 30px 限制，目的是避免代码高度只超出highlight_height_limit 一点时，出现展开按钮，展开没内容。</li><li>不适用于隐藏后的代码块（ css 设置 <code>display: none</code>）。</li></ol><img src="https://s1.vika.cn/space/2022/10/29/86c397c8ec81428dadfb059b92716334" alt="image-20221029173522172" style="zoom:50%;" /><h2 id="6-社交图标">6.社交图标</h2><p><code>Butterfly</code>支持<a href="https://fontawesome.com/icons?from=io">font-awesome v6</a>图标。</p><p>书写格式：<code>图标名：url || 描述性文字</code>。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">fab fa-github:</span> <span class="string">https://github.com/xxxxx</span> <span class="string">||</span> <span class="string">Github</span></span><br><span class="line">  <span class="attr">fas fa-envelope:</span> <span class="string">mailto:xxxxxx@gmail.com</span> <span class="string">||</span> <span class="string">Email</span></span><br></pre></td></tr></table></figure><p><img src="https://s1.vika.cn/space/2022/10/29/97e3e8b88a6b4c75b6d042a6aa481ab2" alt="image-20221029173631192"></p><h2 id="7-顶部图">7.顶部图</h2><p>如果不要显示顶部图，可直接配置 <code>disable_top_img: true</code>。</p><table><thead><tr><th>配置</th><th>解释</th></tr></thead><tbody><tr><td>index_img</td><td>主页的 top_img</td></tr><tr><td>default_top_img</td><td>默认的 top_img，当页面的 top_img 没有配置时，会显示 default_top_img</td></tr><tr><td>archive_img</td><td>归档页面的 top_img</td></tr><tr><td>tag_img</td><td>tag子页面 的 默认 top_img</td></tr><tr><td>tag_per_img</td><td>tag子页面的 top_img，可配置每个 tag 的 top_img</td></tr><tr><td>category_img</td><td>category 子页面 的 默认 top_img</td></tr><tr><td>category_per_img</td><td>category 子页面的 top_img，可配置每个 category 的 top_img</td></tr></tbody></table><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">index_img:</span> <span class="string">xxx.png</span></span><br></pre></td></tr></table></figure><p>其它页面 （tags/categories/自建页面）和文章页的<code>top_img</code>，请到对应的 md 页面设置<code>front-matter</code>中的<code>top_img</code>。</p><h2 id="8-文章置顶与封面">8.文章置顶与封面</h2><ol><li><p>你可以直接在文章的<code>front-matter</code>区域里添加<code>sticky: 1</code>属性来把这篇文章置顶。数值越大，置顶的优先级越大。</p></li><li><p>文章的markdown文档上，在<code>Front-matter</code>添加<code>cover</code>，并填上要显示的图片地址。如果不配置<code>cover</code>，可以设置显示默认的<code>cover</code>；如果不想在首页显示cover，可以设置为<code>false</code>。<br>修改主题配置文件<code>_config.butterfly.yml</code>。</p> <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># 是否显示文章封面</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 封面显示的位置</span></span><br><span class="line">  <span class="comment"># 三个值可配置 left , right , both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># 当没有设置cover时，默认的封面显示</span></span><br><span class="line">  <span class="attr">default_cover:</span> </span><br></pre></td></tr></table></figure><p>当配置多张图片时，会随机选择一张作为cover，此时写法应为：</p> <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">default_cover:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png</span></span><br></pre></td></tr></table></figure></li></ol><p><img src="https://s1.vika.cn/space/2022/10/29/e9c6f655967b483690c4b8f8fd24b904" alt="image-20221029173703144"></p><h2 id="9-文章页相关配置">9.文章页相关配置</h2><h3 id="9-1-文章meta显示">9.1 文章meta显示</h3><p><code>post_meta</code>这个属性用于显示文章的相关信息的，修改主题配置文件<code>_config.butterfly.yml</code>。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 主页文章日期是创建日或者更新日或都显示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative 显示日期还是相对日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 主页是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 主页是否显示标签</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 显示描述性文字</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 文章页日期是创建日或者更新日或都显示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative 显示日期还是相对日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示标签</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 显示描述性文字</span></span><br></pre></td></tr></table></figure><h3 id="9-2-文章版权和协议许可">9.2 文章版权和协议许可</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">author_href:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure><p>由于<code>Hexo 4.1</code>开始，默认对网址进行解码，以至于如果是中文网址，会被解码，可设置<code>decode: true</code>来显示中文网址。如果有文章（例如：转载文章）不需要显示版权，可以在文章页<code>Front-matter</code>中单独设置。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">copyright:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>从<code>v3.0.0</code>开始，支持对单独文章设置版权信息，可以在文章Front-matter单独设置。</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">post<span class="emphasis">_copyright:</span></span><br><span class="line"><span class="emphasis">copyright_</span>author: xxxx</span><br><span class="line">copyright<span class="emphasis">_author_</span>href: https://xxxxxx.com</span><br><span class="line">copyright<span class="emphasis">_url: https://xxxxxx.com</span></span><br><span class="line"><span class="emphasis">copyright_</span>info: 此文章版权归xxxxx所有，如有转载，请註明来自原作者</span><br></pre></td></tr></table></figure><p><img src="https://s1.vika.cn/space/2022/10/29/39720529b18d48258f6f575d9694b009" alt="image-20221029173741784"></p><h3 id="9-3-文章打赏">9.3 文章打赏</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/wechat.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">wechat</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/alipay.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">alipay</span></span><br></pre></td></tr></table></figure><h3 id="9-4-文章目录TOC">9.4 文章目录TOC</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span> <span class="comment"># 文章页是否显示 TOC</span></span><br><span class="line">  <span class="attr">page:</span> <span class="literal">false</span> <span class="comment"># 普通页面是否显示 TOC</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span> <span class="comment"># 是否显示章节数</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">false</span><span class="comment"># 是否展开 TOC</span></span><br><span class="line">  <span class="attr">style_simple:</span> <span class="literal">false</span> <span class="comment"># for post 简洁模式（侧边栏只显示 TOC, 只对文章页有效 ）</span></span><br></pre></td></tr></table></figure><img src="https://s1.vika.cn/space/2022/10/29/b40a3447a5d043a5bf8623ecb2fe128a" alt="image-20221029173812311" style="zoom:50%;" /><h3 id="9-5-相关文章推荐">9.5 相关文章推荐</h3><p>相关文章推荐的原理是根据文章tags的比重来推荐，修改主题配置文件<code>_config.butterfly.yml</code>。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span> <span class="comment"># 显示推荐文章数目</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># or created or updated 文章日期显示创建日或者更新日</span></span><br></pre></td></tr></table></figure><h3 id="9-6-文章锚点">9.6 文章锚点</h3><p>开启文章锚点后，当你在文章页进行滚动时，文章链接会根据标题ID进行替换。</p><p>注意: 每替换一次，会留下一个歷史记录。所以如果一篇文章有很多锚点的话，网页的歷史记录会很多。</p><p>修改主题配置文件<code>_config.butterfly.yml</code>。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># anchor</span></span><br><span class="line"><span class="comment"># when you scroll in post , the url will update according to header id.</span></span><br><span class="line"><span class="attr">anchor:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="9-7-文章过期提醒">9.7 文章过期提醒</h3><p>可设置是否显示文章过期提醒，以更新时间为基准。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Displays outdated notice for a post (文章过期提醒)</span></span><br><span class="line"><span class="attr">noticeOutdate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span> <span class="comment"># style: simple/flat</span></span><br><span class="line">  <span class="attr">limit_day:</span> <span class="number">365</span> <span class="comment"># 距离更新时间多少天才显示文章过期提醒</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span> <span class="comment"># position: top/bottom</span></span><br><span class="line">  <span class="attr">message_prev:</span> <span class="string">It</span> <span class="string">has</span> <span class="string">been</span> <span class="comment"># 天数之前的文字</span></span><br><span class="line">  <span class="attr">message_next:</span> <span class="string">days</span> <span class="string">since</span> <span class="string">the</span> <span class="string">last</span> <span class="string">update,</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">the</span> <span class="string">article</span> <span class="string">may</span> <span class="string">be</span> <span class="string">outdated.</span> <span class="comment"># 天数之后的文字</span></span><br></pre></td></tr></table></figure><h3 id="9-8-文章分页按钮">9.8 文章分页按钮</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># post_pagination (分页)</span></span><br><span class="line"><span class="comment"># value: 1 || 2 || false# false:为关闭分页按钮；1:下一篇显示的是旧文章；2:下一篇显示的是新文章</span></span><br><span class="line"><span class="comment"># 1: The &#x27;next post&#x27; will link to old post</span></span><br><span class="line"><span class="comment"># 2: The &#x27;next post&#x27; will link to new post</span></span><br><span class="line"><span class="comment"># false: disable pagination</span></span><br><span class="line"><span class="attr">post_pagination:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><img src="https://s1.vika.cn/space/2022/10/29/7e0ca16646c4487895c7f1f792d87f92" alt="image-20221029173929409" style="zoom:50%;" /><h2 id="10-头像">10.头像</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">img:</span> <span class="string">/assets/head.jpg</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">false</span> <span class="comment"># true则会一直转圈</span></span><br></pre></td></tr></table></figure><img src="https://s1.vika.cn/space/2022/10/28/0904865b6c0c4e1080078bc34b836082" alt="image-20221028141401289" style="zoom:50%;" /><h2 id="11-文章内容复制相关配置">11.文章内容复制相关配置</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># copy settings</span></span><br><span class="line"><span class="comment"># copyright: Add the copyright information after copied content (复制的内容后面加上版权信息)</span></span><br><span class="line"><span class="attr">copy:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span><span class="comment"># 是否开启网站复制权限</span></span><br><span class="line">  <span class="attr">copyright:</span><span class="comment"># 复制的内容后面加上版权信息</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span><span class="comment"># 是否开启复制版权信息添加</span></span><br><span class="line">    <span class="attr">limit_count:</span> <span class="number">50</span><span class="comment"># 字数限制，当复制文字大于这个字数限制时，将在复制的内容后面加上版权信息</span></span><br></pre></td></tr></table></figure><h2 id="12-Footer-设置">12.Footer 设置</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2022</span><span class="comment"># 站点起始时间</span></span><br><span class="line">  <span class="attr">custom_text:</span><span class="comment"># 是一个给你用来在页脚自定义文本的选项。通常你可以在这里写声明文本等,支持 HTML。</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">false</span> <span class="comment"># Copyright of theme and framework</span></span><br></pre></td></tr></table></figure><p>可以参考tzy大佬的的<code>custom_text</code>填写示例：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">I</span> <span class="string">wish</span> <span class="string">you</span> <span class="string">to</span> <span class="string">become</span> <span class="string">your</span> <span class="string">own</span> <span class="string">sun,</span> <span class="literal">no</span> <span class="string">need</span> <span class="string">to</span> <span class="string">rely</span> <span class="string">on</span> <span class="string">who&#x27;s</span> <span class="string">light.&lt;p&gt;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://hexo.io/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo&quot;</span> <span class="string">title=&quot;博客框架为Hexo&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://butterfly.js.org/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender&quot;</span> <span class="string">title=&quot;主题采用butterfly&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://www.jsdelivr.com/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr&quot;</span> <span class="string">title=&quot;本站使用JsDelivr为静态资源提供CDN加速&quot;&gt;&lt;/a&gt;</span> <span class="string">&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://vercel.com/</span> <span class="string">&quot;&gt;&lt;img src=&quot;</span><span class="string">https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&amp;logo=Vercel&quot;</span> <span class="string">title=&quot;本站采用双线部署，默认线路托管于Vercel&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://vercel.com/</span> <span class="string">&quot;&gt;&lt;img src=&quot;</span><span class="string">https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&amp;logo=Codio&quot;</span> <span class="string">title=&quot;本站采用双线部署，联通线路托管于Coding&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://github.com/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub&quot;</span> <span class="string">title=&quot;本站项目由Gtihub托管&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris&quot;</span> <span class="string">title=&quot;本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可&quot;&gt;&lt;/a&gt;&lt;/p&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2022/06/01/6296491902973.jpg" alt=""></p><p>对于部分人需要写 ICP 的，也可以写在custom_text里。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">&lt;a</span> <span class="string">href=&quot;icp链接&quot;&gt;&lt;img</span> <span class="string">class=&quot;icp-icon&quot;</span> <span class="string">src=&quot;icp图片&quot;&gt;&lt;span&gt;备案号：xxxxxx&lt;/span&gt;&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><h2 id="13-右下角按钮">13.右下角按钮</h2><h3 id="13-1-简繁转换">13.1 简繁转换</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">translate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 默认按钮显示文字(网站是简体，应设置为&#x27;default: 繁&#x27;)</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">繁</span></span><br><span class="line">  <span class="comment"># the language of website (1 - Traditional Chinese/ 2 - Simplified Chinese）</span></span><br><span class="line">  <span class="comment"># 网站默认语言，1: 繁体中文, 2: 简体中文</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">2</span></span><br><span class="line">  <span class="comment"># Time delay 延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># 当文字是简体时，按钮显示的文字</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">&#x27;繁&#x27;</span></span><br><span class="line">  <span class="comment"># 当文字是繁体时，按钮显示的文字</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">&#x27;簡&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="13-2-夜间模式">13.2 夜间模式</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># dark mode</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># dark 和 light 两种模式切换按钮</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Switch dark/light mode automatically (自動切換 dark mode和 light mode)</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 1  Following System Settings, if the system doesn&#x27;t support dark mode, it will switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: false</span></span><br><span class="line">  <span class="attr">autoChangeMode:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>v2.0.0 开始增加一个选项，可开启自动切换light mode 和 dark mode。</p><ul><li><code>autoChangeMode: 1</code> 跟随系统而变化，不支持的浏览器/系统将按照时间晚上6点到早上6点之间切换为 dark mode。</li><li><code>autoChangeMode: 2</code>只按照时间 晚上6点到早上6点之间切换为 dark mode,其余时间为light mode。</li><li><code>autoChangeMode: false</code> 取消自动切换。</li></ul><h3 id="13-3-阅读模式">13.3 阅读模式</h3><p>阅读模式下会去掉除文章外的内容，避免干扰阅读。只会出现在文章页面，右下角会有阅读模式按钮。</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">readmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="14-侧边栏设置">14.侧边栏设置</h2><h3 id="14-1-排版">14.1 排版</h3><p>可自行决定哪个项目需要显示，可决定位置，也可以设置不显示侧边栏。</p><p>修改主题配置文件<code>_config.butterfly.yml</code>，下面是本人博客的配置项可以参考</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">archive:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">tag:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">category:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">description:</span></span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="comment"># fab fa-github</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">🛴前往小家...</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/fomalhaut1998</span></span><br><span class="line">  <span class="attr">card_announcement:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">&lt;center&gt;主域名：&lt;br&gt;&lt;a</span> <span class="string">href=&quot;https://www.fomal.cc&quot;&gt;&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&amp;nbsp;|&amp;nbsp;&lt;a</span> <span class="string">href=&quot;https://www.fomal.cn&quot;&gt;&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;fomal.cn&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;备用域名：&lt;br&gt;&lt;a</span> <span class="string">href=&quot;https://blog.fomal.cc&quot;&gt;&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;blog.fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;&lt;a</span> <span class="string">href=&quot;https://aa.fomal.cc&quot;&gt;&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;aa.fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;&lt;a</span> <span class="string">href=&quot;https://bb.fomal.cc&quot;&gt;&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;bb.fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;&lt;a</span> <span class="string">href=&quot;mailto:admin@fomal.cn&quot;&gt;📬：&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#a591e0&quot;&gt;admin@fomal.cn&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;/center&gt;</span></span><br><span class="line">  <span class="attr">card_recent_post:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">3</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort:</span> <span class="string">date</span> <span class="comment"># date or updated</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_categories:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">expand:</span> <span class="string">none</span> <span class="comment"># none/true/false</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_tags:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">20</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">color:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_archives:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">monthly</span> <span class="comment"># yearly or monthly</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">MMMM</span> <span class="string">YYYY</span> <span class="comment"># eg: YYYY年MM月</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_webinfo:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">post_count:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">last_push_date:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_weibo:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="14-2-访问人数-UV-和-PV">14.2 访问人数(UV 和 PV)</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span>  <span class="comment"># 本站总访客数</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span>  <span class="comment"># 本站总访问量 </span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span>  <span class="comment"># 本文总阅读量</span></span><br></pre></td></tr></table></figure><h3 id="14-3-运行时间">14.3 运行时间</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Time difference between publish date and now (網頁運行時間)</span></span><br><span class="line"><span class="comment"># Formal: Month/Day/Year Time or Year/Month/Day Time</span></span><br><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">publish_date:</span> <span class="number">8</span><span class="string">/9/2022</span> <span class="number">00</span><span class="string">:00:00</span></span><br><span class="line">  <span class="comment">##网页开通时间</span></span><br><span class="line">  <span class="comment">#格式: 月/日/年 时间</span></span><br><span class="line">  <span class="comment">#也可以写成 年/月/日 时间</span></span><br></pre></td></tr></table></figure><h3 id="14-4-最新评论">14.4 最新评论</h3><p><code>v3.1.0</code> 以上支持。如果未配置任何评论，前先不要开启该功能。<br>最新评论只会在刷新时才会去读取，并不会实时变化。<br>由于 API 有 访问次数限制，为了避免调用太多，主题默认存取期限为 10 分鐘。也就是説，调用后资料会存在 <code>localStorage</code> 里，10分鐘内刷新网站只会去 <code>localStorage</code> 读取资料。 10 分鐘期限一过，刷新页面时才会去调取 API 读取新的数据。（3.6.0 新增了 storage 配置，可自行配置缓存时间）。</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Aside widget - Newest Comments</span></span><br><span class="line"><span class="attr">newest_comments:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span>  <span class="comment"># 显示的数量</span></span><br><span class="line">  <span class="attr">storage:</span> <span class="number">10</span> <span class="comment"># 设置缓存时间，单位 分钟 </span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="literal">true</span> <span class="comment"># 是否显示头像</span></span><br></pre></td></tr></table></figure><h2 id="15-网站背景">15.网站背景</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 图片格式 url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="comment"># 颜色（HEX值/RGB值/颜色单词/渐变色)</span></span><br><span class="line"><span class="comment"># 留空 不显示背景</span></span><br><span class="line"><span class="attr">background:</span> <span class="string">url(https://source.fomal.cc/img/dm1.webp)</span></span><br></pre></td></tr></table></figure><p>如果你的网站根目录不是<code>'/'</code>，使用本地图片时，需加上你的根目录。<br>例如：网站是 <code>https://yoursite.com/blog</code>，引用一张<code>img/xx.png</code>图片，则设置<code>background</code>为 <code>url(/blog/img/xx.png)</code></p><h2 id="16-打字效果">16.打字效果</h2><p>详见：<a href="https://github.com/disjukr/activate-power-mode">activate-power-mode</a></p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line"><span class="comment"># https://github.com/disjukr/activate-power-mode</span></span><br><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">colorful:</span> <span class="literal">true</span> <span class="comment"># open particle animation (冒光特效)</span></span><br><span class="line">  <span class="attr">shake:</span> <span class="literal">true</span> <span class="comment">#  open shake (抖動特效)</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="https://fastly.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-type-animation.gif" alt=""></p><h2 id="17-footer-背景">17.footer 背景</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># footer是否显示图片背景(与top_img一致)</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li><code>留空/false</code>：显示默认的颜色</li><li><code>图片链接</code>：显示所配置的图片</li><li><code>颜色包括HEX值 - #0000FF | RGB值 - rgb(0,0,255) | 颜色单词 - orange | 渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)</code>：对应的颜色</li><li><code>true</code>：显示跟 top_img 一样</li></ul><h2 id="18-背景特效">18.背景特效</h2><div class="tabs" id="背景特效"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#背景特效-1">静止彩带</button></li><li class="tab"><button type="button" data-href="#背景特效-2">动态彩带</button></li><li class="tab"><button type="button" data-href="#背景特效-3">canvas_nest</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="背景特效-1"><p>可设置每次刷新更换彩带，或者每次点击更换彩带。详细配置可查看<a href="https://github.com/hustcc/ribbon.js">canvas_ribbon</a></p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">150</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">click_to_change:</span> <span class="literal">false</span>  <span class="comment">#設置是否每次點擊都更換彩带</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手機端不顯示 true 手機端顯示</span></span><br></pre></td></tr></table></figure><p><img src="https://fastly.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-canvas-ribbon.png" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="背景特效-2"><p>好看的彩带背景，会飘动。<br>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_fluttering_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure><p><img src="https://fastly.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-canvas-ribbon-piao.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="背景特效-3"><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&#x27;0,0,255&#x27;</span> <span class="comment">#color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手機端不顯示 true 手機端顯示</span></span><br></pre></td></tr></table></figure><p><img src="https://fastly.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-canvas_nest.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="19-鼠标点击效果">19.鼠标点击效果</h2><div class="tabs" id="鼠标点击效果"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#鼠标点击效果-1">烟花</button></li><li class="tab"><button type="button" data-href="#鼠标点击效果-2">爱心</button></li><li class="tab"><button type="button" data-href="#鼠标点击效果-3">文字</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="鼠标点击效果-1"><p><code>zIndex</code>建议只在<code>-1</code>和<code>9999</code>上选。<br><code>-1 </code>代表烟火效果在底部。<br><code>9999 </code>代表烟火效果在前面。</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">9999</span> <span class="comment"># -1 or 9999</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="https://fastly.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-firewall.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="鼠标点击效果-2"><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 点击出現爱心</span></span><br><span class="line"><span class="attr">click_heart:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="https://fastly.jsdelivr.net/gh/jerryc127/CDN/img/click_love.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="鼠标点击效果-3"><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 点击出现文字，文字可自行修改</span></span><br><span class="line"><span class="attr">ClickShowText:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">text:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">I</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">LOVE</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">YOU</span></span><br><span class="line">  <span class="attr">fontSize:</span> <span class="string">15px</span></span><br><span class="line">  <span class="attr">random:</span> <span class="literal">false</span> <span class="comment"># 文字随机显示</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="https://fastly.jsdelivr.net/gh/jerryc127/CDN/img/click_word.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="20-自定义字体和字体大小">20.自定义字体和字体大小</h2><h3 id="20-1-全局字体">20.1 全局字体</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>font-family</code>属性即可，如不需要配置，请留空。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Global font settings</span></span><br><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要不要修改)</span></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">global-font-size:</span> <span class="string">&#x27;15px&#x27;</span></span><br><span class="line">  <span class="attr">code-font-size:</span> <span class="string">&#x27;14px&#x27;</span></span><br><span class="line">  <span class="comment"># -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot; , &quot;Helvetica Neue&quot; , Lato, Roboto, &quot;PingFang SC&quot; , &quot;Microsoft JhengHei&quot; , &quot;Microsoft YaHei&quot; , sans-serif</span></span><br><span class="line">  <span class="comment"># Wenkai, consolas, -apple-system, &#x27;Quicksand&#x27;, &#x27;Nimbus Roman No9 L&#x27;, &#x27;PingFang SC&#x27;, &#x27;Hiragino Sans GB&#x27;, &#x27;Noto Serif SC&#x27;, &#x27;Microsoft Yahei&#x27;, &#x27;WenQuanYi Micro Hei&#x27;, &#x27;ST Heiti&#x27;, sans-serif;</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">var(--global-font),</span> <span class="string">Consolas_1,</span> <span class="string">-apple-system,</span> <span class="string">&#x27;Quicksand&#x27;</span><span class="string">,</span> <span class="string">&#x27;Nimbus Roman No9 L&#x27;</span><span class="string">,</span> <span class="string">&#x27;PingFang SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Hiragino Sans GB&#x27;</span><span class="string">,</span> <span class="string">&#x27;Noto Serif SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft Yahei&#x27;</span><span class="string">,</span> <span class="string">&#x27;WenQuanYi Micro Hei&#x27;</span><span class="string">,</span> <span class="string">&#x27;ST Heiti&#x27;</span><span class="string">,</span> <span class="string">sans-serif;</span></span><br><span class="line">  <span class="comment"># consolas, ZhuZiAWan_light, &quot;Microsoft YaHei&quot;, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;, sans-serif</span></span><br><span class="line">  <span class="comment"># Consolas_1, ZhuZiAWan_light, &quot;Microsoft YaHei&quot;, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;, sans-serif</span></span><br><span class="line">  <span class="attr">code-font-family:</span> <span class="string">Consolas_1,</span> <span class="string">var(--global-font),</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">Menlo,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br></pre></td></tr></table></figure><h3 id="20-2-Blog-标题字体">20.2 Blog 标题字体</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>blog_title_font</code>属性即可，如不需要配置，请留空。<br>如不需要使用网络字体，只需要把font_link留空就行。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Font settings for the site title and site subtitle</span></span><br><span class="line"><span class="comment"># https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap</span></span><br><span class="line"><span class="comment"># Titillium Web, &#x27;PingFang SC&#x27; , &#x27;Hiragino Sans GB&#x27; , &#x27;Microsoft JhengHei&#x27; , &#x27;Microsoft YaHei&#x27; , sans-serif</span></span><br><span class="line"><span class="comment"># 左上角網站名字 主頁居中網站名字</span></span><br><span class="line"><span class="attr">blog_title_font:</span></span><br><span class="line">  <span class="attr">font_link:</span> </span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">var(--global-font)</span></span><br></pre></td></tr></table></figure><h2 id="21-网站副标题">21.网站副标题</h2><p>可设置主页中显示的网站副标题或者喜欢的座右铭。</p><p>修改主题配置文件<code>_config.butterfly.yml</code>中的<code>subtitle</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># the subtitle on homepage (主頁subtitle)</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># loop (循環打字)</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># source 調用第三方服務</span></span><br><span class="line">  <span class="comment"># source: false 關閉調用</span></span><br><span class="line">  <span class="comment"># source: 1  調用一言網的一句話（簡體） https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 2  調用一句網（簡體） http://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 3  調用今日詩詞（簡體） https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle 會先顯示 source , 再顯示 sub 的內容</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 如果關閉打字效果，subtitle 只會顯示 sub 的第一行文字</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;Welcome to Fomalhaut🥝のTiny Home!🤣🤣🤣&quot;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;Hope you have a nice day!🍭🍭🍭&quot;</span></span><br></pre></td></tr></table></figure><p>预览效果见本站主页：<a href="https://www.fomal.cc">Fomalhaut🥝</a></p><h2 id="22-页面加载动画preloader">22.页面加载动画preloader</h2><p>当进入网页时，因为加载速度的问题，可能会导致top_img图片出现断层显示，或者网页加载不全而出现等待时间，开启preloader后，会显示加载动画，等页面加载完，加载动画会消失。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 加载动画 Loading Animation</span></span><br><span class="line"><span class="attr">preloader:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="23-字数统计">23.字数统计</h2><ol><li>安装插件：在你的博客根目录，打开cmd命令窗口执行<code>npm install hexo-wordcount --save</code>。</li><li>开启配置：修改主题配置文件<code>_config.butterfly.yml</code>中的<code>wordcount</code>。</li></ol><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="24-图片大图查看模式">24.图片大图查看模式</h2><p>只能开启一个。<br>如果你并不想为某张图片添加大图查看模式，你可以使用 html 格式引用图片，并为图片添加 no-lightbox class 名，例如：<code>&lt;img src=&quot;xxxx.jpg&quot; class=&quot;no-lightbox&quot;&gt;</code>。</p><div class="tabs" id="图片大图查看模式"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#图片大图查看模式-1">fancybox(推荐)</button></li><li class="tab"><button type="button" data-href="#图片大图查看模式-2">medium_zoom</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="图片大图查看模式-1"><p>修改主题配置文件<code>_config.butterfly.yml</code>中<code>fancybox</code>属性</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># fancybox http://fancyapps.com/fancybox/3/</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="图片大图查看模式-2"><p>修改主题配置文件<code>_config.butterfly.yml</code>中<code>medium_zoom</code>属性</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">medium_zoom:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="25-Pjax">25.Pjax</h2><p>当用户点击链接，通过 <code>ajax </code>更新页面需要变化的部分，然后使用 HTML5 的 <code>pushState</code> 修改浏览器的 URL 地址。这样可以不用重复加载相同的资源<code>（css/js）</code>， 从而提升网页的加载速度。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Pjax [Beta]</span></span><br><span class="line"><span class="comment"># It may contain bugs and unstable, give feedback when you find the bugs.</span></span><br><span class="line"><span class="comment"># https://github.com/MoOx/pjax</span></span><br><span class="line"><span class="attr">pjax:</span> </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 对于一些第三方插件，有些并不支持 pjax 。</span></span><br><span class="line">  <span class="comment"># 你可以把网页加入到 exclude 里，这个网页会被 pjax 排除在外。</span></span><br><span class="line">  <span class="comment"># 点击该网页会重新加载网站。</span></span><br><span class="line">  <span class="attr">exclude:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">/music/</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/no-pjax/</span></span><br></pre></td></tr></table></figure><p>注意：使用 pjax 后，一些自己DIY的js可能会无效，跳转页面时需要重新调用（例如朋友圈、说说等），具体请参考<a href="https://github.com/MoOx/pjax">Pjax文档</a>。</p><h2 id="26-Inject">26.Inject</h2><p>如想添加额外的 js/css/meta 等等东西，可以在 Inject 里添加，head(<code>&lt;/body&gt;</code>标签之前)， bottom(<code>&lt;/html&gt;</code>标签之前)。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/xxx.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="27-本地搜索系统">27.本地搜索系统</h2><ol><li><p>安装依赖：前往博客根目录，打开cmd命令窗口执行<code>npm install hexo-generator-search --save</code>。</p> <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure></li><li><p>注入配置：修改站点配置文件<code>_config.yml</code>，添加如下代码：</p> <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><p>主题中开启搜索：在主题配置文件_config.butterfly.yml中修改以下内容：</p> <figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">local_search:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br></pre></td></tr></table></figure></li><li><p>重新编译运行，即可看到效果：前往博客根目录，打开cmd命令窗口依次执行如下命令：</p> <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo cl &amp;&amp; hexo generate</span><br><span class="line">hexo s -p 8000</span><br></pre></td></tr></table></figure><p>详情可参考 <a href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a></p></li></ol><p><img src="https://s1.vika.cn/space/2022/10/29/df8853f2baf342a2ba28968b80826693" alt="image-20221029174043726"></p>]]></content>
      
      
      <categories>
          
          <category> 魔改教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客搭建基础教程(二)</title>
      <link href="/posts/4aa2d85f.html"/>
      <url>/posts/4aa2d85f.html</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p>这部分教程有参考tzy大佬的文章：<a href="https://tzy1997.com/articles/hexo1603/">基于 Hexo 从零开始搭建个人博客（三）</a>、<a href="https://tzy1997.com/articles/hexo1604/">基于 Hexo 从零开始搭建个人博客（四）</a><br>阅读本篇前，请先阅读前面的文章：<a href="https://www.fomal.cc/posts/e593433d.html">Hexo 博客搭建基础教程 (一)</a><br>视频教程会同步至在我的B站账号<a href="https://space.bilibili.com/220757832">Fomalhaut1998a</a></p></div><h2 id="1-前言-2">1.前言</h2><ol><li>博客搭建过程遇到任何问题，优先在本页面搜索，检查是否已经有该配置教程。</li><li>遇到问题可以优先在文章评论区留言，注意留言时请填写正确的邮箱以确保能收到站长的回复。</li><li>实在解决不了的问题可添加站长的微信进行交流，备注自己的个人信息。</li></ol><h2 id="2-Vercel部署与自定义域名">2.Vercel部署与自定义域名</h2><h3 id="2-1-Vercel部署">2.1 Vercel部署</h3><p>Vercel简介：<a href="https://vercel.com/dashboard">vercel</a>是一个代码托管平台，它能够托管你的静态html界面，甚至能够托管你的node.js与Python服务端脚本，是<strong>不想买服务器的懒人的福音</strong>！</p><p><strong>使用Vercel部署Hexo项目步骤：</strong></p><ol><li>首先需要一个Vercel账号，这里<strong>推荐用GitHub账户关联，这样你就可以在vercel中直接托管你的GitHub库中的项目了</strong>，实现开发部署一步到位（网络不流畅可以考虑挂梯子）。<br><img src="https://s1.vika.cn/space/2022/10/27/5ecde0efb97e4efe8c872c07f2b29301" alt="image-20221027223132537" style="zoom:33%;" /></li><li>当你用你的Github账户关联并绑定手机号登录之后，点击右上角的<code>Add New Project</code>创建新的项目，之后导入选项那里选择<code>Continue with Github</code>，这时候应该能看到你Github账号的仓库，选择你刚刚部署成功的存储静态博客的仓库<code>&lt;username&gt;.github.io</code>右边的<code>Import</code>选项，表示你要导入该仓库。<br><img src="https://s1.vika.cn/space/2022/10/27/13d509ad17d44a5ebf60d6bd7cde05f4" alt="image-20221027223231192" style="zoom:33%;" /><br><img src="https://s1.vika.cn/space/2022/10/27/23780c3fc63546559ff02d303f97e37d" alt="image-20221027223420282" style="zoom:50%;" /><br><img src="https://s1.vika.cn/space/2022/10/27/7e1c080e435648a1a27a0f21d19e979d" alt="image-20221027223742660" style="zoom: 33%;" /></li><li>起一个只能有字母、数字或者或者连字符的项目名称，然后其他默认，点击<code>Deploy</code>，等待一分钟即可部署成功，部署成功后电极<code>Continue to Dashboard</code>跳转到控制面板，下图所示就是控制面板，看到就代表成功部署到了，但是我们现在还不能访问他给出的域，因为GFW最近把Vercel屏蔽了。</li></ol><p>​<img src="https://s1.vika.cn/space/2022/10/27/09b5ce9b3ac64d2dad2acdf3cca92b5f" alt="image-20221027224225808" style="zoom: 33%;" /></p><img src="https://s1.vika.cn/space/2022/10/27/43c6816280914f6ebbab1d6ec345c8f9" alt="image-20221027224405464" style="zoom: 67%;" /><h3 id="2-2-绑定自定义域名">2.2 绑定自定义域名</h3><p>现在你的个人网站的地址是 <code>username.github.io</code>以及在Vercel上有一个<code>blog-demo-chi.vercel.app</code>。如果觉得不够定制化，可以购买一个专属域名。</p><div class="note info no-icon flat"><p>这一步不是必要的，如果目前还不想买域名可以先跳过。</p></div><p>腾讯云、阿里云等都是不错的域名代理商，建议选用<code>com</code>，<code>cn</code>或<code>cc</code>这类常用好记的顶域，对SEO比较友好，自定义部分的长度尽可能短别人才会更容易地记住你的网站，要知道域名就是你网站的卡片。此处以阿里云域名为例进行说明，购买域名后，实名认证进入阿里云控制台，点云解析进去，找到你刚买的域名，点进去添加Vercel所需的解析记录，注意博主这里是解析二级域名只需要解析一条即可。但是如果是一级域名，需要解析两个，一个是<code>@</code>，另外一个是<code>www</code>，Vercel建议是<code>@</code>的解析重定向至<code>www</code>。</p><p>以我的域名：<code>fomal.cc</code>为例进行说明</p><table><thead><tr><th style="text-align:center">主机记录</th><th style="text-align:center">解释</th></tr></thead><tbody><tr><td style="text-align:center">www</td><td style="text-align:center">解析后的域名为 <a href="http://www.fomal.cc">www.fomal.cc</a></td></tr><tr><td style="text-align:center">@</td><td style="text-align:center">直接解析主域名 <a href="http://fomal.cc">fomal.cc</a></td></tr><tr><td style="text-align:center">*</td><td style="text-align:center">泛解析，匹配其他所有域名 *.fomal.cc</td></tr><tr><td style="text-align:center">mail</td><td style="text-align:center">将域名解析为 <a href="http://mail.fomal.cc">mail.fomal.cc</a>，通常用于解析邮箱服务器</td></tr><tr><td style="text-align:center">二级</td><td style="text-align:center">如 <a href="http://abc.fomal.cc">abc.fomal.cc</a>，填写 abc</td></tr><tr><td style="text-align:center">手机网站</td><td style="text-align:center">如 <a href="http://m.fomal.cc">m.fomal.cc</a>，填写 m</td></tr><tr><td style="text-align:center">显性URL</td><td style="text-align:center">不支持泛解析（泛解析：将所有子域名解析到同一地址）</td></tr></tbody></table><div class="note info no-icon flat"><p>将域名指向云服务器，请选择「A」； 将域名指向另一个域名，请选择「CNAME」； 建立邮箱请选择「MX」，根据邮箱服务商提供的 MX 记录填写。</p></div><table><thead><tr><th style="text-align:center">记录类型</th><th style="text-align:center">解释</th></tr></thead><tbody><tr><td style="text-align:center">A</td><td style="text-align:center">用来指定域名的 IPv4 地址（如 8.8.8.8），如果需要将域名指向一个 IP 地址，就需要添加 A 记录。</td></tr><tr><td style="text-align:center">CNAME</td><td style="text-align:center">如果需要将域名指向另一个域名，再由另一个域名提供 IP 地址，就需要添加 CNAME 记录。</td></tr><tr><td style="text-align:center">MX</td><td style="text-align:center">如果需要设置邮箱，让邮箱能收到邮件，就需要添加 MX 记录。</td></tr><tr><td style="text-align:center">TXT</td><td style="text-align:center">在这里可以填写任何东西，长度限制 255。绝大多数的 TXT 记录是用来做 SPF 记录（反垃圾邮件）</td></tr><tr><td style="text-align:center">NS</td><td style="text-align:center">域名服务器记录，如果需要将子域名交给其他 DNS 服务商解析，就需要添加 NS 记录。</td></tr><tr><td style="text-align:center">AAAA</td><td style="text-align:center">用来指定主机名（或域名）对应的 IPv6 地址（例如：ff06:0:0:0:0:0:0:c3）记录。</td></tr><tr><td style="text-align:center">SRV</td><td style="text-align:center">记录了哪台计算机提供了哪个服务。格式为：服务的名字、点、协议的类型，例如：_xmpp-server_tcp。</td></tr><tr><td style="text-align:center">显性URL</td><td style="text-align:center">从一个地址 301 重定向到另一个地址的时候，就需要添加显性 URL 记录（注：DNSPod 目前只支持 301 重定向）。</td></tr><tr><td style="text-align:center">隐性URL</td><td style="text-align:center">类似于显性 URL，区别在于隐性 URL 不会改变地址栏的域名。</td></tr></tbody></table><p><strong>添加自定义域名的步骤：</strong></p><ol><li>点击Vercel控制面板右上角的<code>View Domains</code>查看当前的域，我们可以看到仅有Vercel给你预分配的一个域名，此时我们输入刚刚购买的域名，我这里以二级域名<code>demo.fomal.cc</code>为例进行说明，添加后他会提示你添加一条DNS解析记录。<br><img src="https://s1.vika.cn/space/2022/10/27/f0890ccf90d04ac7985a40558b8f0aad" alt="image-20221027224803563"><br><img src="https://s1.vika.cn/space/2022/10/27/3a1e809ca99a452fae6229d9b69134ad" alt="image-20221027224830609"><br><img src="https://s1.vika.cn/space/2022/10/27/1bd6bdd5cc924661a0bf779997240e86" alt="image-20221027225338126"><br><strong>PS</strong>：如果你是新买的域名，直接输入你新买的一级域名即可，例如<code>demo123.com</code>，他会推荐你将<code>demo123.com</code>重定向至<code>www.demo123.com</code>，点<code>ADD</code>即可，然后他会提示你添加两条解析记录，一个是<code>@</code>开头的和<code>CNAME</code>开头的，添加记录的方法和二级域名一致。<br><img src="https://s1.vika.cn/space/2022/10/27/66c6d6f8fac84481b788228c4222864d" alt="image-20221027225758503"><br><img src="https://s1.vika.cn/space/2022/10/27/d6dd5ec65e93439482a7ddd5833ebd9d" alt="image-20221027225808449"></li><li>在阿里云域名解析记录里面添加如下记录，其中记录类型对应<code>Type</code>，主机记录对应<code>Name</code>，记录值对应<code>Value</code>，其他的设置默认即可。<br><img src="https://s1.vika.cn/space/2022/10/27/83c253f0710f44c1b80bc662e4a97636" alt="image-20221027230049667" style="zoom: 80%;" /></li><li>回到Vercel刚刚查看域名的地方，如果操作没问题，应该会显示域名配置成功的提示，此时就可以通过自定义域名来访问我们搭建的网站了。<br><img src="https://s1.vika.cn/space/2022/10/27/9604de65a5524ba88d7e43f9412229d3" alt="image-20221027230357362"><br><img src="https://s1.vika.cn/space/2022/10/27/244bc979f30149778b9e1ffc7038ecd0" alt="image-20221027230421929" style="zoom: 67%;" /></li><li>当你有了新的域名之后，需要<code>[BlogRoot]\_config.yml</code>文件中的<code>url</code>配置项为自己的新域名，这样博客的文章链接才会正确生成。</li></ol><img src="https://s1.vika.cn/space/2022/10/28/fa95d5aef2ac45deb4a02400056047e1" alt="image-20221028113042788" style="zoom:50%;" /><h2 id="3-安装主题">3.安装主题</h2><p>本教程用的 🦋 hexo-theme-butterfly 主题 v4.5.0最新版，请放心食用。</p><p>本教程用的是npm方式安装的 <code>hexo-theme-butterfly</code>，后续魔改时更改的文件都是【C:/Hexo-Blog/blog-demo/node_modules/hexo-theme-butterfly】文件夹中的文件。如果你是<code>git clone</code>克隆方式安装的主题，请在【C:/Hexo-Blog/blog-demo/themes/butterfly】文件夹下修改对应的文件。</p><div class="tabs" id="主题安装方式"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#主题安装方式-1">npm安装(推荐)</button></li><li class="tab"><button type="button" data-href="#主题安装方式-2">Github安装</button></li><li class="tab"><button type="button" data-href="#主题安装方式-3">Gitee安装</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="主题安装方式-1"><p>注意：此方法只支持 Hexo 5.0.0以上版本!</p><p>在你的博客根目录（我这里路径为【C:/Hexo-Blog/blog-demo】）打开<code>Git BASH</code>命令窗口执行<code>npm i hexo-theme-butterfly</code></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm i hexo-theme-butterfly</span><br></pre></td></tr></table></figure><p>安装成功后可在【C:/Hexo-Blog/blog-demo/node_modules】文件夹下找到hexo-theme-butterfly文件夹</p><div class="note info modern"><p>升级方法：在博客根目录下，运行 <code>npm update hexo-theme-butterfly</code>。<br>升级前请将<code>hexo-theme-butterfly</code>文件夹备份，npm更新会直接覆盖成新的包。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="主题安装方式-2"><p>在你的博客根目录里（我这里路径为【C:/Hexo-Blog/blog-demo】），打开<code>Git BASH</code>工具，执行命令即可。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone -b 4.5.0 https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>安装成功后可在【C:/Hexo-Blog/blog-demo/themes】文件夹下找到<code>butterfly</code>文件夹，可以将<code>landscape</code>文件夹删掉。</p><div class="note info modern"><p>升级方法：在主题目录下，运行git pull</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="主题安装方式-3"><p>在你的博客根目录里（我这里路径为【C:/Hexo-Blog/blog-demo】），打开<code>Git BASH</code>工具，执行命令即可。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone -b 4.5.0 https://gitee.com/iamjerryw/hexo-theme-butterfly.git themes/butterfly </span><br></pre></td></tr></table></figure><div class="note info modern"><p>升级方法：在主题目录下，运行git pull</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="4-应用主题">4.应用主题</h2><ol><li>修改站点配置文件<code>_config.yml</code>，把主题改为<code>butterfly</code> <figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure></li><li>如果你没有<code>pug</code>以及<code>stylus</code>的渲染器，请下载安装，这两个渲染器是<code>Butterfly</code>生成基础页面所需的依赖包： <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure></li><li>为了减少升级主题后带来的不便，请使用以下方法（建议，可以不做，高度魔改的一般都不会升级主题了，不然魔改的会被覆盖掉）<br>把主题文件夹中的 <code>_config.yml</code> 复制到 Hexo 根目录里（我这里路径为【C:/Hexo-Blog/blog-demo】），同时重新命名为 <code>_config.butterfly.yml</code>。以后只需要在 <code>_config.butterfly.yml</code>进行配置即可生效。Hexo会自动合併主题中的<code>_config.yml</code>和 <code>_config.butterfly.yml</code>里的配置，如果存在同名配置，会使用<code>_config.butterfly.yml</code>的配置，其优先度较高。</li></ol><h2 id="5-基础用法说明">5. 基础用法说明</h2><h3 id="5-1-Front-matter">5.1 Front-matter</h3><p><code>Front-matter</code> 是 markdown 文件最上方以<code>---</code>分隔的区域，用于指定个别档案的变数。</p><ul><li>Page Front-matter 用于页面配置</li><li>Post Front-matter 用于文章页配置</li></ul><div class="note info modern"><p>如果标注可选的参数，可根据自己需要添加，不用全部都写</p></div><p><strong>Page Front-matter：</strong></p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">type:</span><br><span class="line">comments:</span><br><span class="line">description:</span><br><span class="line">keywords:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aside:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><table><thead><tr><th style="text-align:left">写法</th><th>解释</th></tr></thead><tbody><tr><td style="text-align:left">title</td><td>【必需】页面标题</td></tr><tr><td style="text-align:left">date</td><td>【必需】页面创建日期</td></tr><tr><td style="text-align:left">type</td><td>【必需】标籤、分类和友情链接三个页面需要配置</td></tr><tr><td style="text-align:left">updated</td><td>【可选】页面更新日期</td></tr><tr><td style="text-align:left">description</td><td>【可选】页面描述</td></tr><tr><td style="text-align:left">keywords</td><td>【可选】页面关键字</td></tr><tr><td style="text-align:left">comments</td><td>【可选】显示页面评论模块(默认 true)</td></tr><tr><td style="text-align:left">top_img</td><td>【可选】页面顶部图片</td></tr><tr><td style="text-align:left">mathjax</td><td>【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td></tr><tr><td style="text-align:left">kates</td><td>【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td></tr><tr><td style="text-align:left">aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr><tr><td style="text-align:left">aplayer</td><td>【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td></tr><tr><td style="text-align:left">highlight_shrink</td><td>【可选】配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置)</td></tr></tbody></table><p><strong>Post Front-matter：</strong></p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">comments:</span></span><br><span class="line"><span class="emphasis">cover:</span></span><br><span class="line"><span class="emphasis">toc:</span></span><br><span class="line"><span class="emphasis">toc_</span>number:</span><br><span class="line">toc<span class="emphasis">_style_</span>simple:</span><br><span class="line">copyright:</span><br><span class="line">copyright<span class="emphasis">_author:</span></span><br><span class="line"><span class="emphasis">copyright_</span>author<span class="emphasis">_href:</span></span><br><span class="line"><span class="emphasis">copyright_</span>url:</span><br><span class="line">copyright<span class="emphasis">_info:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line"><span class="section">aside:</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>写法</th><th>解释</th></tr></thead><tbody><tr><td>title</td><td>【必需】文章标题</td></tr><tr><td>date</td><td>【必需】文章创建日期</td></tr><tr><td>updated</td><td>【可选】文章更新日期</td></tr><tr><td>tags</td><td>【可选】文章标籤</td></tr><tr><td>categories</td><td>【可选】文章分类</td></tr><tr><td>keywords</td><td>【可选】文章关键字</td></tr><tr><td>description</td><td>【可选】文章描述</td></tr><tr><td>top_img</td><td>【可选】文章顶部图片</td></tr><tr><td>cover</td><td>【可选】文章缩略图(如果没有设置top_img,文章页顶部将显示缩略图，可设为false/图片地址/留空)</td></tr><tr><td>comments</td><td>【可选】显示文章评论模块(默认 true)</td></tr><tr><td>toc</td><td>【可选】显示文章TOC(默认为设置中toc的enable配置)</td></tr><tr><td>toc_number</td><td>【可选】显示toc_number(默认为设置中toc的number配置)</td></tr><tr><td>toc_style_simple</td><td>【可选】显示 toc 简洁模式</td></tr><tr><td>copyright</td><td>【可选】显示文章版权模块(默认为设置中post_copyright的enable配置)</td></tr><tr><td>copyright_author</td><td>【可选】文章版权模块的文章作者</td></tr><tr><td>copyright_author_href</td><td>【可选】文章版权模块的文章作者链接</td></tr><tr><td>copyright_url</td><td>【可选】文章版权模块的文章连结链接</td></tr><tr><td>copyright_info</td><td>【可选】文章版权模块的版权声明文字</td></tr><tr><td>mathjax</td><td>【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>katex</td><td>【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>aplayer</td><td>【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td></tr><tr><td>highlight_shrink</td><td>【可选】配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置)</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr></tbody></table><div class="note info modern"><p>注意：我的博客根目录路径为 【C:/Hexo-Blog/blog-demo】，下文所说的根目录都是此路径，将用[BlogRoot]代替。</p></div><h3 id="5-2-标签页">5.2 标签页</h3><ol><li><p>前往你的Hexo博客根目录，打开<code>Git Bash</code>执行如下命令：</p> <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]\source\</code>会生成一个含有<code>index.md</code>文件的<code>tags</code>文件夹。</p></li><li><p>修改<code>[BlogRoot]\source\tags\index.md</code>，添加<code>type: &quot;tags&quot;</code>。</p> <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2022-10-28 12:00:00</span><br><span class="line"><span class="section">type: &quot;tags&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="5-3-友情链接">5.3 友情链接</h3><ol><li><p>前往你的Hexo博客根目录，打开cmd命令窗口执行如下命令：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo new page link</span><br></pre></td></tr></table></figure></li><li><p>在<code>[BlogRoot]\source\</code>会生成一个含有<code>index.md</code>文件的<code>link</code>文件夹</p></li><li><p>修改<code>[BlogRoot]\source\link\index.md</code>，添加<code>type: &quot;link&quot;</code></p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: link</span><br><span class="line">date: 2022-10-28 12:00:00</span><br><span class="line"><span class="section">type: &quot;link&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure></li><li><p>前往<code>[BlogRoot]\source\_data</code>创建一个<code>link.yml</code>文件（如果沒有 <code>_data</code> 文件夹，请自行创建），并写入如下信息（根据你的需要写）：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="number">1</span><span class="string">.技术支持</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">本网站的搭建由以下开源作者提供技术支持</span></span><br><span class="line">  <span class="attr">link_list:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span> </span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://hexo.io/zh-cn/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">快速、简单且强大的网志框架</span></span><br><span class="line">      <span class="attr">siteshot:</span> <span class="string">https://source.fomal.cc/siteshot/hexo.io.jpg</span></span><br><span class="line">      </span><br><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="number">2</span><span class="string">.友情链接</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">一些好朋友~~</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Fomalhaut🥝</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://fomal.cc/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">/assets/head.jpg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">Future</span> <span class="string">is</span> <span class="string">now</span> <span class="string">🍭🍭🍭</span></span><br><span class="line">      <span class="attr">siteshot:</span> <span class="string">https://source.fomal.cc/siteshot/www.fomal.cn.jpg</span></span><br></pre></td></tr></table></figure><p>class_name和class_desc支持 html 格式，如不需要，也可以留空。</p></li></ol><h3 id="5-4-图库">5.4 图库</h3><p>图库页面只是普通的页面，你只需要<code>hexo new page xxx</code>创建你的页面就行。</p><p>然后使用外挂标签 <code>galleryGroup</code>，具体用法请查看对应的内容。</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;% galleryGroup &#x27;封面专区&#x27; &#x27;本站用作文章封面的图片，不保证分辨率&#x27; &#x27;/box/Gallery/photo&#x27; https://source.fomal.cc/img/default<span class="emphasis">_cover_</span>61.webp %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% galleryGroup &#x27;背景专区&#x27; &#x27;收藏的一些的背景与壁纸，分辨率很高&#x27; &#x27;/box/Gallery/wallpaper&#x27; https://source.fomal.cc/img/dm11.webp %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="5-5-子页面">5.5 子页面</h3><p>子页面也是普通的页面，你只需要<code>hexo new page xxx</code>创建你的页面就行。</p><p>然后使用标签外挂 <code>gallery</code>，具体用法请查看对应的内容。</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125; </span><br><span class="line">![<span class="string">p1</span>](<span class="link"> https://source.fomal.cc/img/default_cover_1.webp </span>) </span><br><span class="line">![<span class="string">p2</span>](<span class="link"> https://source.fomal.cc/img/default_cover_2.webp </span>) </span><br><span class="line">![<span class="string">p3</span>](<span class="link"> https://source.fomal.cc/img/default_cover_3.webp </span>) </span><br><span class="line">![<span class="string">p4</span>](<span class="link"> https://source.fomal.cc/img/default_cover_4.webp </span>) </span><br><span class="line">![<span class="string">p5</span>](<span class="link"> https://source.fomal.cc/img/default_cover_5.webp </span>) </span><br><span class="line">![<span class="string">p6</span>](<span class="link"> https://source.fomal.cc/img/default_cover_6.webp </span>) </span><br><span class="line">![<span class="string">p7</span>](<span class="link"> https://source.fomal.cc/img/default_cover_7.webp </span>) </span><br><span class="line">![<span class="string">p8</span>](<span class="link"> https://source.fomal.cc/img/default_cover_8.webp </span>) </span><br><span class="line">![<span class="string">p9</span>](<span class="link"> https://source.fomal.cc/img/default_cover_9.webp </span>) </span><br><span class="line">![<span class="string">p10</span>](<span class="link"> https://source.fomal.cc/img/default_cover_10.webp </span>) </span><br><span class="line">![<span class="string">p11</span>](<span class="link"> https://source.fomal.cc/img/default_cover_11.webp </span>) </span><br><span class="line">![<span class="string">p12</span>](<span class="link"> https://source.fomal.cc/img/default_cover_12.webp </span>) </span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><h3 id="5-6-404页面">5.6 404页面</h3><p>主題內置了一个简单的404页面，可在设置中开放。</p><p>如需本地预览，请访问 <a href="http://localhost:4000/404.html">http://localhost:4000/404.html</a></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># A simple 404 page</span></span><br><span class="line"><span class="attr">error_404:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">subtitle:</span> <span class="string">&quot;页面沒有找到&quot;</span></span><br><span class="line">  <span class="attr">background:</span> </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 魔改教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客搭建基础教程(一)</title>
      <link href="/posts/e593433d.html"/>
      <url>/posts/e593433d.html</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p>这部分教程有参考tzy大佬的文章：<a href="https://tzy1997.com/articles/hexo1601/">基于 Hexo 从零开始搭建个人博客（一）</a>、<a href="https://tzy1997.com/articles/hexo1602/">基于 Hexo 从零开始搭建个人博客（二）</a><br>全程我将会用一个完全空白的虚拟机带着大家进行搭建，大家可以放心食用🍖🍖🍖<br>视频教程会同步至在我的B站账号<a href="https://space.bilibili.com/220757832">Fomalhaut1998a</a></p></div><h2 id="1-前言">1.前言</h2><ol><li>博客搭建过程遇到任何问题，优先在本页面搜索，检查是否已经有该配置教程。</li><li>遇到问题可以优先在文章评论区留言，注意留言时请填写正确的邮箱以确保能收到站长的回复。</li><li>实在解决不了的问题可添加站长的微信进行交流，备注自己的个人信息。</li></ol><h2 id="2-环境与工具准备">2.环境与工具准备</h2><p><strong>本教程主要面对的是Windows用户</strong></p><ul><li>操作系统：Windows10</li><li>Node</li><li>Git</li><li>Hexo</li><li>文本编辑器(强烈推荐VSCODE)</li><li>GitHub 帐号</li><li>一个域名（强烈推荐买个域名）</li><li>云服务器（可选）</li></ul><h2 id="3-Node的安装">3.Node的安装</h2><ol><li>打开Node官网，下载和自己系统相配的Node的安装程序，否则会出现安装问题。下载地址：<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a><br>我个人的版本是 12.19.0，目前版本已经更新到19.0.0，按照个人经验，可以选个低一些的版本，可以和我的一样，否则后面会出现各种不兼容的问题！我之前就是安装16的，系统无法识别，如果大家遇到问题建议选个低版本的！历史版本下载页面：<a href="https://nodejs.org/en/download/releases/">https://nodejs.org/en/download/releases/</a><br><img src="https://s1.vika.cn/space/2022/10/27/876780920daf4f8fb319d49ff68f17a3" alt="image-20221027173738226"></li><li>下载后安装，安装的目录可以使用默认目录【C:/Program Files/nodejs/】，也可以自定义路径。<br>这个环境路径切换坑也很多，如果大家C盘空间足够可以直接装C盘，如果想切换其他盘或者把环境遍历切换到自定义路径也可以，具体教程百度(不过坑比较多就是了)!</li><li>安装完成后，检查是否安装成功。在键盘按下win + R键，输入CMD，然后回车，打开CMD窗口，执行node -v命令，看到版本信息，则说明安装成功。</li><li>修改npm源。npm下载各种模块，默认是从国处服务器下载，速度较慢，建议配置成淘宝镜像。打开CMD窗口，运行如下命令: <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></li></ol><h2 id="4-安装Hexo">4.安装Hexo</h2><ol><li><p>在<code>Git BASH</code>输入如下命令安装</p>   <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></li><li><p>安装完后输入hexo -v验证是否安装成功。</p></li></ol><img src="https://s1.vika.cn/space/2022/10/27/f05830f48da44ea98d2a55c3a6663004" alt="image-20221027173525181" style="zoom: 67%;" /><h2 id="5-Github注册与创建仓库">5.Github注册与创建仓库</h2><ol><li>进入官网 <a href="https://github.com/">https://github.com/</a><br><img src="https://bu.dusays.com/2022/05/12/627d2c0449341.webp" alt="Github注册"></li><li>点击右上角的 Sign up(注册)<br><img src="https://bu.dusays.com/2022/05/12/627d2c05ee628.png" alt="Github注册"></li><li>填写自己的邮箱、密码、用户名等信息，然后用邮箱验证即可完成。</li><li>注册完成后，点击右上角的<code>+</code>按钮，选择<code>New repository</code>，创建一个<code>&lt;用户名&gt;.github.io</code>的仓库。</li></ol><p>​<img src="https://s1.vika.cn/space/2022/10/27/7a06143d180d47088833a486732dccf5" alt="image-20221027110619071" style="zoom:50%;" /></p><ul><li>仓库的格式必须为：&lt;用户名&gt;.github.io</li><li>Description：为描述仓库（选填）</li><li>勾选 Initialize this repository with a README 初始化一个 <a href="http://README.md">README.md</a> 文件</li><li>点击 Creat repository 进行创建</li></ul><p>​<img src="https://s1.vika.cn/space/2022/10/27/0a4dbb10ca69422ca9ccb7493d0f177a" alt="image-20221027111641909" style="zoom:50%;" /></p><h2 id="6-Git安装">6.Git安装</h2><ol><li><p>进入官网：<a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a> ，由于官网下载太慢可以通过淘宝的开源镜像下载 网址：<a href="https://registry.npmmirror.com/binary.html?path=git-for-windows/v2.36.1.windows.1/">https://registry.npmmirror.com/binary.html?path=git-for-windows/v2.36.1.windows.1/</a> ，下载版本更具自己的需求选择即可。</p><p><img src="https://s1.vika.cn/space/2022/10/27/28a7d7e6ef3f4df080da8d7e8337431b" alt="image-20221027111755697"></p></li><li><p>下载后傻瓜式安装Git即可，安装的目录可以使用默认目录【C:/Program Files/Git】，也可以自定义路径。</p></li><li><p>点击电脑左下角开始即可看见<code>Git Bash</code>。</p></li></ol><p><img src="https://bu.dusays.com/2022/05/13/627d410ddc940.webp" alt="Git Bash"></p><ul><li><code>Git CMD</code> 是windows 命令行的指令风格</li><li><code>Git Bash</code> 是linux系统的指令风格（建议使用）</li><li><code>Git GUI</code>是图形化界面（新手学习不建议使用）</li></ul><ol start="4"><li><p>常用命令</p> <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config -l  //查看所有配置</span><br><span class="line">git config --system --list //查看系统配置</span><br><span class="line">git config --global --list //查看用户（全局）配置</span><br></pre></td></tr></table></figure></li><li><p>配置用户名和邮箱</p> <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;你的用户名&quot;</span><br><span class="line">git config --global user.email &quot;你的邮箱&quot;</span><br></pre></td></tr></table></figure></li><li><p>通过<code>git config -l</code> 检查是否配置成功，至此git安装及配置全部完成。</p><p><img src="https://s1.vika.cn/space/2022/10/27/9115d60b377a47f3a8b79779a287ee65" alt="image-20221027112049822"></p></li></ol><h2 id="7-连接至Github">7.连接至Github</h2><ol><li><p>执行以下命令生成ssh公钥，此公钥用于你的计算机连接Github</p> <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;你的邮箱&quot;</span><br></pre></td></tr></table></figure><p>之后打开C盘下用户文件夹下的.ssh的文件夹，会看到 id_rsa.pub</p><p><img src="https://bu.dusays.com/2022/05/14/627e87126fc59.png" alt="公钥"></p><p>用记事本打开上述图片中的公钥（id_rsa.pub），复制里面的内容，然后开始在github中配置ssh密钥。</p><p><img src="https://bu.dusays.com/2022/05/14/627e87156038a.png" alt="记事本打开公钥"></p></li><li><p>将 SSH KEY 配置到 GitHub<br>进入github，点击右上角头像 选择<code>settings</code>，进入设置页后选择 <code>SSH and GPG keys</code>，名字随便起，公钥填到<code>Key</code>那一栏。</p> <img src="https://s1.vika.cn/space/2022/10/27/4a69d999fed54ff78a5b84805d3c6a12" alt="image-20221027112347632" style="zoom:33%;" /><p><img src="https://s1.vika.cn/space/2022/10/27/aa20ae7d8db34e2596638f5f031f0814" alt="image-20221027112416710"></p><p><img src="https://s1.vika.cn/space/2022/10/27/eaccde8a10eb4cde945a1ed221bb6ace" alt="image-20221027112657256"></p></li><li><p>测试连接，输入以下命令</p> <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p><img src="https://s1.vika.cn/space/2022/10/27/122bb1ef33074bee84030a525ce1ec56" alt="image-20221027112918539"></p><p>出现连接到账户的信息，说明已经大功告成，至此完成了环境准备工作。</p></li></ol><h2 id="8-初始化-Hexo-项目">8.初始化 Hexo 项目</h2><ol><li><p>在目标路径（我这里选的路径为【C:/Hexo-Blog】）打开cmd命令窗口，执行<code>hexo init</code>初始化项目。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo init blog-demo(项目名)</span><br></pre></td></tr></table></figure><p><img src="https://s1.vika.cn/space/2022/10/27/1fbeb52671cf4b1daeca3660d1a31a2f" alt="image-20221027113206776"></p></li><li><p>进入<code>blog-demo</code> ，输入<code>npm i</code>安装相关依赖。</p> <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd blog-demo  //进入blog-demo文件夹</span><br><span class="line">npm i</span><br></pre></td></tr></table></figure><p><img src="https://s1.vika.cn/space/2022/10/27/150eeb3e61c94b89a1cad2a3079b1f94" alt="image-20221027113331624"></p></li><li><p>初始化项目后，<code>blog-demo</code>有如下结构：</p></li></ol>  <img src="https://s1.vika.cn/space/2022/10/27/70cf503f27c54d30a31c6b13735023b7" alt="image-20221027113438707" style="zoom:50%;" /><p>【node_modules】：依赖包<br>【scaffolds】：生成文章的一些模板<br>【source】：用来存放你的文章<br>【themes】：主题<br>【.npmignore】：发布时忽略的文件（可忽略）<br>【_config.landscape.yml】：主题的配置文件<br>【config.yml】：博客的配置文件<br>【package.json】：项目名称、描述、版本、运行和开发等信息</p><ol start="4"><li><p>输入hexo server或者hexo s 启动项目</p><p><img src="https://s1.vika.cn/space/2022/10/27/688592f6db1448d29a2f722fc7a0bb0a" alt="image-20221027113534970"></p></li><li><p>打开浏览器，输入地址：<a href="http://localhost:4000/">http://localhost:4000/</a> ，看到下面的效果，说明你的博客已经构建成功了。</p><p><img src="https://bu.dusays.com/2022/05/26/628e5423df640.webp" alt="博客首页"></p></li></ol><h2 id="9-将静态博客挂载到-GitHub-Pages">9. 将静态博客挂载到 GitHub Pages</h2><ol><li><p>安装 hexo-deployer-git</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li><li><p>修改 _config.yml 文件<br>在blog-demo目录下的_config.yml，就是整个Hexo框架的配置文件了。可以在里面修改大部分的配置。详细可参考官方的<a href="https://hexo.io/zh-cn/docs/configuration">配置描述</a>。<br>修改最后一行的配置，将repository修改为你自己的github项目地址即可，还有分支要改为<code>main</code>代表主分支（注意缩进）。</p> <figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">git@github.com:Fomalhaut-Blog/Fomalhaut-Blog.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure></li><li><p>修改好配置后，运行如下命令，将代码部署到 GitHub（Hexo三连）。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy  // Git BASH终端</span><br><span class="line">hexo clean; hexo generate; hexo deploy  // VSCODE终端</span><br></pre></td></tr></table></figure><ul><li><p>hexo clean：删除之前生成的文件，若未生成过静态文件，可忽略此命令。</p></li><li><p>hexo generate：生成静态文章，可以用<code>hexo g</code>缩写</p></li><li><p>hexo deploy：部署文章，可以用<code>hexo d</code>缩写</p><p><img src="https://s1.vika.cn/space/2022/10/27/7ed7b8256d75408aa86e90cd37d0ea53" alt="image-20221027113704801"></p><div class="note info no-icon flat"><p>注意：deploy时可能要你输入 username 和 password。</p></div><p>如果出现<code>Deploy done</code>，则说明部署成功了。</p><p><img src="https://s1.vika.cn/space/2022/10/27/85b61e7242214d368539d744b4778a5d" alt="image-20221027113756069"></p><p>稍等两分钟，打开浏览器访问：<a href="https://Fomalhaut-Blog.github.io">https://Fomalhaut-Blog.github.io</a> ，这时候我们就可以看到博客内容了。</p><p><img src="https://s1.vika.cn/space/2022/10/27/6de50dfe03604b07aa26fb7dd5fe1f99" alt="image-20221027113923949"></p></li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> 魔改教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网站性能优化的一些小技巧</title>
      <link href="/posts/b48804d5.html"/>
      <url>/posts/b48804d5.html</url>
      
        <content type="html"><![CDATA[<div class="note info flat"><p>理论部分内容参考自：<a href="https://tzy1997.com/articles/we0522bs/">Web页面全链路性能优化指南</a>，如果仅仅想进行优化不想花费太多时间了解原理可以直接跳到第二部分</p></div><h1>一、理论部分</h1><h2 id="1-浏览器渲染原理">1.浏览器渲染原理</h2><p>我们需要知道浏览器是如何渲染一个页面的，我们才能知道如何对页面进行性能优化，所以这里我们对一些基础知识进行讲解。</p><h3 id="1-1-进程与线程">1.1 进程与线程</h3><p>浏览器有多种进程，其中最主要的5种进程如下：</p><p><img src="https://bu.dusays.com/2022/05/23/628b96c2e0bec.webp" alt="p1"></p><ol><li>浏览器进程 负责界面展示、用户交互、子进程管理、提供存储等</li><li>渲染进程 每个页面都有一个单独的渲染进程，用于渲染页面，包含webworker线程</li><li>网络进程 主要处理网络资源加载（HTML、CSS、JS、IMAGE、AJAX等）</li><li>GPU进程 3D绘制，提高性能</li><li>插件进程 chrome插件，每个插件占用一个进程</li></ol><h3 id="1-2-输入url到页面展示完整过程">1.2 输入url到页面展示完整过程</h3><p><img src="https://bu.dusays.com/2022/05/23/628b9dcaedcbd.jpg" alt="p2"></p><h4 id="1-2-1-用户输入">1.2.1 用户输入</h4><p>用户在浏览器进程输入并按下回车健后，浏览器判断用户输入的url是否为正确的url，如果不是，则使用默认的搜索引擎将该关键字拼接成url。</p><h4 id="1-2-2-卸载原页面并重定向到新页面">1.2.2 卸载原页面并重定向到新页面</h4><p>然后浏览器会将现有页面卸载掉并重定向到用户新输入的url页面，也就是图中【Process Unload Event】和【Redirect】流程。</p><p>此时浏览器会准备一个渲染进程用于渲染即将到来的页面，和一个网络进程用于发送网络请求。</p><h4 id="1-2-3-处理Service-Worker">1.2.3 处理Service Worker</h4><p>如果当前页面注册了Service Worker那么它可以拦截当前网站所有的请求，进行判断是否需要向远程发送网络请求。也就是图中【Service Worker Init】与【Service Worker Fecth Event 】步骤</p><p>如果不需要发送网络请求，则取本地文件。如果需要则进行下一步。</p><h4 id="1-2-4-网络请求">1.2.4 网络请求</h4><p><img src="https://bu.dusays.com/2022/05/23/628b99a83152f.webp" alt="p3"></p><ol><li>根据url查询本地是否已经有强制缓存，如果有则判断缓存是否过期，如果没过期则直接返回缓存内容，也就是图1中【HTTP Cache】步骤</li><li>如果没有强制缓存或者缓存已过期，则将该请求加入队列进行排队准备发送网络请求，也就是图2中【正在排队】，然后进入DNS解析阶段，也就是图1中【DNS】以及图2中的【DNS查找】，DNS根据域名解析出对应的IP地址。(DNS基于UDP)。</li><li>使用IP寻址找到对方，然后根据IP地址+端口号创建一个TCP连接(三次握手)，也就是图1中【TCP】以及图2中的【初始连接】创建完成后利用TCP连接来传输数据。(TCP会将数据拆分为多个数据包，进行有序传输，如果丢包会重发，TCP的特点是可靠、有序)</li><li>判断当前协议是否为https，如果为https，则进行SSL协商，将数据进行加密，如果为http协议则不进行加密(明文传输)，也就是图2中的【SSL】。</li><li>开始发送http请求(请求行/请求头/请求体)，也就是图1中【Request】以及图2中的【已发送请求】。HTTP协议有多个版本，目前使用最多的版本为HTTP/1.1，HTTP/1.1发送完成后默认不会断开。keep-alive 默认打开，为了下次传输数据时复用上次创建的连接。每个域名最多同时建立6个TCP连接，所以同一时间最多发生6个请求。</li><li>服务器收到数据后解析HTTP请求(请求行/请求头/请求体)，处理完成后生成状态码和HTTP响应(响应行/响应头/响应体)后返回给客户端，也就是图2的【等待中】在做的事情。</li><li>客户端接收到HTTP响应后根据状态码进行对应的处理，如果状态码为304则直接代表协商缓存生效，直接取本地的缓存文件。如果不是则下载内容。也就是图1中【Response】以及图2中的【下载内容】步骤。</li></ol><h4 id="1-2-5-服务端响应">1.2.5 服务端响应</h4><p>在网络请求第6步中，服务器收到HTTP请求后需要根据请求信息来进行解析，并返回给客户端想要的数据，这也就服务端响应。</p><p>服务端可以响应并返回给客户端很多种类型的资源，这里主要介绍html类型。</p><p>目前前端处理服务端响应html请求主要分为SSR服务端渲染与CSR客户端渲染，CSR就是返回一个空的HTML模版，然后浏览器加载js后通过js动态渲染页面。SSR是服务端在接受到请求时事先在服务端渲染好html返回给客户端后，客户端再进行客户端激活。</p><p>在打开一个站点的首屏页的完整链路中，使用SSR服务端渲染时的速度要远大于CSR客户端渲染，并且SSR对SEO友好。所以对于首屏加载速度比较敏感或者需要优化SEO的站点来说，使用SSR是更好的选择。</p><h4 id="1-2-6-浏览器渲染详细流程">1.2.6 浏览器渲染详细流程</h4><p>浏览器渲染详细流程主要在网络请求中的地7步。浏览器下载完html内容后进行解析何渲染页面的流程。<br><img src="https://bu.dusays.com/2022/05/23/628ba7881b1a8.webp" alt="p4"><br>渲染流程分为4种情况：</p><ol><li>HTML中无任何CSS相关标签</li><li>CSS相关标签在HTML最顶部，且在解析到内容标签<code>（&lt;div /&gt;）</code>时已经解析完CSS相关标签</li><li>CSS相关标签在HTML最顶部，但在解析到内容标签<code>（&lt;div /&gt;）</code>时CSS相关标签尚未解析完</li><li>CSS相关标签在HTML最底部<br>（略）</li></ol><h3 id="1-3-浏览器处理每一帧的流程">1.3 浏览器处理每一帧的流程</h3><p>浏览器在渲染完页面之后还需要不间断的处理很多内容的，比如动画、用户事件、定时器等。因此当浏览器渲染完页面后，还会在之后的每一帧到来时执行以下的流程。<br><img src="https://bu.dusays.com/2022/05/24/628bb016bb39b.webp" alt="p5"></p><ol><li>【Input events】处理用户事件，先处理【阻塞事件Blocking】包括touch和wheel事件，后处理【非阻塞事件Non-blocking】包括click和keypress。</li><li>【JS】处理完用户事件后执行【定时器Timers】</li><li>【Begin frame】处理完定时器后开始进行【每帧事件Per frame events】的处理，包括窗口大小改变、滚动、媒体查询的更改、动画事件。</li><li>【rAF】处理完帧事件后执行requestAnimationFrame回调函数和IntersectionObserver回调函数。</li><li>【Layout】然后【重新计算样式Recalc style】、【更新布局Update layout】、【调整Observer回调的大小Resize Observer callbacks】</li><li>【Paint】然后【合成更新Compositing update】、【Paint invalidation】、【Record】</li></ol><h2 id="2-Chrome性能优化相关工具">2.Chrome性能优化相关工具</h2><p>了解完浏览器渲染原理，我们还需要知道根据哪些指标才能判断一个页面性能的好坏，在Chrome中这些指标应该怎么获取。以及Chrome都为我们提供了哪些性能相关的工具，如何使用。</p><h3 id="2-1-Chrome-Performance-性能">2.1 Chrome Performance(性能)</h3><p>Performance既是一个Chrome工具，可用于性能检测。<br>同样又是一套JS API，可在Chrome中执行。</p><h4 id="2-1-1-Chrome-Performance-工具的使用">2.1.1 Chrome Performance 工具的使用</h4><p>打开Chrome调试面板选择Performance，中文版为性能，点击刷新按钮，Performance会刷新并录制当前页面，然后我们就可以在面板中看到如下的各种性能相关细节。<br><img src="https://bu.dusays.com/2022/05/24/628bb12aad445.webp" alt="p6"></p><h4 id="2-1-2-使用Performance-API获取性能相关指标">2.1.2 使用Performance API获取性能相关指标</h4><p>接下来我们来了解一下目前常用的性能指标，并且我们需要知道其中一些关键指标如何用Performance API获取。</p><ol><li>TTFB（Time To First Byte）首字节时间：从发送请求到数据返回第一个字节所消耗的时间。</li><li>FP (First Paint) 首次绘制: 第一个像素绘制到页面上的时间。</li><li>FCP (First Contentful Paint) 首次内容绘制: 标记浏览器渲染来自 DOM 第一位内容的时间点，该内容可能是文本、图像、SVG 甚至 元素。</li><li>FMP(First Meaningful Paint) 首次有效绘制: 例如，在 YouTube 观看页面上，主视频就是主角元素。<br>图片可以没加载完成，但整体的骨架已经加载完成了。<br>1秒内完成FMP的概率超过80%，那就代表这个网站是一个性能较好的网站。</li><li>TTI (Time to Interactive) 可交互时间 : DOM树构建完毕，可以绑定事件的时间</li><li>LCP (Largest Contentful Paint) 最大内容渲染: 代表在viewport中最大的页面元素加载的时间。LCP的数据会通过PerformanceEntry对象记录, 每次出现更大的内容渲染, 则会产生一个新的PerformanceEntry对象(2019年11月新增)。</li><li>DCL (DomContentloaded): 当 HTML 文档被完全加载和解析完成之后，DOMContentLoaded 事件被触发，无需等待样式表、图像和子框架的完成加载。</li><li>L (onLoad), 当依赖的资源(图片、文件等), 全部加载完毕之后才会触发。</li><li>L (onLoad), 当依赖的资源(图片、文件等), 全部加载完毕之后才会触发。</li><li>TBT (Total Blocking Time) 页面阻塞总时长: TBT汇总所有加载过程中阻塞用户操作的时长，在FCP和TTI之间任何long task中阻塞部分都会被汇总。</li><li>CLS (Cumulative Layout Shift) 累积布局偏移: 总结起来就是一个元素初始时和其hidden之间的任何时间如果元素偏移了, 则会被计算进去, 具体的计算方法可看这篇文章 <a href="https://web.dev/cls/">https://web.dev/cls/</a></li><li>SI (Speed Index): 指标用于显示页面可见部分的显示速度, 单位是时间。</li></ol><h3 id="2-2-Coverage-覆盖率">2.2 Coverage(覆盖率)</h3><p>获取代码未使用占比。获取代码未使用占比<br><img src="https://bu.dusays.com/2022/05/24/628bb981db5c8.webp" alt="p7"></p><h3 id="2-3-Lighthouse">2.3 Lighthouse</h3><p>获取性能报告并查看推荐优化项。可以在本地安装命令行工具来使用，也可以通过Chrome来使用。<br><img src="https://bu.dusays.com/2022/05/24/628cf77e139ff.webp" alt="p8"></p><h3 id="2-4-Network-网络">2.4 Network(网络)</h3><h4 id="2-4-1-网络请求中的Timing-时间">2.4.1 网络请求中的Timing(时间)</h4><p>能获取网络请求的时间消耗细节，可以根据耗时来决定优化策略。优先优化耗时最长的。<br><img src="https://bu.dusays.com/2022/05/24/628cf966b69da.webp" alt="p9"></p><ul><li>正在排队：网络请求队列的排队时间</li><li>已停止：阻塞住用于处理其他事情的时间</li><li>DNS查找：用于DNS解析IP地址的时间</li><li>初始连接：创建TCP连接时间</li><li>SSL：用于SSL协商的时间</li><li>已发送请求：用于发送请求的时间</li><li>等待中：请求发出至接收响应的时间也可以理解为服务端处理请求的时间</li><li>下载内容：下载响应的时间</li></ul><h4 id="2-4-2-网络请求的优先级">2.4.2 网络请求的优先级</h4><p>浏览器会根据资源的类型决定优先请求哪些资源，优先级高的请求能够优先被加载。<br><img src="https://bu.dusays.com/2022/05/24/628cf9efddd7f.webp" alt="p10"><br>不同资源类型的优先级排序如下：</p><ul><li>最高：html、style</li><li>高：font、fetch、script</li><li>低：image、track</li></ul><h4 id="2-4-3-网页总资源信息">2.4.3 网页总资源信息</h4><p><img src="https://bu.dusays.com/2022/05/24/628cfb20c1315.webp" alt="p11"></p><ul><li>58个请求：网页一共多少个请求</li><li>6.9 MB 项资源：网页资源一共6.9MB大小</li><li>DOMContentLoaded 454 毫秒：DOM加载完毕的时长</li><li>加载时间 1.02 秒：onload完毕的时长</li></ul><h4 id="2-4-4-Network配置">2.4.4 Network配置</h4><p><img src="https://bu.dusays.com/2022/05/24/628cfcbe97759.webp" alt="p12"></p><h2 id="3-网页性能优化">3.网页性能优化</h2><p>上面我们分别讲解了进程与线程、浏览器打开一个页面的完整过程、浏览器处理每一帧时的流程、Chrome性能相关的各种工具以及性能相关的各种指标。以上内容都掌握之后我们再考虑性能优化遍有了思路，我们在页面展示的任意一个步骤中对其进行优化都能对整个网页的展示性能产生影响。</p><p>下面列出了一个页面能优化的所有内容，读者可根据自己的业务情况结合性能工具来做适合自己的优化方式。</p><h3 id="3-1-网络优化策略">3.1 网络优化策略</h3><h4 id="3-1-1-减少HTTP请求数">3.1.1 减少HTTP请求数</h4><p>合并JS、合并CSS、合理内嵌JS和CSS、使用雪碧图。</p><h4 id="3-1-2-使用HTTP缓存">3.1.2 使用HTTP缓存</h4><p>使用强制缓存可以不走网络请求，直接走本地缓存数据来加载资源。</p><p>使用协商缓存可以减少数据传输，当不需要更新数据时可通知客户端直接使用本地缓存。</p><h4 id="3-1-3-使用-HTTP-2-0">3.1.3 使用 HTTP/2.0</h4><p>HTTP/2.0使用同一个TCP连接来发送数据，他把多个请求通过二进制分贞层实现了分贞，然后把数据传输给服务器。也叫多路复用，多个请求复用同一个TCP连接。</p><p>HTTP/2.0会将所有以:开头的请求头做一个映射表，然后使用hpack进行压缩，使用这种方式会使请求头更小。</p><p>服务器可主动推送数据给客户端。</p><h4 id="3-1-4-避免重定向">3.1.4 避免重定向</h4><p>301、302 重定向会降低响应速度。</p><h4 id="3-1-5-使用-dns-prefetch">3.1.5 使用 dns-prefetch</h4><p>DNS请求虽然占用的带宽较少，但会有很高的延迟，由其在移动端网络会更加明显。</p><p>使用 dns-prefetch 可以对网站中使用到的域名提前进行解析。提高资源加载速度。</p><p>通过DNS预解析技术可以很好的降低延迟，在访问以图片为主的移动端网站时，使用DNS预解析的情意中下页面加载时间可以减少5%。</p><h4 id="3-1-6-使用域名分片">3.1.6 使用域名分片</h4><p>在HTTP/1.1中，一个域名同时最多创建6个TCP连接，将资源放在多个域名下可提高请求的并发数。</p><h4 id="3-1-7-CDN">3.1.7 CDN</h4><p>静态资源全上CDN，CDN能非常有效的加快网站静态资源的访问速度。</p><h4 id="3-1-8-压缩">3.1.8 压缩</h4><p>gzip压缩、html压缩、js压缩、css压缩、图片压缩。</p><h4 id="3-1-9-使用contenthash">3.1.9 使用contenthash</h4><p>contenthash可以根据文件内容在文件名中加hash，可用于浏览器缓存文件，当文件没有改变时便直接取本地缓存数据。</p><h4 id="3-1-10-合理使用preload、prefetch">3.1.10 合理使用preload、prefetch</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;link rel=&quot;preload&quot; as=&quot;style&quot; href=&quot;/static/style.css&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;preload&quot; as=&quot;font&quot; href=&quot;/static/font.woff&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;preload&quot; as=&quot;script&quot; href=&quot;/static/script.js&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;link rel=&quot;prefetch&quot; as=&quot;style&quot; href=&quot;/static/style.css&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;prefetch&quot; as=&quot;font&quot; href=&quot;/static/font.woff&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;prefetch&quot; as=&quot;script&quot; href=&quot;/static/script.js&quot;&gt;</span><br></pre></td></tr></table></figure><p>两者都不会阻塞<code>onload</code>事件，<code>prefetch</code>会在页面空闲时候再进行加载，是提前预加载之后可能要用到的资源，不一定是当前页面使用的，<code>preload</code>预加载的是当前页面的资源。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;style&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./preload.css&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">article</span>&gt;</span><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如上代码，预加载了css但并没有使用。浏览器在页面<code>onload</code>完成一段时间后，发现还没有引用预加载的资源时，浏览器会在控制台输出下图的提示信息。<br><img src="https://bu.dusays.com/2022/05/24/628cfd2d0b279.webp" alt="p13"></p><p>preload和prefetch可根据资源类型决定资源加载的优先级，详细优先级如代码：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 最高 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;style&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./file.xxx&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 高 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;font&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./file.xxx&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;fetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./file.xxx&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;script&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./file.xxx&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 低 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;image&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./file.xxx&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;track&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./file.xxx&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">article</span>&gt;</span><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2022/05/24/628cfd767a1b3.webp" alt="p14"></p><h3 id="3-2-浏览器渲染优化策略">3.2 浏览器渲染优化策略</h3><h4 id="3-2-1-关键渲染路径">3.2.1 关键渲染路径</h4><p>当通过JS或者其他任意方式修改DOM后，浏览器会进入如下流程。</p><p>【JS通过API修改DOM】&gt;【计算样式】&gt;【布局(重排)】&gt;【绘制(重绘)】&gt;【合成】。</p><p><code>Reflow 重排</code>：重排在Chrome Performance中叫做布局，通常添加或删除元素、修改元素大小、移动元素位置、获取位置信息都会触发页面的重排，因为重排可能会改变元素的大小位置等信息，这样的改变会影响到页面大量其它元素的大小位置信息，会耗费掉大量的性能，所以在实际应用中我们应该尽可能的减少重排。</p><p><code>Repaint 重绘</code>：重绘在Chrome Performance中叫做绘制，通常样式改变但没有影响位置时会触发重绘操作，重绘性能还好，但我们也需要尽量减少重绘，如果需要做一些动画，我们尽量使用CSS3动画，CSS3动画只需要在初始化时绘制一次，之后的动画都不会触发重绘操作。</p><h4 id="3-2-2-强制同步布局问题">3.2.2 强制同步布局问题</h4><p>在同一个函数内，修改元素后又获取元素的位置时会触发强制同步布局，影响渲染性能。</p><p>强制同步布局会使js强制将【计算样式】和【布局(重排)】操作提前到当前函数任务中，这样会导致每次运行时执行一次【计算样式】和【重排】，这样一定会影响页面渲染性能，而正常情况下【计算样式】和【重排】操作会在函数结束后统一执行。</p><h4 id="3-2-3-如何减少重排与重绘">3.2.3 如何减少重排与重绘</h4><ol><li>脱离文档流(绝对定位、固定定位)，脱离文档流的元素进行重排不会影响到其他元素。</li><li>图片渲染时增加宽高属性，宽高固定后，图片不会根据内容动态改变高度，便不会触发重排。</li><li>尽量用CSS3动画，CSS3动画能最大程度减少重排与重绘。</li><li>使用will-change: transform;将元素独立为一个单独的图层。（定位、透明、transform、clip都会产生独立图层）。</li></ol><h3 id="3-3-静态文件优化策略">3.3 静态文件优化策略</h3><h4 id="3-3-1-图片优化">3.3.1 图片优化</h4><h5 id="3-3-1-1-图片格式">3.3.1.1 图片格式</h5><ol><li><code>jpg(jpeg)</code>：适合色彩丰富的图、Banner图。不适合：图形文字、图标、不支持透明度。</li><li><code>png</code>：适合纯色、透明、图标，支持纯透明和半透明。不适合色彩丰富图片，因为无损储存会导致储存体积大于jpeg。</li><li><code>gif</code>：适合动画、可以动的图标。支持纯透明但不支持半透明，不适合色彩丰富的图片。埋点信息通常也会使用gif发送，因为1x1的gif图发送的网络请求比普通的get请求要小一些。</li><li><code>webp</code>：支持纯透明和半透明，可以保证图片质量和较小的体积，适合Chrome和移动端浏览器。不适合其他浏览器。</li><li><code>svg</code>：矢量格式，大小非常小，但渲染成本过高，适合小且色彩单一的图标。</li></ol><h5 id="3-3-1-2-优化策略">3.3.1.2 优化策略</h5><ul><li>减少图片资源的尺寸和大小，节约用户流量。</li><li>设置<code>alt=”xxx”</code>属性，图像无法显示时会显示alt内容。</li><li>图片懒加载， <code>loading=”lazy”</code>为原生，建议使用<code>IntersectionObserver</code>自己做懒加载。</li><li>不同环境加载不同尺寸和像素的图片srcset与sizes的使用。</li><li>采用渐进式加载 先加载占位图，然后加载模糊小图，最后加载真正清晰的图。</li><li>使用Base64URL 减少图片请求数。</li><li>采用雪碧图合并图片，减少请求数。</li></ul><h4 id="3-3-2-HTML优化">3.3.2 HTML优化</h4><ul><li>语义化HTML，代码简洁清晰，利于SEO，便于开发维护。</li><li>减少HTML嵌套关系，减少DOM节点数量。</li><li>提前声明字符编码，让浏览器快速确定如何渲染网页内容<code>&lt;html lang=&quot;en&quot;&gt; &lt;meta charset=&quot;UTF-8&quot;&gt;</code>。</li><li>删除多余空格、空行、注释、无用属性。</li><li>减少iframe，子iframe会阻塞父级的onload事件。可以使用js动态给iframe赋值，就能解决这个问题。</li><li>避免table布局。</li></ul><h4 id="3-3-3-CSS优化">3.3.3 CSS优化</h4><ul><li>减少伪类选择器，减少选择器层数、减少通配符选择器、减少正则选择器。</li><li>避免css表达式<code>background-color: expression(...)</code>。</li><li>删除空格、空行、注释、减少无意义的单位、css压缩。</li><li>css外链，能走缓存。</li><li>添加媒体字段，只加载有效的css文件。</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;./small.css&quot; media=&quot;screen and (max-width:600px)&quot; /&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;./big.css&quot; media=&quot;screen and (min-width:601px)&quot;/&gt;</span><br></pre></td></tr></table></figure><ul><li>使用<code>css contain</code>属性，能控制对应元素是否根据子集元素的改变进行重排。</li><li>减少<code>@import</code>使用，因为它使用串行加载。</li></ul><h4 id="3-3-4-JS优化">3.3.4 JS优化</h4><ul><li>通过script的<code>async</code>、<code>defer</code>属性异步加载，不阻塞DOM渲染。</li><li>减少DOM操作，缓存访问过的元素。</li><li>不直接操作真实DOM，可以先修改，然后一次性应用到DOM上。（虚拟DOM、DOM碎片节点）。</li><li>使用webworker解决复杂运算，避免复杂运算阻塞主线程，webworker线程位于渲染进程。</li><li>图片懒加载，使用<code>IntersectionObserver</code>实现。</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./loading.gif&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;./01.jpg&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./loading.gif&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;./02.jpg&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./loading.gif&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;./03.jpg&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./loading.gif&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;./04.jpg&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./loading.gif&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;./05.jpg&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./loading.gif&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;./06.jpg&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./loading.gif&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;./07.jpg&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./loading.gif&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;./08.jpg&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./loading.gif&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;./09.jpg&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./loading.gif&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;./10.jpg&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> intersectionObserver = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(<span class="function">(<span class="params">changes</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        changes.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (item.<span class="property">intersectionRatio</span> &gt; <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            intersectionObserver.<span class="title function_">unobserve</span>(item.<span class="property">target</span>)</span></span><br><span class="line"><span class="language-javascript">            item.<span class="property">target</span>.<span class="property">src</span> = item.<span class="property">target</span>.<span class="property">dataset</span>.<span class="property">src</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> domImgList = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;img&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      domImgList.<span class="title function_">forEach</span>(<span class="function">(<span class="params">domImg</span>) =&gt;</span> intersectionObserver.<span class="title function_">observe</span>(domImg));</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>虚拟滚动</li><li>使用<code>requestAnimationFrame</code>来做动画，使用<code>requestIdleCallback</code>来进行空闲时的任务处理。</li><li>尽量避免使用eval，性能差。</li><li>使用事件委托，能减少事件绑定个数。事件越多性能越差。</li><li>尽量使用<code>canvas</code>、<code>css3</code>动画。</li><li>通过chrome覆盖率（Coverage）工具排查代码中未使用过的代码并将其删除。</li><li>通过chrome性能（Performance）工具查看每个函数的执行性能并优化。</li></ul><h4 id="3-3-5-字体优化">3.3.5 字体优化</h4><p><code>FOUT</code>(Flash of Unstyled Text）等待一段时间，如果没加载完成，先显示默认。加载 后再进行切换。</p><p><code>FOIT</code>(F1ash of Invisib1e Text） 字体加载完毕后显示，加载超时降级系统字体（白屏）。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="keyword">@font-face</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-family</span>: <span class="string">&#x27;hagan&#x27;</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;./font.ttc&#x27;</span>);</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-display</span>: swap;</span></span><br><span class="line"><span class="language-css">      <span class="comment">/* b1ock 35 内不显示，如果没加载完毕用默认的 */</span></span></span><br><span class="line"><span class="language-css">      <span class="comment">/* swap 显示老字体 在替换*/</span></span></span><br><span class="line"><span class="language-css">      <span class="comment">/* fa11back 缩短不显示时间，如果没加载完毕用默认的，和b1ock类似*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">      /* optional 替换可能用字体 可能不替换*/</span></span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">article</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-family</span>: hagan;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">article</span>&gt;</span>ABC abc<span class="tag">&lt;/<span class="name">article</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-4-浏览器储存优化策略">3.4 浏览器储存优化策略</h3><h4 id="3-4-1-Cookie">3.4.1 Cookie</h4><p><code>cookie</code>在过期之前一直有效，最大储存大小为4k，限制字段个数，不适合大量的数据储存，每次请求会携带<code>cookie</code>，主要用来做身份校验。<br>优化方式：</p><ol><li>需要合理设置cookie有效期。</li><li>根据不同子域划分cookie来减少cookie传输。</li><li>静态资源域名和cookie域名采用不同域名，避免静态资源请求携带cookie。</li></ol><h4 id="3-4-2-LocalStorage">3.4.2 LocalStorage</h4><p>Chrome下最多储存5M，除非手动清除，否则一直存在。可以利用<code>localStorage</code>储存静态资源。比如储存网页的<code>.js</code>、<code>.css</code>，这样会使页面打开速度非常快。例如 <a href="https://m.baidu.com">百度</a></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;hagan&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showName</span> () &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">showName</span>()</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://lib.baomitu.com/axios/0.26.1/axios.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">cacheFile</span>(<span class="string">&#x27;/index.js&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">cacheFile</span> (url) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> fileContent = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(url)</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (fileContent) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">eval</span>(fileContent)</span></span><br><span class="line"><span class="language-javascript">      &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> axios.<span class="title function_">get</span>(url)</span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">eval</span>(data)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(url, data)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-4-3-SessionStorage">3.4.3 SessionStorage</h4><p>会话级别储存，可用于页面间的传值。</p><h4 id="3-4-4-IndexDB">3.4.4 IndexDB</h4><p>浏览器的本地数据库，大小几乎无上限。</p><h3 id="3-5-其他优化策略">3.5 其他优化策略</h3><ul><li>关键资源个数越多，首次页面加载时间就会越长。</li><li>关键资源的大小，内容越小下载时间越短。</li><li>优化白屏，合理使用内联css、js。</li><li>预渲染，打包时进行预渲染，生成静态HTML文件，用户访问时直接返回静态HTML。</li><li>服务端渲染同构，加速首屏速度（耗费服务端资源），有利于SEO优化。首屏使用服务端渲染，后续交互使用客户端渲染。</li></ul><h3 id="3-6-使用PWA提高用户体验">3.6 使用PWA提高用户体验</h3><p>webapp用户体验差的一大原因是不能离线访问。用户粘性低的一大原因是无法保存入口，PWA就是为了解决webapp的用户体验问题而诞生的。使用PWA能令站点拥有快速、可靠、安全等特性。</p><ol><li><code>Web App Manifest</code> 将网站添加到电脑桌面、手机桌面，类似Native的体验。</li><li><code>Service Worker</code> 配合<code>Cache API</code>，能做到离线缓存各种内容。</li><li><code>Push API</code> 配合 <code>Notification API</code>，能做到类似Native的消息推送与实时提醒。</li><li><code>App Shell</code> 配合 <code>App Skeleton</code>，能做App壳与骨架屏。</li></ol><h1>二、优化小技巧实操</h1><h2 id="1-图片压缩">1.图片压缩</h2><h3 id="1-1-图片多级压缩">1.1 图片多级压缩</h3><p>目前从网上下载的图片主流格式是<code>JPG</code>或者<code>PNG</code>，当分辨率比较高的时候体积往往比较大，因此要想提高网站的速度就有必要将图片体积压缩，这里参考店长的推荐，无损压缩推荐<a href="https://tinypng.com/">Tinypng</a>，有损压缩推荐<a href="https://github.com/meowtec/Imagine/releases">imagine</a>。</p><table><thead><tr><th style="text-align:left"></th><th style="text-align:center">TinyPNG</th><th>Imagine</th></tr></thead><tbody><tr><td style="text-align:left">特点</td><td style="text-align:center">无损压缩</td><td>有损压缩，以牺牲图像质量， 降低图像色彩来达到缩减图像大小的目的。</td></tr><tr><td style="text-align:left">优点</td><td style="text-align:center">能够完全保留图像色彩，不损伤图像质量</td><td>1. 压缩程度高，支持转<code>png</code>为<code>jpg</code>或<code>webp</code>，进一步减少图片大小 2. 软件支持一次处理多张图片，无上限，处理完成支持直接批量覆盖原文件或重命名</td></tr><tr><td style="text-align:left">缺点</td><td style="text-align:center">单次仅能上传20张图片，每张限制大小为5MB，无法处理更大图片。</td><td>PNG转其他格式为不可逆操作（指覆盖保存后），且可能反而会增加图片大小。</td></tr></tbody></table><p>在这里还给大家推荐一个非常实用的网站：<a href="https://imagestool.com/zh_CN/index.html">imagesTool</a></p><p><img src="https://source.fomal.cc/siteshot/imagestool.com.jpg" alt=""></p><p>这个网站不仅仅支持将<code>PNG</code>与<code>JPG</code>格式的图片批量（完全没有数量限制那种）转化为<code>webp</code>和<code>avif</code>（chrome推荐的一种压缩率更高的编码方式），而且还能改变图片的原始分辨率，甚至将图片压缩到指定的大小，下面演示了一张图压缩之路！</p><img src="https://s1.vika.cn/space/2022/10/25/c82f67799a524abc8cbaef90b8bf9131" alt="image-20221025131104569" style="zoom:50%;" /><p>我们选择了将<code>PNG</code>转化为<code>webp</code>格式，画质为<code>High</code>，图片规模缩小为<code>80%</code>，压缩率达到94%；而选择将<code>PNG</code>转化为<code>avif</code>格式，画质为<code>High</code>，图片规模缩小为<code>80%</code>，压缩率达到95%，这样下来我们可以把所有图片几乎都可以控制在<code>500KB</code>以下，而且肉眼观察画质没有明显的不同。</p><img src="https://s1.vika.cn/space/2022/10/25/6e15b7e6ad79406b8320108aaa8e62a9" alt="image-20221025130942155" style="zoom: 67%;" /><div class="note info flat"><p>使用建议:如果没有特别要求，直接使用Imagine进行有损压缩即可。虽然说是有损压缩，但是默认压缩会自主计算压缩程度，一般默认程度就能节省70%空间，且肉眼几乎发现不了图片压缩情况。同时我个人是比较推荐一步到位直接压缩成<code>webp</code>格式，虽然在一些未适配的浏览器（例如IE浏览器）上可能出现无法查看图片的情况，但是压缩率是真的高，图片一路下来压缩个<code>80%</code>毫无压力。如果对图片分辨率要求不太高或者图片分辨率原本就太高了，可以考虑缩小分辨率，结合上面几项，甚至可以压缩<code>90%</code>的大小！</p></div><h3 id="1-2-图片懒加载">1.2 图片懒加载</h3><p>图片懒加载是指只加载目前能看到及其附近的页面上的图片，有节省流量与提高性能的作用。Butterfly主题内置了图片懒加载的选项，在<code>_config.butterfly.yml</code>文件下将对应项设置为如下即可：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Lazyload (圖片懶加載)</span></span><br><span class="line"><span class="comment"># https://github.com/verlok/vanilla-lazyload</span></span><br><span class="line"><span class="attr">lazyload:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post 选择在哪些地方启用图片懒加载</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="comment"># 你自己喜欢的图片</span></span><br><span class="line">  <span class="attr">blur:</span> <span class="literal">true</span><span class="comment"># 模糊效果</span></span><br></pre></td></tr></table></figure><h2 id="2-字体二级压缩">2.字体二级压缩</h2><p>我们从网上下载的字体通常都是<code>TTF</code>格式，ttf(TrueTypeFont)是一种字库名称，是Apple公司和Microsoft公司共同推出的字体文件格式，也是最常用的格式之一，但是一些好看的字体往往体积都会很大，网站每次进去都要加载一个这么大的文件，速度肯定会很慢！例如下面这个筑紫A丸2.0的标准体ttf格式的字体文件，体积约为23MB。</p><p><img src="https://s1.vika.cn/space/2022/10/25/ca08a96314c5429b934b7ef977854650" alt="image-20221025131822607"></p><p>这部分参考：<a href="https://blog.csdn.net/littleduo/article/details/124563106">有效的压缩字体方法</a></p><p>一个有效的压缩方法是：<code>fonttools编码压缩+转woff2格式</code>二级压缩</p><h3 id="2-1-使用-fonttools-压缩字体文件">2.1 使用 fonttools 压缩字体文件</h3><p>需要 <code>Python</code> 环境，并已安装好 <code>pip</code>，使用 <code>pip</code> 来安装 <code>fonttools</code></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install fonttools</span><br></pre></td></tr></table></figure><p>下载已经整理好的字体编码列表文件<code>sc_unicode.txt</code> <a href="https://gist.githubusercontent.com/imaegoo/d64e5088b723c2e02c40985f55ff12db/raw/5ebd2ce49418c73459a9dfe050483409306a6c1d/sc_unicode.txt">点这里进行下载</a>。</p><p>将你要压缩的字体ttf文件和刚刚下载的sc_unicode.txt编码文件放进去同一个文件夹，进入到该文件夹的控制台如下命令然后回车</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pyftsubset ZhuZiAWan-3.ttf --unicodes-file=sc_unicode.txt</span><br></pre></td></tr></table></figure><p><img src="https://s1.vika.cn/space/2022/10/25/922e9871848443c1aa79f7ca01c9bfe7" alt="image-20221025133032806"></p><p><img src="https://s1.vika.cn/space/2022/10/25/69bee2e71ec24c1eb6c4c9d6dd874f5a" alt="image-20221025133103786"></p><p>然后就会得到图片所示的subset结尾的编码压缩后的ttf文件，体检体积已经从23MB下降到3MB。</p><h3 id="2-2-利用CloudConvert将TTF格式转换成woff2-格式">2.2 利用CloudConvert将<code>TTF</code>格式转换成<code>woff2</code> 格式</h3><p>进去国外平台<a href="https://cloudconvert.com/">CloudConvert</a>（国内速度可能会慢一些），将TTF格式的字体文件转化为<code>woff2</code>格式</p><p><img src="https://s1.vika.cn/space/2022/10/25/10aa744585094dbf9914ac029500f51c" alt="image-20221025133728970"></p><p>最后压缩成从<code>23MB</code>的文件压缩成<code>1.5MB</code>，足足压缩了十几倍，压缩率十分高！</p><h2 id="3-css和js文件优化">3.css和js文件优化</h2><h3 id="3-1-压缩css与js文件">3.1 压缩css与js文件</h3><ul><li><p>如果是用<code>VSCODE</code>进行网站搭建的小伙伴，可以下载插件<a href="https://github.com/olback/es6-css-minify/tree/3.0">JS &amp; CSS Minifier (Minify)</a></p></li><li><p>该插件支持将<code>js</code>和<code>css</code>文件的格式进行压缩，降低文件体积</p></li><li><p>使用方法：安装插件后，在<code>js</code>和<code>css</code>文件界面右键，选择<code>Minify Document</code>，插件会生成一个文件名为<code>xxx.min.css</code>或者<code>xxx.min.js</code>的文件，这就是压缩后的文件，在引入的时候直接引用这个压缩后的文件即可。</p></li></ul><img src="https://s1.vika.cn/space/2022/10/25/1e054153b72f4f429dc3a9a6086ccdb5" alt="image-20221025134609440" style="zoom: 33%;" /><h3 id="3-2-gulp批量压缩">3.2 gulp批量压缩</h3><p>这是压缩全局静态资源的教程，可以参考店长的文章：</p><div class="tag link"><a class="link-card" title="使用gulp压缩博客静态资源" href="https://akilar.top/posts/49b73b87/"><div class="left"><img src="https://cdn.cbd.int/akilar-candyassets@1.0.36/image/siteicon/favicon.ico"/></div><div class="right"><p class="text">使用gulp压缩博客静态资源</p><p class="url">https://akilar.top/posts/49b73b87/</p></div></a></div><h3 id="3-3-减少加载项">3.3 减少加载项</h3><p>当网站的东西多起来了之后，会越来越卡顿，这时候推荐以下几个优化方向：</p><ul><li>减少卡片的出场动画<code>wowjs</code>、<code>Live2D</code>、<code>canvas</code>元素等(其中Live2D是比较消耗资源的)</li><li>如果部分js和css文件只有部分页面需要引用，尽量不全局引用，同时删除空格、空行、注释、减少无意义的单位</li><li>css文件尽量添加media字段指定加载设备，js文件的引入可以加入 的 <code>async</code>、<code>defer</code> 属性异步加载，不阻塞 DOM 渲染</li></ul><h2 id="4-无服务器下的资源加速策略">4.无服务器下的资源加速策略</h2><h3 id="4-1-可用的免费CDN选择">4.1 可用的免费CDN选择</h3><p><strong>1.staticaly</strong></p><p>官网地址：<a href="https://www.staticaly.com">https://www.staticaly.com</a><br>轻松地从GitHub / GitLab / Bitbucket等加载您的项目 没有流量限制或限制。</p><p>文件通过超快速全球CDN提供。 在URL（不是分支）中使用特定标记或提交哈希。<br>根据URL永久缓存文件。 除master分支外，文件在浏览器中缓存1年。 具体用法：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># GitHub CDN</span><br><span class="line">https://cdn.staticaly.com/gh/:user/:repo/:tag/:file</span><br><span class="line">https://cdn.staticaly.com/gh/growvv/growvv.github.io/master/README.md</span><br><span class="line"></span><br><span class="line"># GitLab CDN</span><br><span class="line">https://cdn.staticaly.com/gl/:user/:repo/:tag/:file</span><br><span class="line"></span><br><span class="line"># Bitbucket CDN</span><br><span class="line">https://cdn.staticaly.com/bb/:user/:repo/:tag/:file</span><br><span class="line"></span><br><span class="line"># WordPress CDN</span><br><span class="line">https://cdn.staticaly.com/wp/c/:version/wp-includes/:file  </span><br><span class="line">https://cdn.staticaly.com/wp/p/:plugin_name/:version/:file  </span><br><span class="line">https://cdn.staticaly.com/wp/t/:theme_name/:version/:file</span><br><span class="line"></span><br><span class="line"># Imgpx CDN</span><br><span class="line">https://cdn.staticaly.com/img/:image_url</span><br><span class="line"></span><br><span class="line"># Favicons CDN</span><br><span class="line">https://cdn.staticaly.com/favicons/:favicon_url</span><br></pre></td></tr></table></figure><p><strong>2.githack</strong></p><p>直接从GitHub，Bitbucket或GitLab提供原始文件<br>官网地址：<a href="https://liubing.me/goto/http://raw.githack.com">http://raw.githack.com/</a> 具体用法和上面的<code>staticaly</code>很类似</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Github CDN</span><br><span class="line">//主分支</span><br><span class="line">https://rawcdn.githack.com/liub1934/LB-Blog/master/wp-content/themes/Memory/emoji/xiaodianshi/baiyan.png</span><br><span class="line"></span><br><span class="line">//版本分支</span><br><span class="line">https://rawcdn.githack.com/liub1934/LB-Blog/8806f440d3f9a7cc3e6125d7d75564e40262c6a8/wp-content/themes/Memory/emoji/xiaodianshi/baiyan.png</span><br></pre></td></tr></table></figure><p><strong>3.TianliCDN</strong></p><p><a href="https://tianli-blog.club/jsd/">https://tianli-blog.club/jsd/</a></p><p>轻量级私人CDN，申请见：<a href="https://tianli-blog.club/jsd/">https://tianli-blog.club/jsd/</a></p><p>4.UNPKG</p><p>见：<a href="https://unpkg.com/">https://unpkg.com/</a></p><h3 id="4-2-免费图床推荐">4.2 免费图床推荐</h3><ol><li><p>目前我是用的Github公共仓库+Vercel部署加速，速度还可以，关键是支持增量更新和自动部署，不过前期的配置比较麻烦点，你也可以选用Github公共仓库+Cloudflare部署加速，速度和Vercel接近。</p></li><li><p>大概步骤就是建立一个公共仓库，把你本地的图片推上这个仓库，然后将这个仓库部署托管于Vercel，再用一个二级域名绑定这个部署，那就可以通过二级域名+路径的方式访问到图片与资源了。每次仓库更新导致指定分支更新，都会触发Vercel重新部署，实现自动化流程。（这部分教程以后有机会详细写）</p></li><li><p>如果不想折腾或者只想存少量不太重要的图片，那么完全可以用公共的免费图床，下面列举了一些免费的图床：</p><ul><li><p><a href="https://smms.app/">SMMS</a></p></li><li><p><a href="https://www.superbed.cn/">聚合图床</a></p></li><li><p><a href="https://www.hualigs.cn/">遇见图床</a></p></li><li><p><a href="https://postimages.org/">PostImage</a></p></li><li><p><a href="https://imgse.com/">路过图床</a></p></li><li><p><a href="https://www.imgurl.org/">imgURL</a></p></li><li><p><a href="https://dash.cloudflare.com/">Cloudflare Pages</a></p></li><li><p><a href="https://imgbox.com/">imgbox</a></p></li><li><p><a href="https://pic.iqy.ink/upload">Lsky Pro</a></p></li><li><p><a href="https://upload.cc/">Upload.cc</a></p></li><li><p><a href="https://imagelol.com/">imagelol</a></p></li></ul></li></ol><h3 id="4-3-域名绑定的好处">4.3 域名绑定的好处</h3><p>目前Vercel的域已经被GFW墙了，如果想用Vercel托管网站又想在国内访问又不想科学上网，只能绑定国内域名，还有想用Vercel来进行资源加速也必须是有国内域名的，同时域名还可以拥有自己的域名邮箱与网站标识符，总之域名还是很有用的。对于静态网站来说你可以没有服务器，但是你不能没有域名。</p><h3 id="4-4-托管平台的选择">4.4 托管平台的选择</h3><p>目前能够托管静态网站的平台有以下几个</p><ol><li><a href="https://vercel.com/">Vercel</a>（不限量、速度较快） 推荐指数：🌟🌟🌟🌟🌟</li><li><a href="https://www.cloudflare.com/">Cloudflare</a>（不限量、速度还可以） 推荐指数：🌟🌟🌟🌟</li><li><a href="https://www.4everland.org/">4EVERLAND</a>（流量限制100GB、速度还可以、适合做备用线路） 推荐指数：🌟🌟🌟</li><li><a href="https://www.netlify.com/">Netlify</a>（流量限制100GB、速度还可以、适合做备用线路） 推荐指数：🌟🌟🌟</li><li><a href="https://pages.github.com/">Github Pages</a>（不限量、速度较慢） 推荐指数：🌟🌟</li><li><a href="https://gitee.com/">Gitee Pages</a>（不限量、速度还可以、但是Gitee与国外平台兼容性差） 推荐指数：🌟🌟</li><li>还有其他的例如<a href="https://docs.gitlab.com/ee/user/project/pages/">GitLab Pages</a>等就不说了，估计没啥人用</li></ol><h2 id="5-实用工具">5.实用工具</h2><h3 id="5-1-Lighthouse">5.1 Lighthouse</h3><p>Lighthouse 是一个网站性能测评工具， 它是 Google Chrome 推出的一个开源自动化工具，能够对 PWA 和网页多方面的效果指标进行评测，并给出最佳实践的建议以帮助开发者改进网站的质量。它的使用方法也非常简单，我们只需要提供一个要测评的网址，它将针对此页面运行一系列的测试，然后生成一个有关页面性能的报告。通过报告我们就可以知道需要采取哪些措施来改进应用的性能和体验。</p><p>在高版本（应该是 &gt;= 60）的 Chrome 浏览器中，Lighthouse 已经直接集成到了调试工具 DevTools 中了，因此不需要进行任何安装或下载。按 F12 打开开发者工具，可以看到在 console、security 等选项后面有一个 Audits （安装了lighthouse插件或者是高版本的谷歌浏览器可能显示的是 lighthouse）选项，选择该选项，然后点击 generate report 即可。</p><p><img src="https://s1.vika.cn/space/2022/10/25/d278a76bbd774b1d9912e74aa15b22c5" alt="image-20221025173341316"></p><p><img src="https://s1.vika.cn/space/2022/10/25/1d8b86f79de7449782b0c73e897edeb0" alt="image-20221025173705571"></p><p>使用 Lighthouse 对网站进行测评后，我们会得到一份评分报告，它包含了性能（Performance），访问无障碍（Accessibility），最佳实践（Best Practice），搜索引擎优化（SEO），PWA（Progressive Web App）五个部分：</p><h4 id="5-1-1-性能（Performance）">5.1.1 性能（Performance）</h4><p>性能评分的分值区间是0到100，如果出现0分，通常是在运行 Lighthouse 时发生了错误，满分100分代表了网站已经达到了98分位值的数据，而50分则是75分位值的数据。</p><p>影响评分的性能指标：性能测试结果会分成 Metrics，Diagnostic，Opportunities 三部分，但只有 Metrics 部分的指标项会对分数产生直接影响。</p><p>Lighthouse 会衡量以下 Metrics 性能指标项：</p><ul><li>首次内容绘制（First Contentful Paint）。即浏览器首次将任意内容（如文字、图像、canvas 等）绘制到屏幕上的时间点。</li><li>首次有效绘制（First Meaningful Paint）。衡量了用户感知页面的主要内容（primary content）可见的时间。对于不同的站点，首要内容是不同的，例如：对于博客文章，标题及首屏文字是首要内容，而对于购物网站来说，图片也会变得很重要。</li><li>首次 CPU 空闲（First CPU Idle）。即页面首次能够对输入做出反应的时间点，其出现时机往往在首次有效绘制完成之后。该指标目前仍处于实验阶段。</li><li>可交互时间（Time to Interactive）。指的是所有的页面内容都已经成功加载，且能够快速地对用户的操作做出反应的时间点。该指标目前仍处于实验阶段。</li><li>速度指标（Speed Index）。衡量了首屏可见内容绘制在屏幕上的速度。在首次加载页面的过程中尽量展现更多的内容，往往能给用户带来更好的体验，所以速度指标的值约小越好。</li><li>输入延迟估值（Estimated Input Latency）。这个指标衡量了页面对用户输入行为的反应速度，其基准值应低于 50ms。</li></ul><p>Metrics 部分的指标项会直接影响分数，可以作为我们的主要参考点。</p><p>另外的两部分中， <strong>Opportunities</strong> 指的是优化机会，它提供了详细的建议和文档，来解释低分的原因，帮助我们具体进行实现和改进。<strong>Diagnostics</strong> 指的是现在存在的问题，为进一步改善性能的实验和调整给出了指导。这两者不会纳入分数的计算。</p><p>每一项性能指标对评分的贡献都有其计算逻辑，Lighthouse 会将原始的性能值映射成为 0-100 之间的数字。</p><p>例如，FMP（First Meaningful Paint）的原始值是从页面初始化开始到主要内容渲染成功的耗时，根据真实站点的数据，顶级性能的站点的 FMP 值约为 1220ms，这个值会被映射成 Lighthouse 的 99 分。</p><p>针对不同的评分，Lighthouse 用了不同的颜色进行标注，分值区间和颜色的对应关系如下：</p><ul><li>0 - 49（慢）：红色</li><li>50 - 89（平均值）： 橙色</li><li>90 - 100（快）： 绿色</li></ul><h4 id="5-1-2-访问无障碍（Accessibility）">5.1.2 访问无障碍（Accessibility）</h4><p>访问无障碍评分的分值由相关指标的加权平均值计算而来。可以在<a href="https://www.cnblogs.com/ypSharing/p/15793767.html#gid=0">评分详情</a>查阅每项指标的具体权重。同理，较大权重的指标项对分数的影响较大。</p><p>无障碍性的每个指标项测试结果为pass或者fail，与性能指标项的计算方式不同，当页面只是部分通过某项指标时，页面的这项指标将不会得分。例如，如果页面中的一些元素有屏幕阅读器友好的命名，而其他的元素没有，那么这个页面的 screenreader-friendly-names 指标项得分为0。</p><h4 id="5-1-3-最佳实践（优化）（Best-Practice）">5.1.3 最佳实践（优化）（Best Practice）</h4><p>最佳实践评分的分数区间为0-100。影响这项评分的指标项的权重都是相同的。</p><p>比如：推荐使用 https，跨域的跳转链接需要使用 rel 标识，不能使用废弃的 API等等。</p><h4 id="5-1-4-搜索引擎优化（SEO）">5.1.4 搜索引擎优化（SEO）</h4><p>比如：图片元素使用 alt 属性等等提高搜索引擎搜索排名，便于搜索引擎能找到你这个网站。</p><h4 id="5-1-5-PWA（Progressive-Web-App）">5.1.5 PWA（Progressive Web App）</h4><p>Lighthouse 使用 PWA 基准检查项列表（Baseline PWA Checklist）进行测评，测评结果将这些指标项分成了四个类别，共包含12个自动测试项和3个手动测试项，其中各个自动测试项的评分权重是相同的。PWA 的评测指标对我们来说非常重要，我们可以从这四个类别详细了解一下基准指标项。</p><ul><li><p><strong>快速可靠：</strong></p><ol><li>页面在移动网络条件下能够快速加载。</li><li>在离线条件下页面能够返回状态码200。这里我们可以通过 Service Worker 来实现离线可用。</li><li>start_url 在离线条件下返回状态码200。start_url 是前面章节我们提到过的 manifest.json 中的一个属性，它指定了用户打开该 PWA 时加载的 URL。</li></ol></li><li><p><strong>可安装：</strong></p><ol><li>始终使用 HTTPS。</li><li>注册 Service Worker 来缓存页面以及 start_url。</li><li>使用 manifest 文件来实现安装 PWA 的需求，浏览器能够主动通知用户将应用添加到桌面，增加留存率。</li></ol></li><li><p><strong>PWA 优化：</strong></p><ol><li>将 HTTP 流量重定向到 HTTPS。</li><li>配置自定义启动画面。</li><li>设置地址栏主题颜色。</li><li>页面内容针对视口大小自适应，对移动用户的展示更友好。</li><li>使用了 <meta name="viewport"> 标签，并设置了 width 或 initial-scale 属性。</li><li>当 JavaScript 文件不可用时，提供降级措施，页面能显示基本内容而不出现白屏。</li></ol></li><li><p><strong>手动测试项：</strong></p><ol><li>站点跨浏览器可用，如主流浏览器 Chrome, Edge, Firefox 及 Safari 等。</li><li>页面间切换流畅，即使在较差的网络环境下，切换动画也应该简洁顺畅，这是提高用户感知体验的关键。</li><li>保证每个页面都有独一无二的 URL，能够在新的浏览器窗口打开，且方便在社交媒体上进行分享。</li></ol></li></ul><p>除了上述基准指标项之外，为了让 PWA 的体验更加完美，还有一些 Lighthouse 未实现检查的进阶指标，也就是可以作为示范性参考的 PWA 的指标，比如用户体验、缓存、推送通知等等。</p><h3 id="5-2-灵雀监控">5.2 灵雀监控</h3><p>灵雀应用监控平台最国内老牌知名免费网站统计51LA网站统计旗下的一个 Web 性能与 bug 监控工具平台，发布后在站长圈内也有一些较好的评价，访问地址：<a href="https://perf.51.la/">https://perf.51.la</a>。51LA灵雀应用监控平台，专注于帮您及时发现异常问题，帮助运营人员发现网站风险，协助开发者修复网页 bug，从而提升用户体验。产品面向产品，运营以及开发人员作为网站性能及异常信息收集工具。开发人员可以通过页面统计获取用户平均的页面统计信息和网页 Performance 的各个性能指标进行分析，如DNS 解析时间，TTFB、服务器响应时间、白屏时间、页面完全加载时长等是否达标等判断。灵雀应用监控平台为开发人员提供了包含程序异常收集、性能分析、资源异常分析、页面外链跳转分析、可疑脚本/iframe 监控等网站优化和用户体验改进所需的信息。</p><p><strong>特点：</strong></p><ul><li>大家是否有遇到过下面这些情况：</li><li>网站打开速度慢找不到原因；</li><li>部分访客无法打开网站又不能及时得到反馈；</li><li>网站突然无流量或被k 却无从查起起因；</li></ul><p><strong>1.异常分析，精准定位</strong></p><p><img src="https://s1.vika.cn/space/2022/10/25/2b1d0d3c50394c688f8046819584f7d9" alt="image-20221025174453208"></p><p>实时监控网站发生的程序错误、网络请求异常、资源加载异常等潜在问题，精准采集错误上报的页面、错误发生时间、UA等详细的用户设备数据，帮您快速定位异常，提高debug效率。</p><p><strong>2.性能监测，定向优化</strong></p><p><img src="https://s1.vika.cn/space/2022/10/25/ca16cee5817742389e20d66a9f11df46" alt="image-20221025174556202"></p><p>采用51LA V6网站统计的多维分析技术，详细展示分析网站性能加载状况，确定网站体验优化方向。</p><p><strong>3.外链监控，规避暗链</strong></p><p><img src="https://s1.vika.cn/space/2022/10/25/52897c1a5b2042ef8bf27ae299b1ea0c" alt="image-20221025174628427"></p><p>提供24小时全方位监控站内外链的功能，定位异常跳转，助您快速识别暗链链接，降低网站被k风险，提升网站安全性。</p>]]></content>
      
      
      <categories>
          
          <category> 魔改教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客魔改教程总结(一)</title>
      <link href="/posts/eec9786.html"/>
      <url>/posts/eec9786.html</url>
      
        <content type="html"><![CDATA[<div class="note info no-icon flat"><p><b>魔改前必看（我当你们都懂了，太细节的就不写在教程中了🤣🤣🤣）：</b></p><ol><li>博客魔改有风险，如果博客魔改出问题了又没有备份，可通过此项目查看基础源码进行<strong>回滚</strong>：<a href="https://github.com/ccknbc-actions/blog-butterfly">ccknbc-actions/blog-butterfly</a>。</li><li>这部分魔改基本上都是大佬们造好的轮子，我按照大佬们的轮子结合自己的喜好进行魔改的，具体见我友人帐第一个栏目大佬们的网站，本处仅做一个总结，如有侵权请联系删除。</li><li>鉴于每个人的根目录名称都不一样，本帖<strong>博客根目录</strong>一律以<code>[BlogRoot]</code>指代。</li><li>本帖涉及魔改源码的内容，会使用<strong>diff代码块</strong>标识，复制时请<strong>不要忘记删除</strong>前面的<code>+、-</code>符号。</li><li>因为<code>.pug</code>和<code>.styl</code>以及<code>.yml</code>等对缩进要求较为严格，请尽量<strong>不要使用记事本等无法提供语法高亮的文本编辑器</strong>进行修改。</li><li>本帖基于<code>Butterfly主题</code>进行魔改方案编写，因此请读者优先掌握<a href="https://butterfly.js.org/">Butterfly主题官方文档</a>的内容后再来进行魔改。</li><li>魔改会过程常常引入<strong>自定义的css与js文件</strong>，方法见<a href="https://b.leonus.cn/2022/custom.html">Hexo博客添加自定义css和js文件</a>(太懒了不想自己写)</li></ol></div><h2 id="Live2D教程（店长）">Live2D教程（店长）</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/5b8f515f/">Live2d Widget</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><img src="https://s1.vika.cn/space/2022/10/29/371fa9a6b1d94a218c3136b8af140ab7" alt="image-20221029203004407" style="zoom:50%;" /></div></div>目前只推荐这个(因为消耗资源较少)，这是博客自带的看板娘，这孩子不会说话也不能换装，只会跟着你的鼠标晃动脑袋，不过有几款超可爱。<h3 id="安装">安装</h3><ol><li><p>在Hexo根目录<code>[Blogroot]</code>下打开终端，输入以下指令安装必要插件：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure></li><li><p>打开站点配置文件<code>[Blogroot]\config.yml</code><br>搜索live2d,按照如下注释内容指示进行操作。<br>如果没有搜到live2d的配置项，就直接把以下内容复制到最底部。</p> <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Live2D</span></span><br><span class="line"><span class="comment">## https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#开关插件版看板娘</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span> <span class="comment"># 默认</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span> <span class="comment"># 插件在站点上的根目录(相对路径)</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span> <span class="comment"># 脚本文件相对与插件根目录路径</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span> <span class="comment"># 模型文件相对与插件根目录路径</span></span><br><span class="line">  <span class="comment"># scriptFrom: jsdelivr # jsdelivr CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: unpkg # unpkg CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: https://npm.elemecdn.com/live2d-widget@3.x/lib/L2Dwidget.min.js # 你的自定义 url</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span> <span class="comment"># 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span></span><br><span class="line">  <span class="attr">debug:</span> <span class="literal">false</span> <span class="comment"># 调试, 是否在控制台输出日志</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-wanko</span> <span class="comment"># npm-module package name</span></span><br><span class="line">    <span class="comment"># use: wanko # 博客根目录/live2d_models/ 下的目录名</span></span><br><span class="line">    <span class="comment"># use: ./wives/wanko # 相对于博客根目录的路径</span></span><br><span class="line">    <span class="comment"># use: https://npm.elemecdn.com/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # 你的自定义 url</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">right</span> <span class="comment">#控制看板娘位置</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">150</span> <span class="comment">#控制看板娘大小</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">300</span> <span class="comment">#控制看板娘大小</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">true</span> <span class="comment"># 手机中是否展示</span></span><br></pre></td></tr></table></figure></li><li><p>完成后保存修改，在Hexo根目录下运行指令。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>之所以必须要使用<code>hexo clean</code>是因为我们需要清空缓存重新生成静态页面，不然看板娘没被加入生成的静态页面里，是不会出现的。</p></li></ol><h3 id="更换">更换</h3><ol><li><p>同样是在Hexo根目录<code>[Blogroot]</code>下，打开终端，选择想要的看板娘进行安装，例如我这里用到的是 <code>live2d-widget-model-koharu</code>，一个Q版小正太。其他的模型也可以在<a href="https://huaji8.top/post/live2d-plugin-2.0/">模型预览</a>里查看以供选择。</p></li><li><p>输入指令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install --save live2d-widget-model-koharu</span><br></pre></td></tr></table></figure></li><li><p>然后在站点配置文件<code>[Blogroot]\_config.yml</code>里找到<code>model</code>项修改为期望的模型</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">model:</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">live2d-widget-model-koharu</span></span><br><span class="line">  <span class="comment"># 默认为live2d-widget-model-wanko</span></span><br></pre></td></tr></table></figure></li><li><p>之后按部就班的运行</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>就能在<code>localhost:4000</code>上查看效果了。</p></li></ol><h3 id="卸载看板娘">卸载看板娘</h3><p>卸载插件和卸载模型的指令都是通过npm进行操作的。在博客根目录<code>[Blogroot]</code>打开终端，输入：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-helper-live2d <span class="comment">#卸载看板娘插件</span></span><br><span class="line">npm uninstall live2d-widget-model-modelname <span class="comment">#卸载看板娘模型。记得替换modelname为看板娘名称</span></span><br></pre></td></tr></table></figure><p>卸载后为了保证配置项不出错，记得把<code>[Blogroot]\_config.yml</code>里的配置项给注释或者删除掉。</p>              </div>            </details><h2 id="violet留言板（店长）">violet留言板（店长）</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/e2d3c450/">信笺样式留言板</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><img src="https://s1.vika.cn/space/2022/10/29/bf7ee8c0c9ec41cb9bb0ed3d297d87b0" alt="image-20221029205141439" style="zoom:50%;" /></div></div><ol><li><p>在<code>[BlogRoot]</code>运行指令</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure></li><li><p>在站点配置文件<code>_config.yml</code><strong>或</strong>主题配置文件<code>_config.butterfly.yml</code>添加以下配置项</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># envelope_comment</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/e2d3c450/</span></span><br><span class="line"><span class="attr">envelope_comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制开关</span></span><br><span class="line">  <span class="attr">custom_pic:</span>      </span><br><span class="line">    <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/violet.jpg</span> <span class="comment">#信笺头部图片</span></span><br><span class="line">    <span class="attr">line:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/line.png</span> <span class="comment">#信笺底部图片</span></span><br><span class="line">    <span class="attr">beforeimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/before.png</span> <span class="comment"># 信封前半部分</span></span><br><span class="line">    <span class="attr">afterimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/after.png</span> <span class="comment"># 信封后半部分</span></span><br><span class="line">  <span class="attr">message:</span> <span class="comment">#信笺正文，多行文本，写法如下</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想问的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想说的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想吐槽的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">哪怕是有什么想吃的，都可以告诉我哦~</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">自动书记人偶竭诚为您服务！</span> <span class="comment">#仅支持单行文本</span></span><br><span class="line">  <span class="attr">height:</span> <span class="comment">#1050px，信封划出的高度</span></span><br><span class="line">  <span class="attr">path:</span> <span class="comment">#【可选】comments 的路径名称。默认为 comments，生成的页面为 comments/index.html</span></span><br><span class="line">  <span class="attr">front_matter:</span> <span class="comment">#【可选】comments页面的 front_matter 配置</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">留言板</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h2 id="一图流教程">一图流教程</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><img src="https://s1.vika.cn/space/2022/11/02/e8dfc5cadcb14f33b072521dc374d4b0" alt="1667395334356" style="zoom:67%;" /></div></div><ol><li><p>在<code>[BlogRoot]\source</code>文件夹下新建一个文件夹<code>css</code>，该文件夹用于存放自定义的<code>css样式</code>，再新建一个名为<code>custom.css</code>，在里面写入以下代码：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 页脚与头图透明 */</span></span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 白天模式遮罩透明 */</span></span><br><span class="line"><span class="selector-id">#footer</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 夜间模式遮罩透明 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#footer</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>文件中的<code>inject</code>配置项的<code>head</code>子项加入以下代码，代表引入刚刚创建的<code>custom.css</code>文件（这是相对路径的写法）</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>[BlogRoot]\_config.butterfly.yml</code>文件中的<code>index_img</code>和<code>footer_bg</code>配置项取消头图与页脚图的加载项避免冗余加载</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># The banner image of home page</span></span><br><span class="line"><span class="attr">index_img:</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># Footer Background</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h2 id="页脚Github徽标（店长）">页脚Github徽标（店长）</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/e87ad7f8/">Add Github Badge</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><p><img src="https://s1.vika.cn/space/2022/10/29/fba1b4ef6ddd498fac62240e702590d3" alt="image-20221029205540493"></p></div></div><ol><li><p>安装插件,在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-footer-beautify --save</span><br></pre></td></tr></table></figure></li><li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加（这是我的配置）</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># footer_beautify</span></span><br><span class="line"><span class="comment"># 页脚计时器：[Native JS Timer](https://akilar.top/posts/b941af/)</span></span><br><span class="line"><span class="comment"># 页脚徽标：[Add Github Badge](https://akilar.top/posts/e87ad7f8/)</span></span><br><span class="line"><span class="attr">footer_beautify:</span></span><br><span class="line">  <span class="attr">enable:</span></span><br><span class="line">    <span class="attr">timer:</span> <span class="literal">true</span> <span class="comment"># 计时器开关</span></span><br><span class="line">    <span class="attr">bdage:</span> <span class="literal">true</span> <span class="comment"># 徽标开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="comment">#屏蔽页面</span></span><br><span class="line">    <span class="comment"># - /posts/</span></span><br><span class="line">    <span class="comment"># - /about/</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">footer-wrap</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># 计时器部分配置项（看你喜欢哪个，最好下载下来放到自己的项目中不然会增加我网站的负载）</span></span><br><span class="line">  <span class="comment"># 这是我的  </span></span><br><span class="line">  <span class="comment"># runtime_js: https://www.fomal.cc/static/js/runtime.js</span></span><br><span class="line">  <span class="comment"># runtime_css: https://www.fomal.cc/static/css/runtime.min.css </span></span><br><span class="line">  <span class="comment"># 这是店长的 </span></span><br><span class="line">  <span class="attr">runtime_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.js</span></span><br><span class="line">  <span class="attr">runtime_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css</span></span><br><span class="line">  <span class="comment"># 徽标部分配置项</span></span><br><span class="line">  <span class="attr">swiperpara:</span> <span class="number">0</span> <span class="comment">#若非0，则开启轮播功能，每行徽标个数</span></span><br><span class="line">  <span class="attr">bdageitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://hexo.io/</span> <span class="comment">#徽标指向网站链接</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo</span> <span class="comment">#徽标API</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">博客框架为Hexo_v6.2.0</span> <span class="comment">#徽标提示语</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://butterfly.js.org/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">主题版本Butterfly_v4.3.1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://vercel.com/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站采用多线部署，主线路托管于Vercel</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://dashboard.4everland.org/</span></span><br><span class="line">    <span class="comment"># https://img.shields.io/badge/Hosted-4EVERLAND-3FE2C1?style=flat&amp;logo=IPFS</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站采用多线部署，备用线路托管于4EVERLAND</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://github.com/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站项目由Github托管</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">http://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可</span></span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span></span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span></span><br><span class="line">  <span class="attr">swiperbdage_init_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js</span></span><br></pre></td></tr></table></figure></li><li><p>参数释义</p></li></ol><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">备选值/类型</th><th style="text-align:left">释义</th></tr></thead><tbody><tr><td style="text-align:left">priority</td><td style="text-align:left">number</td><td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td style="text-align:left">enable.timer</td><td style="text-align:left">true/false</td><td style="text-align:left">【必选】计时器控制开关</td></tr><tr><td style="text-align:left">enable.bdage</td><td style="text-align:left">true/false</td><td style="text-align:left">【必选】徽标控制开关</td></tr><tr><td style="text-align:left">enable_page</td><td style="text-align:left">path</td><td style="text-align:left">【可选】填写想要应用的页面,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填<code>all</code>，默认为<code>all</code></td></tr><tr><td style="text-align:left">exclude</td><td style="text-align:left">path</td><td style="text-align:left">【可选】填写想要屏蔽的页面，可以多个。仅当enable_page为’all’时生效。写法见示例。原理是将屏蔽项的内容逐个放到当前路径去匹配，若当前路径包含任一屏蔽项，则不会挂载。</td></tr><tr><td style="text-align:left">layout.type</td><td style="text-align:left">id/class</td><td style="text-align:left">【可选】挂载容器类型，填写id或class，不填则默认为id</td></tr><tr><td style="text-align:left"><a href="http://layout.name">layout.name</a></td><td style="text-align:left">text</td><td style="text-align:left">【必选】挂载容器名称</td></tr><tr><td style="text-align:left">layout.index</td><td style="text-align:left">0和正整数</td><td style="text-align:left">【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td></tr><tr><td style="text-align:left">runtime_js</td><td style="text-align:left">url</td><td style="text-align:left">【必选】页脚计时器脚本，可以下载上文填写示例的链接，参照注释和<a href="https://akilar.top/posts/b941af/">教程：Native JS Timer</a>自行修改。</td></tr><tr><td style="text-align:left">runtime_css</td><td style="text-align:left">url</td><td style="text-align:left">【可选】自定义样式，预留开发者接口，可自行下载。</td></tr><tr><td style="text-align:left">swiperpara</td><td style="text-align:left">number</td><td style="text-align:left">【可选】若非零，则开启轮播功能，此项表示每行最多容纳徽标个数，用来应对徽标过多显得页脚拥挤的问题</td></tr><tr><td style="text-align:left">bdageitem.link</td><td style="text-align:left">url</td><td style="text-align:left">【可选】页脚徽标指向的网站链接</td></tr><tr><td style="text-align:left">bdageitem.shields</td><td style="text-align:left">url</td><td style="text-align:left">【必选】页脚徽标对应的API，API具体写法示例参照<a href="https://akilar.top/posts/e87ad7f8/">教程Add Github Badge</a></td></tr><tr><td style="text-align:left">bdageitem.message</td><td style="text-align:left">text</td><td style="text-align:left">【可选】页脚徽标悬停时显示的信息</td></tr><tr><td style="text-align:left">swiper_css</td><td style="text-align:left">url</td><td style="text-align:left">【可选】swiper的依赖</td></tr><tr><td style="text-align:left">swiper_js</td><td style="text-align:left">url</td><td style="text-align:left">【可选】swiper的依赖</td></tr><tr><td style="text-align:left">swiperbdage_init_js</td><td style="text-align:left">url</td><td style="text-align:left">【可选】swiper初始化方法</td></tr></tbody></table>              </div>            </details><h2 id="首页分类磁贴新版-店长">首页分类磁贴新版(店长)</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/a9131002/">Categories Magnet</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><p><img src="https://s1.vika.cn/space/2022/10/29/919cb5b7aeec41df874fce3bfffedcad" alt="image-20221029215332417"></p></div></div><ol><li><p>安装插件,在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-categories-card --save</span><br></pre></td></tr></table></figure></li><li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加以下代码，注意要根据他的默认描述排序改为你自己对应的分类名字：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-categories-card</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/a9131002/</span></span><br><span class="line"><span class="attr">categoryBar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">column:</span> <span class="string">odd</span> <span class="comment"># odd：3列 | even：4列</span></span><br><span class="line">  <span class="attr">row:</span> <span class="number">1</span> <span class="comment">#显示行数，默认两行，超过行数切换为滚动显示</span></span><br><span class="line">  <span class="attr">message:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">Ubuntu指南</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://assets.akilar.top/image/cover1.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">玩转Win10</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://assets.akilar.top/image/cover2.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">长篇小说连载</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://assets.akilar.top/image/cover3.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">个人日记</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://assets.akilar.top/image/cover4.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">诗词歌赋</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://assets.akilar.top/image/cover5.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">杂谈教程</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://assets.akilar.top/image/cover6.webp</span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css</span></span><br></pre></td></tr></table></figure></li><li><p>参数释义</p></li></ol><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">备选值/类型</th><th style="text-align:left">释义</th></tr></thead><tbody><tr><td style="text-align:left">priority</td><td style="text-align:left">number</td><td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td style="text-align:left">enable</td><td style="text-align:left">true/false</td><td style="text-align:left">【必选】控制开关</td></tr><tr><td style="text-align:left">enable_page</td><td style="text-align:left">path/all</td><td style="text-align:left">【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填’all’，默认为’/‘</td></tr><tr><td style="text-align:left">layout.type</td><td style="text-align:left">id/class</td><td style="text-align:left">【可选】挂载容器类型，填写id或class，不填则默认为id</td></tr><tr><td style="text-align:left"><a href="http://layout.name">layout.name</a></td><td style="text-align:left">text</td><td style="text-align:left">【必选】挂载容器名称</td></tr><tr><td style="text-align:left">layout.index</td><td style="text-align:left">0和正整数</td><td style="text-align:left">【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td></tr><tr><td style="text-align:left">column</td><td style="text-align:left">odd/even</td><td style="text-align:left">【可选】显示列数，考虑到比例问题，只提供3列和4列，odd为3列， even为4列</td></tr><tr><td style="text-align:left">row</td><td style="text-align:left">number</td><td style="text-align:left">【可选】显示行数，默认两行，超过行数切换为滚动显示</td></tr><tr><td style="text-align:left">message.descr</td><td style="text-align:left">text</td><td style="text-align:left">分类描述,需要和你自己的文章分类一一对应。</td></tr><tr><td style="text-align:left">message.cover</td><td style="text-align:left">url</td><td style="text-align:left">分类背景,需要和你自己的文章分类一一对应。</td></tr><tr><td style="text-align:left">custom_css</td><td style="text-align:left">url</td><td style="text-align:left">【可选】自定义样式，会替换默认的css链接，可以下载文档给出的cdn链接后自主修改</td></tr></tbody></table>              </div>            </details><h2 id="首页分类磁贴1-0（小冰）">首页分类磁贴1.0（小冰）</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://zfe.space/post/hexo-magnet.html">教程：hexo-magnet 插件 1.0</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><p><img src="https://s1.vika.cn/space/2022/10/30/77f6f55adc0e476fb759ad0ec3b0704d" alt="image"></p></div></div><p>这个插件主要实现了以下功能：</p><ol><li>自定义 tags 或 categories 的排列和展示</li><li>自定义 tags 或 categories 的展示图标，名称</li><li>自定义排列的行数，默认 2 行</li></ol><p><b>教程：</b></p><ol><li><p>在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i hexo-magnet --save</span><br></pre></td></tr></table></figure><p>注意，一定要加 <code>--save</code>，不然本地预览的时候可能不会显示！！！</p></li><li><p>在网站配置文件<code>_config.yml</code>新增以下项 (注意不是主题配置文件)，这里的分类名字必须和你文章的分类名字一一对应：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">magnet:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  priority: 1</span><br><span class="line">  enable_page: /</span><br><span class="line">  <span class="built_in">type</span>: categories</span><br><span class="line">  devide: 2</span><br><span class="line">  display:</span><br><span class="line">    - name: 教程</span><br><span class="line">      display_name: 小冰の魔改教程</span><br><span class="line">      icon: 📚</span><br><span class="line">    - name: 游戏评测</span><br><span class="line">      display_name: 小冰の游戏评测</span><br><span class="line">      icon: 🎮</span><br><span class="line">    - name: 生活趣闻</span><br><span class="line">      display_name: 小冰の生活趣闻</span><br><span class="line">      icon: 🐱‍👓</span><br><span class="line">    - name: vue</span><br><span class="line">      display_name: 小冰の编程学习</span><br><span class="line">      icon: 👩‍💻</span><br><span class="line">    - name: 学习</span><br><span class="line">      display_name: 小冰の读书笔记</span><br><span class="line">      icon: 📒</span><br><span class="line">    - name: 随想</span><br><span class="line">      display_name: 小冰の胡思乱想</span><br><span class="line">      icon: 💡</span><br><span class="line">  color_setting:</span><br><span class="line">    text_color: black</span><br><span class="line">    text_hover_color: white</span><br><span class="line">    background_color: <span class="string">&quot;#f2f2f2&quot;</span></span><br><span class="line">    background_hover_color: <span class="string">&quot;#b30070&quot;</span></span><br><span class="line">  layout:</span><br><span class="line">    <span class="built_in">type</span>: <span class="built_in">id</span></span><br><span class="line">    name: recent-posts</span><br><span class="line">    index: 0</span><br><span class="line">  temple_html: <span class="string">&#x27;&lt;div class=&quot;recent-post-item&quot; style=&quot;width:100%;height: auto&quot;&gt;&lt;div id=&quot;catalog_magnet&quot;&gt;$&#123;temple_html_item&#125;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">  plus_style: <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>配置项的含义：</p><ul><li><p>enable</p><p>参数：true/false<br>含义：是否开启插件</p></li><li><p>enable_page</p><p>参数：/<br>含义：路由地址，如 / 代表主页。/me/ 代表自我介绍页等等</p></li><li><p>priority</p><p>参数：1<br>含义：插件的叠放顺序，数字越大，叠放约靠前。</p></li><li><p>type</p><p>参数：categories/tags<br>含义：选择筛选分类还是标签</p></li><li><p>devide</p><p>参数：2<br>含义：表示分隔的列数，2 表示分为两列展示</p></li><li><p>display</p><p>参数：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">教程</span> <span class="comment"># 这里是tags或者categories的名称</span></span><br><span class="line">  <span class="attr">display_name:</span> <span class="string">小冰の魔改教程</span> <span class="comment"># 这里是替换的名称</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">📚</span> <span class="comment"># 这里是展示的图标</span></span><br></pre></td></tr></table></figure><p>含义：配置项，可自行设置，按照设置的顺序展示</p></li><li><p>color_setting</p><p>参数：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">text_color:</span> <span class="string">black</span> <span class="comment"># 文字默认颜色</span></span><br><span class="line"><span class="attr">text_hover_color:</span> <span class="string">white</span> <span class="comment"># 文字鼠标悬浮颜色</span></span><br><span class="line"><span class="attr">background_color:</span> <span class="string">&quot;#f2f2f2&quot;</span> <span class="comment"># 文字背景默认颜色</span></span><br><span class="line"><span class="attr">background_hover_color:</span> <span class="string">&quot;#b30070&quot;</span> <span class="comment"># 文字背景悬浮颜色</span></span><br></pre></td></tr></table></figure><p>含义：颜色配置项，可自行设置</p></li><li><p>layout</p><p>参数：type; （class&amp;id）<br>参数：name;<br>参数：index；（数字）<br>含义：如果说 magnet 是一幅画，那么这个 layout 就是指定了哪面墙来挂画<br>而在 HTML 的是世界里有两种墙分别 type 为 id 和 class。<br>其中在定义 class 的时候会出现多个 class 的情况，这时就需要使用 index，确定是哪一个。<br>最后墙的名字即是 name;</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是墙&quot;</span> <span class="attr">id</span>=<span class="string">&quot;recent-posts&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- id=&gt;type  recent-posts=&gt;name    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是画框&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是纸&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--这里通过js挂载magnet，也就是画画--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>temple_html</p><p>参数：html 模板字段<br>含义：包含挂载容器</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;recent-post-item&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;height: auto&quot;</span>&gt;</span> <span class="comment">&lt;!--文章容器--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;catalog_magnet&quot;</span>&gt;</span>  <span class="comment">&lt;!--挂载容器--&gt;</span></span><br><span class="line">    $&#123;temple_html_item&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>plus_style</p><p>参数：“”<br>含义：提供可自定义的 style，如加入黑夜模式。</p></li></ul></li><li><p>执行 hexo 三连</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></li><li><p>我们可以看到黑夜模式看起来特别的别扭，因此还要做一下黑夜模式的颜色适配，在<code>custom.css</code>文件中添加以下代码适配黑夜模式(具体颜色可以自己调节)：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 小冰分类分类磁铁黑夜模式适配 */</span></span><br><span class="line"><span class="comment">/* 一般状态 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.magnet_link_context</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#1e1e1e</span>;</span><br><span class="line">  <span class="attribute">color</span>: antiquewhite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标悬浮状态 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.magnet_link_context</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#3ecdf1</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#f2f2f2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h2 id="文章置顶滚动栏-店长">文章置顶滚动栏(店长)</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/8e1264d1/">Swiper Bar</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><p><img src="https://s1.vika.cn/space/2022/10/29/97351892ab6b464db1edd2b67c0ad8f7" alt="image-20221029215312336"></p></div></div><ol><li><p>安装插件,在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-swiper --save</span><br></pre></td></tr></table></figure></li><li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-swiper</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/8e1264d1/</span></span><br><span class="line"><span class="attr">swiper:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">timemode:</span> <span class="string">date</span> <span class="comment">#date/updated</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">default_descr:</span> <span class="string">再怎么看我也不知道怎么描述它的啦！</span></span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span> <span class="comment">#swiper css依赖</span></span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span> <span class="comment">#swiper js依赖</span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css</span> <span class="comment"># 适配主题样式补丁</span></span><br><span class="line">  <span class="attr">custom_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js</span> <span class="comment"># swiper初始化方法</span></span><br></pre></td></tr></table></figure></li><li><p>参数释义</p></li></ol><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">备选值/类型</th><th style="text-align:left">释义</th></tr></thead><tbody><tr><td style="text-align:left">priority</td><td style="text-align:left">number</td><td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td style="text-align:left">enable</td><td style="text-align:left">true/false</td><td style="text-align:left">【必选】控制开关</td></tr><tr><td style="text-align:left">enable_page</td><td style="text-align:left">path/all</td><td style="text-align:left">【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填’all’，默认为all</td></tr><tr><td style="text-align:left">timemode</td><td style="text-align:left">date/updated</td><td style="text-align:left">【可选】时间显示，date为显示创建日期，updated为显示更新日期,默认为date</td></tr><tr><td style="text-align:left">layout.type</td><td style="text-align:left">id/class</td><td style="text-align:left">【可选】挂载容器类型，填写id或class，不填则默认为id</td></tr><tr><td style="text-align:left"><a href="http://layout.name">layout.name</a></td><td style="text-align:left">text</td><td style="text-align:left">【必选】挂载容器名称</td></tr><tr><td style="text-align:left">layout.index</td><td style="text-align:left">0和正整数</td><td style="text-align:left">【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td></tr><tr><td style="text-align:left">default_descr</td><td style="text-align:left">text</td><td style="text-align:left">默认文章描述</td></tr><tr><td style="text-align:left">swiper_css</td><td style="text-align:left">url</td><td style="text-align:left">【可选】自定义的swiper依赖项css链接</td></tr><tr><td style="text-align:left">swiper_js</td><td style="text-align:left">url</td><td style="text-align:left">【可选】自定义的swiper依赖项加js链接</td></tr><tr><td style="text-align:left">custom_css</td><td style="text-align:left">url</td><td style="text-align:left">【可选】适配主题样式补丁</td></tr><tr><td style="text-align:left">custom_js</td><td style="text-align:left">url</td><td style="text-align:left">【可选】swiper初始化方法</td></tr></tbody></table><p>使用方法:在文章的<code>front_matter</code>中添加<code>swiper_index</code>配置项即可。</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章标题</span><br><span class="line">date: 创建日期</span><br><span class="line">updated: 更新日期</span><br><span class="line">cover: 文章封面</span><br><span class="line">description: 文章描述</span><br><span class="line"><span class="section">swiper<span class="emphasis">_index: 1 #置顶轮播图顺序，非负整数，数字越大越靠前</span></span></span><br><span class="line"><span class="emphasis"><span class="section">---</span></span></span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="自定义字体">自定义字体</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <div class="note warning simple"><p>声明：<b>非商免字体</b>未经授权仅限个人使用，不得用于商业用途！</p></div><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><p><img src="https://s1.vika.cn/space/2022/11/09/a9846a4245fd4bea98745ba4a13116e0" alt="image"></p></div></div><ol><li><p>准备好字体文件后，在<code>[BlogRoot]\css\custom.css</code>（没有就自己创建）中添加以下代码：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="comment">/* 为载入的字体取名字(随意) */</span></span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;YSHST&#x27;</span>;</span><br><span class="line">  <span class="comment">/* 字体文件地址(相对或者绝对路径都可以) */</span></span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">/font/优设好身体.woff2</span>);</span><br><span class="line">  <span class="comment">/* 定义加粗样式(加粗多少) */</span></span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="comment">/* 定义字体样式(斜体/非斜体) */</span></span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="comment">/* 定义显示样式 */</span></span><br><span class="line">  <span class="attribute">font-display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>各个属性的定义：</p><ol><li>font-family属性值中使用webfont来声明使用的是服务器端字体，即设置文本的字体名称。</li><li>src属性值中首先指定了字体文件所在的路径。</li><li>format声明字体文件的格式，可以省略文件格式的声明，单独使用src属性值。</li><li>font-style：设置文本样式。取值：normal:不使用斜体；italic:使用斜体；oblique:使用倾斜体；inherit：从父元素继承。</li><li>支持格式：*.eot(老版本IE)，*.otf，*.ttf，*.woff，*.woff2(推荐)</li></ol></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>中的<code>font</code>配置项以及<code>blog_title_font</code>配置项写上你刚刚引入的字体名称，系统会根据先后次序从前到后依次加载这些字体：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Global font settings</span></span><br><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要不要修改)</span></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">global-font-size:</span> <span class="string">&#x27;15px&#x27;</span></span><br><span class="line">  <span class="attr">code-font-size:</span> <span class="string">&#x27;14px&#x27;</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">YSHST,</span> <span class="string">-apple-system,</span> <span class="string">&#x27;Quicksand&#x27;</span><span class="string">,</span> <span class="string">&#x27;Nimbus Roman No9 L&#x27;</span><span class="string">,</span> <span class="string">&#x27;PingFang SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Hiragino Sans GB&#x27;</span><span class="string">,</span> <span class="string">&#x27;Noto Serif SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft Yahei&#x27;</span><span class="string">,</span> <span class="string">&#x27;WenQuanYi Micro Hei&#x27;</span><span class="string">,</span> <span class="string">&#x27;ST Heiti&#x27;</span><span class="string">,</span> <span class="string">sans-serif;</span></span><br><span class="line">  <span class="attr">code-font-family:</span> <span class="string">Consolas,</span> <span class="string">YSHST,</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">Menlo,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 左上角網站名字 主頁居中網站名字</span></span><br><span class="line"><span class="attr">blog_title_font:</span></span><br><span class="line">  <span class="attr">font_link:</span> </span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">YSHST,</span> <span class="string">-apple-system,</span> <span class="string">BlinkMacSystemFont,</span> <span class="string">&quot;Segoe UI&quot;</span> <span class="string">,</span> <span class="string">&quot;Helvetica Neue&quot;</span> <span class="string">,</span> <span class="string">Lato,</span> <span class="string">Roboto,</span> <span class="string">&quot;PingFang SC&quot;</span> <span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span> <span class="string">,</span> <span class="string">&quot;Microsoft YaHei&quot;</span> <span class="string">,</span> <span class="string">sans-serif</span></span><br></pre></td></tr></table></figure></li><li><p>重启项目即可看到</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h2 id="文章双侧栏显示-小冰">文章双侧栏显示(小冰)</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://zfe.space/post/hexo-butterfly-article-double-row.html">教程：butterfly 主题文章双栏布局插件</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><img src="https://s1.vika.cn/space/2022/10/30/6f1663ffe4964e71a9be7749502567dc" alt="1667113039031" style="zoom:67%;" /></div></div><ol><li><p>在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i hexo-butterfly-article-double-row --save</span><br></pre></td></tr></table></figure></li><li><p>在网站配置文件<code>_config.yml</code>新增以下项 (注意不是主题配置文件)：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">butterfly_article_double_row:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><p>这时候插件有个bug，就是最后一页文章数目为奇数的时候，会出现这种情况</p><p><img src="https://s1.vika.cn/space/2022/11/09/8a36957a9cea4b0d9f72a7470a74dfc3" alt="image"></p><p>会显得很不舒服，感谢<a href="https://tzy1997.com/">唐志远大佬</a>修复了这个bug，只需要在<code>custom.css</code>文件添加以下代码即可：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 翻页按钮居中 */</span></span><br><span class="line"><span class="selector-id">#pagination</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>执行 hexo 三连：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h2 id="wowjs动画">wowjs动画</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/abab51cf/">Add Blog Animation – Wowjs</a></p><p>效果预览：</p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><p><img src="https://s1.vika.cn/space/2022/11/08/ddf6c8d03c794520ae8327f6101f5b05" alt="动画"></p></div></div><ol><li><p>安装插件,在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-wowjs --save</span><br></pre></td></tr></table></figure></li><li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">wowjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制动画开关。true是打开，false是关闭</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">10</span> <span class="comment">#过滤器优先级</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment">#移动端是否启用，默认移动端禁用</span></span><br><span class="line">  <span class="attr">animateitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">recent-post-item</span> <span class="comment">#必填项，需要添加动画的元素的class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span> <span class="comment">#必填项，需要添加的动画</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span> <span class="comment">#选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span> <span class="comment">#选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> <span class="comment">#选填项，开始动画的距离（相对浏览器底部）</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">2</span> <span class="comment">#选填项，动画重复的次数</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-widget</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">  <span class="attr">animate_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</span></span><br><span class="line">  <span class="attr">wow_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</span></span><br><span class="line">  <span class="attr">wow_init_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</span></span><br></pre></td></tr></table></figure></li><li><p>参数释义</p></li></ol><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">备选值/类型</th><th style="text-align:left">释义</th></tr></thead><tbody><tr><td style="text-align:left">enable</td><td style="text-align:left">true/false</td><td style="text-align:left">【必选】控制开关</td></tr><tr><td style="text-align:left">priority</td><td style="text-align:left">number</td><td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td style="text-align:left">mobile</td><td style="text-align:left">true/false</td><td style="text-align:left">控制移动端是否启用，默认移动端禁用</td></tr><tr><td style="text-align:left">animateitem.class</td><td style="text-align:left">class</td><td style="text-align:left">【可选】添加动画类名，只支持给class添加</td></tr><tr><td style="text-align:left">animateitem.style</td><td style="text-align:left">text</td><td style="text-align:left">【可选】动画样式，具体类型参考<a href="https://animate.style/">animate.css</a></td></tr><tr><td style="text-align:left">animateitem.duration</td><td style="text-align:left">time,单位为s或ms</td><td style="text-align:left">【可选】动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</td></tr><tr><td style="text-align:left">animateitem.delay</td><td style="text-align:left">time,单位为s或ms</td><td style="text-align:left">【可选】动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</td></tr><tr><td style="text-align:left">animateitem.offset</td><td style="text-align:left">number,单位为px</td><td style="text-align:left">【可选】开始动画的距离（相对浏览器底部）。</td></tr><tr><td style="text-align:left">animateitem.iteration</td><td style="text-align:left">number,单位为s或ms</td><td style="text-align:left">【可选】动画重复的次数</td></tr><tr><td style="text-align:left">animate_css</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】animate.css的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</code></td></tr><tr><td style="text-align:left">wow_js</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】wow.min.js的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</code></td></tr><tr><td style="text-align:left">wow_init_js</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】wow_init.js的CDN链接,默认为<code>https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</code></td></tr></tbody></table><p>wowjs详细用法见原帖。</p>              </div>            </details><h2 id="外挂标签的引入（店长）">外挂标签的引入（店长）</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/615e2dec/">Tag Plugins Plus</a></p><ol><li><p>安装插件,在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-tag-plugins-plus --save</span><br></pre></td></tr></table></figure><p>考虑到hexo自带的markdown渲染插件<code>hexo-renderer-marked</code>与外挂标签语法的兼容性较差，建议您将其替换成<a href="https://www.npmjs.com/package/hexo-renderer-kramed">hexo-renderer-kramed</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure></li><li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># tag-plugins-plus</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/615e2dec/</span></span><br><span class="line"><span class="attr">tag_plugins:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">issues:</span> <span class="literal">false</span> <span class="comment">#issues标签依赖注入开关</span></span><br><span class="line">  <span class="attr">link:</span></span><br><span class="line">    <span class="attr">placeholder:</span> <span class="string">/img/link.png</span> <span class="comment">#link_card标签默认的图标图片</span></span><br><span class="line">  <span class="attr">CDN:</span></span><br><span class="line">    <span class="attr">anima:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css</span> <span class="comment">#动画标签anima的依赖</span></span><br><span class="line">    <span class="attr">jquery:</span> <span class="string">https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js</span> <span class="comment">#issues标签依赖</span></span><br><span class="line">    <span class="attr">issues:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/issues.js</span> <span class="comment">#issues标签依赖</span></span><br><span class="line">    <span class="attr">iconfont:</span> <span class="string">//at.alicdn.com/t/font_2032782_8d5kxvn09md.js</span> <span class="comment">#参看https://akilar.top/posts/d2ebecef/</span></span><br><span class="line">    <span class="attr">carousel:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js</span></span><br><span class="line">    <span class="attr">tag_plugins_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css</span></span><br></pre></td></tr></table></figure></li><li><p>参数释义</p></li></ol><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">备选值/类型</th><th style="text-align:left">释义</th></tr></thead><tbody><tr><td style="text-align:left">enable</td><td style="text-align:left">true/false</td><td style="text-align:left">【必选】控制开关</td></tr><tr><td style="text-align:left">priority</td><td style="text-align:left">number</td><td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td style="text-align:left">issues</td><td style="text-align:left">true/false</td><td style="text-align:left">【可选】issues标签控制开关，默认为false</td></tr><tr><td style="text-align:left">link.placeholder</td><td style="text-align:left">【必选】link卡片外挂标签的默认图标</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">CDN.anima</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】动画标签anima的依赖</td></tr><tr><td style="text-align:left">CDN.jquery</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】issues标签依赖</td></tr><tr><td style="text-align:left">CDN.issues</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】issues标签依赖</td></tr><tr><td style="text-align:left">CDN.iconfont</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】iconfont标签symbol样式引入，如果不想引入，则设为false</td></tr><tr><td style="text-align:left">CDN.carousel</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】carousel旋转相册标签鼠标拖动依赖，如果不想引入则设为false</td></tr><tr><td style="text-align:left">CDN.tag_plugins_css</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】外挂标签样式的CSS依赖，为避免CDN缓存延迟，建议将@latest改为具体版本号</td></tr></tbody></table><p>具体样式和写法可见：<a href="https://www.fomal.cc/posts/2013454d.html">Markdown语法与外挂标签写法汇总</a></p>              </div>            </details><h2 id="引入iconfont自定义图标（店长）">引入iconfont自定义图标（店长）</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/d2ebecef/">Iconfont Inject</a></p><h3 id="新建图标项目">新建图标项目</h3><ol><li><p>访问<a href="https://www.iconfont.cn/">阿里巴巴矢量图标库</a>,注册登录。</p></li><li><p>搜索自己心仪的图标，然后选择<strong>添加入库</strong>，加到购物车。</p></li><li><p>选择完毕后点击右上角的购物车图标，打开侧栏，选择添加到项目，如果没有项目就新建一个。</p><p><img src="https://s1.vika.cn/space/2022/10/29/91ec7f6432274b42b50698ef554a2b91" alt="p4"></p></li><li><p>可以通过上方顶栏菜单-&gt;资源管理-&gt;我的项目，找到之前添加的图标项目。(现在的iconfont可以在图标库的项目设置里直接打开彩色设置，然后采用fontclass的引用方式即可使用多彩图标。但是<strong>单一项目彩色图标上限是40个图标</strong>，酌情采用。)</p><p><img src="https://s1.vika.cn/space/2022/10/29/ed3f516f1162418faec46808103d3840" alt="image-20221029212836645"></p><p><img src="https://s1.vika.cn/space/2022/10/29/a1984c415cb7442ba088e7a489cb2d8a" alt="image-20221029212857202"></p></li></ol><h3 id="引入图标">引入图标</h3><p>线上引入方案，我使用的是官方文档中最便捷的<code>font-class</code>方案。这一方案偶尔会出现图标加载不出的情况。但是便于随时对图标库进行升级，换一下在线链接即可，适合新手使用。最新版本的iconfont支持直接在项目设置中开启彩色图标，从而实现直接用class添加多彩色图标。（推荐直接用这个即可）</p><ol><li><p>在<code>[Blogroot]\themes\butterfly\source\css\custom.css</code>中填写如下内容，引入Unicode和Font-class的线上资源：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;//at.alicdn.com/t/font_2264842_b004iy0kk2b.css&quot;</span>;</span><br></pre></td></tr></table></figure><p>更推荐在在主题配置文件<code>inject</code>配置项进行全局引入：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;//at.alicdn.com/t/c/xxx.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;//at.alicdn.com/t/c/xxx.js&quot;&gt;&lt;/script&gt;</span> </span><br></pre></td></tr></table></figure></li><li><p>同时可以在自定义<code>CSS</code>中添加如下样式来控制图标默认大小和颜色等属性（<strong>若已经在项目设置中勾选了彩色选项，则无需再定义图标颜色</strong>），写法与字体样式类似，这恐怕也是它被称为<code>iconfont</code>（图标字体）的原因:</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.iconfont</span> &#123;</span><br><span class="line"><span class="attribute">font-family</span>: <span class="string">&quot;iconfont&quot;</span> <span class="meta">!important</span>;</span><br><span class="line"><span class="attribute">font-size</span>: <span class="number">3em</span>;</span><br><span class="line"><span class="comment">/* 可以定义图标大小 */</span></span><br><span class="line"><span class="attribute">font-style</span>: normal;</span><br><span class="line">-webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">-moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>可以通过自己的阿里图标库的font-class方案查询复制相应的<code>icon-xxxx</code>。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-rat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-ox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-tiger&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-rabbit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-dragon&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-snake&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-horse&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-goat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-monkey&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-rooster&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-dog&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-boar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h2 id="GitCalendar-店长">GitCalendar(店长)</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/1f9c68c9/">Gitcalendar</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><p><img src="https://s1.vika.cn/space/2022/10/29/986712d970c24084809b75cb06305336" alt="image-20221029215737879"></p></div></div><h3 id="安装-2">安装</h3><ol><li><p>安装插件,在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-filter-gitcalendar --save</span><br></pre></td></tr></table></figure></li><li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件如<code>_config.butterfly.yml</code>中添加</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-filter-gitcalendar</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/1f9c68c9/</span></span><br><span class="line"><span class="attr">gitcalendar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="comment"># butterfly挂载容器</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># volantis挂载容器</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: class</span></span><br><span class="line">  <span class="comment">#   name: l_main</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="comment"># matery挂载容器</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: id</span></span><br><span class="line">  <span class="comment">#   name: indexCard</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="comment"># mengd挂载容器</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: class</span></span><br><span class="line">  <span class="comment">#   name: content</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">Akilarlxh</span> <span class="comment">#git用户名</span></span><br><span class="line">  <span class="attr">apiurl:</span> <span class="string">&#x27;https://gitcalendar.akilar.top&#x27;</span><span class="comment"># 这是店长的API，最好自己弄一个</span></span><br><span class="line">  <span class="attr">minheight:</span></span><br><span class="line">    <span class="attr">pc:</span> <span class="string">280px</span> <span class="comment">#桌面端最小高度</span></span><br><span class="line">    <span class="attr">mibile:</span> <span class="string">0px</span> <span class="comment">#移动端最小高度</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;[&#x27;#e4dfd7&#x27;, &#x27;#f9f4dc&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f8df72&#x27;, &#x27;#fcd217&#x27;, &#x27;#fcc515&#x27;, &#x27;#f28e16&#x27;, &#x27;#fb8b05&#x27;, &#x27;#d85916&#x27;, &#x27;#f43e06&#x27;]&quot;</span> <span class="comment">#橘黄色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot; #浅紫色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f0fff4&#x27;, &#x27;#dcffe4&#x27;, &#x27;#bef5cb&#x27;, &#x27;#85e89d&#x27;, &#x27;#34d058&#x27;, &#x27;#28a745&#x27;, &#x27;#22863a&#x27;, &#x27;#176f2c&#x27;, &#x27;#165c26&#x27;, &#x27;#144620&#x27;]&quot; #翠绿色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f1f8ff&#x27;, &#x27;#dbedff&#x27;, &#x27;#c8e1ff&#x27;, &#x27;#79b8ff&#x27;, &#x27;#2188ff&#x27;, &#x27;#0366d6&#x27;, &#x27;#005cc5&#x27;, &#x27;#044289&#x27;, &#x27;#032f62&#x27;, &#x27;#05264c&#x27;]&quot; #天青色调</span></span><br><span class="line">  <span class="attr">container:</span> <span class="string">.recent-post-item(style=&#x27;width:100%;height:auto;padding:10px;&#x27;)</span> <span class="comment">#父元素容器，需要使用pug语法</span></span><br><span class="line">  <span class="attr">gitcalendar_css:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css</span></span><br><span class="line">  <span class="attr">gitcalendar_js:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js</span></span><br></pre></td></tr></table></figure></li><li><p>参数释义</p></li></ol><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:left">备选值/类型</th><th style="text-align:left">释义</th></tr></thead><tbody><tr><td style="text-align:left">priority</td><td style="text-align:left">number</td><td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td style="text-align:left">enable</td><td style="text-align:left">true/false</td><td style="text-align:left">【必选】控制开关</td></tr><tr><td style="text-align:left">enable_page</td><td style="text-align:left">path/all</td><td style="text-align:left">【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填’all’，默认为’/‘</td></tr><tr><td style="text-align:left">layout.type</td><td style="text-align:left">id/class</td><td style="text-align:left">【可选】挂载容器类型，填写id或class，不填则默认为id</td></tr><tr><td style="text-align:left"><a href="http://layout.name">layout.name</a></td><td style="text-align:left">text</td><td style="text-align:left">【必选】挂载容器名称</td></tr><tr><td style="text-align:left">layout.index</td><td style="text-align:left">0和正整数</td><td style="text-align:left">【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td></tr><tr><td style="text-align:left">user</td><td style="text-align:left">text</td><td style="text-align:left">【必选】git用户名</td></tr><tr><td style="text-align:left">apiurl</td><td style="text-align:left">url</td><td style="text-align:left">【可选】默认使用提供文档提供的api，但还是建议自建api，参考教程：<a href="https://akilar.top/posts/1f9c68c9/#%E8%87%AA%E5%BB%BAAPI%E9%83%A8%E7%BD%B2">自建API部署</a></td></tr><tr><td style="text-align:left">minheight.pc</td><td style="text-align:left">280px</td><td style="text-align:left">【可选】桌面端最小高度，默认为280px</td></tr><tr><td style="text-align:left">minheight.mobile</td><td style="text-align:left">0px</td><td style="text-align:left">【可选】移动端最小高度，默认为0px</td></tr><tr><td style="text-align:left">color</td><td style="text-align:left">list</td><td style="text-align:left">【可选】一个包含11个色值的数组，文档给出了四款预设值</td></tr><tr><td style="text-align:left">container</td><td style="text-align:left">pug</td><td style="text-align:left">【可选】预留的父元素容器，用以适配多主题，需要用pug语法填写，目前已适配<a href="https://github.com/jerryc127/hexo-theme-butterfly">butterfly</a>，<a href="https://github.com/volantis-x/hexo-theme-volantis">volantis</a>，<a href="https://github.com/blinkfox/hexo-theme-matery">matery</a>，<a href="https://github.com/lete114/hexo-theme-MengD">mengd</a>主题，这四个主题，插件会自自动识别<code>_config.yml</code>内填写的<code>theme</code>配置项。其余主题需要自己填写父元素容器。</td></tr><tr><td style="text-align:left">gitcalendar_css</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】自定义CSS样式链接</td></tr><tr><td style="text-align:left">gitcalendar_js</td><td style="text-align:left">URL</td><td style="text-align:left">【可选】自定义js链接</td></tr></tbody></table><h3 id="自建API部署">自建API部署</h3><p>虽然Vercel的访问应当没有次数限制，但是不排除存在因访问次数过多而限流等限制。所以还是建议各位自建API。使用Vercel部署，完全免费，且无需服务器。</p><p>将此项目<code>fork</code>到你的Github仓库</p><p><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/Zfour/python_github_calendar_api"><img src="https://github-readme-stats.vercel.app/api/pin/?username=Zfour&repo=python_github_calendar_api&theme=vue&show_owner=true"/></a></p><ol><li><p>访问<a href="https://vercel.com/">Vercel官网</a>，点击右上角的sign up进行注册，注册并登录后点击右上角创建一个项目，并选择以Github继续。<br><img src="https://s1.vika.cn/space/2022/10/27/13d509ad17d44a5ebf60d6bd7cde05f4" alt="pp" style="zoom:50%;" /></p></li><li><p>此时应该会看到你刚刚<code>fork</code>过来的你仓库的项目，看不到就输入关键字进行搜索。</p></li><li><p>点击该仓库右边的<code>Import</code>进行导入，<code>Vercel</code>的<code>PROJECT NAME</code>可以自定义，不用太过在意，但是之后不支持修改，若要改名，只能删除<code>PROJECT</code>以后重建一个了，下方三个选项保持默认就好，点击<code>Deploy</code>进行部署。</p><p><img src="https://s1.vika.cn/space/2022/10/29/5ab8babc380b4a93890ef5bbb6becc5c" alt="image-20221029221751149"></p></li><li><p>到此时，<code>Vercel</code>的部署已经完成，可以使用<code>Vercel</code>提供的默认域名来访问<code>api</code>链接。例如我获取到的默认域名为<code>github-calendar-api.vercel.app</code>,则用它来替换冰老师教程中的自建API，填写到<code>[Blogroot]\_config.butterfly.yml</code>中关于<code>gitcalendar</code>的<code>apiurl</code>中。注意源码修改版不要带协议，不要带后缀。就填写给你的默认域名就好。<code>而插件版需要带协议</code></p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">gitcalendar:</span><br><span class="line">  enable: true</span><br><span class="line">  simplemode: true</span><br><span class="line">  user: Akilarlxh</span><br><span class="line">  apiurl: github-calendar-api.vercel.app</span><br><span class="line">  color: &quot;[&#x27;#e4dfd7&#x27;, &#x27;#f9f4dc&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f8df72&#x27;, &#x27;#fcd217&#x27;, &#x27;#fcc515&#x27;, &#x27;#f28e16&#x27;, &#x27;#fb8b05&#x27;, &#x27;#d85916&#x27;, &#x27;#f43e06&#x27;]&quot;</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h2 id="版权美化（店长）">版权美化（店长）</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://akilar.top/posts/8322f8e6/">（二创）Copyright-beautify</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><img src="https://s1.vika.cn/space/2022/10/29/879f543db7e348eb9a43af45dbef836b" alt="image-20221029222358595" style="zoom:50%;" /></div></div><ol><li><p>修改<code>[Blogroot]\themes\butterfly\layout\includes\post\post-copyright.pug</code>,直接复制以下内容替换原文件内容。此处多次用到了三元运算符作为默认项设置，在确保有主题配置文件的默认项的情况下，也可以在相应文章的<code>front-matter</code>中重新定义作者，原文链接，开源许可协议等内容。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if theme.post_copyright.enable &amp;&amp; page.copyright !== false</span><br><span class="line">  - let author = page.copyright_author ? page.copyright_author : config.author</span><br><span class="line">  - let url = page.copyright_url ? page.copyright_url : page.permalink</span><br><span class="line">  - let license = page.license ? page.license : theme.post_copyright.license</span><br><span class="line">  - let license_url = page.license_url ? page.license_url : theme.post_copyright.license_url</span><br><span class="line">  .post-copyright</span><br><span class="line">    .post-copyright__title</span><br><span class="line">      span.post-copyright-info</span><br><span class="line">        h #[=page.title]</span><br><span class="line">    .post-copyright__type</span><br><span class="line">      span.post-copyright-info</span><br><span class="line">        a(href=url_for(url))= theme.post_copyright.decode ? decodeURI(url) : url</span><br><span class="line">    .post-copyright-m</span><br><span class="line">      .post-copyright-m-info</span><br><span class="line">        .post-copyright-a</span><br><span class="line">            h 作者</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=author</span><br><span class="line">        .post-copyright-c</span><br><span class="line">            h 发布于</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=date(page.date, config.date_format)</span><br><span class="line">        .post-copyright-u</span><br><span class="line">            h 更新于</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=date(page.updated, config.date_format)</span><br><span class="line">        .post-copyright-c</span><br><span class="line">            h 许可协议</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                a.icon(rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27; title=&#x27;Creative Commons&#x27; href=&#x27;https://creativecommons.org/&#x27;)</span><br><span class="line">                  i.fab.fa-creative-commons</span><br><span class="line">                a(rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27; title=license href=url_for(license_url))=license</span><br></pre></td></tr></table></figure></li><li><p>修改<code>[Blogroot]\themes\butterfly\source\css\_layout\post.styl</code>,直接复制以下内容，替换原文件。</p><div class="tabs" id="不同版本的魔改代码"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#不同版本的魔改代码-1">Butterfly v3.x</button></li><li class="tab"><button type="button" data-href="#不同版本的魔改代码-2">Butterfly v4.x</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="不同版本的魔改代码-1"><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">beautify</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">headStyle</span>(fontsize)</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="built_in">unit</span>(fontsize + .<span class="number">4</span>, <span class="string">&#x27;rem&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">code</span></span><br><span class="line">      <span class="attribute">font-size</span>: <span class="built_in">unit</span>(fontsize, <span class="string">&#x27;rem&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">margin-left</span>: <span class="built_in">unit</span>((<span class="built_in">-</span>(fontsize + .<span class="number">2</span>)), <span class="string">&#x27;rem&#x27;</span>)</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="built_in">unit</span>(fontsize, <span class="string">&#x27;rem&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="built_in">unit</span>(fontsize + .<span class="number">6</span>, <span class="string">&#x27;rem&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h1</span>,</span><br><span class="line">  <span class="selector-tag">h2</span>,</span><br><span class="line">  <span class="selector-tag">h3</span>,</span><br><span class="line">  <span class="selector-tag">h4</span>,</span><br><span class="line">  <span class="selector-tag">h5</span>,</span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">top</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - .<span class="number">35rem</span>)</span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$title</span>-prefix-icon-color</span><br><span class="line">      <span class="attribute">content</span>: <span class="variable">$title</span>-prefix-icon</span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1</span></span><br><span class="line">      <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line">      <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h1</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h2</span></span><br><span class="line">    <span class="built_in">headStyle</span>(.<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h3</span></span><br><span class="line">    <span class="built_in">headStyle</span>(.<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h4</span></span><br><span class="line">    <span class="built_in">headStyle</span>(.<span class="number">7</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h5</span></span><br><span class="line">    <span class="built_in">headStyle</span>(.<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    <span class="built_in">headStyle</span>(.<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="attribute">margin-top</span>: .<span class="number">4rem</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> .<span class="number">8rem</span></span><br><span class="line">    <span class="attribute">list-style</span>: none</span><br><span class="line">    <span class="attribute">counter-reset</span>: li</span><br><span class="line"></span><br><span class="line">    +<span class="built_in">maxWidth768</span>()</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> .<span class="number">4rem</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> .<span class="number">5rem</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">ol</span>,</span><br><span class="line">    <span class="selector-tag">ul</span></span><br><span class="line">      <span class="attribute">padding-left</span>: .<span class="number">6rem</span></span><br><span class="line"></span><br><span class="line">      +<span class="built_in">maxWidth768</span>()</span><br><span class="line">        <span class="attribute">padding-left</span>: .<span class="number">2rem</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">li</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:not</span>(.tab)</span><br><span class="line">        <span class="attribute">position</span>: relative</span><br><span class="line">        <span class="attribute">margin</span>: .<span class="number">2rem</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">          <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>)</span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="attribute">position</span>: absolute</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">background</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$white</span></span><br><span class="line">        <span class="attribute">cursor</span>: pointer</span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-out</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ol</span></span><br><span class="line">    &gt; <span class="selector-tag">li</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:not</span>(.tab)</span><br><span class="line">        <span class="attribute">padding</span>: .<span class="number">2em</span> .<span class="number">2em</span> .<span class="number">2em</span> <span class="number">1.8em</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="attribute">margin-top</span>: .<span class="number">65em</span></span><br><span class="line">        <span class="attribute">width</span>: w = <span class="number">1.45em</span></span><br><span class="line">        <span class="attribute">height</span>: h = w</span><br><span class="line">        <span class="attribute">border-radius</span>: .<span class="number">5</span> * w</span><br><span class="line">        <span class="attribute">content</span>: <span class="built_in">counter</span>(li)</span><br><span class="line">        <span class="attribute">counter-increment</span>: li</span><br><span class="line">        <span class="attribute">text-align</span>: center</span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line">        <span class="attribute">line-height</span>: h</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    &gt; <span class="selector-tag">li</span><span class="selector-pseudo">:not</span>(.tab)</span><br><span class="line">      <span class="attribute">padding</span>: .<span class="number">2em</span> .<span class="number">2em</span> .<span class="number">2em</span> <span class="number">1.4em</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">          <span class="attribute">border-color</span>: <span class="variable">$pseudo</span>-hover</span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="variable">$w</span> = .<span class="number">42em</span></span><br><span class="line">        <span class="attribute">top</span>: .<span class="number">78em</span></span><br><span class="line">        <span class="attribute">width</span>: w = <span class="variable">$w</span></span><br><span class="line">        <span class="attribute">height</span>: h = w</span><br><span class="line">        <span class="attribute">border</span>: .<span class="number">5</span> * w solid <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">border-radius</span>: w</span><br><span class="line">        <span class="attribute">background</span>: transparent</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="attribute">line-height</span>: h</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">no-beautify</span><span class="params">()</span></span></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="attribute">margin-top</span>: .<span class="number">4rem</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> .<span class="number">5rem</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">ol</span>,</span><br><span class="line">    <span class="selector-tag">ul</span></span><br><span class="line">      <span class="attribute">padding-left</span>: .<span class="number">5rem</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">li</span></span><br><span class="line">      <span class="attribute">position</span>: relative</span><br><span class="line">      <span class="attribute">margin</span>: .<span class="number">3rem</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">padding-left</span>: .<span class="number">3rem</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#article-container</span></span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">  <span class="attribute">overflow-wrap</span>: break-word</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-link-color</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">text-decoration</span>: underline</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">img</span></span><br><span class="line">    <span class="attribute">display</span>: block</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto .<span class="number">8rem</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">p</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> .<span class="number">8rem</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">iframe</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1rem</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.enable&#x27;</span>) &amp;&amp; <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;site&#x27;</span></span><br><span class="line">    <span class="built_in">beautify</span>()</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.enable&#x27;</span>) &amp;&amp; <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;post&#x27;</span></span><br><span class="line">    <span class="built_in">no-beautify</span>()</span><br><span class="line"></span><br><span class="line">    &amp;<span class="selector-class">.post-content</span></span><br><span class="line">      <span class="built_in">beautify</span>()</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">no-beautify</span>()</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post</span></span><br><span class="line">  <span class="selector-class">.tag_share</span></span><br><span class="line">    <span class="selector-class">.post-meta</span></span><br><span class="line">      &amp;__tag-list</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line"></span><br><span class="line">      &amp;__tags</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">        <span class="attribute">margin</span>: .<span class="number">4rem</span> .<span class="number">4rem</span> .<span class="number">4rem</span> <span class="number">0</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span> .<span class="number">6rem</span></span><br><span class="line">        <span class="attribute">width</span>: fit-content</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">border-radius</span>: .<span class="number">6rem</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out</span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">          <span class="attribute">background</span>: <span class="variable">$light</span>-blue</span><br><span class="line">          <span class="attribute">color</span>: <span class="built_in">var</span>(--white)</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post_share</span></span><br><span class="line">      <span class="attribute">display</span>: inline-block</span><br><span class="line">      <span class="attribute">float</span>: right</span><br><span class="line">      <span class="attribute">margin</span>: .<span class="number">4rem</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">width</span>: fit-content</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.social-share</span></span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.social-share-icon</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">4px</span></span><br><span class="line">          <span class="attribute">width</span>: w = <span class="number">1.85em</span></span><br><span class="line">          <span class="attribute">height</span>: w</span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">1.2em</span></span><br><span class="line">          <span class="attribute">line-height</span>: w</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">2rem</span> <span class="number">0</span> .<span class="number">5rem</span></span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5rem</span> .<span class="number">8rem</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--light-grey)</span><br><span class="line">    <span class="attribute">transition</span>: box-shadow .<span class="number">3s</span> ease-in-out</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span><span class="meta">!important</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">239</span> <span class="number">241</span> <span class="number">243</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">background</span> <span class="built_in">var</span>(--heo-post-blockquote-bg)</span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">right</span> -<span class="number">26px</span></span><br><span class="line">      <span class="attribute">top</span> -<span class="number">120px</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&#x27;\f25e&#x27;</span></span><br><span class="line">      <span class="attribute">font-size</span> <span class="number">200px</span></span><br><span class="line">      <span class="attribute">font-family</span> <span class="string">&#x27;Font Awesome 5 Brands&#x27;</span></span><br><span class="line">      <span class="attribute">opacity</span> .<span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">6</span>), <span class="number">0</span> <span class="number">2px</span> <span class="number">4px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post-copyright</span></span><br><span class="line">      &amp;-meta</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-weight</span>: bold</span><br><span class="line"></span><br><span class="line">      &amp;-info</span><br><span class="line">        <span class="attribute">padding-left</span>: .<span class="number">3rem</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">          <span class="attribute">text-decoration</span>: none</span><br><span class="line">          <span class="attribute">word-break</span>: break-word</span><br><span class="line"></span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">            <span class="attribute">text-decoration</span>: none</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-copyright-cc-info</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-color;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-outdate-notice</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1rem</span></span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1.2em</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">15px</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">$noticeOutdate</span>-bg</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-color</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;noticeOutdate.style&#x27;</span>) == <span class="string">&#x27;flat&#x27;</span></span><br><span class="line">      <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">2.6em</span></span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">5px</span> solid <span class="variable">$noticeOutdate</span>-border</span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">        <span class="attribute">position</span>: absolute</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">50%</span></span><br><span class="line">        <span class="attribute">left</span>: .<span class="number">9em</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-border</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f071&#x27;</span></span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.ads-wrap</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">2rem</span> <span class="number">0</span></span><br><span class="line"><span class="selector-class">.post-copyright-m-info</span></span><br><span class="line">  <span class="selector-class">.post-copyright-a</span>,</span><br><span class="line">  <span class="selector-class">.post-copyright-c</span>,</span><br><span class="line">  <span class="selector-class">.post-copyright-u</span></span><br><span class="line">    <span class="attribute">display</span> inline-block</span><br><span class="line">    <span class="attribute">width</span> fit-content</span><br><span class="line">    <span class="attribute">padding</span> <span class="number">2px</span> <span class="number">5px</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span></span><br><span class="line">  <span class="selector-id">#post</span></span><br><span class="line">    <span class="selector-class">.post-copyright</span></span><br><span class="line">      <span class="attribute">background-color</span> <span class="number">#07080a</span></span><br><span class="line">      <span class="attribute">text-shadow</span> <span class="number">#bfbeb8</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span></span><br><span class="line">      <span class="attribute">border</span> <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">19</span> <span class="number">18</span> <span class="number">18</span> / <span class="number">35%</span>)</span><br><span class="line">      <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgb</span>(<span class="number">20</span>, <span class="number">120</span>, <span class="number">210</span>)</span><br><span class="line">      <span class="attribute">animation</span> flashlight <span class="number">1s</span> linear infinite alternate</span><br><span class="line">  <span class="selector-class">.post-copyright-info</span></span><br><span class="line">    <span class="attribute">color</span> <span class="number">#e0e0e4</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post</span></span><br><span class="line">  <span class="selector-class">.post-copyright__title</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">22px</span></span><br><span class="line">  <span class="selector-class">.post-copyright__notice</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">15px</span></span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> flashlight</span><br><span class="line">  from</span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgb</span>(<span class="number">20</span>, <span class="number">120</span>, <span class="number">210</span>)</span><br><span class="line">  to</span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="built_in">rgb</span>(<span class="number">20</span>, <span class="number">120</span>, <span class="number">210</span>)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="不同版本的魔改代码-2"><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">beautify</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">headStyle</span>(fontsize)</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="built_in">unit</span>(fontsize + <span class="number">12</span>, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">margin-left</span>: <span class="built_in">unit</span>((<span class="built_in">-</span>(fontsize + <span class="number">6</span>)), <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="built_in">unit</span>(fontsize, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="built_in">unit</span>(fontsize + <span class="number">18</span>, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h1</span>,</span><br><span class="line">  <span class="selector-tag">h2</span>,</span><br><span class="line">  <span class="selector-tag">h3</span>,</span><br><span class="line">  <span class="selector-tag">h4</span>,</span><br><span class="line">  <span class="selector-tag">h5</span>,</span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">top</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">7px</span>)</span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$title</span>-prefix-icon-color</span><br><span class="line">      <span class="attribute">content</span>: <span class="variable">$title</span>-prefix-icon</span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1</span></span><br><span class="line">      <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line">      <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h1</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h2</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h3</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h4</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h5</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">li</span></span><br><span class="line">    <span class="selector-pseudo">&amp;::marker</span></span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">      <span class="attribute">font-weight</span>: <span class="number">600</span></span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.05em</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-pseudo">&amp;::marker</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span></span><br><span class="line">    <span class="attribute">list-style-type</span>: circle</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#article-container</span></span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">  <span class="attribute">overflow-wrap</span>: break-word</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-link-color</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">text-decoration</span>: underline</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">img</span></span><br><span class="line">    <span class="attribute">display</span>: block</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto <span class="number">20px</span></span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span></span><br><span class="line">    <span class="attribute">transition</span>: filter <span class="number">375ms</span> ease-in .<span class="number">2s</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">p</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">16px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">iframe</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;anchor&#x27;</span>)</span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.headerlink</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">        <span class="attribute">float</span>: right</span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--headline-presudo)</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f0c1&#x27;</span></span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">95em</span></span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">          <span class="attribute">color</span>: <span class="built_in">var</span>(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">h1</span>,</span><br><span class="line">    <span class="selector-tag">h2</span>,</span><br><span class="line">    <span class="selector-tag">h3</span>,</span><br><span class="line">    <span class="selector-tag">h4</span>,</span><br><span class="line">    <span class="selector-tag">h5</span>,</span><br><span class="line">    <span class="selector-tag">h6</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.headerlink</span></span><br><span class="line">          <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">            <span class="attribute">opacity</span>: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="selector-tag">ol</span>,</span><br><span class="line">    <span class="selector-tag">ul</span></span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">li</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.enable&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;site&#x27;</span></span><br><span class="line">      <span class="built_in">beautify</span>()</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;post&#x27;</span></span><br><span class="line">      &amp;<span class="selector-class">.post-content</span></span><br><span class="line">        <span class="built_in">beautify</span>()</span><br><span class="line"></span><br><span class="line">  &gt; <span class="selector-pseudo">:last-child</span></span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post</span></span><br><span class="line">  <span class="selector-class">.tag_share</span></span><br><span class="line">    <span class="selector-class">.post-meta</span></span><br><span class="line">      &amp;__tag-list</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line"></span><br><span class="line">      &amp;__tags</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">12px</span></span><br><span class="line">        <span class="attribute">width</span>: fit-content</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">12px</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out</span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">          <span class="attribute">background</span>: <span class="variable">$light</span>-blue</span><br><span class="line">          <span class="attribute">color</span>: <span class="built_in">var</span>(--white)</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post_share</span></span><br><span class="line">      <span class="attribute">display</span>: inline-block</span><br><span class="line">      <span class="attribute">float</span>: right</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">width</span>: fit-content</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.social-share</span></span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.social-share-icon</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">4px</span></span><br><span class="line">          <span class="attribute">width</span>: w = <span class="number">1.85em</span></span><br><span class="line">          <span class="attribute">height</span>: w</span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">1.2em</span></span><br><span class="line">          <span class="attribute">line-height</span>: w</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span> <span class="number">10px</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">16px</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--light-grey)</span><br><span class="line">    <span class="attribute">transition</span>: box-shadow .<span class="number">3s</span> ease-in-out</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span><span class="meta">!important</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">239</span> <span class="number">241</span> <span class="number">243</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">background</span> <span class="built_in">var</span>(--heo-post-blockquote-bg)</span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">right</span> -<span class="number">26px</span></span><br><span class="line">      <span class="attribute">top</span> -<span class="number">120px</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&#x27;\f25e&#x27;</span></span><br><span class="line">      <span class="attribute">font-size</span> <span class="number">200px</span></span><br><span class="line">      <span class="attribute">font-family</span> <span class="string">&#x27;Font Awesome 5 Brands&#x27;</span></span><br><span class="line">      <span class="attribute">opacity</span> .<span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">6</span>), <span class="number">0</span> <span class="number">2px</span> <span class="number">4px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post-copyright</span></span><br><span class="line">      &amp;-meta</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-weight</span>: bold</span><br><span class="line"></span><br><span class="line">      &amp;-info</span><br><span class="line">        <span class="attribute">padding-left</span>: <span class="number">6px</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">          <span class="attribute">text-decoration</span>: none</span><br><span class="line">          <span class="attribute">word-break</span>: break-word</span><br><span class="line"></span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">            <span class="attribute">text-decoration</span>: none</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-copyright-cc-info</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-color;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-outdate-notice</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span></span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1.2em</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">$noticeOutdate</span>-bg</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-color</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;noticeOutdate.style&#x27;</span>) == <span class="string">&#x27;flat&#x27;</span></span><br><span class="line">      <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">2.6em</span></span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">5px</span> solid <span class="variable">$noticeOutdate</span>-border</span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">        <span class="attribute">position</span>: absolute</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">50%</span></span><br><span class="line">        <span class="attribute">left</span>: .<span class="number">9em</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-border</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f071&#x27;</span></span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.ads-wrap</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span></span><br><span class="line"><span class="selector-class">.post-copyright-m-info</span></span><br><span class="line">  <span class="selector-class">.post-copyright-a</span>,</span><br><span class="line">  <span class="selector-class">.post-copyright-c</span>,</span><br><span class="line">  <span class="selector-class">.post-copyright-u</span></span><br><span class="line">    <span class="attribute">display</span> inline-block</span><br><span class="line">    <span class="attribute">width</span> fit-content</span><br><span class="line">    <span class="attribute">padding</span> <span class="number">2px</span> <span class="number">5px</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span></span><br><span class="line">  <span class="selector-id">#post</span></span><br><span class="line">    <span class="selector-class">.post-copyright</span></span><br><span class="line">      <span class="attribute">background-color</span> <span class="number">#07080a</span></span><br><span class="line">      <span class="attribute">text-shadow</span> <span class="number">#bfbeb8</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span></span><br><span class="line">      <span class="attribute">border</span> <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">19</span> <span class="number">18</span> <span class="number">18</span> / <span class="number">35%</span>)</span><br><span class="line">      <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgb</span>(<span class="number">20</span>, <span class="number">120</span>, <span class="number">210</span>)</span><br><span class="line">      <span class="attribute">animation</span> flashlight <span class="number">1s</span> linear infinite alternate</span><br><span class="line">  <span class="selector-class">.post-copyright-info</span></span><br><span class="line">    <span class="attribute">color</span> <span class="number">#e0e0e4</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post</span></span><br><span class="line">  <span class="selector-class">.post-copyright__title</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">22px</span></span><br><span class="line">  <span class="selector-class">.post-copyright__notice</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">15px</span></span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li><p>默认项的配置</p><ul><li><p>作者：<code>[Blogroot]\_config.yml</code>中的<code>author</code>配置项</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Akilarの糖果屋</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">Akilar.top</span></span><br><span class="line"><span class="attr">description:</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Akilar</span> <span class="comment">#默认作者</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>许可协议：<code>[Blogroot]\_config.butterfly.yml</code>中的<code>license</code>和<code>license_url</code>配置项</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>页面覆写配置项，修改对应文章的<code>front-matter</code></p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Copyright-beautify # 文章名称</span><br><span class="line">date: 2021-03-02 13:52:46 # 文章发布日期</span><br><span class="line">updated: 2021-03-02 13:52:46 # 文章更新日期</span><br><span class="line">copyright<span class="emphasis">_author: Nesxc # 作者覆写</span></span><br><span class="line"><span class="emphasis">copyright_</span>url: https://www.nesxc.com/post/hexocc.html # 原文链接覆写</span><br><span class="line">license: # 许可协议名称覆写</span><br><span class="line"><span class="section">license<span class="emphasis">_url: # 许可协议链接覆写</span></span></span><br><span class="line"><span class="emphasis"><span class="section">---</span></span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><h2 id="侧边栏电子时钟-安知鱼">侧边栏电子时钟(安知鱼)</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://anzhiy.cn/posts/fc18.html">给butterfly添加侧边栏电子钟</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><p><img src="https://s1.vika.cn/space/2022/10/29/46517a30799b464b8e9964b20d67f712" alt="image-20221029224145818"></p></div></div><h3 id="安装-3">安装</h3><ol><li><p>如果有安装店长的插件版侧边栏电子钟（与店长的电子钟冲突），在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 卸载原版电子钟</span></span><br><span class="line">npm uninstall hexo-butterfly-clock</span><br></pre></td></tr></table></figure></li><li><p>安装插件,在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-clock-anzhiyu --save</span><br></pre></td></tr></table></figure></li><li><p>添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># electric_clock</span></span><br><span class="line"><span class="comment"># see https://anzhiy.cn/posts/fc18.html</span></span><br><span class="line"><span class="attr">electric_clock:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line"><span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line"><span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line"><span class="attr">exclude:</span></span><br><span class="line">  <span class="comment"># - /posts/</span></span><br><span class="line">  <span class="comment"># - /about/</span></span><br><span class="line"><span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">class</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">sticky_layout</span></span><br><span class="line">  <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">loading:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif</span> <span class="comment">#加载动画自定义</span></span><br><span class="line"><span class="attr">clock_css:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css</span></span><br><span class="line"><span class="attr">clock_js:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js</span></span><br><span class="line"><span class="attr">ip_api:</span> <span class="string">https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0</span></span><br><span class="line"><span class="attr">qweather_key:</span> <span class="comment"># 和风天气key</span></span><br><span class="line"><span class="attr">gaud_map_key:</span> <span class="comment"># 高得地图web服务key</span></span><br><span class="line"><span class="attr">default_rectangle:</span> <span class="literal">false</span> <span class="comment"># 开启后将一直显示rectangle位置的天气，否则将获取访问者的地理位置与天气</span></span><br><span class="line"><span class="attr">rectangle:</span> <span class="number">112.982279</span><span class="string">,28.19409</span> <span class="comment"># 获取访问者位置失败时会显示该位置的天气，同时该位置为开启default_rectangle后的位置</span></span><br></pre></td></tr></table></figure><p>其中qweather_key 和gaud_map_key 最好自己去申请对应的 api key，默认使用<code>鱼</code>的，可能会被限制，不保证可靠性。</p></li><li><p>参数释义</p></li></ol><table><thead><tr><th>参数</th><th>备选值/类型</th><th>释义</th></tr></thead><tbody><tr><td>priority</td><td>number</td><td>【可选】过滤器优先级，数值越小，执行越早，默认为 10，选填</td></tr><tr><td>enable</td><td>true/false</td><td>【必选】控制开关</td></tr><tr><td>enable_page</td><td>path/all</td><td>【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填’all’，默认为 all</td></tr><tr><td>exclude</td><td>path</td><td>【可选】填写想要屏蔽的页面，可以多个。写法见示例。原理是将屏蔽项的内容逐个放到当前路径去匹配，若当前路径包含任一屏蔽项，则不会挂载。</td></tr><tr><td>layout.type</td><td>id/class</td><td>【可选】挂载容器类型，填写 id 或 class，不填则默认为 id</td></tr><tr><td><a href="http://layout.name">layout.name</a></td><td>text</td><td>【必选】挂载容器名称</td></tr><tr><td>layout.index</td><td>0和正整数</td><td>【可选】前提是 layout.type 为 class，因为同一页面可能有多个 class，此项用来确认究竟排在第几个顺位</td></tr><tr><td>loading</td><td>URL</td><td>【可选】电子钟加载动画的图片</td></tr><tr><td>clock_css</td><td>URL</td><td>【可选】电子钟样式 CDN 资源</td></tr><tr><td>clock_js</td><td>URL</td><td>【可选】电子钟执行脚本 CDN 资源</td></tr><tr><td>ip_api</td><td>URL</td><td>【可选】获取时钟 IP 的 API</td></tr><tr><td>qweather_key</td><td>text</td><td>【可选】和风天气 key</td></tr><tr><td>gaud_map_key</td><td>text</td><td>【可选】高得地图 web 服务 key</td></tr><tr><td>default_rectangle</td><td>text</td><td>【可选】开启后将一直显示 rectangle 位置的天气，否则将获取访问者的地理位置与天气</td></tr><tr><td>rectangle</td><td>text</td><td>【可选】获取访问者位置失败时会显示该位置的天气，同时该位置为开启 default_rectangle 后的位置</td></tr></tbody></table><h3 id="API申请教程">API申请教程</h3><p>一、<code>qweather_key</code>申请地址: <a href="https://id.qweather.com/#/login">https://id.qweather.com/#/login</a></p><ol><li><p>登录后进入控制台</p><img src="https://image.anzhiy.cn/adminuploads/1/2022/08/26/63089a777772f.webp" alt="pp" style="zoom:50%;" /></li><li><p>创建应用</p><p><img src="https://image.anzhiy.cn/adminuploads/1/2022/08/26/63089a7772a30.webp" alt="pp"></p></li><li><p>填写应用名称和 key 名称随意</p></li><li><p>选择 WebApi</p><img src="https://image.anzhiy.cn/adminuploads/1/2022/08/26/63089a776a3fd.webp" alt="pp" style="zoom:50%;" /></li><li><p>复制 key</p><p><img src="https://image.anzhiy.cn/adminuploads/1/2022/08/26/63089b848e8a7.webp" alt="pp"></p></li></ol><p>二、<code>gaud_map_key</code> 申请地址: <a href="https://lbs.amap.com/">https://lbs.amap.com/</a></p><ol><li><p>登录后进入控制台</p></li><li><p>创建应用，名称随意，类型选其他</p><p><img src="https://image.anzhiy.cn/adminuploads/1/2022/08/26/6308a1101d83c.webp" alt="pp"></p></li><li><p>点击添加, <code>key</code>名称随意，<code>服务平台</code>选择<code>Web服务</code>,点击提交</p><img src="https://image.anzhiy.cn/adminuploads/1/2022/08/26/6308a11023c69.webp" alt="pp" style="zoom: 50%;" /></li><li><p>复制 key</p><p><img src="https://image.anzhiy.cn/adminuploads/1/2022/08/26/6308a11018a74.webp" alt="pp"></p></li></ol>              </div>            </details><h2 id="aplayer音乐播放器">aplayer音乐播放器</h2><details class="folding-tag" cyan><summary> 点击查看教程 </summary>              <div class='content'>              <p>详见：<a href="https://butterfly.js.org/posts/507c070f/">Butterfly添加全局吸底Aplayer教程</a></p><div class="hide-block"><button type="button" class="hide-button" style="">效果预览    </button><div class="hide-content"><p><img src="https://s1.vika.cn/space/2022/10/30/a6852252f405426b8e60d9e1132ed932" alt="image (1)"></p></div></div><p>注意：我这里只在某个页面引入音乐播放器，如果要引入全局吸底的播放器，请见上面的链接。</p><ol><li><p>在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-tag-aplayer --save</span><br></pre></td></tr></table></figure></li><li><p>在网站配置文件<code>_config.yml</code>中修改<code>aplayer </code>配置项为：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 音乐插件</span></span><br><span class="line"><span class="attr">aplayer:</span> </span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><p>在主题配置文件<code>_config.butterfly.yml</code>中修改<code>aplayerInject</code>配置项为：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Inject the css and script (aplayer/meting)</span></span><br><span class="line"><span class="attr">aplayerInject:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><p>在你想要加入音乐播放器的页面加入以下语句：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;aplayer-oSEOhviA&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aplayer aplayer-tag-marker meting-tag-marker&quot;</span> <span class="attr">data-id</span>=<span class="string">&quot;4895239160&quot;</span> <span class="attr">data-server</span>=<span class="string">&quot;netease&quot;</span> <span class="attr">data-type</span>=<span class="string">&quot;playlist&quot;</span> <span class="attr">data-mode</span>=<span class="string">&quot;random&quot;</span> <span class="attr">data-autoplay</span>=<span class="string">&quot;false&quot;</span> <span class="attr">data-listmaxheight</span>=<span class="string">&quot;340px&quot;</span> <span class="attr">data-preload</span>=<span class="string">&quot;auto&quot;</span> <span class="attr">data-theme</span>=<span class="string">&quot;#e3f2f5&quot;</span> <span class="attr">data-volume</span>=<span class="string">&quot;0.4&quot;</span> <span class="attr">mutex</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>其中<code>data-id</code>为歌单ID可以换为你喜欢的歌曲，其他参数见详情页这里不再赘述！</p></li></ol>              </div>            </details><h2 id="🍕🍕🍕大家有啥教程想看的可以在评论区留言，如果搭建过程中遇到不懂的可以加群咨询，进群密码：唐志远。-2">🍕🍕🍕大家有啥教程想看的可以在评论区留言，如果搭建过程中遇到不懂的可以加群咨询，进群密码：唐志远。</h2><img src="https://s1.vika.cn/space/2022/11/04/0bd8a1a7e8f64d6a8248d1d872c5a178" alt="二维码" style="zoom:50%;" />]]></content>
      
      
      <categories>
          
          <category> 魔改教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于堆(优先队列)的一些题目</title>
      <link href="/posts/5837a55a.html"/>
      <url>/posts/5837a55a.html</url>
      
        <content type="html"><![CDATA[<h2 id="LC2146-价格范围内最高排名的-K-样物品"><a href="https://leetcode.cn/problems/k-highest-ranked-items-within-a-price-range/">LC2146. 价格范围内最高排名的 K 样物品</a></h2><p>总体方法-&gt;<strong>BFS+堆</strong></p><p><b>维度优先级：</b>1.最短距离；2.低价格；3.小的x；4.小的y</p><p>因此只有在相同的最短路径基础上再考虑余下的3个维度，最短路我们可以通过BFS去维护</p><p>而余下的三个维度我们具体要取哪一个可以定义在堆的排序规则上，堆会将满足条件的首个元素优先弹出</p><p>题目数据范围：1 &lt;= m, n &lt;= 10^5，1 &lt;= m * n &lt;= 10^5，显然只能接收到O(NlogN)或以下级别</p><p><b>坑点分析：</b>要注意不能只用一个堆，因为堆与普通的单向队列不同，堆里的元素顺序会随着新元素的插入而改变，若只用一个堆且弹出固定size数目的元素，很有可能会把这轮进来的元素也弹出来（只要这个元素足够优先）</p><p>时间复杂度:O(M*N*log(M*N)) 空间复杂度:O(M*N)</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">highestRankedKItems</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span>[] pricing, <span class="type">int</span>[] start, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="type">boolean</span>[][] vis = <span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line">        <span class="comment">// 自定义规则堆:pq1存储上一轮循环的pq2遗留的元素，pq2是用来装本轮循环新的元素</span></span><br><span class="line">        PriorityQueue&lt;<span class="type">int</span>[]&gt; pq2 = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a, b) -&gt; grid[a[<span class="number">0</span>]][a[<span class="number">1</span>]] == grid[b[<span class="number">0</span>]][b[<span class="number">1</span>]] ?</span><br><span class="line">                (a[<span class="number">0</span>] == b[<span class="number">0</span>] ? a[<span class="number">1</span>] - b[<span class="number">1</span>] : a[<span class="number">0</span>] - b[<span class="number">0</span>]) : grid[a[<span class="number">0</span>]][a[<span class="number">1</span>]] - grid[b[<span class="number">0</span>]][b[<span class="number">1</span>]]), pq1;</span><br><span class="line">        pq2.add(start);</span><br><span class="line">        vis[start[<span class="number">0</span>]][start[<span class="number">1</span>]] = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// 开启BFS</span></span><br><span class="line">        <span class="keyword">while</span> (!pq2.isEmpty() &amp;&amp; res.size() &lt; k) &#123;</span><br><span class="line">            pq1 = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(pq2); <span class="comment">// pq1复制上一轮的pq2且排序规则也一致</span></span><br><span class="line">            pq2.clear();    <span class="comment">// pq2清空，准备装新一轮的</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> pq1.size();</span><br><span class="line">            <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span>[] poll = pq1.poll();</span><br><span class="line">                <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> poll[<span class="number">0</span>], y = poll[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (grid[x][y] &gt;= pricing[<span class="number">0</span>] &amp;&amp; grid[x][y] &lt;= pricing[<span class="number">1</span>]) &#123;</span><br><span class="line">                    res.add(Arrays.asList(x, y));   <span class="comment">// 是商品且价钱合适</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (res.size() &gt;= k) <span class="keyword">break</span>; <span class="comment">// 买够了</span></span><br><span class="line">                <span class="comment">// 寻找上下左右的</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span>[] dir : dirs) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newX</span> <span class="operator">=</span> x + dir[<span class="number">0</span>], newY = y + dir[<span class="number">1</span>];</span><br><span class="line">                    <span class="comment">// 下一个在范围内&amp;&amp;没有背访问过&amp;&amp;不是墙</span></span><br><span class="line">                    <span class="keyword">if</span> (newX &gt;= <span class="number">0</span> &amp;&amp; newX &lt; m &amp;&amp; newY &gt;= <span class="number">0</span> &amp;&amp; newY &lt; n &amp;&amp; !vis[newX][newY] &amp;&amp; grid[newX][newY] != <span class="number">0</span>) &#123;</span><br><span class="line">                        pq2.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;newX, newY&#125;);  <span class="comment">// 新的位置入堆</span></span><br><span class="line">                        vis[newX][newY] = <span class="literal">true</span>; <span class="comment">// 标记访问</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="LC6197-最长上传前缀"><a href="https://leetcode.cn/problems/longest-uploaded-prefix/">LC6197. 最长上传前缀</a></h2><p><strong>懒堆的应用：</strong></p><ol><li>要求最长上升前缀等价于求最小未上传索引再减去1</li><li>我们可以用一个数据结构维护未上传的索引，并能及时更新这些未上传的索引以及以低的时间复杂度弹出最小未上传索引</li><li>考虑到堆remove()方法时间复杂度是O(N)，因此我们需要另外一个数据结构记录当前哪些视频已经上传，哪些还没有上传的，可以用一个boolean数组维护</li><li>当我们要求最小未上传索引时，先弹出堆顶已经上传的视频索引，那些肯定是过时数据，然后最后再弹出真正未上传的，直接计算得到结果</li><li>时间复杂度:O(NlogN)，空间复杂度:O(N)</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LUPrefix</span> &#123;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();  <span class="comment">// 维护未上传视频索引</span></span><br><span class="line">    <span class="type">boolean</span>[] up;   <span class="comment">// up[video]标记有没有上传video</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LUPrefix</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">// 注意到n+1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            pq.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        up = <span class="keyword">new</span> <span class="title class_">boolean</span>[n + <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">upload</span><span class="params">(<span class="type">int</span> video)</span> &#123;</span><br><span class="line">        up[video] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longest</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 先弹出堆中已经上传的视频索引</span></span><br><span class="line">        <span class="keyword">while</span> (!pq.isEmpty() &amp;&amp; up[pq.peek()]) pq.poll();</span><br><span class="line">        <span class="comment">// 再查看未上传的最小视频索引，减去1就是最长上传序列</span></span><br><span class="line">        <span class="keyword">return</span> pq.peek() - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>如果要考虑到这种求xx最小的题目，还要做到实时维护和低的时间复杂度，可以考虑懒堆结合数组的方式记录</p></blockquote><h2 id="2034-股票价格波动"><a href="https://leetcode.cn/problems/stock-price-fluctuation/">2034. 股票价格波动</a></h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">StockPrice</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    TreeMap+懒堆</span></span><br><span class="line"><span class="comment">    1.TreeMap维护最新的价格与时间戳映射，现在关键问题就是要怎样找出的单点修改下的的最值</span></span><br><span class="line"><span class="comment">    2.我们可以利用map映射的实时性与懒堆进行结合，具体地我们可以维护两个堆，一个大顶堆和一个小顶堆</span></span><br><span class="line"><span class="comment">    3.每当更新信息我们都将[时间戳,价格]的信息入队，当且仅当在查询时候我们依照map的信息排除堆中的过时信息，从而保证堆顶的弹出的是最值元素</span></span><br><span class="line"><span class="comment">    这种方式可以实现不用每次更新都大费周章地删除堆元素:O(N)操作</span></span><br><span class="line"><span class="comment">    时间复杂度:O(NlogN) 空间复杂度:O(N)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 按照时间戳降序排序</span></span><br><span class="line">    TreeMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;((a, b) -&gt; b - a);</span><br><span class="line">    <span class="comment">// [时间戳,价格] 大顶堆与小顶堆</span></span><br><span class="line">    PriorityQueue&lt;<span class="type">int</span>[]&gt; maxHeap = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a, b) -&gt; b[<span class="number">1</span>] - a[<span class="number">1</span>]);</span><br><span class="line">    PriorityQueue&lt;<span class="type">int</span>[]&gt; minHeap = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(Comparator.comparingInt(a -&gt; a[<span class="number">1</span>]));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">StockPrice</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> timestamp, <span class="type">int</span> price)</span> &#123;</span><br><span class="line">        <span class="comment">// 更新的信息入堆</span></span><br><span class="line">        maxHeap.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;timestamp, price&#125;);</span><br><span class="line">        minHeap.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;timestamp, price&#125;);</span><br><span class="line">        <span class="comment">// 更新map</span></span><br><span class="line">        map.put(timestamp, price);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">current</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.get(map.firstKey());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maximum</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 先更新堆，确保堆顶的数据是最新的</span></span><br><span class="line">        <span class="keyword">while</span> (!maxHeap.isEmpty() &amp;&amp; maxHeap.peek()[<span class="number">1</span>] != map.get(maxHeap.peek()[<span class="number">0</span>])) maxHeap.poll();</span><br><span class="line">        <span class="keyword">return</span> maxHeap.peek()[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimum</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (!minHeap.isEmpty() &amp;&amp; minHeap.peek()[<span class="number">1</span>] != map.get(minHeap.peek()[<span class="number">0</span>])) minHeap.poll();</span><br><span class="line">        <span class="keyword">return</span> minHeap.peek()[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>总的来说，懒堆的精髓就是尽量避免主动移除O(N)操作，等到要弹出的时候再核查去掉不符合要求的数据。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 堆 </tag>
            
            <tag> 优先队列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常用emoji和颜文字</title>
      <link href="/posts/61cc47a8.html"/>
      <url>/posts/61cc47a8.html</url>
      
        <content type="html"><![CDATA[<h1>1.小图标合集</h1><div class="tabs" id="小图标"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#小图标-1">笑脸</button></li><li class="tab"><button type="button" data-href="#小图标-2">头像</button></li><li class="tab"><button type="button" data-href="#小图标-3">饰品</button></li><li class="tab"><button type="button" data-href="#小图标-4">蛋糕</button></li><li class="tab"><button type="button" data-href="#小图标-5">车辆</button></li><li class="tab"><button type="button" data-href="#小图标-6">爱心</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="小图标-1"><p>😀😁😂🤣😃😄😅😆😉😊😋😎😍😘🥰😗😙😚☺🙂🤗🤩🤔<br>🤨😐😑😶🙄😏😣😥😮🤐😯😪😫🥱😴😌😛😜😝🤤😒😓😔😕<br>🙃🤑😲☹🙁😖😞😟😤😢😭😦😧😨😩🤯😬😰😱🥵🥶😳 🤪😵🥴😠😡🤬😷🤒🤕🤢🤮🤧😇🥳🥺🤡🤠🤥🤫🤭🧐<br>🤓😈👿👹👺💀☠👻👽👾🤖💩😺😸😹😻😼😽🙀😿😾🐱‍👤🐱‍🏍<br>🐱‍💻🐱‍🐉🐱‍👓🐱‍🚀🙈🙉🙊🐵🐶🐺🐱🦁🐯🦒🦊🦝🐮🐷🐗🐭🐹<br>🐰🐻🐨🐼🐸🦓🐴🦄🐔🐲🐽🐾🐒🦍🦧🦮🐕‍🦺🐩🐕🐈🐅🐆🐎🦌<br>🦏🦛🐂🐃🐄🐖🐏🐑🐐🐪🐫🦙🦘🦥🦨🦡🐘🐁🐀🦔🐇🐿🦎<br>🐊🐢🐍🐉🦕🦖🦦🦈🐬🐳🐋🐟🐠🐡🦐🦑🐙🦞🦀🐚🦆🐓🦃🦅🕊<br>🦢🦜🦩🦚🦉🐦🐧🐥🐤🐣🦇🦋🐌🐛🦟🦗🐜🐝🐞🦂🕷🕸🦠🧞<br>‍♀️🧞‍♂️🗣👤👥👁👀🦴🦷👅👄🧠🦾🦿👣🤺⛷🤼‍♂️🤼‍♀<br>👯‍♂️👯‍♀️💑👩‍❤️‍👩👨‍❤️‍👨💏👩‍❤️‍💋‍👩👨‍❤ ️<br>💋‍ 👨👪👨‍👩‍👦👨‍👩‍👧👨‍👩‍👧‍👦👨‍👩‍👦‍👦👨‍👩‍👧‍👧👨‍👨‍👦👨‍👨‍👧👨<br>‍👨‍👧‍👦👨‍👨‍👦‍👦👨‍👨‍👧‍👧👩‍👩‍👦👩‍👩‍👧👩‍👩‍👧‍👦👩‍👩‍👦‍👦👩‍👩‍👧‍👧<br>👩‍👦👩‍👧👩‍👧‍👦👩‍👦‍👦👩‍👧‍👧👨‍👦👨‍👧👨‍👧‍👦👨‍👦‍👦👨‍👧‍👧👭<br>👩🏻‍🤝‍👩🏻👩🏼‍🤝‍👩🏻👩🏼‍🤝‍👩🏼👩🏽‍🤝‍👩🏻👩🏽‍🤝‍👩🏼👩🏽‍🤝‍👩🏽👩🏾‍🤝‍👩🏻👩🏾‍🤝‍👩🏼👩🏾‍🤝‍👩🏽👩🏾‍🤝‍👩🏾👩🏿‍🤝‍👩🏻<br>👩🏿‍🤝‍👩🏼👩🏿‍🤝‍👩🏽👩🏿‍🤝‍👩🏾👩🏿‍🤝‍👩🏿👫👩🏻‍🤝‍🧑🏻👩🏻‍🤝‍🧑🏼👩🏻‍🤝‍🧑🏽👩🏻‍🤝‍🧑🏾👩🏻‍🤝‍🧑🏿<br>👩🏼‍🤝‍🧑🏻👩🏼‍🤝‍🧑🏼👩🏼‍🤝‍🧑🏽👩🏼‍🤝‍🧑🏾👩🏼‍🤝‍🧑🏿👩🏽‍🤝‍🧑🏻👩🏽‍🤝‍🧑🏼👩🏽‍🤝‍🧑🏽 👩🏽‍🤝<br>‍🧑🏾👩🏽‍🤝‍🧑🏿👩🏾‍🤝‍🧑🏻👩🏾‍🤝‍🧑🏼👩🏾‍🤝‍🧑🏽👩🏾‍🤝‍🧑🏾👩🏾‍🤝‍🧑🏿👩🏿‍🤝‍🧑🏻 👩🏿 ‍🤝‍🧑🏼👩🏿‍🤝‍🧑🏽👩🏿‍🤝‍🧑🏾<br>👩🏿‍🤝‍🧑🏿👬👨🏻‍🤝‍👨🏻👨🏼‍🤝‍👨🏻👨🏼‍🤝‍👨🏼👨🏽‍🤝‍👨🏼👨🏽‍🤝‍👨🏻 👨🏽‍🤝‍👨🏽👨🏾‍🤝‍👨🏻👨🏾‍🤝‍👨🏼👨🏾‍🤝‍👨🏽👨🏾‍🤝‍👨🏾👨🏿‍🤝‍👨🏻👨🏿‍🤝‍👨🏼👨🏿‍🤝‍👨🏽👨🏿‍🤝‍👨🏾👨🏿‍🤝‍👨🏿</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="小图标-2"><p>👩👨🧑👧👦🧒👶👵👴🧓👩‍🦰👨‍🦰👩‍🦱👨‍🦱👩‍🦲👨‍🦲👨‍🦳👱‍♀️<br>👱‍♂️👸🤴👳‍♀️👳‍♂️👲🧔👼🤶🎅👮‍♀️👮‍♂️🕵️‍♀️🕵️‍♂️💂‍♀️<br>💂‍♂️👷‍♀️👷‍♂️👩‍⚕️👨‍⚕️👩‍🎓👨‍🎓👩‍🏫👨‍🏫👩‍⚖️👨‍⚖️<br>👩‍🌾👨‍🌾👩‍🍳👨‍🍳👩‍🔧👨‍🔧👩‍🏭👨‍🏭👩‍💼👨‍💼👩‍🔬👨‍🔬👩‍💻👨‍💻👩‍🎤👨‍🎤👩<br>‍🎨👨‍🎨👩‍✈️👨‍✈️👩‍🚀👨‍🚀👩‍🚒👨‍🚒🧕👰🤵🤱🤰🦸‍♀️🦸‍♂️🦹‍♀️🦹‍♂️<br>🧙‍♀️🧙‍♂️🧚‍♀️🧚‍♂️🧛‍♀️🧛‍♂️🧜‍♀️🧜‍♂️🧝‍♀️🧝‍♂️🧟‍♀️🧟‍♂️🙍‍♀️<br>🙍‍♂️🙎‍♀️🙎‍♂️🙅‍♀️🙅‍♂️🙆‍♀️🙆‍♂️🧏‍♀️🧏‍♂️💁‍♀️<br>💁‍♂️🙋‍♀️🙋‍♂️🙇‍♀️🙇‍♂️🤦‍♀️🤦‍♂️🤷‍♀️🤷‍♂️<br>💆‍♀️💆‍♂️💇‍♀️💇‍♂️🧖‍♀️🧖‍♂️🤹‍♀️🤹‍♂️👩‍🦽👨‍🦽👩‍🦼<br>👨‍🦼👩‍🦯👨‍🦯🧎‍♀️🧎‍♂️🧍‍♀️🧍‍♂️🚶‍♀️🚶‍♂️🏃‍♀️🏃‍♂️💃🕺<br>🧗‍♀️🧗‍♂️🧘‍♀️🧘‍♂️🛀🛌🕴🏇🏂🏌️‍♀️🏌️‍♂️🏄‍♀️🏄‍♂️🚣‍♀️<br>🚣‍♂️🏊‍♀️🏊‍♂️🤽‍♀️🤽‍♂️🤾‍♀️🤾‍♂️⛹️‍♀️⛹️‍♂️<br>🏋️‍♀️🏋️‍♂️🚴‍♀️🚴‍♂️🚵‍♀️🚵‍♂️🤸‍♀️🤸‍♂️🤳💪🦵🦶<br>👂🦻👃🤏👈👉☝👆✌✌🤞🖖🤘🤙🖐✋👌👍👎✊👊🤛🤜🤚👋✍🤟👏👐🙌🤲🙏🤝💅</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="小图标-3"><p>🎈🎆🎇🧨✨🎉🎊🎃🎄🎋🎍🎎🎏🎐🎑🧧🎀🎁🎗🎟🎫🎠🎡🎢🎪🎭🖼🎨<br>🧵🧶🛒👓🕶🦺🥽🥼🧥👔👕👖🩳🧣🧤🧦👗🥻👘👚👜👑⚾⚽🏓🏉<br>🏈🥅🥏🪁🎯🥇🥈🥉🏅🎖🏆🎰🕹🎮🪀🎴📢♥🔔♣♠🎸🎺🎷🎶🎵🔑🔐🔏🔓<br>⚒🛠🧪⚗🩸🧲🔫🖲🗿🔋💽🔍🔎📼📔📓📒📃📜📄📑📰📙📚📩📤📥📦📫<br>📪📬📭📁📂🗂🖌✒🗒📅📆🗓📎⌛⏳⌚⏰⏱⏲🗃✂📐🗑📍📌📋📊📉📈📇</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="小图标-4"><p>🍕🍔🍟🌭🧂🍿🥓🥚🍳🧇🥞🧈🍞🥐🥨🥯🥙🥪🌮🌯🥫🍖🍗🥩🍠 🥠<br>🥡🍱🍚🍛🍜🦪🍣🍤🍥🥮🍢🧆🥘🍲🍝🥣🍧🍦🍨🍩🍪🎂🍰🧁🍫🍬🍭<br>🍡🍮🍯🍼🥛🧃☕🍵🧉🍶🍾🍷🍸🍹🍺🍻🥂🥃🧊🥤🥢🍴🥄🏺🥝🥥🍇🍈🍉<br>🍊🍌🍋🍍🥭🍎🍏🍐🍑🍒🍓🍅🍆🌽🌶🍄🥑🥒🥬🥦🥔🧄🧅🥕🌰🥜💐🌸🏵<br>🌹🌺🌻🌼🌷🥀☘🌱🌲🌳🌴🌵🌾🌿🍀🍁🍂🍃</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="小图标-5"><p>🚗🚓🚕🛺🚙🚌🚎🚒🚚🚛🚜🚘🚔🚖🚍🦽🦼🛹🚲🛴🛵🏍🚄🚅🚈🚝🚞<br>🚃🚋🚆🛩🚉🪂🚊✈🚇🛫🚟🛬🚠💺🚡🚁🚀🚂🛸🛰⛵🚤🛥⛴🛳🚢⚓🌎🌏<br>🛤🏕🗺🏞🧭🛣🏔🏖⛰🏜🌋🏝🗻🏚🏙🏘🏗🏛🕋🕌🛕🕍⛩⛪去🏰🏯🗼🌉<br>🛁🌝🌤⛈⛅☁🌩🌨🌧🌦🌥🌜🌞⭐🌟🌈🌀🌬🌡☄🌠☔🌊⛱⚡❄☃⛄🔥</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="小图标-6"><p>❤🧡💛💚💙💜🤎🖤🤍💔❣💕💞💓💗💖💘💝💟💌💥💤💦💨💫🕳💯🔅🔆⚜<br>〽❓❔❗❕〰➰✔💲💱➕➖✖➗💭🗯💬🗨👁‍🗨🕐🕑🕒🕧🕦🕥🕤🕝🕟🕠🕡🕢</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1>2.颜文字</h1><h2 id="2-1-常用颜文字：">2.1 常用颜文字：</h2><p>【啊啊】      w(ﾟДﾟ)w<br>【擦眼泪】    (ノへ￣、)<br>【不屑】      (￣_,￣ )<br>【好耶】      ヽ(✿ﾟ▽ﾟ)ノ<br>【棒】      (๑•̀ㅂ•́)و✧<br>【抽】      (￣ε(#￣)☆╰╮o(￣皿￣///)<br>【亲】      （づ￣3￣）づ╭❤～<br>【汗】      Σ( ° △ °|||)︴<br>【笨】      (～￣(OO)￣)ブ<br>【擦】      凸(艹皿艹 )<br>【啵啵】      (* ￣3)(ε￣ <em>)<br>【挖鼻屎】      (<em>￣rǒ￣)<br>【嗷】      ┗|｀O′|┛ 嗷~~<br>【飞】      ︿(￣︶￣)︿<br>【好滴】      (u‿ฺu✿ฺ)<br>【hi】      Hi~ o(<em>￣▽￣</em>)ブ<br>【啦啦】      ♪(^∇^</em>)<br>【拍桌】      o(<em>≧▽≦)ツ┏━┓<br>【惊喜】      ╰(<em>°▽°</em>)╯<br>【嘟嘴】      （○｀ 3′○）<br>【乖】      o(</em>^＠^</em>)o<br>【喂】      (#<code>O′) 【愣住】      (°ー°〃) 【放屁】      ○|￣|_ =3 【哼哼】      o(￣ヘ￣o＃) 【可恶】      （＝。＝） 【切】      ~~( ﹁ ﹁ ) ~~~ 【去】      (ーー゛) 【生气】      (ー</code>′ー)<br>【怨念】      o(一︿一+)o<br>【崩溃】      o(≧口≦)o<br>【不是我】      ㄟ( ▔, ▔ )ㄏ<br>【败了】      (o_ <em>)ﾉ<br>【呃呃呃】      (⊙﹏⊙)<br>【切】      (ˉ▽￣～) 切~~<br>【无言】      （＊￣（エ）￣）<br>【摊手】      ┑(￣Д ￣)┍<br>【不懂】      (＠</em>＠;)<br>【呆】      ━┳━　━┳━<br>【扶额】      (☆′益<code>)c 【囧】      （′Д</code>）<br>【投降】      ┗( T﹏T )┛<br>【我错了】      (。﹏。<em>)<br>【喵星人】      ( =•ω•= )m<br>【喵呜】          ≡ω≡<br>【熊】      (<em>￣(エ)￣)<br>【害羞】      (✿◡‿◡)<br>【脸红】      (</em>/ω＼</em>)<br>【呜呜呜】      ┭┮﹏┭┮<br>【拜拜】      ヾ(￣▽￣)Bye~Bye~<br>【斜眼】      ( ﹁ ﹁ ) ~→<br>【美味】      Ψ(￣∀￣)Ψ<br>【闪】      ✧(≖ ◡ ≖✿)<br>【淡定】      ━(￣ー￣*|||━━<br>【太可怕了】      ヽ(*。&gt;Д&lt;)o゜<br>【恐怖】      ┌(。Д。)┐<br>【orz】      ○|￣|_<br>【good】      o(￣▽￣)ｄ<br>【伤心】      (；′⌒`)<br>【糟糕】      X﹏X<br>【圣诞】      *&lt;|:-)</p><h2 id="2-2-高兴的颜文字">2.2 高兴的颜文字</h2><p>【棒】      (๑•̀ㅂ•́)و✧<br>【爆笑】      ヾ(≧▽≦*)o<br>【bingo】      (o゜▽゜)o☆[BINGO!]<br>【得瑟】      ～(￣▽￣～)(～￣▽￣)～<br>【得意】      &lt;(￣︶￣)&gt;<br>【嗯哪】      嗯~ o(<em>￣▽￣</em>)o<br>【飞】      ︿(￣︶￣)︿<br>【嘎嘎】      ．&lt;{=．．．．（嘎~嘎~嘎~）<br>【干杯】      (￣▽￣)～■干杯□～(￣▽￣)<br>【高兴】      φ(゜▽゜*)♪<br>【跟你说】  ╰(￣▽￣)╭<br>【go】      &lt;(￣︶￣)↗[GO!]<br>【good】      o(￣▽￣)ｄ<br>【哈哈哈哈】      <em>′∀<code>)′∀</code>)</em>′∀<code>)*′∀</code>)<br>【嗨】      (｡･∀･)ﾉﾞ<br>【嗨】      ヾ(≧∇≦*)ゝ<br>【好滴】      (u‿ฺu✿ฺ)<br>【好滴】      （゜▽＾*））<br>【好开心】      (<em>^▽^</em>)<br>【好耶】      ヽ(✿ﾟ▽ﾟ)ノ<br>【happy】      (′▽<code>ʃ♡ƪ) 【hi】      Hi~ o(*￣▽￣*)ブ 【hiahia】      ○( ＾皿＾)っHiahiahia… 【high】      (( へ(へ′∀</code>)へ<br>【吼吼】      ^O^<br>【欢迎】      ( ＾∀＾）／欢迎＼( ＾∀＾）<br>【获胜】      ヾ(￣ー￣)X(^▽^)ゞ<br>【惊喜】      ╰(<em>°▽°</em>)╯<br>【惊喜】      ⊙▽⊙<br>【击掌】      ( ￣ー￣)人(^▽^ )<br>【卡拉ok】      …φ(0￣*)啦啦啦_φ(<em>￣0￣)′<br>【k歌】  …φ(0￣</em>)啦啦啦_φ(<em>￣0￣)<br>【开心】      (</em>^▽^<em>)<br>【啦啦】      ♪(^∇^</em>)<br>【乐】      (๑′ㅂ<code>๑) 【乐】      φ(≧ω≦*)♪ 【乐呵】      (≧∀≦)ゞ 【满足】      (๑ˉ∀ˉ๑) 【满足】      o(*￣︶￣*)o 【咩哈哈】      &lt;(*￣▽￣*)/ 【ohyeah】      ε(*′･∀･｀)зﾞ 【哦哦】      （≧0≦）//（-_-。）・・・ 【噢耶】      (　ﾟ∀ﾟ) ﾉ♡ 【噢耶】      (^&amp;^)/ 【拍手】      ””\(￣ー￣) (￣ー￣)//”” 【拍桌】      o(*≧▽≦)ツ┏━┓ 【飘】      (～￣▽￣)～ 【飘飘然】      ︿(￣︶￣)︿ 【噗】      (/≧▽≦)/ 【期待】      (☆▽☆) 【散花】      *★,°*:.☆(￣▽￣)/$:*.°★* 。 【闪】      ✧(≖ ◡ ≖✿) 【太棒了】      ㄟ(≧◇≦)ㄏ 【逃】      ヽ(ﾟ∀ﾟ*)ﾉ━━━ｩ♪ 【陶醉】      ( *︾▽︾) 【thx】      ☆⌒(*＾-゜)v THX!! 【天啊】      ♪(′∇</code><em>)<br>【万岁】      ！<em>★,°</em>:.☆(￣▽￣)/$:</em>.°★*<br>【我回来啦】      ||ヽ(<em>￣▽￣</em>)ノミ|Ю<br>【我来了】      ~(～￣▽￣)～<br>【兴奋】      (p≧w≦q)<br>【幸福】      o(<em>￣▽￣</em>)o<br>【耶】      (＾－＾)V<br>【哟】      (＾Ｕ＾)ノ~ＹＯ<br>【有了】      (o゜▽゜)o☆<br>【赞】      (((o(<em>ﾟ▽ﾟ</em>)o)))<br>【涨】      (￣︶￣)↗<br>【振奋】      (o&gt;ε(o&gt;ｕ(≧∩≦)<br>【真好】      o(^▽^)o</p><h2 id="2-3-卖萌颜文字">2.3 卖萌颜文字</h2><p>【嗷】      ヾ(≧O≦)〃嗷~<br>【嗷】      ┗|｀O′|┛ 嗷~~<br>【表】      &lt;(￣3￣)&gt; 表！<br>【蹭】      ( <em>￣▽￣)((≧︶≦</em>)<br>【等等】      …(*￣０￣)ノ[等等我…]<br>【好可爱】      （<em>＾-＾</em>）<br>【可爱】      n(<em>≧▽≦</em>)n<br>【卖萌】      =￣ω￣=<br>【真哒】      o(〃‘▽’〃)o</p><h2 id="2-4-震惊颜文字">2.4 震惊颜文字</h2><p>【啊啊】      Ｏ(≧口≦)Ｏ<br>【呆滞】      (￣△￣；)<br>【惊】      (⊙ˍ⊙)<br>【惊】      Σ(っ °Д °;)っ<br>【惊喜】      ╰(<em>°▽°</em>)╯</p><h2 id="2-5-亲吻颜文字">2.5 亲吻颜文字</h2><p>【啵啵】      (* ￣3)(ε￣ *)<br>【飞吻】      (*￣3￣)╭<br>【亲亲】      o(*￣3￣)o</p><h2 id="2-6-生气颜文字">2.6 生气颜文字</h2><p>【爆头】      ▄︻┻┳═一…… ☆（&gt;○&lt;）<br>【不开心】      ￣へ￣<br>【不满】      (<em>￣︿￣)<br>【不满】      （＃￣～￣＃）<br>【不爽】      (</em> ￣︿￣)<br>【不要啊】      ヽ（≧□≦）ノ<br>【擦】      凸(艹皿艹 )<br>【哼哼】      o(￣ヘ￣o＃)</p><h2 id="2-7-无奈颜文字">2.7 无奈颜文字</h2><p>【呃呃呃】      (⊙﹏⊙)<br>【没办法】      ╮（╯＿╰）╭<br>【无奈】      ╮(╯▽╰)╭<br>【飘过】  …((/- -)/</p>]]></content>
      
      
      <categories>
          
          <category> 演示 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 演示 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>容斥原理+计数专题</title>
      <link href="/posts/34beab1a.html"/>
      <url>/posts/34beab1a.html</url>
      
        <content type="html"><![CDATA[<h3 id="1711-大餐计数"><a href="https://leetcode.cn/problems/count-good-meals/">1711. 大餐计数</a></h3><p>细节满满的一题，组合计算问题再周赛的T3与T4经常出，对于常见的组合计算问题应该要掌握。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countPairs</span><span class="params">(<span class="type">int</span>[] deliciousness)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        HashMap+计数+容斥原理:</span></span><br><span class="line"><span class="comment">        1 &lt;= deliciousness.length &lt;= 1e5</span></span><br><span class="line"><span class="comment">        0 &lt;= deliciousness[i] &lt;= 2^20</span></span><br><span class="line"><span class="comment">        看数据范围只能用O(N)、O(C*N)、O(NlogN)的时间复杂度算法进行求解</span></span><br><span class="line"><span class="comment">        1.预处理出2的0~21次幂</span></span><br><span class="line"><span class="comment">        2.HashMap统计每个数字出现的个数</span></span><br><span class="line"><span class="comment">        3.枚举每个HashMap中的数字进行计数，以key为锚点，枚举所有的可能的二次幂并球出目标匹配数字；</span></span><br><span class="line"><span class="comment">            之后先统计相同数字组成的对，再统计不同数字组成的对进行相加</span></span><br><span class="line"><span class="comment">        4.最后记得对统计的数字/2</span></span><br><span class="line"><span class="comment">        坑点:</span></span><br><span class="line"><span class="comment">        1.2^0=1也是2的次幂</span></span><br><span class="line"><span class="comment">        2.相同数字的计算方法为:num*(num-1)/2，其中num为数字个数</span></span><br><span class="line"><span class="comment">        3.相同数字的计算方法为:cnt[t]*cnt[key]/2，其中t为要匹配的目标数字，key为当前数字</span></span><br><span class="line"><span class="comment">            可以将2与3统一起来最后一起除2</span></span><br><span class="line"><span class="comment">        4.这里long类型在统计过程中可以不进行MOD(&lt;1e10)，最后才取余即可</span></span><br><span class="line"><span class="comment">            最好先进行除2操作最后再取余，如果顺序反了最后取余再除2结果不对!</span></span><br><span class="line"><span class="comment">            还有最后取余的一定一定要把MOD括起来，否则就会将res先转换为int了!!!!</span></span><br><span class="line"><span class="comment">        5.枚举二次幂可以倒序提前退出</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">// 美味程度之和上限为2^21，预处理出2^0~2^21的幂</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> <span class="number">1</span>, MOD = (<span class="type">int</span>) <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">22</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= <span class="number">21</span>; i++) &#123;</span><br><span class="line">            arr[i] = cur;</span><br><span class="line">            cur *= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 统计数字对应个数</span></span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : deliciousness) &#123;</span><br><span class="line">            map.put(num, map.getOrDefault(num, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0L</span>;</span><br><span class="line">        <span class="comment">// 寻找每个数字缺失的另一半</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> key : map.keySet()) &#123;</span><br><span class="line">            <span class="type">long</span> <span class="variable">num</span> <span class="operator">=</span> map.get(key); <span class="comment">// 该数字key的数目</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">21</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> arr[i] - key;  <span class="comment">// 要找的目标数字</span></span><br><span class="line">                <span class="keyword">if</span> (t &lt; <span class="number">0</span>) <span class="keyword">break</span>;   <span class="comment">// 从大的开始枚举，如果当前已经小于0，那么前面的必定小于0，提前break</span></span><br><span class="line">                <span class="comment">// 1.先统计相同数字组成的:组合种数=cnt[key]*(cnt[key]-1)/2</span></span><br><span class="line">                <span class="keyword">if</span> (t == key) &#123;</span><br><span class="line">                    res += num * (num - <span class="number">1</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (map.containsKey(t)) &#123;</span><br><span class="line">                    <span class="comment">// 2.再统计不同数字之间的cnt[t]*cnt[key]/2</span></span><br><span class="line">                    res += num * map.get(t);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 最后统计重了一倍应该除2</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) ((res &gt;&gt; <span class="number">1</span>) % MOD);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 容斥原理 </tag>
            
            <tag> 数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL总结</title>
      <link href="/posts/54ed288e.html"/>
      <url>/posts/54ed288e.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>🍭🍭🍭 以下内容均转自<a href="https://dhc.pythonanywhere.com/entry/share/?key=3ad29aad765a2b98b2b2a745d71bef715507ee9db8adbec98257bac0ad84cbe4">路途博客的 MySQL 总结</a>(已获得作者允许)，最初来源为<a href="https://www.bilibili.com/video/BV1Kr4y1i7ru">黑马程序员的 MySQL 视频课</a></p><div>本博客文章用途均是学习所用，无商业用途，如有侵权请联系博主删除！📧：1174008660@qq.com</div></blockquote><h1>1.基础篇</h1><h2 id="1-1-通用语法及分类">1.1 通用语法及分类</h2><ul><li>DDL: 数据定义语言，用来定义数据库对象（数据库、表、字段）</li><li>DML: 数据操作语言，用来对数据库表中的数据进行增删改</li><li>DQL: 数据查询语言，用来查询数据库中表的记录</li><li>DCL: 数据控制语言，用来创建数据库用户、控制数据库的控制权限</li></ul><h3 id="DDL（数据定义语言）">DDL（数据定义语言）</h3><p>数据定义语言</p><h4 id="数据库操作">数据库操作</h4><p>查询所有数据库：<br><code>SHOW DATABASES;</code><br>查询当前数据库：<br><code>SELECT DATABASE();</code><br>创建数据库：<br><code>CREATE DATABASE [ IF NOT EXISTS ] 数据库名 [ DEFAULT CHARSET 字符集] [COLLATE 排序规则 ];</code><br>删除数据库：<br><code>DROP DATABASE [ IF EXISTS ] 数据库名;</code><br>使用数据库：<br><code>USE 数据库名;</code></p><h5 id="注意事项">注意事项</h5><ul><li>UTF8 字符集长度为 3 字节，有些符号占 4 字节，所以推荐用 utf8mb4 字符集</li></ul><h4 id="表操作">表操作</h4><p>查询当前数据库所有表：<br><code>SHOW TABLES;</code><br>查询表结构：<br><code>DESC 表名;</code><br>查询指定表的建表语句：<br><code>SHOW CREATE TABLE 表名;</code></p><p>创建表：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名(</span><br><span class="line">字段<span class="number">1</span> 字段<span class="number">1</span>类型 [COMMENT 字段<span class="number">1</span>注释],</span><br><span class="line">字段<span class="number">2</span> 字段<span class="number">2</span>类型 [COMMENT 字段<span class="number">2</span>注释],</span><br><span class="line">字段<span class="number">3</span> 字段<span class="number">3</span>类型 [COMMENT 字段<span class="number">3</span>注释],</span><br><span class="line">...</span><br><span class="line">字段n 字段n类型 [COMMENT 字段n注释]</span><br><span class="line">)[ COMMENT 表注释 ];</span><br></pre></td></tr></table></figure><p><strong>最后一个字段后面没有逗号</strong></p><p>添加字段：<br><code>ALTER TABLE 表名 ADD 字段名 类型(长度) [COMMENT 注释] [约束];</code><br>例：<code>ALTER TABLE emp ADD nickname varchar(20) COMMENT '昵称';</code></p><p>修改数据类型：<br><code>ALTER TABLE 表名 MODIFY 字段名 新数据类型(长度);</code><br>修改字段名和字段类型：<br><code>ALTER TABLE 表名 CHANGE 旧字段名 新字段名 类型(长度) [COMMENT 注释] [约束];</code><br>例：将 emp 表的 nickname 字段修改为 username，类型为 varchar(30)<br><code>ALTER TABLE emp CHANGE nickname username varchar(30) COMMENT '昵称';</code></p><p>删除字段：<br><code>ALTER TABLE 表名 DROP 字段名;</code></p><p>修改表名：<br><code>ALTER TABLE 表名 RENAME TO 新表名</code></p><p>删除表：<br><code>DROP TABLE [IF EXISTS] 表名;</code><br>删除表，并重新创建该表：<br><code>TRUNCATE TABLE 表名;</code></p><h3 id="DML（数据操作语言）">DML（数据操作语言）</h3><h4 id="添加数据">添加数据</h4><p>指定字段：<br><code>INSERT INTO 表名 (字段名1, 字段名2, ...) VALUES (值1, 值2, ...);</code><br>全部字段：<br><code>INSERT INTO 表名 VALUES (值1, 值2, ...);</code></p><p>批量添加数据：<br><code>INSERT INTO 表名 (字段名1, 字段名2, ...) VALUES (值1, 值2, ...), (值1, 值2, ...), (值1, 值2, ...);</code><br><code>INSERT INTO 表名 VALUES (值1, 值2, ...), (值1, 值2, ...), (值1, 值2, ...);</code></p><h5 id="注意事项-2">注意事项</h5><ul><li><strong>字符串</strong>和<strong>日期类型</strong>数据应该包含在引号中</li><li>插入的数据大小应该在字段的规定范围内</li></ul><h4 id="更新和删除数据">更新和删除数据</h4><p>修改数据：<br><code>UPDATE 表名 SET 字段名1 = 值1, 字段名2 = 值2, ... [ WHERE 条件 ];</code><br>例：<br><code>UPDATE emp SET name = 'Jack' WHERE id = 1;</code></p><p>删除数据：<br><code>DELETE FROM 表名 [ WHERE 条件 ];</code></p><h3 id="DQL（数据查询语言）">DQL（数据查询语言）</h3><p>语法：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">字段列表</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">表名字段</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">条件列表</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">分组字段列表</span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line">分组后的条件列表</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">排序字段列表</span><br><span class="line">LIMIT</span><br><span class="line">分页参数</span><br></pre></td></tr></table></figure><h4 id="基础查询">基础查询</h4><p>查询多个字段：<br><code>SELECT 字段1, 字段2, 字段3, ... FROM 表名;</code><br><code>SELECT * FROM 表名;</code></p><p>设置别名：<br><code>SELECT 字段1 [ AS 别名1 ], 字段2 [ AS 别名2 ], 字段3 [ AS 别名3 ], ... FROM 表名;</code><br><code>SELECT 字段1 [ 别名1 ], 字段2 [ 别名2 ], 字段3 [ 别名3 ], ... FROM 表名;</code></p><p>去除重复记录：<br><code>SELECT DISTINCT 字段列表 FROM 表名;</code></p><p>转义：<br><code>SELECT * FROM 表名 WHERE name LIKE '/_张三' ESCAPE '/'</code><br>/ 之后的_不作为通配符</p><h4 id="条件查询">条件查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 WHERE 条件列表;</code></p><p>条件：</p><table><thead><tr><th>比较运算符</th><th>功能</th></tr></thead><tbody><tr><td>&gt;</td><td>大于</td></tr><tr><td>&gt;=</td><td>大于等于</td></tr><tr><td>&lt;</td><td>小于</td></tr><tr><td>&lt;=</td><td>小于等于</td></tr><tr><td>=</td><td>等于</td></tr><tr><td>&lt;&gt; 或 !=</td><td>不等于</td></tr><tr><td>BETWEEN … AND …</td><td>在某个范围内（含最小、最大值）</td></tr><tr><td>IN(…)</td><td>在 in 之后的列表中的值，多选一</td></tr><tr><td>LIKE 占位符</td><td>模糊匹配（_匹配单个字符，%匹配任意个字符）</td></tr><tr><td>IS NULL</td><td>是 NULL</td></tr></tbody></table><table><thead><tr><th>逻辑运算符</th><th>功能</th></tr></thead><tbody><tr><td>AND 或 &amp;&amp;</td><td>并且（多个条件同时成立）</td></tr><tr><td>OR 或 ||</td><td>或者（多个条件任意一个成立）</td></tr><tr><td>NOT 或 !</td><td>非，不是</td></tr></tbody></table><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 年龄等于30</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line"><span class="comment">-- 年龄小于30</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="operator">&lt;</span> <span class="number">30</span>;</span><br><span class="line"><span class="comment">-- 小于等于</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="operator">&lt;=</span> <span class="number">30</span>;</span><br><span class="line"><span class="comment">-- 没有身份证</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> idcard <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">or</span> idcard <span class="operator">=</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="comment">-- 有身份证</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> idcard;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> idcard <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">-- 不等于</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="operator">!=</span> <span class="number">30</span>;</span><br><span class="line"><span class="comment">-- 年龄在20到30之间</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="keyword">between</span> <span class="number">20</span> <span class="keyword">and</span> <span class="number">30</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="operator">&gt;=</span> <span class="number">20</span> <span class="keyword">and</span> age <span class="operator">&lt;=</span> <span class="number">30</span>;</span><br><span class="line"><span class="comment">-- 下面语句不报错，但查不到任何信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="keyword">between</span> <span class="number">30</span> <span class="keyword">and</span> <span class="number">20</span>;</span><br><span class="line"><span class="comment">-- 性别为女且年龄小于30</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="operator">&lt;</span> <span class="number">30</span> <span class="keyword">and</span> gender <span class="operator">=</span> <span class="string">&#x27;女&#x27;</span>;</span><br><span class="line"><span class="comment">-- 年龄等于25或30或35</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="operator">=</span> <span class="number">25</span> <span class="keyword">or</span> age <span class="operator">=</span> <span class="number">30</span> <span class="keyword">or</span> age <span class="operator">=</span> <span class="number">35</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="keyword">in</span> (<span class="number">25</span>, <span class="number">30</span>, <span class="number">35</span>);</span><br><span class="line"><span class="comment">-- 姓名为两个字</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;__&#x27;</span>;</span><br><span class="line"><span class="comment">-- 身份证最后为X</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> idcard <span class="keyword">like</span> <span class="string">&#x27;%X&#x27;</span>;</span><br></pre></td></tr></table></figure><h4 id="聚合查询（聚合函数）">聚合查询（聚合函数）</h4><p>常见聚合函数(null 值不参与聚合函数运算)：</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>count</td><td>统计数量</td></tr><tr><td>max</td><td>最大值</td></tr><tr><td>min</td><td>最小值</td></tr><tr><td>avg</td><td>平均值</td></tr><tr><td>sum</td><td>求和</td></tr></tbody></table><p>语法：<br><code>SELECT 聚合函数(字段列表) FROM 表名;</code><br>例：<br><code>SELECT count(id) from employee where workaddress = &quot;广东省&quot;;</code></p><h4 id="分组查询">分组查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 [ WHERE 条件 ] GROUP BY 分组字段名 [ HAVING 分组后的过滤条件 ];</code></p><p>where 和 having 的区别：</p><ul><li>执行时机不同：where 是分组之前进行过滤，不满足 where 条件不参与分组；having 是分组后对结果进行过滤。</li><li>判断条件不同：where 不能对聚合函数进行判断，而 having 可以。</li></ul><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 根据性别分组，统计男性和女性数量（只显示分组数量，不显示哪个是男哪个是女）</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> gender;</span><br><span class="line"><span class="comment">-- 根据性别分组，统计男性和女性数量</span></span><br><span class="line"><span class="keyword">select</span> gender, <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> gender;</span><br><span class="line"><span class="comment">-- 根据性别分组，统计男性和女性的平均年龄</span></span><br><span class="line"><span class="keyword">select</span> gender, <span class="built_in">avg</span>(age) <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> gender;</span><br><span class="line"><span class="comment">-- 年龄小于45，并根据工作地址分组</span></span><br><span class="line"><span class="keyword">select</span> workaddress, <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="operator">&lt;</span> <span class="number">45</span> <span class="keyword">group</span> <span class="keyword">by</span> workaddress;</span><br><span class="line"><span class="comment">-- 年龄小于45，并根据工作地址分组，获取员工数量大于等于3的工作地址</span></span><br><span class="line"><span class="keyword">select</span> workaddress, <span class="built_in">count</span>(<span class="operator">*</span>) address_count <span class="keyword">from</span> employee <span class="keyword">where</span> age <span class="operator">&lt;</span> <span class="number">45</span> <span class="keyword">group</span> <span class="keyword">by</span> workaddress <span class="keyword">having</span> address_count <span class="operator">&gt;=</span> <span class="number">3</span>;</span><br></pre></td></tr></table></figure><h5 id="注意事项-3">注意事项</h5><ul><li>执行顺序：where &gt; 聚合函数 &gt; having</li><li>分组之后，查询的字段一般为<strong>聚合函数</strong>和<strong>分组字段</strong>，查询其他字段无任何意义</li></ul><h4 id="排序查询">排序查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 ORDER BY 字段1 排序方式1, 字段2 排序方式2;</code></p><p>排序方式：</p><ul><li>ASC: 升序（默认）</li><li>DESC: 降序</li></ul><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 根据年龄升序排序</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employee <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">ASC</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employee <span class="keyword">ORDER</span> <span class="keyword">BY</span> age;</span><br><span class="line"><span class="comment">-- 两字段排序，根据年龄升序排序，入职时间降序排序</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employee <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">ASC</span>, entrydate <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><h5 id="注意事项-4">注意事项</h5><p>如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序</p><h4 id="分页查询">分页查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 LIMIT 起始索引, 查询记录数;</code></p><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查询第一页数据，展示10条</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employee LIMIT <span class="number">0</span>, <span class="number">10</span>;</span><br><span class="line"><span class="comment">-- 查询第二页</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employee LIMIT <span class="number">10</span>, <span class="number">10</span>;</span><br></pre></td></tr></table></figure><h5 id="注意事项-5">注意事项</h5><ul><li>起始索引从 0 开始，起始索引 = （查询页码 - 1） * 每页显示记录数</li><li>分页查询是数据库的方言，不同数据库有不同实现，MySQL 是 LIMIT</li><li>如果查询的是第一页数据，起始索引可以省略，直接简写 LIMIT 10</li></ul><h4 id="DQL-执行顺序">DQL 执行顺序</h4><p>1.FROM(从哪张表查询) -&gt; 2.WHERE(对数据进行筛选) -&gt; 3.GROUP BY(对筛选的数据进行分组) -&gt; 4.HAVING(分组后的条件列表)-&gt; 5.SELECT(选择对应数据) -&gt; 6.ORDER BY(对结果排序) -&gt; 7.LIMIT(对结果分页)</p><h3 id="DCL">DCL</h3><h4 id="管理用户">管理用户</h4><p>查询用户：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">USER</span> mysql;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure><p>创建用户:<br><code>CREATE USER '用户名'@'主机名' IDENTIFIED BY '密码';</code></p><p>修改用户密码：<br><code>ALTER USER '用户名'@'主机名' IDENTIFIED WITH mysql_native_password BY '新密码';</code></p><p>删除用户：<br><code>DROP USER '用户名'@'主机名';</code></p><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 创建用户test，只能在当前主机localhost访问</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;test&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="comment">-- 创建用户test，能在任意主机访问</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;test&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;test&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="comment">-- 修改密码</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> <span class="string">&#x27;test&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">with</span> mysql_native_password <span class="keyword">by</span> <span class="string">&#x27;1234&#x27;</span>;</span><br><span class="line"><span class="comment">-- 删除用户</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">&#x27;test&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure><h5 id="注意事项-6">注意事项</h5><ul><li>主机名可以使用 % 通配</li></ul><h4 id="权限控制">权限控制</h4><p>常用权限：</p><table><thead><tr><th>权限</th><th>说明</th></tr></thead><tbody><tr><td>ALL, ALL PRIVILEGES</td><td>所有权限</td></tr><tr><td>SELECT</td><td>查询数据</td></tr><tr><td>INSERT</td><td>插入数据</td></tr><tr><td>UPDATE</td><td>修改数据</td></tr><tr><td>DELETE</td><td>删除数据</td></tr><tr><td>ALTER</td><td>修改表</td></tr><tr><td>DROP</td><td>删除数据库/表/视图</td></tr><tr><td>CREATE</td><td>创建数据库/表</td></tr></tbody></table><p>更多权限请看<a href="#%E6%9D%83%E9%99%90%E4%B8%80%E8%A7%88%E8%A1%A8" title="权限一览表">权限一览表</a></p><p>查询权限：<br><code>SHOW GRANTS FOR '用户名'@'主机名';</code></p><p>授予权限：<br><code>GRANT 权限列表 ON 数据库名.表名 TO '用户名'@'主机名';</code></p><p>撤销权限：<br><code>REVOKE 权限列表 ON 数据库名.表名 FROM '用户名'@'主机名';</code></p><h5 id="注意事项-7">注意事项</h5><ul><li>多个权限用逗号分隔</li><li>授权时，数据库名和表名可以用 * 进行通配，代表所有</li></ul><h2 id="1-2-函数">1.2 函数</h2><ul><li>字符串函数</li><li>数值函数</li><li>日期函数</li><li>流程函数</li></ul><h3 id="字符串函数">字符串函数</h3><p>常用函数：</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>CONCAT(s1, s2, …, sn)</td><td>字符串拼接，将 s1, s2, …, sn 拼接成一个字符串</td></tr><tr><td>LOWER(str)</td><td>将字符串全部转为小写</td></tr><tr><td>UPPER(str)</td><td>将字符串全部转为大写</td></tr><tr><td>LPAD(str, n, pad)</td><td>左填充，用字符串 pad 对 str 的左边进行填充，达到 n 个字符串长度</td></tr><tr><td>RPAD(str, n, pad)</td><td>右填充，用字符串 pad 对 str 的右边进行填充，达到 n 个字符串长度</td></tr><tr><td>TRIM(str)</td><td>去掉字符串头部和尾部的空格</td></tr><tr><td>SUBSTRING(str, start, len)</td><td>返回从字符串 str 从 start 位置起的 len 个长度的字符串（注意索引从 1 开始）</td></tr></tbody></table><p>使用示例：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 拼接</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;Hello&#x27;</span>, <span class="string">&#x27;World&#x27;</span>);</span><br><span class="line"><span class="comment">-- 小写</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LOWER</span>(<span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line"><span class="comment">-- 大写</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">UPPER</span>(<span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line"><span class="comment">-- 左填充</span></span><br><span class="line"><span class="keyword">SELECT</span> LPAD(<span class="string">&#x27;01&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;-&#x27;</span>);</span><br><span class="line"><span class="comment">-- 右填充</span></span><br><span class="line"><span class="keyword">SELECT</span> RPAD(<span class="string">&#x27;01&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;-&#x27;</span>);</span><br><span class="line"><span class="comment">-- 去除空格</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">TRIM</span>(<span class="string">&#x27; Hello World &#x27;</span>);</span><br><span class="line"><span class="comment">-- 切片（起始索引为1）</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUBSTRING</span>(<span class="string">&#x27;Hello World&#x27;</span>, <span class="number">1</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure><h3 id="数值函数">数值函数</h3><p>常见函数：</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>CEIL(x)</td><td>向上取整</td></tr><tr><td>FLOOR(x)</td><td>向下取整</td></tr><tr><td>MOD(x, y)</td><td>返回 x/y 的模</td></tr><tr><td>RAND()</td><td>返回 0~1 内的随机数</td></tr><tr><td>ROUND(x, y)</td><td>求参数 x 的四舍五入值，保留 y 位小数</td></tr></tbody></table><h3 id="日期函数">日期函数</h3><p>常用函数：</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>CURDATE()</td><td>返回当前日期</td></tr><tr><td>CURTIME()</td><td>返回当前时间</td></tr><tr><td>NOW()</td><td>返回当前日期和时间</td></tr><tr><td>YEAR(date)</td><td>获取指定 date 的年份</td></tr><tr><td>MONTH(date)</td><td>获取指定 date 的月份</td></tr><tr><td>DAY(date)</td><td>获取指定 date 的日期</td></tr><tr><td>DATE_ADD(date, INTERVAL expr type)</td><td>返回一个日期/时间值加上一个时间间隔 expr 后的时间值</td></tr><tr><td>DATEDIFF(date1, date2)</td><td>返回起始时间 date1 和结束时间 date2 之间的天数</td></tr></tbody></table><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- DATE_ADD</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_ADD(NOW(), <span class="type">INTERVAL</span> <span class="number">70</span> <span class="keyword">YEAR</span>);</span><br></pre></td></tr></table></figure><h3 id="流程函数">流程函数</h3><p>常用函数：</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>IF(value, t, f)</td><td>如果 value 为 true，则返回 t，否则返回 f</td></tr><tr><td>IFNULL(value1, value2)</td><td>如果 value1 不为空，返回 value1，否则返回 value2</td></tr><tr><td>CASE WHEN [ val1 ] THEN [ res1 ] … ELSE [ default ] END</td><td>如果 val1 为 true，返回 res1，… 否则返回 default 默认值</td></tr><tr><td>CASE [ expr ] WHEN [ val1 ] THEN [ res1 ] … ELSE [ default ] END</td><td>如果 expr 的值等于 val1，返回 res1，… 否则返回 default 默认值</td></tr></tbody></table><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">name,</span><br><span class="line">(<span class="keyword">case</span> <span class="keyword">when</span> age <span class="operator">&gt;</span> <span class="number">30</span> <span class="keyword">then</span> <span class="string">&#x27;中年&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;青年&#x27;</span> <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">from</span> employee;</span><br><span class="line"><span class="keyword">select</span></span><br><span class="line">name,</span><br><span class="line">(<span class="keyword">case</span> workaddress <span class="keyword">when</span> <span class="string">&#x27;北京市&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;一线城市&#x27;</span> <span class="keyword">when</span> <span class="string">&#x27;上海市&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;一线城市&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;二线城市&#x27;</span> <span class="keyword">end</span>) <span class="keyword">as</span> <span class="string">&#x27;工作地址&#x27;</span></span><br><span class="line"><span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure><h2 id="1-3-约束">1.3 约束</h2><p>分类：</p><table><thead><tr><th>约束</th><th>描述</th><th>关键字</th></tr></thead><tbody><tr><td>非空约束</td><td>限制该字段的数据不能为 null</td><td>NOT NULL</td></tr><tr><td>唯一约束</td><td>保证该字段的所有数据都是唯一、不重复的</td><td>UNIQUE</td></tr><tr><td>主键约束</td><td>主键是一行数据的唯一标识，要求非空且唯一</td><td>PRIMARY KEY</td></tr><tr><td>默认约束</td><td>保存数据时，如果未指定该字段的值，则采用默认值</td><td>DEFAULT</td></tr><tr><td>检查约束（8.0.1 版本后）</td><td>保证字段值满足某一个条件</td><td>CHECK</td></tr><tr><td>外键约束</td><td>用来让两张表的数据之间建立连接，保证数据的一致性和完整性</td><td>FOREIGN KEY</td></tr></tbody></table><p><strong>约束是作用于表中字段上的，可以再创建表/修改表的时候添加约束</strong>。</p><h3 id="常用约束">常用约束</h3><table><thead><tr><th>约束条件</th><th>关键字</th></tr></thead><tbody><tr><td>主键</td><td>PRIMARY KEY</td></tr><tr><td>自动增长</td><td>AUTO_INCREMENT</td></tr><tr><td>不为空</td><td>NOT NULL</td></tr><tr><td>唯一</td><td>UNIQUE</td></tr><tr><td>逻辑条件</td><td>CHECK</td></tr><tr><td>默认值</td><td>DEFAULT</td></tr></tbody></table><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span>(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span>,</span><br><span class="line">age <span class="type">int</span> <span class="keyword">check</span>(age <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">and</span> age <span class="operator">&lt;</span> <span class="number">120</span>),</span><br><span class="line">status <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">default</span> <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">gender <span class="type">char</span>(<span class="number">1</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="外键约束">外键约束</h3><p>作用：保证数据一致性与完整性</p><p>添加外键：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名(</span><br><span class="line">字段名 字段类型,</span><br><span class="line">...</span><br><span class="line">[<span class="keyword">CONSTRAINT</span>] [外键名称] <span class="keyword">FOREIGN</span> KEY(外键字段名) <span class="keyword">REFERENCES</span> 主表(主表列名)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> 外键名称 <span class="keyword">FOREIGN</span> KEY (外键字段名) <span class="keyword">REFERENCES</span> 主表(主表列名);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 例子</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">add</span> <span class="keyword">constraint</span> fk_emp_dept_id <span class="keyword">foreign</span> key(dept_id) <span class="keyword">references</span> dept(id);</span><br></pre></td></tr></table></figure><p>删除外键：<br><code>ALTER TABLE 表名 DROP FOREIGN KEY 外键名;</code></p><h4 id="删除-更新行为">删除/更新行为</h4><table><thead><tr><th>行为</th><th>说明</th></tr></thead><tbody><tr><td>NO ACTION</td><td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新（与 RESTRICT 一致）</td></tr><tr><td>RESTRICT</td><td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新（与 NO ACTION 一致）</td></tr><tr><td>CASCADE</td><td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则也删除/更新外键在子表中的记录</td></tr><tr><td>SET NULL</td><td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则设置子表中该外键值为 null（要求该外键允许为 null）</td></tr><tr><td>SET DEFAULT</td><td>父表有变更时，子表将外键设为一个默认值（Innodb 不支持）</td></tr></tbody></table><p>更改删除/更新行为：<br><code>ALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段) REFERENCES 主表名(主表字段名) ON UPDATE 行为 ON DELETE 行为;</code></p><h2 id="1-4-多表查询">1.4 多表查询</h2><h3 id="多表关系">多表关系</h3><ul><li>一对多（多对一）</li><li>多对多</li><li>一对一</li></ul><h4 id="一对多">一对多</h4><p>案例：部门与员工<br>关系：一个部门对应多个员工，一个员工对应一个部门<br>实现：在多的一方建立外键，指向一的一方的主键</p><h4 id="多对多">多对多</h4><p>案例：学生与课程<br>关系：一个学生可以选多门课程，一门课程也可以供多个学生选修<br>实现：建立第三张中间表，中间表至少包含两个外键，分别关联两方主键</p><h4 id="一对一">一对一</h4><p>案例：用户与用户详情<br>关系：一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另一张表中，以提升操作效率<br>实现：在任意一方加入外键，关联另外一方的主键，并且设置外键为唯一的（UNIQUE）</p><h3 id="查询">查询</h3><p>合并查询（笛卡尔积，会展示所有组合结果）：<br><code>select * from employee, dept;</code></p><blockquote><p>笛卡尔积：两个集合 A 集合和 B 集合的所有组合情况（在多表查询时，需要消除无效的笛卡尔积）</p></blockquote><p>消除无效笛卡尔积：<br><code>select * from employee, dept where employee.dept = dept.id;</code></p><h3 id="内连接查询">内连接查询</h3><p>内连接查询的是两张表交集的部分</p><p>隐式内连接：<br><code>SELECT 字段列表 FROM 表1, 表2 WHERE 条件 ...;</code></p><p>显式内连接：<br><code>SELECT 字段列表 FROM 表1 [ INNER ] JOIN 表2 ON 连接条件 ...;</code></p><p>显式性能比隐式高</p><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查询员工姓名，及关联的部门的名称</span></span><br><span class="line"><span class="comment">-- 隐式</span></span><br><span class="line"><span class="keyword">select</span> e.name, d.name <span class="keyword">from</span> employee <span class="keyword">as</span> e, dept <span class="keyword">as</span> d <span class="keyword">where</span> e.dept <span class="operator">=</span> d.id;</span><br><span class="line"><span class="comment">-- 显式</span></span><br><span class="line"><span class="keyword">select</span> e.name, d.name <span class="keyword">from</span> employee <span class="keyword">as</span> e <span class="keyword">inner</span> <span class="keyword">join</span> dept <span class="keyword">as</span> d <span class="keyword">on</span> e.dept <span class="operator">=</span> d.id;</span><br></pre></td></tr></table></figure><h3 id="外连接查询">外连接查询</h3><p>左外连接：<br>查询左表所有数据，以及两张表交集部分数据<br><code>SELECT 字段列表 FROM 表1 LEFT [ OUTER ] JOIN 表2 ON 条件 ...;</code><br>相当于查询表 1 的所有数据，包含表 1 和表 2 交集部分数据</p><p>右外连接：<br>查询右表所有数据，以及两张表交集部分数据<br><code>SELECT 字段列表 FROM 表1 RIGHT [ OUTER ] JOIN 表2 ON 条件 ...;</code></p><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 左</span></span><br><span class="line"><span class="keyword">select</span> e.<span class="operator">*</span>, d.name <span class="keyword">from</span> employee <span class="keyword">as</span> e <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> dept <span class="keyword">as</span> d <span class="keyword">on</span> e.dept <span class="operator">=</span> d.id;</span><br><span class="line"><span class="keyword">select</span> d.name, e.<span class="operator">*</span> <span class="keyword">from</span> dept d <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> emp e <span class="keyword">on</span> e.dept <span class="operator">=</span> d.id;  <span class="comment">-- 这条语句与下面的语句效果一样</span></span><br><span class="line"><span class="comment">-- 右</span></span><br><span class="line"><span class="keyword">select</span> d.name, e.<span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">as</span> e <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> dept <span class="keyword">as</span> d <span class="keyword">on</span> e.dept <span class="operator">=</span> d.id;</span><br></pre></td></tr></table></figure><p>左连接可以查询到没有 dept 的 employee，右连接可以查询到没有 employee 的 dept</p><h3 id="自连接查询">自连接查询</h3><p>当前表与自身的连接查询，自连接必须使用表别名</p><p>语法：<br><code>SELECT 字段列表 FROM 表A 别名A JOIN 表A 别名B ON 条件 ...;</code></p><p>自连接查询，可以是内连接查询，也可以是外连接查询</p><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查询员工及其所属领导的名字</span></span><br><span class="line"><span class="keyword">select</span> a.name, b.name <span class="keyword">from</span> employee a, employee b <span class="keyword">where</span> a.manager <span class="operator">=</span> b.id;</span><br><span class="line"><span class="comment">-- 没有领导的也查询出来</span></span><br><span class="line"><span class="keyword">select</span> a.name, b.name <span class="keyword">from</span> employee a <span class="keyword">left</span> <span class="keyword">join</span> employee b <span class="keyword">on</span> a.manager <span class="operator">=</span> b.id;</span><br></pre></td></tr></table></figure><h3 id="联合查询-union-union-all">联合查询 union, union all</h3><p>把多次查询的结果合并，形成一个新的查询集</p><p>语法：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表A ...</span><br><span class="line"><span class="keyword">UNION</span> [<span class="keyword">ALL</span>]</span><br><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表B ...</span><br></pre></td></tr></table></figure><h4 id="注意事项-8">注意事项</h4><ul><li>UNION ALL 会有重复结果，UNION 不会</li><li>联合查询比使用 or 效率高，不会使索引失效</li></ul><h3 id="子查询">子查询</h3><p>SQL 语句中嵌套 SELECT 语句，称谓嵌套查询，又称子查询。<br><code>SELECT * FROM t1 WHERE column1 = ( SELECT column1 FROM t2);</code><br><strong>子查询外部的语句可以是 INSERT / UPDATE / DELETE / SELECT 的任何一个</strong></p><p>根据子查询结果可以分为：</p><ul><li>标量子查询（子查询结果为单个值）</li><li>列子查询（子查询结果为一列）</li><li>行子查询（子查询结果为一行）</li><li>表子查询（子查询结果为多行多列）</li></ul><p>根据子查询位置可分为：</p><ul><li>WHERE 之后</li><li>FROM 之后</li><li>SELECT 之后</li></ul><h4 id="标量子查询">标量子查询</h4><p>子查询返回的结果是单个值（数字、字符串、日期等）。<br>常用操作符：- &lt; &gt; &gt; &gt;= &lt; &lt;=</p><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查询销售部所有员工</span></span><br><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;销售部&#x27;</span>;</span><br><span class="line"><span class="comment">-- 根据销售部部门ID，查询员工信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> dept <span class="operator">=</span> <span class="number">4</span>;</span><br><span class="line"><span class="comment">-- 合并（子查询）</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> dept <span class="operator">=</span> (<span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;销售部&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询xxx入职之后的员工信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> entrydate <span class="operator">&gt;</span> (<span class="keyword">select</span> entrydate <span class="keyword">from</span> employee <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;xxx&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="列子查询">列子查询</h4><p>返回的结果是一列（可以是多行）。</p><p>常用操作符：</p><table><thead><tr><th>操作符</th><th>描述</th></tr></thead><tbody><tr><td>IN</td><td>在指定的集合范围内，多选一</td></tr><tr><td>NOT IN</td><td>不在指定的集合范围内</td></tr><tr><td>ANY</td><td>子查询返回列表中，有任意一个满足即可</td></tr><tr><td>SOME</td><td>与 ANY 等同，使用 SOME 的地方都可以使用 ANY</td></tr><tr><td>ALL</td><td>子查询返回列表的所有值都必须满足</td></tr></tbody></table><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查询销售部和市场部的所有员工信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> dept <span class="keyword">in</span> (<span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;销售部&#x27;</span> <span class="keyword">or</span> name <span class="operator">=</span> <span class="string">&#x27;市场部&#x27;</span>);</span><br><span class="line"><span class="comment">-- 查询比财务部所有人工资都高的员工信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> salary <span class="operator">&gt;</span> <span class="keyword">all</span>(<span class="keyword">select</span> salary <span class="keyword">from</span> employee <span class="keyword">where</span> dept <span class="operator">=</span> (<span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;财务部&#x27;</span>));</span><br><span class="line"><span class="comment">-- 查询比研发部任意一人工资高的员工信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> salary <span class="operator">&gt;</span> <span class="keyword">any</span> (<span class="keyword">select</span> salary <span class="keyword">from</span> employee <span class="keyword">where</span> dept <span class="operator">=</span> (<span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;研发部&#x27;</span>));</span><br></pre></td></tr></table></figure><h4 id="行子查询">行子查询</h4><p>返回的结果是一行（可以是多列）。<br>常用操作符：=, &lt;, &gt;, IN, NOT IN</p><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查询与xxx的薪资及直属领导相同的员工信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> (salary, manager) <span class="operator">=</span> (<span class="number">12500</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> (salary, manager) <span class="operator">=</span> (<span class="keyword">select</span> salary, manager <span class="keyword">from</span> employee <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;xxx&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="表子查询">表子查询</h4><p>返回的结果是多行多列<br>常用操作符：IN</p><p>例子：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查询与xxx1，xxx2的职位和薪资相同的员工</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> (job, salary) <span class="keyword">in</span> (<span class="keyword">select</span> job, salary <span class="keyword">from</span> employee <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;xxx1&#x27;</span> <span class="keyword">or</span> name <span class="operator">=</span> <span class="string">&#x27;xxx2&#x27;</span>);</span><br><span class="line"><span class="comment">-- 查询入职日期是2006-01-01之后的员工，及其部门信息</span></span><br><span class="line"><span class="keyword">select</span> e.<span class="operator">*</span>, d.<span class="operator">*</span> <span class="keyword">from</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> entrydate <span class="operator">&gt;</span> <span class="string">&#x27;2006-01-01&#x27;</span>) <span class="keyword">as</span> e <span class="keyword">left</span> <span class="keyword">join</span> dept <span class="keyword">as</span> d <span class="keyword">on</span> e.dept <span class="operator">=</span> d.id;</span><br></pre></td></tr></table></figure><h2 id="1-5-事务">1.5 事务</h2><p>事务是一组操作的集合，事务会把所有操作作为一个整体一起向系统提交或撤销操作请求，即这些操作要么同时成功，要么同时失败。</p><p>基本操作：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 1. 查询张三账户余额</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> account <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="comment">-- 2. 将张三账户余额-1000</span></span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">-</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="comment">-- 此语句出错后张三钱减少但是李四钱没有增加</span></span><br><span class="line">模拟<span class="keyword">sql</span>语句错误</span><br><span class="line"><span class="comment">-- 3. 将李四账户余额+1000</span></span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">+</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;李四&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看事务提交方式</span></span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@AUTOCOMMIT</span>;</span><br><span class="line"><span class="comment">-- 设置事务提交方式，1为自动提交，0为手动提交，该设置只对当前会话有效</span></span><br><span class="line"><span class="keyword">SET</span> @<span class="variable">@AUTOCOMMIT</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">-- 提交事务</span></span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="comment">-- 回滚事务</span></span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 设置手动提交后上面代码改为：</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> account <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">-</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">+</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;李四&#x27;</span>;</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure><p>操作方式二：</p><p>开启事务：<br><code>START TRANSACTION 或 BEGIN TRANSACTION;</code><br>提交事务：<br><code>COMMIT;</code><br>回滚事务：<br><code>ROLLBACK;</code></p><p>操作实例：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">start</span> transaction;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> account <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">-</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">+</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;李四&#x27;</span>;</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure><h3 id="四大特性-ACID">四大特性 ACID</h3><ul><li>原子性(Atomicity)：事务是不可分割的最小操作但愿，要么全部成功，要么全部失败</li><li>一致性(Consistency)：事务完成时，必须使所有数据都保持一致状态</li><li>隔离性(Isolation)：数据库系统提供的隔离机制，保证事务在不受外部并发操作影响的独立环境下运行</li><li>持久性(Durability)：事务一旦提交或回滚，它对数据库中的数据的改变就是永久的</li></ul><h3 id="并发事务">并发事务</h3><table><thead><tr><th>问题</th><th>描述</th></tr></thead><tbody><tr><td>脏读</td><td>一个事务读到另一个事务还没提交的数据</td></tr><tr><td>不可重复读</td><td>一个事务先后读取同一条记录，但两次读取的数据不同</td></tr><tr><td>幻读</td><td>一个事务按照条件查询数据时，没有对应的数据行，但是再插入数据时，又发现这行数据已经存在</td></tr></tbody></table><blockquote><p>这三个问题的详细演示：<a href="https://www.bilibili.com/video/BV1Kr4y1i7ru?p=55cd">https://www.bilibili.com/video/BV1Kr4y1i7ru?p=55cd</a></p></blockquote><p>并发事务隔离级别：</p><table><thead><tr><th>隔离级别</th><th>脏读</th><th>不可重复读</th><th>幻读</th></tr></thead><tbody><tr><td>Read uncommitted</td><td>√</td><td>√</td><td>√</td></tr><tr><td>Read committed</td><td>×</td><td>√</td><td>√</td></tr><tr><td>Repeatable Read(默认)</td><td>×</td><td>×</td><td>√</td></tr><tr><td>Serializable</td><td>×</td><td>×</td><td>×</td></tr></tbody></table><ul><li>√ 表示在当前隔离级别下该问题会出现</li><li>Serializable 性能最低；Read uncommitted 性能最高，数据安全性最差</li></ul><p>查看事务隔离级别：<br><code>SELECT @@TRANSACTION_ISOLATION;</code><br>设置事务隔离级别：<br><code>SET [ SESSION | GLOBAL ] TRANSACTION ISOLATION LEVEL &#123;READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE &#125;;</code><br>SESSION 是会话级别，表示只针对当前会话有效，GLOBAL 表示对所有会话有效</p><h1>2.进阶篇</h1><h2 id="2-1-存储引擎">2.1 存储引擎</h2><p>MySQL 体系结构：</p><p><img src="https://dhc.pythonanywhere.com/media/editor/MySQL%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84_20220315034329549927.png" alt="结构图" title="结构图"><br><img src="https://dhc.pythonanywhere.com/media/editor/MySQL%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%B1%82%E7%BA%A7%E5%90%AB%E4%B9%89_20220315034359342837.png" alt="层级描述" title="层级描述"></p><p>存储引擎就是存储数据、建立索引、更新/查询数据等技术的实现方式。存储引擎是基于表而不是基于库的，所以存储引擎也可以被称为表引擎。<br>默认存储引擎是 InnoDB。</p><p>相关操作：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查询建表语句</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> account;</span><br><span class="line"><span class="comment">-- 建表时指定存储引擎</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名(</span><br><span class="line">...</span><br><span class="line">) ENGINE<span class="operator">=</span>INNODB;</span><br><span class="line"><span class="comment">-- 查看当前数据库支持的存储引擎</span></span><br><span class="line"><span class="keyword">show</span> engines;</span><br></pre></td></tr></table></figure><h3 id="InnoDB">InnoDB</h3><p>InnoDB 是一种兼顾高可靠性和高性能的通用存储引擎，在 MySQL 5.5 之后，InnoDB 是默认的 MySQL 引擎。</p><p>特点：</p><ul><li>DML 操作遵循 ACID 模型，支持<strong>事务</strong></li><li><strong>行级锁</strong>，提高并发访问性能</li><li>支持<strong>外键</strong>约束，保证数据的完整性和正确性</li></ul><p>文件：</p><ul><li>xxx.ibd: xxx 代表表名，InnoDB 引擎的每张表都会对应这样一个表空间文件，存储该表的表结构（frm、sdi）、数据和索引。</li></ul><p>参数：innodb_file_per_table，决定多张表共享一个表空间还是每张表对应一个表空间</p><p>知识点：</p><p>查看 Mysql 变量：<br><code>show variables like 'innodb_file_per_table';</code></p><p>从 idb 文件提取表结构数据：<br>（在 cmd 运行）<br><code>ibd2sdi xxx.ibd</code></p><p>InnoDB 逻辑存储结构：<br><img src="https://dhc.pythonanywhere.com/media/editor/%E9%80%BB%E8%BE%91%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84_20220316030616590001.png" alt="InnoDB逻辑存储结构" title="InnoDB逻辑存储结构"></p><h3 id="MyISAM">MyISAM</h3><p>MyISAM 是 MySQL 早期的默认存储引擎。</p><p>特点：</p><ul><li>不支持事务，不支持外键</li><li>支持表锁，不支持行锁</li><li>访问速度快</li></ul><p>文件：</p><ul><li>xxx.sdi: 存储表结构信息</li><li>xxx.MYD: 存储数据</li><li>xxx.MYI: 存储索引</li></ul><h3 id="Memory">Memory</h3><p>Memory 引擎的表数据是存储在内存中的，受硬件问题、断电问题的影响，只能将这些表作为临时表或缓存使用。</p><p>特点：</p><ul><li>存放在内存中，速度快</li><li>hash 索引（默认）</li></ul><p>文件：</p><ul><li>xxx.sdi: 存储表结构信息</li></ul><h3 id="存储引擎特点">存储引擎特点</h3><table><thead><tr><th>特点</th><th>InnoDB</th><th>MyISAM</th><th>Memory</th></tr></thead><tbody><tr><td>存储限制</td><td>64TB</td><td>有</td><td>有</td></tr><tr><td>事务安全</td><td>支持</td><td>-</td><td>-</td></tr><tr><td>锁机制</td><td>行锁</td><td>表锁</td><td>表锁</td></tr><tr><td>B+tree 索引</td><td>支持</td><td>支持</td><td>支持</td></tr><tr><td>Hash 索引</td><td>-</td><td>-</td><td>支持</td></tr><tr><td>全文索引</td><td>支持（5.6 版本之后）</td><td>支持</td><td>-</td></tr><tr><td>空间使用</td><td>高</td><td>低</td><td>N/A</td></tr><tr><td>内存使用</td><td>高</td><td>低</td><td>中等</td></tr><tr><td>批量插入速度</td><td>低</td><td>高</td><td>高</td></tr><tr><td>支持外键</td><td>支持</td><td>-</td><td>-</td></tr></tbody></table><h3 id="存储引擎的选择">存储引擎的选择</h3><p>在选择存储引擎时，应该根据应用系统的特点选择合适的存储引擎。对于复杂的应用系统，还可以根据实际情况选择多种存储引擎进行组合。</p><ul><li>InnoDB: 如果应用对事物的完整性有比较高的要求，在并发条件下要求数据的一致性，数据操作除了插入和查询之外，还包含很多的更新、删除操作，则 InnoDB 是比较合适的选择</li><li>MyISAM: 如果应用是以读操作和插入操作为主，只有很少的更新和删除操作，并且对事务的完整性、并发性要求不高，那这个存储引擎是非常合适的。</li><li>Memory: 将所有数据保存在内存中，访问速度快，通常用于临时表及缓存。Memory 的缺陷是对表的大小有限制，太大的表无法缓存在内存中，而且无法保障数据的安全性</li></ul><p>电商中的足迹和评论适合使用 MyISAM 引擎，缓存适合使用 Memory 引擎。</p><h2 id="2-2-性能分析">2.2 性能分析</h2><h3 id="查看执行频次">查看执行频次</h3><p>查看当前数据库的 INSERT, UPDATE, DELETE, SELECT 访问频次：<br><code>SHOW GLOBAL STATUS LIKE 'Com_______';</code> 或者 <code>SHOW SESSION STATUS LIKE 'Com_______';</code><br>例：<code>show global status like 'Com_______'</code></p><h3 id="慢查询日志">慢查询日志</h3><p>慢查询日志记录了所有执行时间超过指定参数（long_query_time，单位：秒，默认 10 秒）的所有 SQL 语句的日志。<br>MySQL 的慢查询日志默认没有开启，需要在 MySQL 的配置文件（/etc/my.cnf）中配置如下信息： # 开启慢查询日志开关<br>slow_query_log=1 # 设置慢查询日志的时间为 2 秒，SQL 语句执行时间超过 2 秒，就会视为慢查询，记录慢查询日志<br>long_query_time=2<br>更改后记得重启 MySQL 服务，日志文件位置：/var/lib/mysql/localhost-slow.log</p><p>查看慢查询日志开关状态：<br><code>show variables like 'slow_query_log';</code></p><h3 id="profile">profile</h3><p>show profile 能在做 SQL 优化时帮我们了解时间都耗费在哪里。通过 have_profiling 参数，能看到当前 MySQL 是否支持 profile 操作：<br><code>SELECT @@have_profiling;</code><br>profiling 默认关闭，可以通过 set 语句在 session/global 级别开启 profiling：<br><code>SET profiling = 1;</code><br>查看所有语句的耗时：<br><code>show profiles;</code><br>查看指定 query_id 的 SQL 语句各个阶段的耗时：<br><code>show profile for query query_id;</code><br>查看指定 query_id 的 SQL 语句 CPU 的使用情况<br><code>show profile cpu for query query_id;</code></p><h3 id="explain">explain</h3><p>EXPLAIN 或者 DESC 命令获取 MySQL 如何执行 SELECT 语句的信息，包括在 SELECT 语句执行过程中表如何连接和连接的顺序。<br>语法： # 直接在 select 语句之前加上关键字 explain / desc<br>EXPLAIN SELECT 字段列表 FROM 表名 HWERE 条件;</p><p>EXPLAIN 各字段含义：</p><ul><li>id：select 查询的序列号，表示查询中执行 select 子句或者操作表的顺序（id 相同，执行顺序从上到下；id 不同，值越大越先执行）</li><li>select_type：表示 SELECT 的类型，常见取值有 SIMPLE（简单表，即不适用表连接或者子查询）、PRIMARY（主查询，即外层的查询）、UNION（UNION 中的第二个或者后面的查询语句）、SUBQUERY（SELECT/WHERE 之后包含了子查询）等</li><li>type：表示连接类型，性能由好到差的连接类型为 NULL、system、const、eq_ref、ref、range、index、all</li><li>possible_key：可能应用在这张表上的索引，一个或多个</li><li>Key：实际使用的索引，如果为 NULL，则没有使用索引</li><li>Key_len：表示索引中使用的字节数，该值为索引字段最大可能长度，并非实际使用长度，在不损失精确性的前提下，长度越短越好</li><li>rows：MySQL 认为必须要执行的行数，在 InnoDB 引擎的表中，是一个估计值，可能并不总是准确的</li><li>filtered：表示返回结果的行数占需读取行数的百分比，filtered 的值越大越好</li></ul><h2 id="2-3-索引">2.3 索引</h2><p>索引是帮助 MySQL <strong>高效获取数据</strong>的<strong>数据结构（有序）</strong>。在数据之外，数据库系统还维护着满足特定查找算法的数据结构，这些数据结构以某种方式引用（指向）数据，这样就可以在这些数据结构上实现高级查询算法，这种数据结构就是索引。</p><p>优缺点：</p><p>优点：</p><ul><li>提高数据检索效率，降低数据库的 IO 成本</li><li>通过索引列对数据进行排序，降低数据排序的成本，降低 CPU 的消耗</li></ul><p>缺点：</p><ul><li>索引列也是要占用空间的</li><li>索引大大提高了查询效率，但降低了更新的速度，比如 INSERT、UPDATE、DELETE</li></ul><h3 id="索引结构">索引结构</h3><table><thead><tr><th>索引结构</th><th>描述</th></tr></thead><tbody><tr><td>B+Tree</td><td>最常见的索引类型，大部分引擎都支持 B+树索引</td></tr><tr><td>Hash</td><td>底层数据结构是用哈希表实现，只有精确匹配索引列的查询才有效，不支持范围查询</td></tr><tr><td>R-Tree(空间索引)</td><td>空间索引是 MyISAM 引擎的一个特殊索引类型，主要用于地理空间数据类型，通常使用较少</td></tr><tr><td>Full-Text(全文索引)</td><td>是一种通过建立倒排索引，快速匹配文档的方式，类似于 Lucene, Solr, ES</td></tr></tbody></table><table><thead><tr><th>索引</th><th>InnoDB</th><th>MyISAM</th><th>Memory</th></tr></thead><tbody><tr><td>B+Tree 索引</td><td>支持</td><td>支持</td><td>支持</td></tr><tr><td>Hash 索引</td><td>不支持</td><td>不支持</td><td>支持</td></tr><tr><td>R-Tree 索引</td><td>不支持</td><td>支持</td><td>不支持</td></tr><tr><td>Full-text</td><td>5.6 版本后支持</td><td>支持</td><td>不支持</td></tr></tbody></table><h4 id="B-Tree">B-Tree</h4><p><img src="https://dhc.pythonanywhere.com/media/editor/%E4%BA%8C%E5%8F%89%E6%A0%91_20220316153214227108.png" alt="二叉树" title="二叉树"></p><p>二叉树的缺点可以用红黑树来解决：<br><img src="https://dhc.pythonanywhere.com/media/editor/%E7%BA%A2%E9%BB%91%E6%A0%91_20220316163142686602.png" alt="红黑树" title="红黑树"><br>红黑树也存在大数据量情况下，层级较深，检索速度慢的问题。</p><p>为了解决上述问题，可以使用 B-Tree 结构。<br>B-Tree (多路平衡查找树) 以一棵最大度数（max-degree，指一个节点的子节点个数）为 5（5 阶）的 b-tree 为例（每个节点最多存储 4 个 key，5 个指针）</p><p><img src="https://dhc.pythonanywhere.com/media/editor/B-Tree%E7%BB%93%E6%9E%84_20220316163813441163.png" alt="B-Tree结构" title="B-Tree结构"></p><blockquote><p>B-Tree 的数据插入过程动画参照：<a href="https://www.bilibili.com/video/BV1Kr4y1i7ru?p=68">https://www.bilibili.com/video/BV1Kr4y1i7ru?p=68</a><br>演示地址：<a href="https://www.cs.usfca.edu/~galles/visualization/BTree.html">https://www.cs.usfca.edu/~galles/visualization/BTree.html</a></p></blockquote><h4 id="B-Tree-2">B+Tree</h4><p>结构图：</p><p><img src="https://dhc.pythonanywhere.com/media/editor/B+Tree%E7%BB%93%E6%9E%84%E5%9B%BE_20220316170700591277.png" alt="B+Tree结构图" title="B+Tree结构图"></p><blockquote><p>演示地址：<a href="https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html">https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html</a></p></blockquote><p>与 B-Tree 的区别：</p><ul><li>所有的数据都会出现在叶子节点</li><li>叶子节点形成一个单向链表</li></ul><p>MySQL 索引数据结构对经典的 B+Tree 进行了优化。在原 B+Tree 的基础上，增加一个指向相邻叶子节点的链表指针，就形成了带有顺序指针的 B+Tree，提高区间访问的性能。</p><p><img src="https://dhc.pythonanywhere.com/media/editor/%E7%BB%93%E6%9E%84%E5%9B%BE_20220316171730865611.png" alt="MySQL B+Tree 结构图" title="MySQL B+Tree 结构图"></p><h4 id="Hash">Hash</h4><p>哈希索引就是采用一定的 hash 算法，将键值换算成新的 hash 值，映射到对应的槽位上，然后存储在 hash 表中。<br>如果两个（或多个）键值，映射到一个相同的槽位上，他们就产生了 hash 冲突（也称为 hash 碰撞），可以通过链表来解决。</p><p><img src="https://dhc.pythonanywhere.com/media/editor/Hash%E7%B4%A2%E5%BC%95%E5%8E%9F%E7%90%86%E5%9B%BE_20220317143226150679.png" alt="Hash索引原理图" title="Hash索引原理图"></p><p>特点：</p><ul><li>Hash 索引只能用于对等比较（=、in），不支持范围查询（betwwn、&gt;、&lt;、…）</li><li>无法利用索引完成排序操作</li><li>查询效率高，通常只需要一次检索就可以了，效率通常要高于 B+Tree 索引</li></ul><p>存储引擎支持：</p><ul><li>Memory</li><li>InnoDB: 具有自适应 hash 功能，hash 索引是存储引擎根据 B+Tree 索引在指定条件下自动构建的</li></ul><h4 id="面试题">面试题</h4><ol><li>为什么 InnoDB 存储引擎选择使用 B+Tree 索引结构？</li></ol><ul><li>相对于二叉树，层级更少，搜索效率高</li><li>对于 B-Tree，无论是叶子节点还是非叶子节点，都会保存数据，这样导致一页中存储的键值减少，指针也跟着减少，要同样保存大量数据，只能增加树的高度，导致性能降低</li><li>相对于 Hash 索引，B+Tree 支持范围匹配及排序操作</li></ul><h3 id="索引分类">索引分类</h3><table><thead><tr><th>分类</th><th>含义</th><th>特点</th><th>关键字</th></tr></thead><tbody><tr><td>主键索引</td><td>针对于表中主键创建的索引</td><td>默认自动创建，只能有一个</td><td>PRIMARY</td></tr><tr><td>唯一索引</td><td>避免同一个表中某数据列中的值重复</td><td>可以有多个</td><td>UNIQUE</td></tr><tr><td>常规索引</td><td>快速定位特定数据</td><td>可以有多个</td><td></td></tr><tr><td>全文索引</td><td>全文索引查找的是文本中的关键词，而不是比较索引中的值</td><td>可以有多个</td><td>FULLTEXT</td></tr></tbody></table><p>在 InnoDB 存储引擎中，根据索引的存储形式，又可以分为以下两种：</p><table><thead><tr><th>分类</th><th>含义</th><th>特点</th></tr></thead><tbody><tr><td>聚集索引(Clustered Index)</td><td>将数据存储与索引放一块，索引结构的叶子节点保存了行数据</td><td>必须有，而且只有一个</td></tr><tr><td>二级索引(Secondary Index)</td><td>将数据与索引分开存储，索引结构的叶子节点关联的是对应的主键</td><td>可以存在多个</td></tr></tbody></table><p>演示图：</p><p><img src="https://dhc.pythonanywhere.com/media/editor/%E5%8E%9F%E7%90%86%E5%9B%BE_20220318194454880073.png" alt="大致原理" title="大致原理"><br><img src="https://dhc.pythonanywhere.com/media/editor/%E6%BC%94%E7%A4%BA%E5%9B%BE_20220319215403721066.png" alt="演示图" title="演示图"></p><p>聚集索引选取规则：</p><ul><li>如果存在主键，主键索引就是聚集索引</li><li>如果不存在主键，将使用第一个唯一(UNIQUE)索引作为聚集索引</li><li>如果表没有主键或没有合适的唯一索引，则 InnoDB 会自动生成一个 rowid 作为隐藏的聚集索引</li></ul><h4 id="思考题">思考题</h4><p>1. 以下 SQL 语句，哪个执行效率高？为什么？</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;Arm&#x27;</span>;</span><br><span class="line"><span class="comment">-- 备注：id为主键，name字段创建的有索引</span></span><br></pre></td></tr></table></figure><p>答：第一条语句，因为第二条需要回表查询，相当于两个步骤。</p><p>2. InnoDB 主键索引的 B+Tree 高度为多少？</p><p>答：假设一行数据大小为 1k，一页中可以存储 16 行这样的数据。InnoDB 的指针占用 6 个字节的空间，主键假设为 bigint，占用字节数为 8.<br>可得公式：<code>n * 8 + (n + 1) * 6 = 16 * 1024</code>，其中 8 表示 bigint 占用的字节数，n 表示当前节点存储的 key 的数量，(n + 1) 表示指针数量（比 key 多一个）。算出 n 约为 1170。</p><p>如果树的高度为 2，那么他能存储的数据量大概为：<code>1171 * 16 = 18736</code>；<br>如果树的高度为 3，那么他能存储的数据量大概为：<code>1171 * 1171 * 16 = 21939856</code>。</p><p>另外，如果有成千上万的数据，那么就要考虑分表，涉及运维篇知识。</p><h3 id="语法">语法</h3><p>创建索引：<br><code>CREATE [ UNIQUE | FULLTEXT ] INDEX index_name ON table_name (index_col_name, ...);</code><br>如果不加 CREATE 后面不加索引类型参数，则创建的是常规索引</p><p>查看索引：<br><code>SHOW INDEX FROM table_name;</code></p><p>删除索引：<br><code>DROP INDEX index_name ON table_name;</code></p><p>案例：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- name字段为姓名字段，该字段的值可能会重复，为该字段创建索引</span></span><br><span class="line"><span class="keyword">create</span> index idx_user_name <span class="keyword">on</span> tb_user(name);</span><br><span class="line"><span class="comment">-- phone手机号字段的值非空，且唯一，为该字段创建唯一索引</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> index idx_user_phone <span class="keyword">on</span> tb_user (phone);</span><br><span class="line"><span class="comment">-- 为profession, age, status创建联合索引</span></span><br><span class="line"><span class="keyword">create</span> index idx_user_pro_age_stat <span class="keyword">on</span> tb_user(profession, age, status);</span><br><span class="line"><span class="comment">-- 为email建立合适的索引来提升查询效率</span></span><br><span class="line"><span class="keyword">create</span> index idx_user_email <span class="keyword">on</span> tb_user(email);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除索引</span></span><br><span class="line"><span class="keyword">drop</span> index idx_user_email <span class="keyword">on</span> tb_user;</span><br></pre></td></tr></table></figure><h3 id="使用规则">使用规则</h3><h4 id="最左前缀法则">最左前缀法则</h4><p>如果索引关联了多列（联合索引），要遵守最左前缀法则，最左前缀法则指的是查询从索引的最左列开始，并且不跳过索引中的列。<br>如果跳跃某一列，索引将部分失效（后面的字段索引失效）。</p><p>联合索引中，出现范围查询（&lt;, &gt;），范围查询右侧的列索引失效。可以用&gt;=或者&lt;=来规避索引失效问题。</p><h4 id="索引失效情况">索引失效情况</h4><ol><li>在索引列上进行运算操作，索引将失效。如：<code>explain select * from tb_user where substring(phone, 10, 2) = '15';</code></li><li>字符串类型字段使用时，不加引号，索引将失效。如：<code>explain select * from tb_user where phone = 17799990015;</code>，此处 phone 的值没有加引号</li><li>模糊查询中，如果仅仅是尾部模糊匹配，索引不会是失效；如果是头部模糊匹配，索引失效。如：<code>explain select * from tb_user where profession like '%工程';</code>，前后都有 % 也会失效。</li><li>用 or 分割开的条件，如果 or 其中一个条件的列没有索引，那么涉及的索引都不会被用到。</li><li>如果 MySQL 评估使用索引比全表更慢，则不使用索引。</li></ol><h4 id="SQL-提示">SQL 提示</h4><p>是优化数据库的一个重要手段，简单来说，就是在 SQL 语句中加入一些人为的提示来达到优化操作的目的。</p><p>例如，使用索引：<br><code>explain select * from tb_user use index(idx_user_pro) where profession=&quot;软件工程&quot;;</code><br>不使用哪个索引：<br><code>explain select * from tb_user ignore index(idx_user_pro) where profession=&quot;软件工程&quot;;</code><br>必须使用哪个索引：<br><code>explain select * from tb_user force index(idx_user_pro) where profession=&quot;软件工程&quot;;</code></p><p>use 是建议，实际使用哪个索引 MySQL 还会自己权衡运行速度去更改，force 就是无论如何都强制使用该索引。</p><h4 id="覆盖索引-回表查询">覆盖索引&amp;回表查询</h4><p>尽量使用覆盖索引（查询使用了索引，并且需要返回的列，在该索引中已经全部能找到），减少 select *。</p><p>explain 中 extra 字段含义：<br><code>using index condition</code>：查找使用了索引，但是需要回表查询数据<br><code>using where; using index;</code>：查找使用了索引，但是需要的数据都在索引列中能找到，所以不需要回表查询</p><p>如果在聚集索引中直接能找到对应的行，则直接返回行数据，只需要一次查询，哪怕是 select *；如果在辅助索引中找聚集索引，如<code>select id, name from xxx where name='xxx';</code>，也只需要通过辅助索引(name)查找到对应的 id，返回 name 和 name 索引对应的 id 即可，只需要一次查询；如果是通过辅助索引查找其他字段，则需要回表查询，如<code>select id, name, gender from xxx where name='xxx';</code></p><p>所以尽量不要用<code>select *</code>，容易出现回表查询，降低效率，除非有联合索引包含了所有字段</p><p>面试题：一张表，有四个字段（id, username, password, status），由于数据量大，需要对以下 SQL 语句进行优化，该如何进行才是最优方案：<br><code>select id, username, password from tb_user where username='itcast';</code></p><p>解：给 username 和 password 字段建立联合索引，则不需要回表查询，直接覆盖索引</p><h4 id="前缀索引">前缀索引</h4><p>当字段类型为字符串（varchar, text 等）时，有时候需要索引很长的字符串，这会让索引变得很大，查询时，浪费大量的磁盘 IO，影响查询效率，此时可以只降字符串的一部分前缀，建立索引，这样可以大大节约索引空间，从而提高索引效率。</p><p>语法：<code>create index idx_xxxx on table_name(columnn(n));</code><br>前缀长度：可以根据索引的选择性来决定，而选择性是指不重复的索引值（基数）和数据表的记录总数的比值，索引选择性越高则查询效率越高，唯一索引的选择性是 1，这是最好的索引选择性，性能也是最好的。<br>求选择性公式：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> email) <span class="operator">/</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> tb_user;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> <span class="built_in">substring</span>(email, <span class="number">1</span>, <span class="number">5</span>)) <span class="operator">/</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> tb_user;</span><br></pre></td></tr></table></figure><p>show index 里面的 sub_part 可以看到接取的长度</p><h4 id="单列索引-联合索引">单列索引&amp;联合索引</h4><p>单列索引：即一个索引只包含单个列<br>联合索引：即一个索引包含了多个列<br>在业务场景中，如果存在多个查询条件，考虑针对于查询字段建立索引时，建议建立联合索引，而非单列索引。</p><p>单列索引情况：<br><code>explain select id, phone, name from tb_user where phone = '17799990010' and name = '韩信';</code><br>这句只会用到 phone 索引字段</p><h5 id="注意事项-9">注意事项</h5><ul><li>多条件联合查询时，MySQL 优化器会评估哪个字段的索引效率更高，会选择该索引完成本次查询</li></ul><h3 id="设计原则">设计原则</h3><ol><li>针对于数据量较大，且查询比较频繁的表建立索引</li><li>针对于常作为查询条件（where）、排序（order by）、分组（group by）操作的字段建立索引</li><li>尽量选择区分度高的列作为索引，尽量建立唯一索引，区分度越高，使用索引的效率越高</li><li>如果是字符串类型的字段，字段长度较长，可以针对于字段的特点，建立前缀索引</li><li>尽量使用联合索引，减少单列索引，查询时，联合索引很多时候可以覆盖索引，节省存储空间，避免回表，提高查询效率</li><li>要控制索引的数量，索引并不是多多益善，索引越多，维护索引结构的代价就越大，会影响增删改的效率</li><li>如果索引列不能存储 NULL 值，请在创建表时使用 NOT NULL 约束它。当优化器知道每列是否包含 NULL 值时，它可以更好地确定哪个索引最有效地用于查询</li></ol><h2 id="2-4-SQL-优化">2.4 SQL 优化</h2><h3 id="插入数据">插入数据</h3><p>普通插入：</p><ol><li>采用批量插入（一次插入的数据不建议超过 1000 条）</li><li>手动提交事务</li><li>主键顺序插入</li></ol><p>大批量插入：<br>如果一次性需要插入大批量数据，使用 insert 语句插入性能较低，此时可以使用 MySQL 数据库提供的 load 指令插入。</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># 客户端连接服务端时，加上参数 <span class="comment">--local-infile（这一行在bash/cmd界面输入）</span></span><br><span class="line">mysql <span class="comment">--local-infile -u root -p</span></span><br><span class="line"># 设置全局参数local_infile为<span class="number">1</span>，开启从本地加载文件导入数据的开关</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> local_infile <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">select</span> @<span class="variable">@local</span>_infile;</span><br><span class="line"># 执行load指令将准备好的数据，加载到表结构中</span><br><span class="line">load data <span class="keyword">local</span> infile <span class="string">&#x27;/root/sql1.log&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> <span class="string">&#x27;tb_user&#x27;</span> fields terminated <span class="keyword">by</span> <span class="string">&#x27;,&#x27;</span> lines terminated <span class="keyword">by</span> <span class="string">&#x27;\n&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="主键优化">主键优化</h3><p>数据组织方式：在 InnoDB 存储引擎中，表数据都是根据主键顺序组织存放的，这种存储方式的表称为索引组织表（Index organized table, IOT）</p><p>页分裂：页可以为空，也可以填充一般，也可以填充 100%，每个页包含了 2-N 行数据（如果一行数据过大，会行溢出），根据主键排列。<br>页合并：当删除一行记录时，实际上记录并没有被物理删除，只是记录被标记（flaged）为删除并且它的空间变得允许被其他记录声明使用。当页中删除的记录到达 MERGE_THRESHOLD（默认为页的 50%），InnoDB 会开始寻找最靠近的页（前后）看看是否可以将这两个页合并以优化空间使用。</p><p>MERGE_THRESHOLD：合并页的阈值，可以自己设置，在创建表或创建索引时指定</p><blockquote><p>文字说明不够清晰明了，具体可以看视频里的 PPT 演示过程：<a href="https://www.bilibili.com/video/BV1Kr4y1i7ru?p=90">https://www.bilibili.com/video/BV1Kr4y1i7ru?p=90</a></p></blockquote><p>主键设计原则：</p><ul><li>满足业务需求的情况下，尽量降低主键的长度</li><li>插入数据时，尽量选择顺序插入，选择使用 AUTO_INCREMENT 自增主键</li><li>尽量不要使用 UUID 做主键或者是其他的自然主键，如身份证号</li><li>业务操作时，避免对主键的修改</li></ul><h3 id="order-by-优化">order by 优化</h3><ol><li>Using filesort：通过表的索引或全表扫描，读取满足条件的数据行，然后在排序缓冲区 sort buffer 中完成排序操作，所有不是通过索引直接返回排序结果的排序都叫 FileSort 排序</li><li>Using index：通过有序索引顺序扫描直接返回有序数据，这种情况即为 using index，不需要额外排序，操作效率高</li></ol><p>如果 order by 字段全部使用升序排序或者降序排序，则都会走索引，但是如果一个字段升序排序，另一个字段降序排序，则不会走索引，explain 的 extra 信息显示的是<code>Using index, Using filesort</code>，如果要优化掉 Using filesort，则需要另外再创建一个索引，如：<code>create index idx_user_age_phone_ad on tb_user(age asc, phone desc);</code>，此时使用<code>select id, age, phone from tb_user order by age asc, phone desc;</code>会全部走索引</p><p>总结：</p><ul><li>根据排序字段建立合适的索引，多字段排序时，也遵循最左前缀法则</li><li>尽量使用覆盖索引</li><li>多字段排序，一个升序一个降序，此时需要注意联合索引在创建时的规则（ASC/DESC）</li><li>如果不可避免出现 filesort，大数据量排序时，可以适当增大排序缓冲区大小 sort_buffer_size（默认 256k）</li></ul><h3 id="group-by-优化">group by 优化</h3><ul><li>在分组操作时，可以通过索引来提高效率</li><li>分组操作时，索引的使用也是满足最左前缀法则的</li></ul><p>如索引为<code>idx_user_pro_age_stat</code>，则句式可以是<code>select ... where profession order by age</code>，这样也符合最左前缀法则</p><h3 id="limit-优化">limit 优化</h3><p>常见的问题如<code>limit 2000000, 10</code>，此时需要 MySQL 排序前 2000000 条记录，但仅仅返回 2000000 - 2000010 的记录，其他记录丢弃，查询排序的代价非常大。<br>优化方案：一般分页查询时，通过创建覆盖索引能够比较好地提高性能，可以通过覆盖索引加子查询形式进行优化</p><p>例如：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 此语句耗时很长</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_sku limit <span class="number">9000000</span>, <span class="number">10</span>;</span><br><span class="line"><span class="comment">-- 通过覆盖索引加快速度，直接通过主键索引进行排序及查询</span></span><br><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> tb_sku <span class="keyword">order</span> <span class="keyword">by</span> id limit <span class="number">9000000</span>, <span class="number">10</span>;</span><br><span class="line"><span class="comment">-- 下面的语句是错误的，因为 MySQL 不支持 in 里面使用 limit</span></span><br><span class="line"><span class="comment">-- select * from tb_sku where id in (select id from tb_sku order by id limit 9000000, 10);</span></span><br><span class="line"><span class="comment">-- 通过连表查询即可实现第一句的效果，并且能达到第二句的速度</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_sku <span class="keyword">as</span> s, (<span class="keyword">select</span> id <span class="keyword">from</span> tb_sku <span class="keyword">order</span> <span class="keyword">by</span> id limit <span class="number">9000000</span>, <span class="number">10</span>) <span class="keyword">as</span> a <span class="keyword">where</span> s.id <span class="operator">=</span> a.id;</span><br></pre></td></tr></table></figure><h3 id="count-优化">count 优化</h3><p>MyISAM 引擎把一个表的总行数存在了磁盘上，因此执行 count(*) 的时候会直接返回这个数，效率很高（前提是不适用 where）；<br>InnoDB 在执行 count(*) 时，需要把数据一行一行地从引擎里面读出来，然后累计计数。<br>优化方案：自己计数，如创建 key-value 表存储在内存或硬盘，或者是用 redis</p><p>count 的几种用法：</p><ul><li>如果 count 函数的参数（count 里面写的那个字段）不是 NULL（字段值不为 NULL），累计值就加一，最后返回累计值</li><li>用法：count(*)、count(主键)、count(字段)、count(1)</li><li>count(主键)跟 count(*)一样，因为主键不能为空；count(字段)只计算字段值不为 NULL 的行；count(1)引擎会为每行添加一个 1，然后就 count 这个 1，返回结果也跟 count(*)一样；count(null)返回 0</li></ul><p>各种用法的性能：</p><ul><li>count(主键)：InnoDB 引擎会遍历整张表，把每行的主键 id 值都取出来，返回给服务层，服务层拿到主键后，直接按行进行累加（主键不可能为空）</li><li>count(字段)：没有 not null 约束的话，InnoDB 引擎会遍历整张表把每一行的字段值都取出来，返回给服务层，服务层判断是否为 null，不为 null，计数累加；有 not null 约束的话，InnoDB 引擎会遍历整张表把每一行的字段值都取出来，返回给服务层，直接按行进行累加</li><li>count(1)：InnoDB 引擎遍历整张表，但不取值。服务层对于返回的每一层，放一个数字 1 进去，直接按行进行累加</li><li>count(*)：InnoDB 引擎并不会把全部字段取出来，而是专门做了优化，不取值，服务层直接按行进行累加</li></ul><p>按效率排序：count(字段) &lt; count(主键) &lt; count(1) &lt; count(*)，所以尽量使用 count(*)</p><h3 id="update-优化（避免行锁升级为表锁）">update 优化（避免行锁升级为表锁）</h3><p>InnoDB 的行锁是针对索引加的锁，不是针对记录加的锁，并且该索引不能失效，否则会从行锁升级为表锁。</p><p>如以下两条语句：<br><code>update student set no = '123' where id = 1;</code>，这句由于 id 有主键索引，所以只会锁这一行；<br><code>update student set no = '123' where name = 'test';</code>，这句由于 name 没有索引，所以会把整张表都锁住进行数据更新，解决方法是给 name 字段添加索引</p><h1>3.数据类型</h1><h2 id="整型">整型</h2><table><thead><tr><th>类型名称</th><th>取值范围</th><th>大小</th></tr></thead><tbody><tr><td>TINYINT</td><td>-128〜127</td><td>1 个字节</td></tr><tr><td>SMALLINT</td><td>-32768〜32767</td><td>2 个宇节</td></tr><tr><td>MEDIUMINT</td><td>-8388608〜8388607</td><td>3 个字节</td></tr><tr><td>INT (INTEGHR)</td><td>-2147483648〜2147483647</td><td>4 个字节</td></tr><tr><td>BIGINT</td><td>-9223372036854775808〜9223372036854775807</td><td>8 个字节</td></tr></tbody></table><p>无符号在数据类型后加 unsigned 关键字。</p><h2 id="浮点型">浮点型</h2><table><thead><tr><th>类型名称</th><th>说明</th><th>存储需求</th></tr></thead><tbody><tr><td>FLOAT</td><td>单精度浮点数</td><td>4 个字节</td></tr><tr><td>DOUBLE</td><td>双精度浮点数</td><td>8 个字节</td></tr><tr><td>DECIMAL (M, D)，DEC</td><td>压缩的“严格”定点数</td><td>M+2 个字节</td></tr></tbody></table><h2 id="日期和时间">日期和时间</h2><table><thead><tr><th>类型名称</th><th>日期格式</th><th>日期范围</th><th>存储需求</th></tr></thead><tbody><tr><td>YEAR</td><td>YYYY</td><td>1901 ~ 2155</td><td>1 个字节</td></tr><tr><td>TIME</td><td>HH:MM:SS</td><td>-838:59:59 ~ 838:59:59</td><td>3 个字节</td></tr><tr><td>DATE</td><td>YYYY-MM-DD</td><td>1000-01-01 ~ 9999-12-3</td><td>3 个字节</td></tr><tr><td>DATETIME</td><td>YYYY-MM-DD HH:MM:SS</td><td>1000-01-01 00:00:00 ~ 9999-12-31 23:59:59</td><td>8 个字节</td></tr><tr><td>TIMESTAMP</td><td>YYYY-MM-DD HH:MM:SS</td><td>1980-01-01 00:00:01 UTC ~ 2040-01-19 03:14:07 UTC</td><td>4 个字节</td></tr></tbody></table><h2 id="字符串">字符串</h2><table><thead><tr><th>类型名称</th><th>说明</th><th>存储需求</th></tr></thead><tbody><tr><td>CHAR(M)</td><td>固定长度非二进制字符串</td><td>M 字节，1&lt;=M&lt;=255</td></tr><tr><td>VARCHAR(M)</td><td>变长非二进制字符串</td><td>L+1 字节，在此，L&lt; = M 和 1&lt;=M&lt;=255</td></tr><tr><td>TINYTEXT</td><td>非常小的非二进制字符串</td><td>L+1 字节，在此，L&lt;2^8</td></tr><tr><td>TEXT</td><td>小的非二进制字符串</td><td>L+2 字节，在此，L&lt;2^16</td></tr><tr><td>MEDIUMTEXT</td><td>中等大小的非二进制字符串</td><td>L+3 字节，在此，L&lt;2^24</td></tr><tr><td>LONGTEXT</td><td>大的非二进制字符串</td><td>L+4 字节，在此，L&lt;2^32</td></tr><tr><td>ENUM</td><td>枚举类型，只能有一个枚举字符串值</td><td>1 或 2 个字节，取决于枚举值的数目 (最大值为 65535)</td></tr><tr><td>SET</td><td>一个设置，字符串对象可以有零个或 多个 SET 成员</td><td>1、2、3、4 或 8 个字节，取决于集合 成员的数量（最多 64 个成员）</td></tr></tbody></table><h2 id="二进制类型">二进制类型</h2><table><thead><tr><th>类型名称</th><th>说明</th><th>存储需求</th></tr></thead><tbody><tr><td>BIT(M)</td><td>位字段类型</td><td>大约 (M+7)/8 字节</td></tr><tr><td>BINARY(M)</td><td>固定长度二进制字符串</td><td>M 字节</td></tr><tr><td>VARBINARY (M)</td><td>可变长度二进制字符串</td><td>M+1 字节</td></tr><tr><td>TINYBLOB (M)</td><td>非常小的 BLOB</td><td>L+1 字节，在此，L&lt;2^8</td></tr><tr><td>BLOB (M)</td><td>小 BLOB</td><td>L+2 字节，在此，L&lt;2^16</td></tr><tr><td>MEDIUMBLOB (M)</td><td>中等大小的 BLOB</td><td>L+3 字节，在此，L&lt;2^24</td></tr><tr><td>LONGBLOB (M)</td><td>非常大的 BLOB</td><td>L+4 字节，在此，L&lt;2^32</td></tr></tbody></table><h1>4.权限一览表</h1><blockquote><p>具体权限的作用详见<a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html" title="官方文档">官方文档</a></p></blockquote><p>GRANT 和 REVOKE 允许的静态权限</p><table><thead><tr><th style="text-align:left">Privilege</th><th style="text-align:left">Grant Table Column</th><th style="text-align:left">Context</th></tr></thead><tbody><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_all"><code>ALL [PRIVILEGES]</code></a></td><td style="text-align:left">Synonym for “all privileges”</td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_alter"><code>ALTER</code></a></td><td style="text-align:left"><code>Alter_priv</code></td><td style="text-align:left">Tables</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_alter-routine"><code>ALTER ROUTINE</code></a></td><td style="text-align:left"><code>Alter_routine_priv</code></td><td style="text-align:left">Stored routines</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create"><code>CREATE</code></a></td><td style="text-align:left"><code>Create_priv</code></td><td style="text-align:left">Databases, tables, or indexes</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-role"><code>CREATE ROLE</code></a></td><td style="text-align:left"><code>Create_role_priv</code></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-routine"><code>CREATE ROUTINE</code></a></td><td style="text-align:left"><code>Create_routine_priv</code></td><td style="text-align:left">Stored routines</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-tablespace"><code>CREATE TABLESPACE</code></a></td><td style="text-align:left"><code>Create_tablespace_priv</code></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-temporary-tables"><code>CREATE TEMPORARY TABLES</code></a></td><td style="text-align:left"><code>Create_tmp_table_priv</code></td><td style="text-align:left">Tables</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-user"><code>CREATE USER</code></a></td><td style="text-align:left"><code>Create_user_priv</code></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-view"><code>CREATE VIEW</code></a></td><td style="text-align:left"><code>Create_view_priv</code></td><td style="text-align:left">Views</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_delete"><code>DELETE</code></a></td><td style="text-align:left"><code>Delete_priv</code></td><td style="text-align:left">Tables</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_drop"><code>DROP</code></a></td><td style="text-align:left"><code>Drop_priv</code></td><td style="text-align:left">Databases, tables, or views</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_drop-role"><code>DROP ROLE</code></a></td><td style="text-align:left"><code>Drop_role_priv</code></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_event"><code>EVENT</code></a></td><td style="text-align:left"><code>Event_priv</code></td><td style="text-align:left">Databases</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_execute"><code>EXECUTE</code></a></td><td style="text-align:left"><code>Execute_priv</code></td><td style="text-align:left">Stored routines</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_file"><code>FILE</code></a></td><td style="text-align:left"><code>File_priv</code></td><td style="text-align:left">File access on server host</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_grant-option"><code>GRANT OPTION</code></a></td><td style="text-align:left"><code>Grant_priv</code></td><td style="text-align:left">Databases, tables, or stored routines</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_index"><code>INDEX</code></a></td><td style="text-align:left"><code>Index_priv</code></td><td style="text-align:left">Tables</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_insert"><code>INSERT</code></a></td><td style="text-align:left"><code>Insert_priv</code></td><td style="text-align:left">Tables or columns</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_lock-tables"><code>LOCK TABLES</code></a></td><td style="text-align:left"><code>Lock_tables_priv</code></td><td style="text-align:left">Databases</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_process"><code>PROCESS</code></a></td><td style="text-align:left"><code>Process_priv</code></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_proxy"><code>PROXY</code></a></td><td style="text-align:left">See <code>proxies_priv</code> table</td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_references"><code>REFERENCES</code></a></td><td style="text-align:left"><code>References_priv</code></td><td style="text-align:left">Databases or tables</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_reload"><code>RELOAD</code></a></td><td style="text-align:left"><code>Reload_priv</code></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-client"><code>REPLICATION CLIENT</code></a></td><td style="text-align:left"><code>Repl_client_priv</code></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-slave"><code>REPLICATION SLAVE</code></a></td><td style="text-align:left"><code>Repl_slave_priv</code></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_select"><code>SELECT</code></a></td><td style="text-align:left"><code>Select_priv</code></td><td style="text-align:left">Tables or columns</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-databases"><code>SHOW DATABASES</code></a></td><td style="text-align:left"><code>Show_db_priv</code></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-view"><code>SHOW VIEW</code></a></td><td style="text-align:left"><code>Show_view_priv</code></td><td style="text-align:left">Views</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_shutdown"><code>SHUTDOWN</code></a></td><td style="text-align:left"><code>Shutdown_priv</code></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_super"><code>SUPER</code></a></td><td style="text-align:left"><code>Super_priv</code></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_trigger"><code>TRIGGER</code></a></td><td style="text-align:left"><code>Trigger_priv</code></td><td style="text-align:left">Tables</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_update"><code>UPDATE</code></a></td><td style="text-align:left"><code>Update_priv</code></td><td style="text-align:left">Tables or columns</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_usage"><code>USAGE</code></a></td><td style="text-align:left">Synonym for “no privileges”</td><td style="text-align:left">Server administration</td></tr></tbody></table><p>GRANT 和 REVOKE 允许的动态权限</p><table><thead><tr><th style="text-align:left">Privilege</th><th style="text-align:left">Context</th></tr></thead><tbody><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_application-password-admin"><code>APPLICATION_PASSWORD_ADMIN</code></a></td><td style="text-align:left">Dual password administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_audit-abort-exempt"><code>AUDIT_ABORT_EXEMPT</code></a></td><td style="text-align:left">Allow queries blocked by audit log filter</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_audit-admin"><code>AUDIT_ADMIN</code></a></td><td style="text-align:left">Audit log administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_authentication-policy-admin"><code>AUTHENTICATION_POLICY_ADMIN</code></a></td><td style="text-align:left">Authentication administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_backup-admin"><code>BACKUP_ADMIN</code></a></td><td style="text-align:left">Backup administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_binlog-admin"><code>BINLOG_ADMIN</code></a></td><td style="text-align:left">Backup and Replication administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_binlog-encryption-admin"><code>BINLOG_ENCRYPTION_ADMIN</code></a></td><td style="text-align:left">Backup and Replication administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_clone-admin"><code>CLONE_ADMIN</code></a></td><td style="text-align:left">Clone administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin"><code>CONNECTION_ADMIN</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_encryption-key-admin"><code>ENCRYPTION_KEY_ADMIN</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-admin"><code>FIREWALL_ADMIN</code></a></td><td style="text-align:left">Firewall administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-exempt"><code>FIREWALL_EXEMPT</code></a></td><td style="text-align:left">Firewall administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-user"><code>FIREWALL_USER</code></a></td><td style="text-align:left">Firewall administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-optimizer-costs"><code>FLUSH_OPTIMIZER_COSTS</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-status"><code>FLUSH_STATUS</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-tables"><code>FLUSH_TABLES</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-user-resources"><code>FLUSH_USER_RESOURCES</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-admin"><code>GROUP_REPLICATION_ADMIN</code></a></td><td style="text-align:left">Replication administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-stream"><code>GROUP_REPLICATION_STREAM</code></a></td><td style="text-align:left">Replication administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_innodb-redo-log-archive"><code>INNODB_REDO_LOG_ARCHIVE</code></a></td><td style="text-align:left">Redo log archiving administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_ndb-stored-user"><code>NDB_STORED_USER</code></a></td><td style="text-align:left">NDB Cluster</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_passwordless-user-admin"><code>PASSWORDLESS_USER_ADMIN</code></a></td><td style="text-align:left">Authentication administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_persist-ro-variables-admin"><code>PERSIST_RO_VARIABLES_ADMIN</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-applier"><code>REPLICATION_APPLIER</code></a></td><td style="text-align:left"><code>PRIVILEGE_CHECKS_USER</code> for a replication channel</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-slave-admin"><code>REPLICATION_SLAVE_ADMIN</code></a></td><td style="text-align:left">Replication administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_resource-group-admin"><code>RESOURCE_GROUP_ADMIN</code></a></td><td style="text-align:left">Resource group administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_resource-group-user"><code>RESOURCE_GROUP_USER</code></a></td><td style="text-align:left">Resource group administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_role-admin"><code>ROLE_ADMIN</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_session-variables-admin"><code>SESSION_VARIABLES_ADMIN</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_set-user-id"><code>SET_USER_ID</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-routine"><code>SHOW_ROUTINE</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-user"><code>SYSTEM_USER</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-variables-admin"><code>SYSTEM_VARIABLES_ADMIN</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_table-encryption-admin"><code>TABLE_ENCRYPTION_ADMIN</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_version-token-admin"><code>VERSION_TOKEN_ADMIN</code></a></td><td style="text-align:left">Server administration</td></tr><tr><td style="text-align:left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_xa-recover-admin"><code>XA_RECOVER_ADMIN</code></a></td><td style="text-align:left">Server administration</td></tr></tbody></table><h1>5.图形化界面工具</h1><ul><li>Workbench(免费): <a href="http://dev.mysql.com/downloads/workbench/">http://dev.mysql.com/downloads/workbench/</a></li><li>navicat(收费，试用版 30 天): <a href="https://www.navicat.com/en/download/navicat-for-mysql">https://www.navicat.com/en/download/navicat-for-mysql</a></li><li>Sequel Pro(开源免费，仅支持 Mac OS): <a href="http://www.sequelpro.com/">http://www.sequelpro.com/</a></li><li>HeidiSQL(免费): <a href="http://www.heidisql.com/">http://www.heidisql.com/</a></li><li>phpMyAdmin(免费): <a href="https://www.phpmyadmin.net/">https://www.phpmyadmin.net/</a></li><li>SQLyog: <a href="https://sqlyog.en.softonic.com/">https://sqlyog.en.softonic.com/</a></li></ul><h1>6.安装</h1><h1>7.小技巧</h1><ol><li>在 SQL 语句之后加上<code>\G</code>会将结果的表格形式转换成行文本形式</li><li>查看 Mysql 数据库占用空间：</li></ol><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> table_schema &quot;Database Name&quot;</span><br><span class="line">     , <span class="built_in">SUM</span>(data_length <span class="operator">+</span> index_length) <span class="operator">/</span> (<span class="number">1024</span> <span class="operator">*</span> <span class="number">1024</span>) &quot;Database Size in MB&quot;</span><br><span class="line"><span class="keyword">FROM</span> information_schema.TABLES</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> table_schema;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> 关系型数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>单调队列专题</title>
      <link href="/posts/cedcefe1.html"/>
      <url>/posts/cedcefe1.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-剑指-Offer-59-I-滑动窗口的最大值"><a href="https://leetcode.cn/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof/">1.剑指 Offer 59 - I. 滑动窗口的最大值</a></h3><p>给定一个数组 nums 和滑动窗口的大小 k，请找出所有滑动窗口里的最大值。</p><p>示例：</p><p><img src="https://s1.vika.cn/space/2022/09/30/d5df09451496480daf38ac2530116d49" alt="p23"></p><p><strong>思路</strong></p><p><strong>单调双端队列+滑窗：O(N)</strong></p><p>注意:</p><p><strong>1.边界条件:</strong></p><p>1.1 输入数组为空的情况；</p><p>1.2 队列弹出时注意前面加上判空操作；</p><p>1.3 peekFirst()与pollFirst()的用法区别；</p><p><strong>2.思路溯源：</strong></p><p>这里如果用暴力遍历的话，窗口每变化一次都要遍历所有元素找出当前窗口的最大值，渐进时间复杂度为:<strong>O(N*K)</strong></p><p>这里的输入上限为10^5说明总的运算量要达到10^10，绝对会超时的，10^5的输入理论复杂度上限大致在<strong>O(NlogN)</strong></p><p>因此必须要寻找复杂度更低的算法进行求解</p><p>那么最核心的问题就来了，如何在比O(N)小的时间复杂度内找出的窗口最大值呢?</p><p>办法其实有几种：一种可以用树形数据结构如<strong>堆、红黑树</strong>等，此时时间复杂度为O(logN)</p><p>还有一种就是<strong>单调双端队列</strong>：单调双端队列内部维护的仅仅是对于当前窗口所有可能的最大值</p><p>且最大值的顺序与窗口的走势一致，队头位置的最大值是目前窗口的最大值，并且是即将要第一个退出的</p><p>eg：队头[6, 5, 4, 3]队尾</p><p><strong>当有新元素nums[i]加入时是从队尾加入的：</strong></p><p>1.当<strong>nums[i]&gt;队尾</strong>时，队尾的可以弹出。</p><p>因为队尾的都不够nums[i]大，而窗口的中肯定是前面的队尾在前面，因此当前状态的最大值必定轮不到队尾</p><p>轮了nums[i]才会轮到队尾的元素，换句话说就是<strong>队尾元素不可能成为窗口最大值</strong></p><p>2.当<strong>nums[i]&lt;=队尾</strong>时，此时可以让队列保持单调递增(非严格)，nums[i]直接加入队尾。</p><p>因为队尾的元素&gt;=nums[i]，还是有可能成为最大值的，试想一下窗口只剩下 <strong>[队尾，nums[i]]</strong></p><p>因此队尾是一定要保留的，而nums[i]也要加入，因为后面可能有比nums[i]更小的！</p><p><strong>当有元素要弹出时是从队头弹出的：</strong></p><p>维护窗口的过程中，总有元素从左边退出。若该元素是队头元素就要弹出，因为单调队列维护的是<strong>窗口本身的可能的最大值</strong>，所以肯定要与窗口同步的；那不是队头的元素弹出窗口为何不用管？因为这些元素弹出不会影响窗口的最大值，eg:[1, 3, -1, -2]，此时-2要加入窗口，1要弹出窗口；此时队列尾[3, -1，-2]，最大值始终还是3，而1的位置在3出现之时已经不可能成为窗口最大值，谁叫她数值小并且先于3出现！因此1的退出不会影响窗口的最大值，而3的退出就会使得最大值从3变为-1。好好思考一下…</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">给定一个数组 nums 和滑动窗口的大小 k，请找出所有滑动窗口里的最大值</span></span><br><span class="line"><span class="comment">核心方法:单调双端队列</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] maxSlidingWindow(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="literal">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">    <span class="comment">// 这里的长度可以通过举例子得到:len=4,k=2,窗口数目为3,即len-k+1</span></span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[len - k + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// 创建单调递增的队列(队尾-&gt;队头),队头为此时窗口的最大值</span></span><br><span class="line">    <span class="comment">// 如:队头[6,5,4,3,2]队尾,当nums[i]&gt;队尾元素时,为了维护递增的趋势将队尾元素弹出</span></span><br><span class="line">    <span class="comment">// 当且仅当nums[i]&lt;=队尾元素时,才可以维护队列的递增,此时nums[i]加入队尾</span></span><br><span class="line">    Deque&lt;Integer&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// 初始化窗口nums[0,k-1]入队</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty() &amp;&amp; que.peekLast() &lt; nums[i]) que.pollLast();</span><br><span class="line">        <span class="comment">// 当且仅当nums[i]&lt;=队尾元素时或者que为空时nums[i]入队</span></span><br><span class="line">        que.addLast(nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 记录最大值的数组索引</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    res[index++] = que.peekFirst();</span><br><span class="line">    <span class="comment">// 遍历后序窗口的最大值(以窗口结束索引为标记)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> k; j &lt; len; j++) &#123;</span><br><span class="line">        <span class="comment">// 加入nums[j]同时维护递增队列</span></span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty() &amp;&amp; nums[j] &gt; que.peekLast()) que.pollLast();</span><br><span class="line">        que.addLast(nums[j]);</span><br><span class="line">        <span class="comment">// 弹出nums[j-k]同时维护窗口元素对应</span></span><br><span class="line">        <span class="keyword">if</span>(nums[j - k] == que.peekFirst()) que.pollFirst();</span><br><span class="line">        <span class="comment">// 记录当前窗口的最大值进res(这里只是弹出来看看最大值是多少,不要真的弹出来了)</span></span><br><span class="line">        res[index++] = que.peekFirst();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-剑指-Offer-59-II-队列的最大值"><a href="https://leetcode.cn/problems/dui-lie-de-zui-da-zhi-lcof/">2.剑指 Offer 59 - II. 队列的最大值</a></h3><p>请定义一个队列并实现函数 max_value 得到队列里的最大值。</p><p>要求函数max_value、push_back 和 pop_front 的均摊时间复杂度都是O(1)。</p><p>若队列为空，pop_front 和 max_value 需要返回 -1</p><p>输入:</p><p>[“MaxQueue”,“push_back”,“push_back”,“max_value”,“pop_front”,“max_value”]</p><p>[[],[1],[2],[],[],[]]</p><p>输出:</p><p>[null,null,null,2,1,2]</p><p><strong>思路：</strong></p><p>​    <strong>单调递增队列O(1)内找出最大值</strong>:</p><p>​    利用单调队列维护当前队列中的可能的最大值，然后可以以O(1)的时间复杂度内返回最大值</p><p>​    注意：</p><p>1.增删元素保持两个队列元素同步</p><p>2.每当执行队列的方法时都要进行判空操作</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 能获取最大值的队列类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MaxQueue</span> &#123;</span><br><span class="line">    <span class="comment">// 普通队列:按顺序存储所有元素</span></span><br><span class="line">    Deque&lt;Integer&gt; que;</span><br><span class="line">    <span class="comment">// 单调递增队列:用于维护当前队列中的最大值</span></span><br><span class="line">    Deque&lt;Integer&gt; maxQue;</span><br><span class="line">    <span class="comment">/*构造器*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MaxQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        maxQue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*获取最大值*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">max_value</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 最大值就是maxQue的队头元素(别忘了判空)</span></span><br><span class="line">        <span class="keyword">return</span> maxQue.isEmpty() ? -<span class="number">1</span> : maxQue.peekFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*从队尾加入元素*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push_back</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="comment">// 加入元素:que直接加,maxQue要保持队列非严格递增(队尾-&gt;队头)</span></span><br><span class="line">        que.add(value);</span><br><span class="line">        <span class="keyword">while</span> (!maxQue.isEmpty() &amp;&amp; value &gt; maxQue.peekLast()) maxQue.pollLast();</span><br><span class="line">        <span class="comment">// 弹出队尾比value小的值后,value加入队尾,保持maxQue单增</span></span><br><span class="line">        maxQue.addLast(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*从队头弹出元素*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop_front</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 移除元素:que直接移除,maxQue要保持与que同步</span></span><br><span class="line">        <span class="comment">// 不存在就要弹出-1</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">poll</span> <span class="operator">=</span> que.isEmpty() ? -<span class="number">1</span> : que.pollFirst();</span><br><span class="line">        <span class="comment">// 这里也要判空</span></span><br><span class="line">        <span class="keyword">if</span>(poll != -<span class="number">1</span> &amp;&amp; poll == maxQue.peekFirst()) maxQue.pollFirst();</span><br><span class="line">        <span class="keyword">return</span> poll;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 单调队列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>回溯算法专题</title>
      <link href="/posts/7e6eaabb.html"/>
      <url>/posts/7e6eaabb.html</url>
      
        <content type="html"><![CDATA[<h2 id="回溯算法的两种写法">回溯算法的两种写法</h2><p><strong>题目描述（面试题）</strong>：为了迎接新同学的加入，小飞飞组织了丰富多彩的活动，这一次他随机在区的树篱迷宫中放置了一个奖品，请帮助同学以最快的速度找到奖品吧。树篱迷宫是一个4x4的正方形，用一个二维数组来表示，其中0代表可以走的路，1代表树篱不可行走，8表示奖品。迷宫有一到多个入口，且随机分布。请帮助新人找出到奖品的最短路径并输出。</p><p><strong>思路</strong>：咋一看这题数据范围小得离谱，只有4*4=16种情况，即使是指数级别的时间复杂度也能接受。求最短路的问题一般有：记忆化搜索、动态规划、BFS、Dijkstra、Floyd等方法，但是这道题要求出最短的路径是什么，涉及到这种路径上所有节点都要进行求解的，考虑用暴力回溯。我们可以枚举每个合法的出发点，从每个合法的出发点进行DFS搜索，搜索过程中可选的下一步为：上下左右&amp;&amp;合法；同时为了避免走回头路导致StackOverFlow要当前轮搜索过的节点进行标记，搜索的同时要进行记录，搜索完了要进行撤回。那么出口只有一个，那就是找到礼品了，退出的时候我们记录当前记录的长度并与之前的比较，当且仅当长度比之前的小才是最短路径。</p><p><strong>时间复杂度:O(N^3) 空间复杂度:O(N^2)</strong></p><h3 id="写法1：先处理再进行dfs">写法1：先处理再进行dfs</h3><p>先处理完再进行DFS的方式，要求在每个DFS进行之前就进行处理（标记访问+记录数据），每个DFS结束之后要进行对应的撤回（注意是每个DFS方法），这样才能保证遍历该层的下一个选择时是正确的状态。</p><p>PS：其实这题还可以进行一些剪枝处理加速：比如从某个边缘出发点到达不是这个出发点的边缘的情况可以进行剪枝加速。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">t1</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span>[][] grid = &#123;</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line">        List&lt;<span class="type">int</span>[]&gt; res = winMaze(grid);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] p : res) &#123;</span><br><span class="line">            System.out.println(Arrays.toString(p));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// res存储当前遍历到的最短路径，cur存储当前正在遍历的路径</span></span><br><span class="line">    List&lt;<span class="type">int</span>[]&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(), cur = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> <span class="number">0x3f3f3f3f</span>;   <span class="comment">// 当前找到的最短路径长度，初始化为INF</span></span><br><span class="line">    <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;  <span class="comment">// 方向向量</span></span><br><span class="line">    <span class="type">boolean</span>[][] vis = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">4</span>][<span class="number">4</span>];    <span class="comment">// 标记是否被访问</span></span><br><span class="line">    <span class="type">int</span>[][] grid;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;<span class="type">int</span>[]&gt; winMaze(<span class="type">int</span>[][] _grid) &#123;</span><br><span class="line">        grid = _grid;</span><br><span class="line">        <span class="comment">// 枚举每个合法起点</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">                <span class="comment">// 仅仅边缘且可以走的格子才进行dfs</span></span><br><span class="line">                <span class="keyword">if</span> ((i == <span class="number">0</span> || i == <span class="number">3</span> || j == <span class="number">0</span> ||j == <span class="number">3</span>) &amp;&amp; grid[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                    vis[i][j] = <span class="literal">true</span>;   <span class="comment">// 进入dfs之前就进行标记和处理</span></span><br><span class="line">                    cur.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, j&#125;);</span><br><span class="line">                    dfs(i, j);</span><br><span class="line">                    vis[i][j] = <span class="literal">false</span>;   <span class="comment">// dfs完成之后再撤回</span></span><br><span class="line">                    cur.remove(cur.size() - <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="comment">// base case -&gt; 找到礼品了</span></span><br><span class="line">        <span class="keyword">if</span> (grid[i][j] == <span class="number">8</span>) &#123;</span><br><span class="line">            <span class="comment">// 当且仅当找到更短的路径才进行保存</span></span><br><span class="line">            <span class="keyword">if</span> (cur.size() &lt; min) &#123;</span><br><span class="line">                res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(cur);</span><br><span class="line">                min = cur.size();   <span class="comment">// 更新当前最短长度</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>; <span class="comment">// 结束</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 遍历下一步能到的格子</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] dir : dirs) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">newI</span> <span class="operator">=</span> i + dir[<span class="number">0</span>], newJ = j + dir[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// 没有越界&amp;&amp;没有访问过&amp;&amp;可行的</span></span><br><span class="line">            <span class="keyword">if</span> (newI &gt;= <span class="number">0</span> &amp;&amp; newI &lt; <span class="number">4</span> &amp;&amp; newJ &gt;= <span class="number">0</span> &amp;&amp; newJ &lt; <span class="number">4</span> &amp;&amp; !vis[newI][newJ] &amp;&amp; grid[newI][newJ] != <span class="number">1</span>) &#123;</span><br><span class="line">                vis[newI][newJ] = <span class="literal">true</span>; <span class="comment">// 进入dfs之前就进行标记和处理</span></span><br><span class="line">                cur.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;newI, newJ&#125;);</span><br><span class="line">                dfs(newI, newJ);</span><br><span class="line">                vis[newI][newJ] = <span class="literal">false</span>;    <span class="comment">// 撤回</span></span><br><span class="line">                cur.remove(cur.size() - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[<span class="number">3</span>, <span class="number">1</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure><h3 id="2-写法二：在dfs内部进行处理">2:写法二：在dfs内部进行处理</h3><p>这种在dfs内部处理的方式，在DFS一开始就要进行处理（标记访问+记录数据），DFS结束之前要进行撤回（注意出口可能不止一处），保证DFS函数执行完后当前的递归树深度不变。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">t1</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span>[][] grid = &#123;</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line">        List&lt;<span class="type">int</span>[]&gt; res = winMaze(grid);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] p : res) &#123;</span><br><span class="line">            System.out.println(Arrays.toString(p));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// res存储当前遍历到的最短路径，cur存储当前正在遍历的路径</span></span><br><span class="line">    List&lt;<span class="type">int</span>[]&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(), cur = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> <span class="number">0x3f3f3f3f</span>;   <span class="comment">// 当前找到的最短路径长度，初始化为INF</span></span><br><span class="line">    <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;  <span class="comment">// 方向向量</span></span><br><span class="line">    <span class="type">boolean</span>[][] vis = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">4</span>][<span class="number">4</span>];    <span class="comment">// 标记是否被访问</span></span><br><span class="line">    <span class="type">int</span>[][] grid;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;<span class="type">int</span>[]&gt; winMaze(<span class="type">int</span>[][] _grid) &#123;</span><br><span class="line">        grid = _grid;</span><br><span class="line">        <span class="comment">// 枚举每个合法起点</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">                <span class="comment">// 仅仅边缘且可以走的格子才进行dfs</span></span><br><span class="line">                <span class="keyword">if</span> ((i == <span class="number">0</span> || i == <span class="number">3</span> || j == <span class="number">0</span> || j == <span class="number">3</span>) &amp;&amp; grid[i][j] == <span class="number">0</span>) dfs(i, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="comment">// dfs最开始进行标记+记录</span></span><br><span class="line">        vis[i][j] = <span class="literal">true</span>;</span><br><span class="line">        cur.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, j&#125;);</span><br><span class="line">        <span class="comment">// base case -&gt; 找到礼品了</span></span><br><span class="line">        <span class="keyword">if</span> (grid[i][j] == <span class="number">8</span>) &#123;</span><br><span class="line">            <span class="comment">// 当且仅当找到更短的路径才进行保存</span></span><br><span class="line">            <span class="keyword">if</span> (cur.size() &lt; min) &#123;</span><br><span class="line">                res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(cur);</span><br><span class="line">                min = cur.size();   <span class="comment">// 更新当前最短长度</span></span><br><span class="line">            &#125;</span><br><span class="line">            vis[i][j] = <span class="literal">false</span>;    <span class="comment">// dfs结束之前要撤回</span></span><br><span class="line">            cur.remove(cur.size() - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span>; <span class="comment">// 结束</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 遍历下一步能到的格子</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] dir : dirs) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">newI</span> <span class="operator">=</span> i + dir[<span class="number">0</span>], newJ = j + dir[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// 没有越界&amp;&amp;没有访问过&amp;&amp;可行的</span></span><br><span class="line">            <span class="keyword">if</span> (newI &gt;= <span class="number">0</span> &amp;&amp; newI &lt; <span class="number">4</span> &amp;&amp; newJ &gt;= <span class="number">0</span> &amp;&amp; newJ &lt; <span class="number">4</span> &amp;&amp; !vis[newI][newJ] &amp;&amp; grid[newI][newJ] != <span class="number">1</span>) &#123;</span><br><span class="line">                dfs(newI, newJ);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        vis[i][j] = <span class="literal">false</span>;    <span class="comment">// dfs结束之前要撤回</span></span><br><span class="line">        cur.remove(cur.size() - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[<span class="number">3</span>, <span class="number">1</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure><h2 id="回溯例题：LC679-24点游戏"><a href="https://leetcode.cn/problems/24-game/"><strong>回溯例题：LC679.24点游戏</strong></a></h2><p>​    <strong>回溯法暴力遍历</strong>:(参考官方题解)</p><p>​    括号可以直接忽略,因为暴力遍历已经包含所有运算次序</p><p>​    4*3*4*3*2*4*2*1*4=9216种可能性</p><p>​    1.这个游戏的本质就是将其中两个数进行相乘的结果重新加入并进行新一轮原来的24点计算</p><p>​    2.排除几种特殊情况:</p><p>2.1 除0计算:这种情况直接跳过</p><p>​    2.2 乘法与加法的运算可以进行剪枝</p><p>​        2.3 误差考虑:当误差&lt;1e-6时,认为就是0</p><p>​    3.若最终都没有返回true说明找不到最后返回false</p><p>​    时间复杂度与空间复杂度均为:O(1)</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算误差</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">ERROR</span> <span class="operator">=</span> <span class="number">1e-6</span>;</span><br><span class="line">    <span class="comment">// 目标值</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">TARGET</span> <span class="operator">=</span> <span class="number">24</span>;</span><br><span class="line">    <span class="comment">// 加减乘除</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">PLUS</span> <span class="operator">=</span> <span class="number">0</span>, MULTIPLY = <span class="number">1</span>, SUBTRACT = <span class="number">2</span>, DIVIDE = <span class="number">3</span>;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    判断是否能凑成24</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">judgePoint24</span><span class="params">(<span class="type">int</span>[] cards)</span> &#123;</span><br><span class="line">        List&lt;Double&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num : cards) &#123;</span><br><span class="line">            list.add((<span class="type">double</span>)num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dfs(list);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    dfs主函数:返回list中是否能计算出24</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(List&lt;Double&gt; list)</span> &#123;</span><br><span class="line">        <span class="comment">// 递归出口1:空列表</span></span><br><span class="line">        <span class="keyword">if</span>(list.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 递归出口2:运算结果为24</span></span><br><span class="line">        <span class="keyword">if</span>(list.size() == <span class="number">1</span> &amp;&amp; Math.abs(list.get(<span class="number">0</span>) - TARGET) &lt; ERROR) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 先抽出两个要进行运算的数</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> list.size();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; size; j++) &#123;</span><br><span class="line">                <span class="comment">// 注意是索引不同的两个数才能进行运算</span></span><br><span class="line">                <span class="keyword">if</span>(i != j) &#123;</span><br><span class="line">                    <span class="comment">// 再创建一个列表存放剩余的元素</span></span><br><span class="line">                    List&lt;Double&gt; remain = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; size; k++) &#123;</span><br><span class="line">                        <span class="keyword">if</span>(k != i &amp;&amp; k != j) &#123;</span><br><span class="line">                            remain.add(list.get(k));</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// 在对选中的两个数list[i]与list[j]进行计算并加入remain列表</span></span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">                        <span class="comment">// 加法与除法进行剪枝(只保留i&gt;j部分一半)</span></span><br><span class="line">                        <span class="keyword">if</span>(k &lt; <span class="number">2</span> &amp;&amp; i &lt; j) &#123;</span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span>(k == PLUS) &#123;</span><br><span class="line">                            remain.add(list.get(i) + list.get(j));</span><br><span class="line">                        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(k == MULTIPLY) &#123;</span><br><span class="line">                            remain.add(list.get(i) * list.get(j));</span><br><span class="line">                        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(k == SUBTRACT) &#123;</span><br><span class="line">                            remain.add(list.get(i) - list.get(j));</span><br><span class="line">                        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(k == DIVIDE) &#123;</span><br><span class="line">                            <span class="comment">// 排除除0的情形</span></span><br><span class="line">                            <span class="keyword">if</span>(list.get(j) &lt; ERROR) &#123;</span><br><span class="line">                                <span class="keyword">continue</span>;</span><br><span class="line">                            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                                remain.add(list.get(i) / list.get(j));</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">// 将加入运算结果的remain列表进行递归运算,若得到24直接返回true</span></span><br><span class="line">                        <span class="keyword">if</span>(dfs(remain)) &#123;</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">// 撤回操作刚刚的添加操作继续下一种符号的运算</span></span><br><span class="line">                        remain.remove(remain.size() - <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 若最后都找不到正确的选项,说明就是没有了</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>一点思考：</strong></p><p>其实回溯本质上就是递归+回退从而找到所有的路径(组合的可能)，最关键的就是要找到<strong>子问题</strong></p><p>问题：<strong>n个数进行组合运算能否得出24这个结果</strong></p><p>开始是4个数进行运算[1,2,3,4]</p><p>选其中两个数尝试，例如选了selected=[1,3]，剩余的是remain=[2,4]</p><p>那么将selected中的两个数进行 [+, -, *, /] 4种运算得到的结果[4, -2, 3 , 0.3333…]分别再次放入remain中</p><p><strong>判断这3个数进行运算的结果是否能得到24？</strong></p><p><strong>子问题由此产生：由4个数字的组合变成了3个数字的组合</strong></p><p><strong>若3个数字的组合能算出24可以马上推出4个数字的组合能就算出24！</strong></p><p>此时我们重复调用原本的函数就能解决这个3个数能否组成24的问题了→这就是递归！</p><p>在递归过程有不合格的案例进行回退并往另一条路径走，这就是回溯了！</p><p>例如我通过1+3=4，而[2,4,4]通过递归发现<strong>不能</strong>使得结果为24，因此这种情况就要<strong>舍弃</strong>了</p><p>怎样进行舍弃?</p><p>很简单，将[2,4,4]最后加入元素删掉就相当于返回上一层，可以继续进行下一个运算符的计算，再放进去[2,4]里面进行递归…</p><p>若某个dfs([x,x,x])返回true就说明这条路径是可行的</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 回溯 </tag>
            
            <tag> 递归 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二分查找模板</title>
      <link href="/posts/70e223cf.html"/>
      <url>/posts/70e223cf.html</url>
      
        <content type="html"><![CDATA[<p>二分查找要求数据有二段性，可以将查找某个分割点的时间复杂度从O(N)加速至O(logN)</p><h2 id="LC704-二分查找"><a href="https://leetcode-cn.com/problems/binary-search/"><strong>LC704. 二分查找</strong></a></h2><p>给定一个 n 个元素有序的（升序）整型数组 nums 和一个目标值 target</p><p>写一个函数搜索 nums 中的 target，如果目标值存在返回下标，否则返回 -1。</p><p><strong>示例1:</strong><br>输入： nums = [-1,0,3,5,9,12], target = 9 输出：4<br>解释：9出现在 nums中并且下标为4<br><strong>示例2:</strong><br>输入：nums = [-1,0,3,5,9,12],target = 2 输出：-1<br>解释：2不存在nums中因此返回-1</p><p><strong>思路：</strong></p><p><strong>二分查找-&gt;梦开始的地方</strong></p><p>这道题是二分查找的入门题目，二分查找的水非常深，但是简单的题目通常会由于各种原因丢分。</p><p>这里我总结一下二分查找的一些模板和做题套路</p><p>首先能用二分查找的<strong>前提</strong>是在<strong>可以根据f(mid)的值来判断下一个合法区间在mid左边还是右边</strong></p><p>因此二分查找前面通常都会有<strong>排序</strong>等步骤来确保问题具有**“二段性”**</p><p>总体要注意的：</p><p>1.while (l &lt; r)： 这种写法使得退出条件是<strong>l==r</strong>，因此执行完之后必定有l==r</p><p>2.mid的求法： 这个mid的求法非常讲究，我总结的是</p><ul><li>mid = l + (r - l + 1) / 2，mid主动偏右-&gt;右边界主动收缩r = mid - 1;</li><li>mid = l + (r - l ) / 2，mid主动偏左-&gt;左边界主动收缩l = mid + 1;</li></ul><p>3.下一个区间的判断采用减治思想，将一定不符合条件的先排除，如：nums[mid] &gt; target，那么mid必定不符合题意！-&gt;r = mid - 1</p><p>然后另外一个区间是其反面，一般是将合法区间包含在边界，如：nums[mid] &lt;=target，那么mid可能不符合题意！-&gt;l = mid</p><p>4.退出循环的时候要重复利用好l==r这个条件，答案蕴藏在其中！</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        在升序数组中查找目标数字对应下标-&gt;二分查找</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="comment">// 下面是右边主动收缩</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> l + (r - l + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            <span class="comment">// &gt;target,说明target在左边(不含)</span></span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// &lt;=target,说明target在右边(含)</span></span><br><span class="line">                l = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// l==r,nums[l]要不就是target;要不就是nums中没有target</span></span><br><span class="line">        <span class="keyword">return</span> nums[l] == target ? l : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 二分 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>状态机DP总结</title>
      <link href="/posts/baa972ab.html"/>
      <url>/posts/baa972ab.html</url>
      
        <content type="html"><![CDATA[<p><strong>状态机DP就是考虑到当前时刻、位置等，有可能处于有限种情形中的其中一种</strong></p><p><strong>比如说当前位置的房子涂了什么颜色、当前时间的股票处于卖出还是买入的状态、当前删除到的序列是以0还是以1结尾、当前位置是放了还是没有放置东西、当前位置是正还是负</strong></p><p><strong>把这些情况分开来转移可以使得转移的思路更加清晰明了，类比成当前位置 i 的一个状态 j 能够由前面位置 i-1 的指定状态 k 转移得到！！！</strong></p><h3 id="1-粉刷房子问题">1.粉刷房子问题</h3><h4 id="1-1-LC123-剑指-Offer-II-091-粉刷房子">1.1 <strong>LC123.剑指 Offer II 091. 粉刷房子</strong></h4><p><strong>分状态的DP问题(序列DP):</strong></p><p>1.状态定义:dp[i][0],dp[i][1],dp[i][2]分别为粉刷房子[0,i],且房子i的颜色粉刷为红色/蓝色/绿色所花费的最低费用</p><p>​            <strong>为什么还要带一个后缀?因为粉刷第i间房子可能的状态本身有3种!</strong></p><p>​            <strong>如果混在一起讨论非常复杂,分开讨论可以根据前面的状态分开转移就非常方便</strong></p><p>​            <strong>类似于股票问题-&gt;考虑第i天且第i天处于卖出还是买入状态方便转移!</strong></p><p>2.状态转移:由于相邻的两个房子颜色不能相同,因此根据dp[i-1][j]的状态分类转移即可</p><p>​         2.1 dp[i][0]可以由dp[i-1][1]与dp[i-1][2]加上cost[i][0]取最小值转移</p><p>​         2.2 dp[i][1]可以由dp[i-1][0]与dp[i-1][2]加上cost[i][1]取最小值转移</p><p>​         2.3 dp[i][2]可以由dp[i-1][0]与dp[i-1][1]加上cost[i][2]取最小值转移</p><p>意义就是我这间房子涂了颜色0,那么只能由前面涂了不是颜色0的进行转移且取最小值</p><p>3.初始化:初始化dp[0][0]=cost[0][0],dp[0][1]=cost[0][1],dp[0][2]=cost[0][2]</p><p>4.遍历顺序:i正序,j无所谓</p><p>5.返回形式:涂到最后一间房子最小费用不知道是以哪种颜色结尾的,可以取最小值min(dp[n-1][0],dp[n-1][1],dp[n-1][2])</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minCost</span><span class="params">(<span class="type">int</span>[][] costs)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> costs.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n][<span class="number">3</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = costs[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = costs[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">2</span>] = costs[<span class="number">0</span>][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = costs[i][<span class="number">0</span>] + Math.min(dp[i - <span class="number">1</span>][<span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">2</span>]);</span><br><span class="line">            dp[i][<span class="number">1</span>] = costs[i][<span class="number">1</span>] + Math.min(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">2</span>]);</span><br><span class="line">            dp[i][<span class="number">2</span>] = costs[i][<span class="number">2</span>] + Math.min(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.min(dp[n - <span class="number">1</span>][<span class="number">0</span>], Math.min(dp[n - <span class="number">1</span>][<span class="number">1</span>], dp[n - <span class="number">1</span>][<span class="number">2</span>]));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-LC1473-粉刷房子-III">1.2 <strong>LC1473. 粉刷房子 III</strong></h4><p>状态机DP问题(参考剑指OfferII.91  粉刷房子):</p><p>其实与之前那道粉刷房子的也很类似,不过这里更加复杂一点就是要考虑形成的街区数目,同时有的房子已经涂了色</p><p>我们前面一道题是考虑到两个dp维度:房子位置i,第i间房子的颜色j</p><p>要同时考虑形成的街区数目(独立),此时必须增加一个dp的维度k,表示当前形成的街区数目</p><p>同时要对已经涂了色的情况进行分类讨论转移</p><p><strong>1.状态定义:</strong> dp[i][j][k]为考虑对房子[0,i]进行涂色,且房子i(i∈[0,m-1])颜色被涂为颜色j(j∈[1,n]),且涂完之后就形成k(k∈[1,target])个街区的最小花费</p><p><strong>2.状态转移:</strong> 我们以house[i]是否为0进行分类讨</p><p>​      2.1 house[i]==0 表示房子i还没有被涂色,选择任意颜色j∈[1,n]对房子i进行涂色,涂的具体颜色会影响街区的数目</p><p>​          dp[i][j][k]=cost[i][j-1]+min(dp[i-1][j][k],dp[i-1][j’][k-1]) 其中j’为≠j的集合(颜色不同街区数+1)</p><p>​          注意细节:合法的dp[i-1][jj][?]状态才能转移</p><p>​      2.2 house[i]!=0 表示房子i已经被涂色,此时只能对dp[i][house[i]][k]进行转移,其他dp[i][j’][?]无法转移仍为INF</p><p>​          dp[i][houses[i]][k]=0+min(dp[i-1][houses[i]][k],dp[i-1][j’][k-1]) 其中j’为≠houses[i]的集合(颜色不同街区数+1)</p><p><strong>3.初始化:</strong> 首先全部初始化为INF表示没有转移</p><p>​      当houses[0]==0时,dp[0][j][1]=cost[0][j-1] -&gt; 要涂色</p><p>​      当houses[0]!=0时,dp[0][houses[0]][1]=0 -&gt; 不用涂色</p><p><strong>4.遍历顺序:</strong> 显然i正序,j无所谓,k正序</p><p><strong>5.返回形式:</strong> 最后返回min(dp[m-1][j][target]),j∈[1,n] 若扔没有转移则返回-1</p><p><strong>时间复杂度:O((mn)^2) 空间复杂度:O(n*m^2)</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minCost</span><span class="params">(<span class="type">int</span>[] houses, <span class="type">int</span>[][] cost, <span class="type">int</span> m, <span class="type">int</span> n, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">INF</span> <span class="operator">=</span> <span class="number">0x3f3f3f3f</span>;   <span class="comment">// 哨兵</span></span><br><span class="line">    <span class="type">int</span>[][][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[m][n + <span class="number">1</span>][target + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// 初始化</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            Arrays.fill(dp[i][j], INF);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (houses[<span class="number">0</span>] != <span class="number">0</span>) &#123;   <span class="comment">// 1.首个房子不用涂色</span></span><br><span class="line">        dp[<span class="number">0</span>][houses[<span class="number">0</span>]][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;    <span class="comment">// 2.首个房子要涂色,费用最小就是直接涂,且只能形成一个街区</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][j][<span class="number">1</span>] = cost[<span class="number">0</span>][j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 遍历dp的每个状态</span></span><br><span class="line">    <span class="comment">// i∈[1,m-1]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="comment">// j∈[1,n]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="comment">// k∈[1,target]</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">1</span>; k &lt;= target; k++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (houses[i] == <span class="number">0</span>) &#123;   <span class="comment">// 1.houses[i]要涂色</span></span><br><span class="line">                    <span class="comment">// 遍历所有可能的houses[i-1]的颜色进行转移</span></span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">jj</span> <span class="operator">=</span> <span class="number">1</span>; jj &lt;= n; jj++) &#123;</span><br><span class="line">                        <span class="comment">// 细节:只有有效的状态才能进行转移</span></span><br><span class="line">                        <span class="keyword">if</span> (jj == j &amp;&amp; dp[i - <span class="number">1</span>][jj][k] != INF) &#123;  <span class="comment">// 与前面颜色相同,街区数目不变</span></span><br><span class="line">                            dp[i][j][k] = Math.min(dp[i][j][k], cost[i][j - <span class="number">1</span>] + dp[i - <span class="number">1</span>][jj][k]);</span><br><span class="line">                        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (jj != j &amp;&amp; dp[i - <span class="number">1</span>][jj][k - <span class="number">1</span>] != INF) &#123;    <span class="comment">// 与前面颜色不同,街区数目+1</span></span><br><span class="line">                            dp[i][j][k] = Math.min(dp[i][j][k], cost[i][j - <span class="number">1</span>] + dp[i - <span class="number">1</span>][jj][k - <span class="number">1</span>]);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;    <span class="comment">// 2.houses[i]已经被涂色</span></span><br><span class="line">                    <span class="keyword">if</span> (j == houses[i]) &#123;   <span class="comment">// 只能转移j==houses[i]的状态</span></span><br><span class="line">                        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">jj</span> <span class="operator">=</span> <span class="number">1</span>; jj &lt;= n; jj++) &#123;</span><br><span class="line">                            <span class="keyword">if</span> (jj == j &amp;&amp; dp[i - <span class="number">1</span>][jj][k] != INF) &#123;  <span class="comment">// 与前面颜色相同,街区数目不变(且不用花费)</span></span><br><span class="line">                                dp[i][j][k] = Math.min(dp[i][j][k], dp[i - <span class="number">1</span>][jj][k]);</span><br><span class="line">                            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (jj != j &amp;&amp; dp[i - <span class="number">1</span>][jj][k - <span class="number">1</span>] != INF) &#123;    <span class="comment">// 与前面颜色不同,街区数目+1(且不用花费)</span></span><br><span class="line">                                dp[i][j][k] = Math.min(dp[i][j][k], dp[i - <span class="number">1</span>][jj][k - <span class="number">1</span>]);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 结果为min(dp[m-1][j][target]),j∈[1,n] 不为INF部分的最小值</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> INF;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">        res = Math.min(res, dp[m - <span class="number">1</span>][j][target]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res == INF ? -<span class="number">1</span> : res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-6种股票问题">2.6种股票问题</h3><h4 id="2-1-LC121-买卖股票的最佳时机">2.1 <a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/"><strong>LC121. 买卖股票的最佳时机</strong></a></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        dp五部曲:主要根据每天持有与不持有股票的状态进行转移</span></span><br><span class="line"><span class="comment">        1.状态定义:dp[i][0]代表第i天(操作后)不持有股票的最大身价,dp[i][0]代表第i天(操作后)持有股票的最大身价</span></span><br><span class="line"><span class="comment">        2.状态转移:</span></span><br><span class="line"><span class="comment">            2.1 dp[i][0]第i天不持有股票</span></span><br><span class="line"><span class="comment">                1.当天卖了:dp[i-1][1]+prices[i]</span></span><br><span class="line"><span class="comment">                2.之前就卖了:dp[i-1][0]</span></span><br><span class="line"><span class="comment">                3.还没买:0 (可以忽略)</span></span><br><span class="line"><span class="comment">            取最大值转移值dp[i][0]</span></span><br><span class="line"><span class="comment">            2.2  dp[i][1]第i天持有股票</span></span><br><span class="line"><span class="comment">                1.当天入手:-prices[i]</span></span><br><span class="line"><span class="comment">                2.之前就入手了:dp[i-1][1]</span></span><br><span class="line"><span class="comment">            取最大值转移值dp[i][1]</span></span><br><span class="line"><span class="comment">        3.初始化:第0天的情况-&gt;dp[0][0]=0,dp[0][1]=-prices[0]</span></span><br><span class="line"><span class="comment">        4.遍历顺序:i正序,j无所谓</span></span><br><span class="line"><span class="comment">        5.返回形式:最后一天肯定是卖出股票的身价大-&gt;dp[len-1][0];</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> prices.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[len][<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i], dp[i - <span class="number">1</span>][<span class="number">0</span>]);</span><br><span class="line">            dp[i][<span class="number">1</span>] = Math.max(-prices[i], dp[i - <span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[len - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-2-LC122-买卖股票的最佳时机-II">2.2 <a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/"><strong>LC122. 买卖股票的最佳时机 II</strong></a></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        dp解法:</span></span><br><span class="line"><span class="comment">        1.状态定义:dp[i][0]代表第i天(操作后)不持有股票的最大身价,dp[i][0]代表第i天(操作后)持有股票的最大身价</span></span><br><span class="line"><span class="comment">        2.状态转移:</span></span><br><span class="line"><span class="comment">            2.1 dp[i][0]第i天不持有股票</span></span><br><span class="line"><span class="comment">                1.当天卖了:dp[i-1][1]+prices[i]</span></span><br><span class="line"><span class="comment">                2.之前就卖了:dp[i-1][0]</span></span><br><span class="line"><span class="comment">                3.还没买:0 (可以忽略)</span></span><br><span class="line"><span class="comment">            取最大值转移值dp[i][0]</span></span><br><span class="line"><span class="comment">            2.2  dp[i][1]第i天持有股票</span></span><br><span class="line"><span class="comment">                1.当天入手:dp[i-1][0]-prices[i] (区别在此,之前不持有股票可能已经交易过几轮了)</span></span><br><span class="line"><span class="comment">                2.之前就入手了:dp[i-1][1]</span></span><br><span class="line"><span class="comment">            取最大值转移值dp[i][1]</span></span><br><span class="line"><span class="comment">        3.初始化:第0天的情况-&gt;dp[0][0]=0,dp[0][1]=-prices[0]</span></span><br><span class="line"><span class="comment">        4.遍历顺序:i正序,j无所谓</span></span><br><span class="line"><span class="comment">        5.返回形式:最后一天肯定是卖出股票的身价大-&gt;dp[len-1][0]</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> prices.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[len][<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i], dp[i - <span class="number">1</span>][<span class="number">0</span>]);</span><br><span class="line">            dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">0</span>] - prices[i], dp[i - <span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[len - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-LC123-买卖股票的最佳时机-III">2.3 <a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/"><strong>LC123. 买卖股票的最佳时机 III</strong></a></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        总体思路:第i天有5个阶段:0.还没买 1.第一次买入后 2.第一次抛售后 3.第二次迈买入后 4.第二次抛售后</span></span><br><span class="line"><span class="comment">        1.状态定义:dp[i][0]为处于的阶段0最大身价;dp[i][1]为处于阶段1最大身价;....</span></span><br><span class="line"><span class="comment">        2.状态转移:</span></span><br><span class="line"><span class="comment">            2.1 阶段0身价恒为0</span></span><br><span class="line"><span class="comment">            2.2 阶段1有两种情况:当天第一次买和之前第一次买了,取大的值:max(dp[i-1][0]-prices[i],dp[i-1][1])</span></span><br><span class="line"><span class="comment">            2.3 阶段2有两种情况:当天第一次卖和之前第一次卖了,取大的值:max(dp[i-1][1]+prices[i],dp[i-1][2])</span></span><br><span class="line"><span class="comment">            2.3 阶段3有两种情况:当天第二次买和之前第二次买了,取大的值:max(dp[i-1][2]-prices[i],dp[i-1][3])</span></span><br><span class="line"><span class="comment">            2.3 阶段4有两种情况:当天第二次卖和之前第二次卖了,取大的值:max(dp[i-1][3]+prices[i],dp[i-1][4])</span></span><br><span class="line"><span class="comment">        3.初始化:dp[0][0]=0,dp[0][1]=-prices[0],dp[0][2]=0,dp[0][3]=-prices[0],dp[0][4]=0</span></span><br><span class="line"><span class="comment">        4.遍历顺序:i正序,j无所谓</span></span><br><span class="line"><span class="comment">        5.返回形式:第一次卖出与第二次卖出取最大值:max(dp[len-1][2],dp[len-1][4])</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> prices.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[len][<span class="number">5</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = dp[<span class="number">0</span>][<span class="number">3</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">0</span>] - prices[i], dp[i - <span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">            dp[i][<span class="number">2</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i], dp[i - <span class="number">1</span>][<span class="number">2</span>]);</span><br><span class="line">            dp[i][<span class="number">3</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">2</span>] - prices[i], dp[i - <span class="number">1</span>][<span class="number">3</span>]);</span><br><span class="line">            dp[i][<span class="number">4</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">3</span>] + prices[i], dp[i - <span class="number">1</span>][<span class="number">4</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.max(dp[len - <span class="number">1</span>][<span class="number">2</span>], dp[len - <span class="number">1</span>][<span class="number">4</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-4-LC188-买卖股票的最佳时机-IV">2.4 <a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iv/"><strong>LC188. 买卖股票的最佳时机 IV</strong></a></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        总体思路:与买卖股票的最佳时机 III 接近,将买卖股票的阶段分为第x次买入和第x次卖出</span></span><br><span class="line"><span class="comment">        状态0:处于还没买入过的阶段</span></span><br><span class="line"><span class="comment">        状态1:处于第1次买入后的阶段</span></span><br><span class="line"><span class="comment">        状态2:处于第1次卖出后的阶段</span></span><br><span class="line"><span class="comment">        状态3:处于第2次买入后的阶段</span></span><br><span class="line"><span class="comment">        状态4:处于第2次卖出后的阶段</span></span><br><span class="line"><span class="comment">        ...以此类推,dp[i][j]中的i代表的是处于第i天,j代表的当前股票的状态</span></span><br><span class="line"><span class="comment">        j为奇数时,表示处于第j/2+1次买入股票阶段;j为偶数时,表示处于第j/2次卖出股票阶段</span></span><br><span class="line"><span class="comment">        1.状态定义:dp[i][j]代表第i天处于的状态j时的最大收益</span></span><br><span class="line"><span class="comment">        2.状态转移:参考状态1与2可以推导出后面的</span></span><br><span class="line"><span class="comment">            2.0 还没买入过的阶段(j=0)-&gt;恒为0(直接初始化为0就可以完成求解)</span></span><br><span class="line"><span class="comment">            2.1 第1次买入后的阶段(j=1):今天刚买与之前就买了取较大值-&gt;max(dp[i-1][0]-prices[i],dp[i-1][1])</span></span><br><span class="line"><span class="comment">            2.2 第1次卖出后的阶段(j=2):今天刚卖与之前就卖了取较大值-&gt;max(dp[i-1][1]+prices[i],dp[i-1][2])</span></span><br><span class="line"><span class="comment">            ...以此类推,那么dp[i][j]可以以j为依据分为两种情况进行转移计算:</span></span><br><span class="line"><span class="comment">            j为奇数时-&gt;dp[i][j]=max(dp[i-1][j-1]-prices[i],dp[i-1][j])</span></span><br><span class="line"><span class="comment">            j为偶数时-&gt;dp[i][j]=max(dp[i-1][j-1]+prices[i],dp[i-1][j])</span></span><br><span class="line"><span class="comment">        3.初始化:j奇数表示买入的状态-&gt;dp[0][j]=-prices[0],j奇偶表示卖出的状态-&gt;dp[0][j]=0</span></span><br><span class="line"><span class="comment">        4.遍历顺序:i正序,j无所谓</span></span><br><span class="line"><span class="comment">        5.返回形式:返回dp[len-1][j]其中j为偶数的最大值(卖出时身价比持有时大)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">if</span> (prices == <span class="literal">null</span> || prices.length == <span class="number">0</span> || k == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> prices.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[len][<span class="number">2</span> * k + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// 初始化</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= <span class="number">2</span> * k; j += <span class="number">2</span>) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][j] = -prices[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="comment">// 统计j为奇数的情况:奇数+1就是偶数</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= <span class="number">2</span> * k; j += <span class="number">2</span>) &#123;</span><br><span class="line">                dp[i][j] = Math.max(dp[i - <span class="number">1</span>][j - <span class="number">1</span>] - prices[i], dp[i - <span class="number">1</span>][j]);</span><br><span class="line">                dp[i][j + <span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][j] + prices[i], dp[i - <span class="number">1</span>][j + <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2</span>; j &lt;= <span class="number">2</span> * k; j += <span class="number">2</span>) &#123;</span><br><span class="line">            max = Math.max(max, dp[len - <span class="number">1</span>][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-5-LC309-最佳买卖股票时机含冷冻期">2.5 <a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/"><strong>LC309. 最佳买卖股票时机含冷冻期</strong></a></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        总体思路:与最佳买卖股票II比较类似,可以无限次交易但是含有冷冻期</span></span><br><span class="line"><span class="comment">        一共有以下6个状态:</span></span><br><span class="line"><span class="comment">        状态0:当前还没操作股票</span></span><br><span class="line"><span class="comment">        状态1:今天刚买入</span></span><br><span class="line"><span class="comment">        状态2:之前就买入了</span></span><br><span class="line"><span class="comment">        状态3:今天刚卖出</span></span><br><span class="line"><span class="comment">        状态4:处于冷冻期</span></span><br><span class="line"><span class="comment">        状态5:之前卖出且过了冷冻期</span></span><br><span class="line"><span class="comment">        1.状态定义:dp[i][j]表示第i天处于状态j的最大收益</span></span><br><span class="line"><span class="comment">        2.状态转移:</span></span><br><span class="line"><span class="comment">            2.0 dp[i][0]=0</span></span><br><span class="line"><span class="comment">            2.1 dp[i][1]=max(dp[i-1][0]-prices[i],dp[i-1][5]-prices[i],dp[i-1][3]-prices[i])</span></span><br><span class="line"><span class="comment">                        =max(dp[i-1][5]-prices[i],dp[i-1][3]-prices[i])</span></span><br><span class="line"><span class="comment">            2.2 dp[i][2]=max(dp[i-1][1],dp[i-1][2])</span></span><br><span class="line"><span class="comment">            2.3 dp[i][3]=max(dp[i-1][2]+prices[i],dp[i-1][1]+prices[i])</span></span><br><span class="line"><span class="comment">            2.4 dp[i][4]=dp[i-1][3]</span></span><br><span class="line"><span class="comment">            2.5 dp[i][5]=max(dp[i-1][4],dp[i-1][5])</span></span><br><span class="line"><span class="comment">        3.初始化:dp[0][0]=0,dp[0][1]=-prices[0],dp[0][2]=-prices[0],dp[0][3]=dp[0][4]=dp[0][5]=0</span></span><br><span class="line"><span class="comment">        4.遍历顺序:i正序,j无所谓</span></span><br><span class="line"><span class="comment">        5.返回形式:返回max(dp[len-1][3],dp[len][4],dp[len-1][5])</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> prices.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[len][<span class="number">6</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = dp[<span class="number">0</span>][<span class="number">2</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">5</span>] - prices[i], dp[i - <span class="number">1</span>][<span class="number">4</span>] - prices[i]);</span><br><span class="line">            dp[i][<span class="number">2</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">2</span>]);</span><br><span class="line">            dp[i][<span class="number">3</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">2</span>] + prices[i], dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[i][<span class="number">4</span>] = dp[i - <span class="number">1</span>][<span class="number">3</span>];</span><br><span class="line">            dp[i][<span class="number">5</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">4</span>], dp[i - <span class="number">1</span>][<span class="number">5</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.max(dp[len - <span class="number">1</span>][<span class="number">3</span>], Math.max(dp[len - <span class="number">1</span>][<span class="number">4</span>], dp[len - <span class="number">1</span>][<span class="number">5</span>]));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-6-LC714-买卖股票的最佳时机含手续费">2.6 <a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/"><strong>LC714. 买卖股票的最佳时机含手续费</strong></a></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices, <span class="type">int</span> fee)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        与股票买卖II十分类似,唯一的不同就是要支付手续费,可以看做卖出的时候股票价格减少fee</span></span><br><span class="line"><span class="comment">        一共有2种状态:(其中没操作股票归纳到情况1)</span></span><br><span class="line"><span class="comment">        状态0:持有股票</span></span><br><span class="line"><span class="comment">        状态1:不持有股票</span></span><br><span class="line"><span class="comment">        1.状态定义:dp[i][j]代表的第i天处于状态j时的最大身价</span></span><br><span class="line"><span class="comment">        2.状态转移:</span></span><br><span class="line"><span class="comment">            2.0 持有股票,可能今天刚买或者之前就买了:dp[i][0]=max(dp[i-1][1]-prices[i],dp[i-1][0])</span></span><br><span class="line"><span class="comment">            2.1 不持有股票,可能今天刚卖或者之前就卖了:dp[i][1]=max(dp[i-1][1],dp[i-1][0]+prices[i]-fee)</span></span><br><span class="line"><span class="comment">        3.初始化:初始化dp[0][0]=-prices[0],dp[0][1]=0</span></span><br><span class="line"><span class="comment">        4.遍历顺序:i正序,j任意</span></span><br><span class="line"><span class="comment">        5.返回形式:返回dp[len-1][1]</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> prices.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[len][<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = -prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>] - prices[i], dp[i - <span class="number">1</span>][<span class="number">0</span>]);</span><br><span class="line">            dp[i][<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">0</span>] + prices[i] - fee);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[len - <span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-LC926-将字符串翻转到单调递增">3.<a href="https://leetcode.cn/problems/flip-string-to-monotone-increasing/"><strong>LC926. 将字符串翻转到单调递增</strong></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minFlipsMonoIncr</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        动态规划:</span></span><br><span class="line"><span class="comment">        翻转后的单调递增字符串可能的情形有:000...000  000...111  111...111</span></span><br><span class="line"><span class="comment">        归结起来就是两种情形:以0结尾和以1结尾 分开来考虑转移会更加明确</span></span><br><span class="line"><span class="comment">        1.状态定义:f[i][0]为考虑s[0,i]翻转后为以0结尾的s[0,i]为递增序列最少翻转次数</span></span><br><span class="line"><span class="comment">                    f[i][1]为考虑s[0,i]翻转后为以1结尾的s[0,i]为递增序列最少翻转次数</span></span><br><span class="line"><span class="comment">        2.状态转移:要求f[i][0]与f[i][1]就要看s[i]</span></span><br><span class="line"><span class="comment">            2.1 s[i]==0时 f[i][0]=f[i-1][0]  f[i][1]=min(f[i-1][1],f[i-1][0])+1</span></span><br><span class="line"><span class="comment">            2.2 s[i]==1时 f[i][1]=min(f[i-1][0],f[i-1][1])  f[i][0]=f[i-1][0]+1</span></span><br><span class="line"><span class="comment">        3.初始化:f[0][0]=s[0]==0?0:1  f[0][1]=s[0]==1?0:1</span></span><br><span class="line"><span class="comment">        4.遍历顺序:i正序</span></span><br><span class="line"><span class="comment">        5.返回形式:返回min(f[n-1][0],f[n-1][1]) 最后被翻转成0或者1结尾都有可能使得翻转次数最少</span></span><br><span class="line"><span class="comment">        时间复杂度:O(N)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="type">char</span>[] chs = s.toCharArray();</span><br><span class="line">        <span class="type">int</span>[][] f = <span class="keyword">new</span> <span class="title class_">int</span>[n][<span class="number">2</span>];</span><br><span class="line">        f[<span class="number">0</span>][<span class="number">0</span>] = chs[<span class="number">0</span>] == <span class="string">&#x27;0&#x27;</span> ? <span class="number">0</span> : <span class="number">1</span>;</span><br><span class="line">        f[<span class="number">0</span>][<span class="number">1</span>] = chs[<span class="number">0</span>] == <span class="string">&#x27;1&#x27;</span> ? <span class="number">0</span> : <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (chs[i] == <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">                f[i][<span class="number">0</span>] = f[i - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">                f[i][<span class="number">1</span>] = Math.min(f[i - <span class="number">1</span>][<span class="number">1</span>], f[i - <span class="number">1</span>][<span class="number">0</span>]) + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                f[i][<span class="number">0</span>] = f[i - <span class="number">1</span>][<span class="number">0</span>] + <span class="number">1</span>;</span><br><span class="line">                f[i][<span class="number">1</span>] = Math.min(f[i - <span class="number">1</span>][<span class="number">0</span>], f[i - <span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.min(f[n - <span class="number">1</span>][<span class="number">0</span>], f[n - <span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-LC2320-统计放置房子的方式数">4.<a href="https://leetcode.cn/problems/count-number-of-ways-to-place-houses/"><strong>LC2320. 统计放置房子的方式数</strong></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countHousePlacements</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        状态机DP问题(有更加简单的做法，这里为了演示状态机DP):</span></span><br><span class="line"><span class="comment">        1.状态定义:</span></span><br><span class="line"><span class="comment">            1.1 f[i][0]为考虑两边[0,i]的地方i位置上下都不放置房子的方案数</span></span><br><span class="line"><span class="comment">            1.2 f[i][1]为考虑两边[0,i]的地方i位置只放上面的地方</span></span><br><span class="line"><span class="comment">            1.3 f[i][2]为考虑两边[0,i]的地方i位置只放下面的地方</span></span><br><span class="line"><span class="comment">            1.4 f[i][3]为考虑两边[0,i]的地方i位置上下都放置房子的方案数</span></span><br><span class="line"><span class="comment">        2.状态转移:考虑i位置一共有4种状态,根据实际转移即可</span></span><br><span class="line"><span class="comment">            f[i][0]=f[i-1][3]+f[i-1][2]+f[i-1][1]+f[i-1][0]</span></span><br><span class="line"><span class="comment">            f[i][1]=f[i-1][2]+f[i-1][0]</span></span><br><span class="line"><span class="comment">            f[i][2]=f[i-1][1]+f[i-1][0]</span></span><br><span class="line"><span class="comment">            f[i][3]=f[i-1][0]</span></span><br><span class="line"><span class="comment">        3.初始化:f[0][0]=f[0][1]=f[0][2]=f[0][3]=1</span></span><br><span class="line"><span class="comment">        4.遍历顺序:i正序</span></span><br><span class="line"><span class="comment">        5.返回形式:最后4种情形加起来就是答案sum(f[n-1][j])</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">        <span class="type">long</span>[][] f = <span class="keyword">new</span> <span class="title class_">long</span>[n][<span class="number">4</span>];</span><br><span class="line">        Arrays.fill(f[<span class="number">0</span>], <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            f[i][<span class="number">0</span>] = (f[i - <span class="number">1</span>][<span class="number">3</span>] + f[i - <span class="number">1</span>][<span class="number">2</span>] + f[i - <span class="number">1</span>][<span class="number">1</span>] + f[i - <span class="number">1</span>][<span class="number">0</span>]) % MOD;</span><br><span class="line">            f[i][<span class="number">1</span>] = (f[i - <span class="number">1</span>][<span class="number">2</span>] + f[i - <span class="number">1</span>][<span class="number">0</span>]) % MOD;</span><br><span class="line">            f[i][<span class="number">2</span>] = (f[i - <span class="number">1</span>][<span class="number">1</span>] + f[i - <span class="number">1</span>][<span class="number">0</span>]) % MOD;</span><br><span class="line">            f[i][<span class="number">3</span>] = (f[i - <span class="number">1</span>][<span class="number">0</span>]) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">long</span> ff : f[n - <span class="number">1</span>]) &#123;</span><br><span class="line">            res = (res + ff) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-LC552-学生出勤记录-II">5.<a href="https://leetcode.cn/problems/student-attendance-record-ii/"><strong>LC552. 学生出勤记录 II</strong></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">checkRecord</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        动态规划:</span></span><br><span class="line"><span class="comment">        按 总出勤 计，学生缺勤（&#x27;A&#x27;）严格 少于两天。</span></span><br><span class="line"><span class="comment">        那么可以将情况分为两种:0天或者1天A</span></span><br><span class="line"><span class="comment">        其中，1天的可以枚举A出现的天数，然后两边通过乘法原理进行求解次数</span></span><br><span class="line"><span class="comment">            0天的可以通过动态规划进行求解，因为只有L与P两种状态，合法情况为最多两个连续的L</span></span><br><span class="line"><span class="comment">        1.状态定义:由于第i天（从1开始）的选择被前两天i-1与i-2限制了，因此会多出两个维度f[i][pre][cur]</span></span><br><span class="line"><span class="comment">            因此定义f[i][0][0]为第i-1与i天选择为LL的情形数，f[i][0][1]为第i-1与i天选择为LP的情形数</span></span><br><span class="line"><span class="comment">                f[i][1][0]为第i-1与i天选择为PL的情形数，f[i][1][1]为第i-1与i天选择为PP的情形数</span></span><br><span class="line"><span class="comment">        2.状态转移:显然f[i][0][0]=f[i-1][1][0]，f[i][0][1]=f[i-1][0][0]+f[i-1][1][0]</span></span><br><span class="line"><span class="comment">                f[i][1][0]=f[i-1][0][1]+f[i-1][1][1]，f[i][1][1]=f[i-1][1][1]+f[i-1][0][1]</span></span><br><span class="line"><span class="comment">        3.初始化:f[2][0][0]=1，f[2][1][0]=1，f[2][0][1]=1，f[2][1][1]=1</span></span><br><span class="line"><span class="comment">        4.遍历顺序:i正序，其余任意</span></span><br><span class="line"><span class="comment">        5.返回形式:∑f[n][pre][cur]+有1个A的情形数</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">        <span class="type">long</span>[][][] f = <span class="keyword">new</span> <span class="title class_">long</span>[n + <span class="number">1</span>][<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">        f[<span class="number">2</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        f[<span class="number">2</span>][<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        f[<span class="number">2</span>][<span class="number">0</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        f[<span class="number">2</span>][<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">3</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            f[i][<span class="number">0</span>][<span class="number">0</span>] = f[i - <span class="number">1</span>][<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">            f[i][<span class="number">0</span>][<span class="number">1</span>] = (f[i - <span class="number">1</span>][<span class="number">0</span>][<span class="number">0</span>] + f[i - <span class="number">1</span>][<span class="number">1</span>][<span class="number">0</span>]) % MOD;</span><br><span class="line">            f[i][<span class="number">1</span>][<span class="number">0</span>] = (f[i - <span class="number">1</span>][<span class="number">0</span>][<span class="number">1</span>] + f[i - <span class="number">1</span>][<span class="number">1</span>][<span class="number">1</span>]) % MOD;</span><br><span class="line">            f[i][<span class="number">1</span>][<span class="number">1</span>] = (f[i - <span class="number">1</span>][<span class="number">1</span>][<span class="number">1</span>] + f[i - <span class="number">1</span>][<span class="number">0</span>][<span class="number">1</span>]) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// sum[i]表示长度为i天数不包含A的合法情形数</span></span><br><span class="line">        <span class="type">long</span>[] sum = <span class="keyword">new</span> <span class="title class_">long</span>[n + <span class="number">1</span>];</span><br><span class="line">        sum[<span class="number">0</span>] = <span class="number">1</span>; <span class="comment">// 没有天数视为1</span></span><br><span class="line">        sum[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            sum[i] = (f[i][<span class="number">0</span>][<span class="number">0</span>] + f[i][<span class="number">0</span>][<span class="number">1</span>] + f[i][<span class="number">1</span>][<span class="number">0</span>] + f[i][<span class="number">1</span>][<span class="number">1</span>]) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// System.out.println(Arrays.toString(sum));</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> sum[n];</span><br><span class="line">        <span class="comment">// 统计带A的合法情形数，其中i为A出现的位置</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            res = (res + (sum[i - <span class="number">1</span>] * sum[n - i]) % MOD) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 动态规划 </tag>
            
            <tag> 状态机DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二维前缀和专题</title>
      <link href="/posts/b7f88f4c.html"/>
      <url>/posts/b7f88f4c.html</url>
      
        <content type="html"><![CDATA[<p><strong>二维前缀和模板：</strong></p><p><strong>一维前缀和:sum[i,j]=sum[j+1]-sum[i]</strong></p><p>将sum[i][j]看成是以 <strong>matrix[0][0]</strong> 为左上角顶点, <strong>matrix[i-1][j-1]</strong> 为右下角顶点的矩阵内所有元素的和</p><p><strong>初始化sum矩阵</strong>：sum[i + 1][j + 1] = sum[i][j + 1] + sum[i + 1][j] - sum[i][j] + matrix[i][j];</p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302105654.jpg" alt="p21"></p><p><strong>区块求和:</strong> sumRegion(r1, c1, r2, c2)=sum[r2 + 1, c2 + 1] - sum[r1, c2 + 1] - sum[r2 + 1, c1] + sum[r1, c1]</p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302105593.jpg" alt="p22"></p><p>也就是数说sum[i][j]是比matrix<strong>超前一位</strong>的</p><p>代码如下：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NumMatrix</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[][] sum;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NumMatrix</span><span class="params">(<span class="type">int</span>[][] matrix)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> matrix.length, n = matrix[<span class="number">0</span>].length;</span><br><span class="line">        sum = <span class="keyword">new</span> <span class="title class_">int</span>[m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                sum[i + <span class="number">1</span>][j + <span class="number">1</span>] = sum[i][j + <span class="number">1</span>] + sum[i + <span class="number">1</span>][j] - sum[i][j] + matrix[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 求以(r1,c1)为左上角,(r2,c2)为右下角的区块和</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumRegion</span><span class="params">(<span class="type">int</span> r1, <span class="type">int</span> c1, <span class="type">int</span> r2, <span class="type">int</span> c2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sum[r2 + <span class="number">1</span>][c2 + <span class="number">1</span>] - sum[r1][c2 + <span class="number">1</span>] - sum[r2 + <span class="number">1</span>][c1] + sum[r1][c1];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 二维前缀和 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>滑动窗口专题</title>
      <link href="/posts/63fc9391.html"/>
      <url>/posts/63fc9391.html</url>
      
        <content type="html"><![CDATA[<h2 id="1004-最大连续1的个数-III"><a href="https://leetcode.cn/problems/max-consecutive-ones-iii/">1004. 最大连续1的个数 III</a></h2><p><strong>解题思路</strong></p><p><strong>重点：</strong> 题意转换。把「最多可以把 K 个 0 变成 1，求仅包含 1 的最长子数组的长度」转换为 「找出一个最长的子数组，该子数组内最多允许有 K 个 0 」。</p><p>经过上面的题意转换，我们可知本题是求最大连续子区间，可以使用滑动窗口方法。滑动窗口的限制条件是：窗口内最多有 K 个 0。</p><p><strong>代码思路：</strong></p><p>1.使用 l 和 r 两个指针，分别指向滑动窗口的左右边界。</p><p>2.<strong>r 主动右移：</strong> r 指针每次移动一步。当nums[r]为 0，说明滑动窗口内增加了一个 0；</p><p>3.<strong>l 被动右移：</strong> 判断此时窗口内 0 的个数，如果超过了 k，则 l 指针被迫右移，直至窗口内的 0 的个数小于等于 k 为止。</p><p>4.<strong>滑动窗口长度最大值</strong>就是所求。</p><p>示例：</p><p>以 A= [1,1,1,0,0,0,1,1,1,1,0], K = 2 为例，下面的动图演示了滑动窗口的两个指针的移动情况。</p><p>见 <a href="https://leetcode.cn/problems/max-consecutive-ones-iii/solution/fen-xiang-hua-dong-chuang-kou-mo-ban-mia-f76z/"><strong>1004. 最大连续1的个数 III - 负雪明烛 的题解</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestOnes</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">zero</span> <span class="operator">=</span> <span class="number">0</span>;   <span class="comment">// 窗口中0的个数</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">0</span>, l = <span class="number">0</span>; r &lt; n; r++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[r] == <span class="number">0</span>) zero++; <span class="comment">// r主动右移形成新的窗口</span></span><br><span class="line">        <span class="comment">// 窗口内的0个数&gt;k代表不符合题意-&gt;此时l应被动移动至符合对应r要求的位置</span></span><br><span class="line">        <span class="keyword">while</span> (zero &gt; k) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[l] == <span class="number">0</span>) zero--;</span><br><span class="line">            l++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 维护每一轮r对应的窗口长度最大值就是res</span></span><br><span class="line">        res = Math.max(res, r - l + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>分享滑动窗口模板</p><p>《挑战程序设计竞赛》这本书中把滑动窗口叫做「虫取法」，我觉得非常生动形象。因为滑动窗口的两个指针移动的过程和虫子爬动的过程非常像：前脚不动，把后脚移动过来；后脚不动，把前脚向前移动。</p><p>我分享一个滑动窗口的模板，能解决大多数的滑动窗口问题：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] findSubArray(<span class="type">int</span>[] nums)&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> num.length; <span class="comment">// 数组or字符串长度</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = <span class="number">0</span>;     <span class="comment">// 双指针，表示当前遍历的区间[l, r]，闭区间</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span> <span class="comment">// 用于统计 子数组or子区间 是否有效，根据题目可能会改成求和or计数</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span> <span class="comment">// 保存最大的满足题目要求的 子数组or子串 长度</span></span><br><span class="line">    <span class="keyword">while</span> (r &lt; n)&#123;     <span class="comment">// 当右边的指针没有搜索到 数组or字符串 的结尾</span></span><br><span class="line">        sum += nums[r]     <span class="comment">// 增加当前右边指针的数字or字符的求和or计数</span></span><br><span class="line">        <span class="keyword">while</span> 区间[l, r]不符合题意&#123;</span><br><span class="line">            sum -= nums[l] <span class="comment">// 移动左指针前需要从sum中减少l位置字符的求和or计数</span></span><br><span class="line">            l++ <span class="comment">// 真正的移动左指针，注意不能跟上面一行代码写反</span></span><br><span class="line">        &#125; <span class="comment">// 此时需要一直移动左指针，直至找到一个符合题意的区间</span></span><br><span class="line">        <span class="comment">// 到 while 结束时，我们找到了一个符合题意要求的 子数组or子串</span></span><br><span class="line">        res = Math.max(res, r - l + <span class="number">1</span>) <span class="comment">// 需要更新结果</span></span><br><span class="line">        r++ <span class="comment">// 移动右指针，去探索新的区间</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>滑动窗口中用到了左右两个指针，它们移动的思路是：以右指针作为驱动，拖着左指针向前走。右指针每次只移动一步，而左指针在内部 while 循环中每次可能移动多步。右指针是主动前移，探索未知的新区域；左指针是被迫移动，负责寻找满足题意的区间。</strong></p><p><strong>模板的整体思想是：</strong></p><p>1.定义两个指针 l 和 r 分别指向区间的开头和结尾，注意是闭区间；定义 sum 用来统计该区间内的各个字符出现次数；</p><p>2.第一重 while 循环是为了判断 r 指针的位置是否超出了数组边界；当 r 每次到了新位置，需要增加 r 指针的求和/计数；</p><p>3.第二重 while 循环是让 l 指针向右移动到 [l, r] 区间符合题意的位置；当 l 每次移动到了新位置，需要减少 l 指针的求和/计数；</p><p>4.在第二重 while 循环之后，成功找到了一个符合题意的 [l, r] 区间，题目要求最大的区间长度，因此更新 res = max(res, 当前区间的长度) 。</p><p>5.r 指针每次向右移动一步，开始探索新的区间。</p><p>6.模板中的 sum 需要根据题目意思具体去修改，本题是求和题目因此把sum 定义成整数用于求和；如果是计数题目，就需要改成字典用于计数。当左右指针发生变化的时候，都需要更新 sum 。</p><p>7.另外一个需要根据题目去修改的是内层 while 循环的判断条件，即： 区间 [l, r] 不符合题意 。对于本题而言，就是该区间内的 0 的个数 超过了 2 。</p><p><strong>滑窗题目主要有两种类型：</strong></p><p>1.窗口大小固定，例如为10，这时候相当于左右边界必定严格同步移动。</p><p>2.左指针l不回退类型，这类型一般是新加入nums[r]使得回退必定不符合条件，旧的nums[r]已经不符合条件，这种也可以利用滑窗的思想求解。</p><p><strong>再来一道练习题：</strong></p><h2 id="LC209-长度最小的子数组"><a href="https://leetcode-cn.com/problems/minimum-size-subarray-sum/">LC209. 长度最小的子数组</a></h2><p>给定一个含有n个正整数的数组和一个正整数<code>target</code> 。<br>找出该数组中满足其和<code>≥ target</code> 的长度最小的连续子数组<code>〔numsl，numsl+1，...，numsr-1,numsr]</code>，并返回其长度。如果不存在符合条件的子数组，返回0。<br><strong>示例1:</strong><br>输入： target = 7, nums = [2,3,1,2,4,3] 输出：2<br>解释：子数组[4,3]是该条件下的长度最小的了教组。<br><strong>示例2:</strong><br>输入： target = 4，nums = [1,4,4] 输出：1<br><strong>示例3:</strong><br>输入： target = 11，nums = [1,1,1,1,1,1,1,1] 输出：0</p><p><strong>思路：</strong></p><p><strong>滑动窗口</strong>:</p><p>这一题最关键的字眼&quot;<strong>≥ target 的长度最小的 连续子数组</strong>&quot;</p><p>这个字眼可以联想到很多东西</p><p>1.<strong>连续</strong>子数组：是连续的，因此可以与<strong>前缀和</strong>进行结合（实际上sum变量是一种对于前缀和的优化写法，目的是快速计算窗口的和）</p><p>同时，连续子数组，<strong>左右指针</strong>为边界就可以确定一个连续子数组-&gt;<strong>滑动窗口</strong></p><p>因此这一题的的提示已经非常明确了，必定是用滑窗</p><p>2.长度最小：一般来说求最小长度这种全局最优状态，可以考虑<strong>动态规划</strong>或者<strong>一路维护</strong></p><p>这里用dp的话，状态就是nums[i]结尾的最大长度，显然不太合适，dp[i-1]与dp[i]没有很明显的联系</p><p>那么就需要一路维护，求出<strong>以nums[r]为右边界的窗口的最小长度，r∈[0,len-1]</strong></p><p>维护好nums[0]~nums[len-1]为右边界的合法窗口长度，就是全局的合法窗口最小值，也就是所求！！！</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minSubArrayLen</span><span class="params">(<span class="type">int</span> target, <span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="comment">// 滑窗:右指针主动右移,左指针被动右移</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 维护当前窗口[l,r]的总和</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 主动移动右指针</span></span><br><span class="line">        <span class="keyword">for</span> (; r &lt; len; r++) &#123;</span><br><span class="line">            <span class="comment">// 计算当前窗口[l,r]的和:新加入的元素只有nums[r]</span></span><br><span class="line">            <span class="comment">// r指针可能要循环多次才能找到符合条件的[l,r],因为l右移至不符合sum&gt;=target</span></span><br><span class="line">            sum += nums[r];</span><br><span class="line">            <span class="comment">// 若窗口[l,r]满足条件,统计长度并尝试将其尽可能缩小,直至不符合题意</span></span><br><span class="line">            <span class="keyword">while</span> (sum &gt;= target) &#123;</span><br><span class="line">                <span class="comment">// [l,r]符合条件,维护res</span></span><br><span class="line">                res = Math.min(res, r - l + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// l一直右移并统计,直至不满足条件</span></span><br><span class="line">                <span class="comment">// 这里有个很值得思考的点:为什么l指针可以义无反顾地移动至不符合条件的l+1?</span></span><br><span class="line">                <span class="comment">// [l,r]合法;[l+1,r]不合法,而[l,r+1]及更长的不可能被统计因为只统计短的</span></span><br><span class="line">                <span class="comment">// [l,r-1]以及更短的呢?右边界为r-1的情况已统计,因为l会直接移动到不合法且nums都为正数,因此窗口不可能继续缩小!</span></span><br><span class="line">                <span class="comment">// 所以此时l可以义无反顾地移动至l+1</span></span><br><span class="line">                sum -= nums[l++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 若没有窗口符合条件就是0</span></span><br><span class="line">        <span class="keyword">return</span> res == Integer.MAX_VALUE ? <span class="number">0</span> : res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>为什么l指针可以义无反顾地移动至不符合条件的l+1?滑窗精髓所在-&gt;减少不必要的计算</strong></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 滑窗 </tag>
            
            <tag> 双指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>状态压缩DP专题</title>
      <link href="/posts/11a473c.html"/>
      <url>/posts/11a473c.html</url>
      
        <content type="html"><![CDATA[<p><strong>两道入门题目：</strong></p><h3 id="1-2305-公平分发饼干">1.<a href="https://leetcode.cn/problems/fair-distribution-of-cookies/"><strong>2305. 公平分发饼干</strong></a></h3><p>1.状态定义:<strong>dp[i][j]</strong> 为第 <strong>i</strong>个孩子分饼干状态为 <strong>j</strong> 时每个孩子能分到的最多饼干数的最小值</p><p>2.状态转移:要求得<strong>dp[i][j]</strong> 的值，要考虑 <strong>j</strong> 的每个子集，再维护 子集计算出的最大值然后转移过来 <strong>最小值</strong></p><p>​      <strong>dp[i][j]=min(max(dp[i-1][j-x],sum[x]))</strong> 其中sum[x]为分配状态为 <strong>x</strong> 时的总的糖果数</p><p>3.初始化:<strong>dp[0][j]=sum[j]</strong>，只分给第一个孩子肯定是全分了总数就是饼干数<strong>sum[j]</strong>，其余为 <strong>INF</strong> 方便覆盖</p><p>4.遍历顺序:先i后j最后x,正序</p><p>5.返回形式:返回 <strong>dp[n-1][mask-1]</strong> 即 所有孩子将饼干全部分完时<strong>每个孩子最大饼干数的最小值</strong></p><p>代码如下：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">distributeCookies</span><span class="params">(<span class="type">int</span>[] cookies, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> cookies.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mask</span> <span class="operator">=</span> <span class="number">1</span> &lt;&lt; n;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[k][mask];</span><br><span class="line">        <span class="type">int</span>[] sum = <span class="keyword">new</span> <span class="title class_">int</span>[mask];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; mask; i++) &#123;</span><br><span class="line">            <span class="comment">// x为获取的最低位1后面尾随0个数，y为缺位x的差集</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> Integer.numberOfTrailingZeros(i), y = i - (<span class="number">1</span> &lt;&lt; x);</span><br><span class="line">            sum[i] = sum[y] + cookies[x];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 初始化</span></span><br><span class="line">        System.arraycopy(sum, <span class="number">0</span>, dp[<span class="number">0</span>], <span class="number">0</span>, mask);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; k; i++) &#123;</span><br><span class="line">            Arrays.fill(dp[i], <span class="number">0x3f3f3f3f</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 遍历状态</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; k; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; mask; j++) &#123;</span><br><span class="line">                <span class="comment">// 此时j-x就是枚举j的所有子集</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> j; x != <span class="number">0</span>; x = (x - <span class="number">1</span>) &amp; j) &#123;</span><br><span class="line">                    dp[i][j] = Math.min(dp[i][j], Math.max(dp[i - <span class="number">1</span>][j - x], sum[x]));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[k - <span class="number">1</span>][mask - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-1723-完成所有工作的最短时间">2.<a href="https://leetcode.cn/problems/find-minimum-time-to-finish-all-jobs/"><strong>1723. 完成所有工作的最短时间</strong></a></h3><p>代码如下：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumTimeRequired</span><span class="params">(<span class="type">int</span>[] jobs, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> jobs.length;    <span class="comment">// n为工作份数</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">mask</span> <span class="operator">=</span> <span class="number">1</span> &lt;&lt; n;  <span class="comment">// 工作分配情况数目</span></span><br><span class="line">        <span class="comment">// dp[i][j]表示考虑索引为[0,i]的工人,工作分配情况为j(01010...表示)时每个工人最大工作时间的最小值</span></span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[k][mask];</span><br><span class="line">        <span class="comment">// 初始化sum[i] -&gt; 完成状态为i的工作的总时间</span></span><br><span class="line">        <span class="type">int</span>[] sum = <span class="keyword">new</span> <span class="title class_">int</span>[mask];</span><br><span class="line">        <span class="comment">// i∈[1,mask-1] 因为sum[0]=0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; mask; i++) &#123;</span><br><span class="line">            <span class="comment">// x为i最低位1后面的尾随0个数,y为与i相比仅仅缺位x位置的状态</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> Integer.numberOfTrailingZeros(i), y = i - (<span class="number">1</span> &lt;&lt; x);</span><br><span class="line">            sum[i] = sum[y] + jobs[x];  <span class="comment">// 加上缺位的x就是i的时长</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 初始化dp</span></span><br><span class="line">        System.arraycopy(sum, <span class="number">0</span>, dp[<span class="number">0</span>], <span class="number">0</span>, mask);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; k; i++) &#123;</span><br><span class="line">            Arrays.fill(dp[i], <span class="number">0x3f3f3f3f</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 遍历dp状态</span></span><br><span class="line">        <span class="comment">// 遍历每个工人i</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; k; i++) &#123;</span><br><span class="line">            <span class="comment">// 遍历每种状态j</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; mask; j++) &#123;</span><br><span class="line">                <span class="comment">// 遍历状态j的每种子集j-x</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> j; x != <span class="number">0</span> ; x = (x - <span class="number">1</span>) &amp; j) &#123;</span><br><span class="line">                    <span class="comment">// 找到每种子集j-x得到的最大值转移过来的 最小值 就是考虑[0,i]工人,状态为j-x的最大工作时间的最小值</span></span><br><span class="line">                    <span class="comment">// 子集转移途径为:取前面dp[i - 1][j - x]最大值的最小值与分配给工人i的sum[x]进行比较找到最大值</span></span><br><span class="line">                    <span class="comment">// 再维护每种转移途经最小值</span></span><br><span class="line">                    dp[i][j] = Math.min(dp[i][j], Math.max(dp[i - <span class="number">1</span>][j - x], sum[x]));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 所有工人分配完所有工作的最长单人工作时间最小值</span></span><br><span class="line">        <span class="keyword">return</span> dp[k - <span class="number">1</span>][mask - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们不妨来总结一下状态压缩DP：其实状态压缩DP是类似于暴力法回溯的方法，能用状态压缩方法做的通常都可以用回溯+剪枝来求解。一般来说这种问题称为“分配问题”，或者叫做“桶轮询”。就是将元素(通常数目很小&lt;32个)分配到多个容器(桶)中，然后求解有每个桶最多数目的最少值，或者是满足条件路径数等，这里求解目标的不同体现在转移方程上。</p><p>抽象一下：饼干、工作（要分配的对象）——<strong>元素</strong>；工人、孩子（被分配到的地方）——<strong>容器（桶）</strong></p><p><a href="https://leetcode.cn/problems/beautiful-arrangement/">526. 优美的排列</a> 这道题就是要求路径数目，同时将桶容量限制为1，因此子集数目只有 i 个</p><h3 id="3-总体模板（本质也是DP）：">3.总体模板（本质也是DP）：</h3><p>1.状态定义：dp[i][i]为考虑前 <strong>i</strong> 个容器（桶），分配状态为 <strong>j</strong> (0101表示分配状态)时候的 所求量（路径数、最大值、最小值等）</p><p>2.状态转移：此时遍历到第 <strong>i</strong> 个容器（桶），一般来说要求 <strong>dp[i][j]</strong> 得考虑前面容器的情况 -&gt; <strong>dp[i-1][j-x]</strong></p><p>其中 <strong>x</strong> 为第 <strong>i</strong> 个容器的选择状态，那么 <strong>j-x</strong> 就是 <strong>[0,i-1]</strong> 个容器的选择状态</p><p>将第<strong>i</strong>个容器独立出来考虑，这个容器的选择有哪些？也就是转移路径有哪些？？？</p><p>很显然如果桶的容量（包括元素个数与总和）没有限制的话，<strong>j</strong> 的全体子集（除了本身）都是符合要求的前一个状态</p><p>-&gt; 因此可以直接通过下面语句枚举 <strong>j</strong> 的所有合法子集来进行 dp[i][j] 状态转移</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> j; x != <span class="number">0</span> ; x = (x - <span class="number">1</span>) &amp; j) &#123;</span><br><span class="line">    dp[i][j] = dp[i - <span class="number">1</span>][j - x]... <span class="comment">// 搭建两个状态的桥梁</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>-&gt; 当然也有可能<strong>容量有限</strong>：参考 <a href="https://leetcode.cn/problems/beautiful-arrangement/">526. 优美的排列</a> 枚举符合条件的子集（合法转移路径）进行转移即可</p><p>3.初始化：一般来说，初始化 <strong>dp[0][j]</strong> 为首个容器分得状态 <strong>j</strong> 时的所求量；其他<strong>dp[i][j]</strong> 按照转移逻辑来初始化</p><p>目的都是要作为初始哨兵不影响第一个值的覆盖（如求最大值就弄个很小的数第一个比较的必定顺利覆盖…）</p><p>4.遍历顺序：一般是先遍历容器 <strong>i</strong> ，再遍历每个状态 <strong>j</strong> ，最后遍历每种合法转移路径 <strong>j-x</strong>，默认正序</p><p>5.返回形式：一般返回 <strong>dp[n-1][mask-1]</strong> 表示考虑所有桶，把所有元素分配完的所求量为多少</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 动态规划 </tag>
            
            <tag> 状态压缩DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>有向图的表示方法</title>
      <link href="/posts/b0713fa8.html"/>
      <url>/posts/b0713fa8.html</url>
      
        <content type="html"><![CDATA[<p>约定 <strong>n</strong> 为点数， <strong>m</strong>为边数，times = [[2,1,1],[2,3,1],[3,4,1]] 表示3条边</p><p>2-&gt;1 权重为1</p><p>2-&gt;3 权重为1</p><p>3-&gt;4 权重为1</p><h3 id="1-邻接矩阵">1.邻接矩阵</h3><p>这是一种使用二维矩阵来进行存图的方式。</p><p>适于边数较多的「<strong>稠密图</strong>」使用，当边数量接近点的数量的平方，即m≈n²时，可定义为「<strong>稠密图</strong>」。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 邻接矩阵数组：w[a][b] = c 代表从 a 到 b 有权重为 c 的边</span></span><br><span class="line"><span class="type">int</span>[][] w = <span class="keyword">new</span> <span class="title class_">int</span>[N][N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 加边操作</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    w[a][b] = c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-邻接表-链式前向星存图">2.邻接表(链式前向星存图)</h3><p>适用于边数较少的「<strong>稀疏图</strong>」使用，当边数量接近点的数量，即m≈n 时，可定义为「<strong>稀疏图</strong>」。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[] he = <span class="keyword">new</span> <span class="title class_">int</span>[N], e = <span class="keyword">new</span> <span class="title class_">int</span>[M], ne = <span class="keyword">new</span> <span class="title class_">int</span>[M], w = <span class="keyword">new</span> <span class="title class_">int</span>[M];</span><br><span class="line"><span class="type">int</span> idx;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    e[idx] = b;    <span class="comment">// 边idx指向节点b</span></span><br><span class="line">    ne[idx] = he[a];    <span class="comment">// 头插法在上一轮的a射出的边的头结点上插入idx</span></span><br><span class="line">    he[a] = idx;    <span class="comment">// 更新a射出的边的头结点为边idx</span></span><br><span class="line">    w[idx] = c;    <span class="comment">// 边idx的权重为c</span></span><br><span class="line">    idx++;        <span class="comment">// 边索引+1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>首先 idx 是用来对<strong>边</strong>进行编号的：</p><p>1.he 数组：存储是某个节点所对应的<strong>边的集合</strong>（链表）的头结点；</p><p>如下图所示：he[u]=边4</p><p>注意：<strong>仅仅是存储头结点</strong>，之后就可以根据ne数组进行查找！</p><p><img src="https://s1.vika.cn/space/2022/09/30/28e75107c2ae40a78eaa853d1e0f6d99" alt="p20"></p><p>2.e  数组：<strong>某一条边指向的节点</strong>：e[边4]=v4</p><p><a href="http://3.ne">3.ne</a> 数组：由于是以链表的形式进行存边，该数组用于<strong>找到下一条边</strong></p><p>ne[边4]=边3；构建链表的过程是头插法：null&lt;-边1&lt;-边2…</p><p>4.w  数组：用于记录<strong>某条边的权重</strong>为多少。</p><p>编码的边是用idx作为索引来进行标记的，也就是说每一个idx对应一条边</p><p>因此当我们想要<strong>遍历所有由 a 点发出的边（注意是a伸出的边）</strong> 时，可使用如下方式：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 从a射出的边的头结点出发一路遍历至-1(null)</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> he[a]; i != -<span class="number">1</span>; i = ne[i]) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> e[i], c = w[i]; <span class="comment">// 存在由 a 指向 b 的边，权重为 c</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-类">3.类</h3><p>这是一种最简单，但是相比上述两种存图方式，使用得较少的存图方式。</p><p>只有当我们需要确保某个操作复杂度严格为<strong>O(m)</strong> 时，才会考虑使用。</p><p>具体的，我们建立一个类来记录有向边信息：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="comment">// 代表从 a 到 b 有一条权重为 c 的边</span></span><br><span class="line">    <span class="type">int</span> a, b, c;</span><br><span class="line">    Edge(<span class="type">int</span> _a, <span class="type">int</span> _b, <span class="type">int</span> _c) &#123;</span><br><span class="line">        a = _a; b = _b; c = _c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通常我们会使用 List 存起所有的边对象，并在需要遍历所有边的时候，进行遍历：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Edge&gt; es = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">...</span><br><span class="line"><span class="keyword">for</span> (Edge e : es) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-HashMap">4.HashMap</h3><p>注意：如果节点索引集中可以用List数组代替HashMap，具体参考List数组创建与初始化方法</p><p>key为出发点，value为该出发点对应的终点列表（一个出发点可能对应多个终点）</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// HashMap存图(适用于离散节点)</span></span><br><span class="line">HashMap&lt;Integer, List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span>[] edge : edges) &#123;</span><br><span class="line">    List&lt;Integer&gt; list1 = map.getOrDefault(edge[<span class="number">0</span>], <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">    list1.add(edge[<span class="number">1</span>]);</span><br><span class="line">    map.put(edge[<span class="number">0</span>], list1);</span><br><span class="line">    <span class="comment">// 若为无向图</span></span><br><span class="line">    List&lt;Integer&gt; list2 = map.getOrDefault(edge[<span class="number">1</span>], <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">    list2.add(edge[<span class="number">0</span>]);</span><br><span class="line">    map.put(edge[<span class="number">1</span>], list2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 带权图</span></span><br><span class="line">HashMap&lt;Integer, List&lt;<span class="type">int</span>[]]&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span>[] edge : edges) &#123;</span><br><span class="line">    List&lt;<span class="type">int</span>[]&gt; list1 = map.getOrDefault(edge[<span class="number">0</span>], <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">    list1.add(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123;edge[<span class="number">1</span>], edge[<span class="number">2</span>]&#125;);</span><br><span class="line">    map.put(edge[<span class="number">0</span>], list1);</span><br><span class="line">    <span class="comment">// 若为带权无向图</span></span><br><span class="line">    List&lt;Integer&gt; list2 = map.getOrDefault(edge[<span class="number">1</span>], <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">    list2.add(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123;edge[<span class="number">0</span>], edge[<span class="number">2</span>]&#125;);</span><br><span class="line">    map.put(edge[<span class="number">1</span>], list2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 邻接表存图(适用于集中节点)</span></span><br><span class="line">List&lt;Integer&gt;[] list = <span class="keyword">new</span> <span class="title class_">List</span>[n];</span><br><span class="line"><span class="comment">// 注意这里不能Arrays.fill()否则是同一个对象</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) list[i] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span>[] e : edges) &#123;</span><br><span class="line">    <span class="comment">// e[0] -&gt; e[1]</span></span><br><span class="line">    list[e[<span class="number">0</span>]].add(e[<span class="number">1</span>]);</span><br><span class="line">    <span class="comment">// 若为无向图</span></span><br><span class="line">    list[e[<span class="number">1</span>]].add(e[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>排序算法专题</title>
      <link href="/posts/7236f06c.html"/>
      <url>/posts/7236f06c.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-快速排序">1.快速排序</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] nums = &#123;<span class="number">10</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">62</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">19</span>&#125;;</span><br><span class="line">    quickSort(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : nums) System.out.println(num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> low, <span class="type">int</span> high)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    快速排序:原理每一轮选一个基准元素pivot</span></span><br><span class="line"><span class="comment">    利用两个指针分别将&lt;=pivot和&gt;pivot的元素分别放在pivot的左边与右边</span></span><br><span class="line"><span class="comment">    最后递归调用原函数直至区间长度缩小为1</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">if</span> (low &gt;= high) <span class="keyword">return</span>; <span class="comment">//  区间长度&lt;=1直接结束</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> low, r = high;  <span class="comment">// 左右指针</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> nums[low];  <span class="comment">// 以nums[low]为基准</span></span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="comment">// r指针先行可以确保最后停留的位置必定是&lt;=基准，再不济就移动到pivot位置上；而l指针先行会找到首个大于基准的位置</span></span><br><span class="line">        <span class="comment">// 例如在[1,2,3,4,5]这种情况会停在2处，此时r指针想找小于等于基准的元素但是也只能移动到2处结束</span></span><br><span class="line">        <span class="comment">// 循环退出-&gt;将1与2的位置交换，此时有[2,1,3,4,5] 这个就违反了快排的宗旨了，再递归左右子区间就出错。</span></span><br><span class="line">        <span class="comment">// 归根到底右指针先行，是为了避免左指针主动时导致停留在比基准大的地方，与基准交换后直接导致基准左边有元素大于基准。</span></span><br><span class="line">        <span class="comment">// 右指针先行会主动占据&lt;=基准的元素，再不济就是移动到基准位置，这两种情况符合快排目的.</span></span><br><span class="line">        <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[r] &gt; pivot) r--;  <span class="comment">// r停留在首个&lt;=基准的元素处</span></span><br><span class="line">        <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[l] &lt;= pivot) l++;  <span class="comment">// l停留在首个&gt;基准的元素处</span></span><br><span class="line">        <span class="keyword">if</span> (l &lt; r) &#123;    <span class="comment">// 交换nums[l]与nums[r]</span></span><br><span class="line">            <span class="comment">// nums[l] ^= nums[r];</span></span><br><span class="line">            <span class="comment">// nums[r] ^= nums[l];</span></span><br><span class="line">            <span class="comment">// nums[l] ^= nums[r];</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> nums[l];</span><br><span class="line">            nums[l] = nums[r];</span><br><span class="line">            nums[r] = t;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// l == r 将nums[low]与nums[l]交换</span></span><br><span class="line">    nums[low] = nums[l];</span><br><span class="line">    nums[l] = pivot;</span><br><span class="line">    <span class="comment">// 递归排序左右子区间</span></span><br><span class="line">    quickSort(nums, low, r - <span class="number">1</span>);</span><br><span class="line">    quickSort(nums, r + <span class="number">1</span>, high);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-归并排序">2.归并排序</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Merge_Sort</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] nums = &#123;<span class="number">10</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">62</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">19</span>&#125;;</span><br><span class="line">        mergeSort(nums);</span><br><span class="line">        System.out.println(Arrays.toString(nums));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    归并排序:分区间排序+合并两个有序数组</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">mergeSort</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="literal">null</span> || nums.length &lt;= <span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="type">int</span>[] tmp = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">        mergeSort(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>, tmp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    重载的带区间端点的归并排序方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">mergeSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span>[] tmp)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (l == r) <span class="keyword">return</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> l + (r - l) / <span class="number">2</span>;</span><br><span class="line">        mergeSort(nums, l, mid, tmp);   <span class="comment">// 递归排序[l,mid]</span></span><br><span class="line">        mergeSort(nums, mid + <span class="number">1</span>, r, tmp);   <span class="comment">// 递归排序[mid+1,r]</span></span><br><span class="line">        <span class="comment">// 合并两个有序数组[l,mid]和[mid+1,r]</span></span><br><span class="line">        merge(nums, l, mid, r, tmp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    合并nums两个区间内的两个有序数组</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> mid, <span class="type">int</span> r, <span class="type">int</span>[] tmp)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> l;    <span class="comment">// 合并后的指针</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l, j = mid + <span class="number">1</span>; <span class="comment">// 左右指针</span></span><br><span class="line">        <span class="comment">// 将[l,mid]和[mid+1,r]元素按照大小拷贝到tmp对应位置中</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r) &#123;    <span class="comment">// 等于的时候还没赋值!</span></span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt;= nums[j]) &#123;</span><br><span class="line">                tmp[idx++] = nums[i++];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                tmp[idx++] = nums[j++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 走完还没有走完的一边</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt;= mid) tmp[idx++] = nums[i++];</span><br><span class="line">        <span class="keyword">while</span> (j &lt;= r) tmp[idx++] = nums[j++];</span><br><span class="line">        <span class="comment">// 将临时数组拷贝至nums对应位置</span></span><br><span class="line">        System.arraycopy(tmp, l, nums, l, r - l + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="3-堆排序">3.堆排序</h3><p>堆是具有以下性质的完全二叉树：每个结点的值都<strong>大于</strong>或等于其左右孩子结点的值，称为大顶堆；</p><p>或者每个结点的值都<strong>小于</strong>或等于其左右孩子结点的值，称为小顶堆。如下图：</p><p><img src="https://s1.vika.cn/space/2022/09/30/8765ce29ffd444089c6c64ad89122516" alt="p19"></p><p><strong>参考资料：</strong><a href="https://blog.csdn.net/Javascript_tsj/article/details/124051388"><strong>堆排序（超详细图解 java版）</strong></a></p><p><strong>主要步骤：</strong></p><p>1.将无序序列构建成一个堆，根据升序降序需求选择大顶堆或小顶堆（升序一般用大顶堆）</p><p>2.将堆顶元素与末尾元素交换，将最大元素&quot;沉&quot;到数组末端</p><p>3.重新调整结构,使其满足堆定义，然后继续交换堆顶元素与当前末尾元素</p><p>4.反复执行调整+交换步骤，直到整个序列有序</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Heap</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] nums = &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>&#125;;</span><br><span class="line">        HeapSort(nums);</span><br><span class="line">        System.out.println(Arrays.toString(nums));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     堆排序主方法:</span></span><br><span class="line"><span class="comment">     一般来说升序排列就构造大顶堆(堆顶最大&amp;&amp;当前节点比左右子节点都大-&gt;但是左右节点的大小没有要求)</span></span><br><span class="line"><span class="comment">     堆的索引统一从0开始,因此总的范围在[0,len-1]</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">HeapSort</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="comment">// 叶子节点肯定堆的最底层,不用下沉</span></span><br><span class="line">        <span class="comment">// 这里用了一个结论:只下沉非叶子节点间接也上浮了所有叶子节 因此只下沉前半部分即可保证堆有序</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> len / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;    <span class="comment">// len÷2-1是首个非叶子结点索引</span></span><br><span class="line">            sink(nums, i, len - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 下沉完后整个堆有序 堆顶元素就是最大元素</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 注:索引为[0, i]之间为要调整的堆结范围</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> len - <span class="number">1</span>; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="comment">// 将堆中最后一个元素与堆顶元素交换,让最大值放到最后</span></span><br><span class="line">            swap(nums, <span class="number">0</span>, i);</span><br><span class="line">            <span class="comment">// 此时堆顶是下面换上去的元素很小,堆结构被破坏了,通过sink()方法让该元素下沉至适合位置</span></span><br><span class="line">            <span class="comment">// 注意此时要把最后一个排除在外,因为nums的最大值已经确定-&gt;此时堆范围变为[0,i-1]</span></span><br><span class="line">            sink(nums, <span class="number">0</span>, i - <span class="number">1</span>);</span><br><span class="line">            <span class="comment">// 下沉完之后[0,i-1]又是一个有序的堆</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 调整堆方法(在大顶堆中表现为下沉)</span></span><br><span class="line"><span class="comment">     * 将指定索引target的元素在[0, end]范围内进行下沉操作至正确位置</span></span><br><span class="line"><span class="comment">     * 比较当前节点值与左右子节点最大值,若前节点值小于左右子节点最大值必须下沉(交换)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums   待排序的数组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> target 下沉目标元素索引</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> end    要调整的堆范围最大索引</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">sink</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> target;   <span class="comment">// 下沉指针</span></span><br><span class="line">        <span class="comment">// 若存在左子节点就进入循环(否则表明下沉到底层了)</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="number">2</span> * idx + <span class="number">1</span> &lt;= end) &#123;</span><br><span class="line">            <span class="comment">// maxLR为左右子节点最大值对应的索引,初始化为左子节点索引</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">maxLR</span> <span class="operator">=</span> <span class="number">2</span> * idx + <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// 如果有右子节点 &amp;&amp; 右子节点的值比左子节点大</span></span><br><span class="line">            <span class="keyword">if</span> (maxLR + <span class="number">1</span> &lt;= end &amp;&amp; nums[maxLR + <span class="number">1</span>] &gt; nums[maxLR]) &#123;</span><br><span class="line">                <span class="comment">// 更新maxLR的值为右子节点索引</span></span><br><span class="line">                maxLR++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 判断 当前节点值 与 左右子节点最大值maxLR 的大小</span></span><br><span class="line">            <span class="comment">// 正确的堆结构应为:当前节点值nums[idx]&gt;=nums[maxLR] 若这里nums[idx]&lt;nums[maxLR]那就要交换了</span></span><br><span class="line">            <span class="keyword">if</span> (nums[idx] &lt; nums[maxLR]) &#123;</span><br><span class="line">                <span class="comment">// 将idx位置与maxLR位置元素进行交换</span></span><br><span class="line">                swap(nums, idx, maxLR);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// nums[idx]&gt;=nums[maxLR]表明target元素位置已经正确-&gt;退出</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// idx指针往maxLR方向走</span></span><br><span class="line">            idx = maxLR;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    交换nums[i]与nums[j]的值</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 排序 </tag>
            
            <tag> 快排 </tag>
            
            <tag> 堆排序 </tag>
            
            <tag> 归并排序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>区间求和专题</title>
      <link href="/posts/6e401bce.html"/>
      <url>/posts/6e401bce.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-树状数组-「单点修改-区间查询」：">1.树状数组-&gt;「单点修改 &amp; 区间查询」：</h3><p>先输入一个长度为n的数组nums，有如下两种操作：</p><p>1.输入一个数m，输出数组中下标1~m的前缀和sum[1,m]</p><p>2.对某个指定下标的数进行值的修改</p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302057880.jpg" alt="p10"></p><p>常规方法：<strong>前缀和</strong>，但是当单点修改的次数增多，前缀和更新耗时O(N)，然后再求sum[1,m]，总体时间复杂度为O(N^2)</p><p>进阶方法：<strong>树状数组和线段树</strong>可以达到单次操作logN级别。平均时间复杂度O(NlogN)</p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302057092.jpg" alt="p11"></p><p>7=0111=0100+0010+0001=lowBit(7)+lowBit(3)+lowBit(1)</p><p><strong>前置知识</strong>：二进制区间分解lowBit(x)=x^(-x)求出x中仅保留最低位的1的数值，lowBit(7)=0100=4</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">lowbit</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x &amp; -x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>概念：树状数组就是一种基于二进制思想的数据结构，基本用途是维护序列的前缀和</strong>。</p><p><strong>对于给定的序列a，设树状数组为c，则c[x]保存序列a的区间[x-lowbit(x)+1,x]中所有数的和</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[] tr = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br></pre></td></tr></table></figure><p>主要有以下两个基本操作:</p><p>(1) update，单点修改，修改序列a中的某个元素;</p><p>(2) query，区间查询，查询序列a中区间[1,x]的所有数的和。</p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302058475.jpg" alt="p12"></p><p><strong>操作1:区间查询query</strong></p><p>树状数组能够完成的是查询前缀和，相减即可得到区间和。</p><p>利用c[x]维护的是序列a中[x-lowbit(x)+1,x]的区间和，然后不断向前寻找即可，时间复杂度为O(logN)。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">query</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> x; i &gt; <span class="number">0</span>; i -= lowbit(i)) ans += tr[i];</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>操作2:单点修改update</strong></p><p>单点修改更准确的说是“单点增加”，给序列a中的一个数a[x]加上t，然后要更新树状数组c维护的前缀和，只需要不断向上维护c[x]的父亲结点即可，时间复杂度为O(logN)。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> u)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> x; i &lt;= n; i += lowbit(i)) tr[i] += u;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>注意：这里都默认索引从1开始</strong></p><p><strong>思考:如何初始化树状数组?</strong></p><p>方法一:输入序列a等价于对a进行单点修改，更新树状数组即可，时间复杂度为O(NlogN)。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    add(i, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>方法二:考虑每个结点对父亲结点的贡献，时间复杂度为O(N)。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    tr[i] += nums[i];</span><br><span class="line">    <span class="keyword">if</span> (i + lowBit(i) &lt;= n) tr[i + lowBit(i)] += tr[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>三叶姐树状数组模板：</p><p>一篇不错的图解：<a href="https://leetcode-cn.com/problems/range-sum-query-mutable/solution/-by-hu-ge-8-t4rn/">[树状数组] 详解树状数组, 包含更新查询图解, 秒懂lowbit含义(JAVA 65ms, 68.6MB)</a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 上来先把三个方法写出来</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span>[] tree;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">lowbit</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x &amp; -x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 查询前缀和的方法</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">query</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> x; i &gt; <span class="number">0</span>; i -= lowbit(i)) ans += tree[i];</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 在树状数组 x 位置中增加值 u</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> u)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> x; i &lt;= n; i += lowbit(i)) tree[i] += u;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化「树状数组」，要默认数组是从 1 开始</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) add(i + <span class="number">1</span>, nums[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用「树状数组」：</span></span><br><span class="line">&#123;   </span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="comment">// 原有的值是 nums[i]，要使得修改为 val，需要增加 val - nums[i]</span></span><br><span class="line">        add(i + <span class="number">1</span>, val - nums[i]); </span><br><span class="line">        nums[i] = val;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> <span class="title function_">sumRange</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> query(r + <span class="number">1</span>) - query(l);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-线段树「单点修改、区间修改、单点查询、区间查询-但性能不高」">2.线段树「单点修改、区间修改、单点查询、区间查询-&gt;但性能不高」</h3><p><strong>参考资料：</strong><a href="https://mp.weixin.qq.com/s/T3Ds8Eb8mZ5f96NjRFr6WA"><strong>https://mp.weixin.qq.com/s/T3Ds8Eb8mZ5f96NjRFr6WA</strong></a></p><p><strong>以下笔记均参考力扣题解(推荐)：</strong><a href="https://leetcode.cn/problems/range-module/solution/by-jiang-hui-4-tu5a/">Range模块【线段树动态开点+线段树图解】</a></p><p><strong>什么是线段树？</strong></p><p>线段树其实是一种二叉搜索树，将一个大的区间划分为一个个单元区间。</p><p>内个单元区间表示成一个节点(<strong>单元区间-&gt;节点</strong>) 线段树中的线段，其实也是区间的意思，就是区间树</p><p>假设我们有一个数组为[1,2,3,4,5,6,7,8]，我们表示为一个区间和线段树就是下图：</p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302058172.jpg" alt="p13"></p><p>可见线段树的区间是按照区间的中点进行分叉，左子节点的区间必定小于右子节点的区间，同理左右子树均是BST</p><p><strong>构建线段树代码（val基于区间求和）：</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Fomalhaut</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/6/22</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> 线段树模板(今天一定一定要写出来!!!!!)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SegmentTree</span> &#123;</span><br><span class="line">    <span class="comment">// 用节点数组表示的线段树</span></span><br><span class="line">    Node[] tree;</span><br><span class="line">    <span class="comment">// 原始数据</span></span><br><span class="line">    <span class="type">int</span>[] data;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化线段树</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SegmentTree</span><span class="params">(<span class="type">int</span>[] data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.data = data;   <span class="comment">// 载入数据</span></span><br><span class="line">        <span class="built_in">this</span>.tree = <span class="keyword">new</span> <span class="title class_">Node</span>[<span class="number">4</span> * data.length];  <span class="comment">// 节点个数统一开4*N个</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        线段树节点类</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">        <span class="type">int</span> left;   <span class="comment">// (该节点对应的)区间左端点</span></span><br><span class="line">        <span class="type">int</span> right;  <span class="comment">// 区间右端点</span></span><br><span class="line">        <span class="type">int</span> lazy;   <span class="comment">// 懒标记</span></span><br><span class="line">        <span class="type">int</span> val;    <span class="comment">// 节点值(根据不同的问题意义不同)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    根据区间左右边界[l,r]来构建线段树:idx表示线段树的节点索引,l与r分别表示区间左右边界</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">build</span><span class="params">(<span class="type">int</span> idx, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        tree[idx] = <span class="keyword">new</span> <span class="title class_">Node</span>(); <span class="comment">// 创建idx位置的节点</span></span><br><span class="line">        tree[idx].left = l; <span class="comment">// 该节点左边界为l</span></span><br><span class="line">        tree[idx].right = r;    <span class="comment">//该节点右边界为r</span></span><br><span class="line">        <span class="comment">// base case:到达叶子结点直接赋值</span></span><br><span class="line">        <span class="keyword">if</span> (l == r) &#123;</span><br><span class="line">            tree[idx].val = data[r - <span class="number">1</span>];    <span class="comment">// 因为idx从1开始,区间的l与r也是从1开始,但是data索引从0开始,因此向左偏移1位</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> l + (r - l) / <span class="number">2</span>;  <span class="comment">// [l,r]区间中点</span></span><br><span class="line">        <span class="comment">// 递归构建左右子树:当idx索引从1开始时,idx*2为左子节点,idx*2+1为右子节点</span></span><br><span class="line">        build(idx * <span class="number">2</span>, l, mid); <span class="comment">// 左子节点区间范围[l,mid] 左子节点个数&gt;=右子节点</span></span><br><span class="line">        build(idx * <span class="number">2</span> + <span class="number">1</span>, mid + <span class="number">1</span>, r); <span class="comment">// 右子节点区间范围[mid+1,r]</span></span><br><span class="line">        tree[idx].val = tree[idx * <span class="number">2</span>].val + tree[idx * <span class="number">2</span> + <span class="number">1</span>].val;  <span class="comment">// 更新idx节点的值</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>懒标记的引入：</strong></p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302058369.jpg" alt="p14"></p><p>如果是线段树，我们直接对根节点的值进行+(8-1+1)*1的操作就可以得到新的区间和，但是这样当我们查询中间某段区间的和时就会发现不对，因为这个+(8-1+1)*1没有涉及根节点的区间和操作！</p><p>于是就想可不可以在root处引入一个标记的量，在我们要下探到要求root子区间的区间和时可以把这个+1操作带下去？把子区间进行更新？于是就引入了<strong>lazy字段</strong></p><p><strong>注意：</strong> 我们只有在用到没有更新的区间时（也就是当前区间含有lazy），才会下传lazy，达到懒更新的目的。</p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302058587.jpg" alt="p15"></p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302058294.jpg" alt="p16"></p><p>也许我们还会更新[5,8]区间的值，我们除了设置lazy字段外，<strong>还需要将结果上传到他的父节点</strong>！（很显然，下面变了，上面区间包含下面也要变）</p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302058158.jpg" alt="p17"></p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302058400.jpg" alt="p18"></p><p><strong>更新与查询代码如下（非动态开点）：</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">更新某个区间的值:idx为节点索引,[l,r]为要更新的区间,val代表要更新进去的值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> idx, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">    <span class="comment">// idx节点区间在要修改的[l,r]区间里面-&gt;直接更新到这里并并进行懒标记即可</span></span><br><span class="line">    <span class="keyword">if</span> (tree[idx].left &gt;= l &amp;&amp; tree[idx].right &lt;= r) &#123;</span><br><span class="line">        <span class="comment">// idx节点值 += val * idx节点区间的的节点数</span></span><br><span class="line">        <span class="comment">// 意思就是更新了idx节点的整个区间,节点值就加上相应的数</span></span><br><span class="line">        tree[idx].val += (tree[idx].right - tree[idx].left + <span class="number">1</span>) * val;</span><br><span class="line">        <span class="comment">// 对idx节点进行懒标记</span></span><br><span class="line">        tree[idx].lazy = val;</span><br><span class="line">        <span class="keyword">return</span>; <span class="comment">// 结束</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (tree[idx].lazy != <span class="number">0</span>) pushDown(idx); <span class="comment">// 当前节点有懒标记-&gt;下沉懒标记</span></span><br><span class="line">    <span class="comment">// [l,r]与idx节点左区间有交集</span></span><br><span class="line">    <span class="keyword">if</span> (l &lt;= tree[idx * <span class="number">2</span>].right) update(idx * <span class="number">2</span>, l, r, val);</span><br><span class="line">    <span class="comment">// [l,r]与idx节点右区间有交集</span></span><br><span class="line">    <span class="keyword">if</span> (r &gt;= tree[idx * <span class="number">2</span> + <span class="number">1</span>].left) update(idx * <span class="number">2</span> + <span class="number">1</span>, l, r, val);</span><br><span class="line">    <span class="comment">// 底下递归完成后向上回溯更新idx的值</span></span><br><span class="line">    pushUp(idx);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">查询区间[l,r]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">query</span><span class="params">(<span class="type">int</span> idx, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// idx节点的区间被[l,r]完全包含 -&gt; 直接返回节点值</span></span><br><span class="line">    <span class="keyword">if</span> (tree[idx].left &gt;= l &amp;&amp; tree[idx].right &lt;= r) <span class="keyword">return</span> tree[idx].val;</span><br><span class="line">    <span class="comment">// 否则就还要继续往下走更小的区间</span></span><br><span class="line">    <span class="comment">// 遇到有懒标记也要下沉(因为你现在要查询小区间的信息)</span></span><br><span class="line">    <span class="keyword">if</span> (tree[idx].lazy != <span class="number">0</span>) pushDown(idx);</span><br><span class="line">    <span class="comment">// 跟左右区间有交集</span></span><br><span class="line">    <span class="keyword">if</span> (tree[idx * <span class="number">2</span>].right &gt;= l) res += query(idx * <span class="number">2</span>, l, r);  <span class="comment">// 累加递归完成的值</span></span><br><span class="line">    <span class="keyword">if</span> (tree[idx * <span class="number">2</span> + <span class="number">1</span>].left &lt;= r) res += query(idx * <span class="number">2</span> + <span class="number">1</span>, l, r);</span><br><span class="line">    <span class="keyword">return</span> res; <span class="comment">// 返回结果</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">上传结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushUp</span><span class="params">(<span class="type">int</span> idx)</span> &#123;</span><br><span class="line">    tree[idx].val = tree[idx * <span class="number">2</span>].val + tree[idx * <span class="number">2</span> + <span class="number">1</span>].val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">下沉懒标记</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushDown</span><span class="params">(<span class="type">int</span> idx)</span> &#123;</span><br><span class="line">    <span class="comment">// 向左右子节点下沉lazy(累加而不是覆盖)</span></span><br><span class="line">    tree[idx * <span class="number">2</span>].lazy += tree[idx].lazy;</span><br><span class="line">    tree[idx * <span class="number">2</span> + <span class="number">1</span>].lazy += tree[idx].lazy;</span><br><span class="line">    <span class="comment">// idx节点区间的中点</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> tree[idx].left + (tree[idx].right - tree[idx].left) / <span class="number">2</span>;</span><br><span class="line">    <span class="comment">// 左右子节点的节点值分别加上(懒标记的值*区间节点个数)</span></span><br><span class="line">    tree[idx * <span class="number">2</span>].val += tree[idx].lazy * (mid - tree[idx].left + <span class="number">1</span>);</span><br><span class="line">    tree[idx * <span class="number">2</span> + <span class="number">1</span>].val += tree[idx].lazy * (tree[idx].right - mid);</span><br><span class="line">    <span class="comment">// 下沉了lazy后idx的懒标记置0</span></span><br><span class="line">    tree[idx].lazy = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>动态开点的引入：</strong></p><p>上述代码只是针对不对区间长度进行修改，只能在固定的区间内查询和修改，并且用到了4n的空间，有些空间根本没有被使用，有的题目数据规模到了1e9，如果我们开4n的空间并不可行！</p><p>于是我们需要动态地进行节点创建，即我们不用idx * 2和idx* 2 + 1来表示节点的左右子节点，而是在Node里添加leftChild和rightChild两个引用，来找到左右节点。由于我们是在更新与查询中进行动态开点，所以不需要build树！</p><p><strong>动态开点的代码如下：</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Fomalhaut</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/6/23</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> 线段树(动态开点+懒标记)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SegmentTree_Dynamic</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    动态开点线段树节点类</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">        <span class="type">int</span> left, right;    <span class="comment">// 区间左右端点</span></span><br><span class="line">        <span class="type">int</span> val;    <span class="comment">// 节点的值</span></span><br><span class="line">        <span class="type">int</span> lazy;   <span class="comment">// 懒标记:0代表没有懒标记</span></span><br><span class="line">        Node leftChild, rightChild; <span class="comment">// 左右子树引用</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 根据区间[left,right]创建节点</span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.left = left;</span><br><span class="line">            <span class="built_in">this</span>.right = right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    动态开点的区间更新:root代表根节点,[l,r]代表更新区间,val代表更新的值</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Node root, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.[l,r]不在root区间的范围内 -&gt; 直接返回</span></span><br><span class="line">        <span class="keyword">if</span> (r &lt; root.left || l &gt; root.right) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// 2.[l,r]包含root区间 -&gt; 进行懒标记并更新root的值</span></span><br><span class="line">        <span class="keyword">if</span> (root.left &gt;= l &amp;&amp; root.right &lt;= r) &#123;</span><br><span class="line">            root.lazy = val;    <span class="comment">// 进行懒标记</span></span><br><span class="line">            root.val += (root.right - root.left + <span class="number">1</span>) * val; <span class="comment">// 节点值+=区间长度*val</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 3.继续往下走</span></span><br><span class="line">        lazyCreate(root);   <span class="comment">// 动态开点</span></span><br><span class="line">        pushDown(root); <span class="comment">// 下传lazy</span></span><br><span class="line">        update(root.leftChild, l, r, val);  <span class="comment">// 更新左子树区间</span></span><br><span class="line">        update(root.rightChild, l, r, val); <span class="comment">// 更新右子树区间</span></span><br><span class="line">        pushUp(root);   <span class="comment">// 上传结果</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    动态开点的查询区间[l,r]</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">query</span><span class="params">(Node root, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="comment">// [l,r]必定在root里面,因为root是最大的可能区间</span></span><br><span class="line">        <span class="comment">// 1.root的区间在[l,r]里面 -&gt; 直接返回节点值</span></span><br><span class="line">        <span class="keyword">if</span> (root.left &gt;= l &amp;&amp; root.right &lt;= r) <span class="keyword">return</span> root.val;</span><br><span class="line">        <span class="comment">// 2.否则要往下走找到[l,r]完全包含子节点整个区间的情况</span></span><br><span class="line">        lazyCreate(root);   <span class="comment">// 动态开点</span></span><br><span class="line">        pushDown(root); <span class="comment">// 下传懒标记</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> root.left + (root.right - root.left) / <span class="number">2</span>; <span class="comment">// root区间中点</span></span><br><span class="line">        <span class="comment">// 左子树范围[ll, mid] 右子树范围[mid+1,rr]</span></span><br><span class="line">        <span class="keyword">if</span> (r &lt;= mid) &#123; <span class="comment">// [l,r]只占据到root左子树</span></span><br><span class="line">            <span class="keyword">return</span> query(root.leftChild, l, r);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (l &gt; mid) &#123;   <span class="comment">// [l,r]只占据到root右子树</span></span><br><span class="line">            <span class="keyword">return</span> query(root.rightChild, l, r);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;    <span class="comment">// [l,r]占据root左子树与右子树</span></span><br><span class="line">            <span class="keyword">return</span> query(root.leftChild, l, mid) + query(root.rightChild, mid + <span class="number">1</span>, r);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 不用上传结果了因为查询不改变节点的值</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    上传结果</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushUp</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">        root.val = root.leftChild.val + root.rightChild.val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    下传懒标记:有懒标记-&gt;下传懒标记并更新子节点的值;没有-&gt;结束</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushDown</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">        <span class="comment">// 当且仅当有懒标记才进行下传</span></span><br><span class="line">        <span class="keyword">if</span> (root.lazy != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 懒标记的值</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> root.lazy;</span><br><span class="line">            <span class="comment">// 懒标记下沉至左右子节点</span></span><br><span class="line">            <span class="comment">// 这里懒标记累加还是覆盖可以根据具体问题进行分析</span></span><br><span class="line">            <span class="comment">// 比如说是求区间的累加值就是+= 如果是只有两个状态那种可以直接进行覆盖(LC715.Range模块)</span></span><br><span class="line">            root.leftChild.lazy += v;</span><br><span class="line">            root.rightChild.lazy += v;</span><br><span class="line">            <span class="comment">// 更新左右子节点的值</span></span><br><span class="line">            root.leftChild.val += (root.leftChild.right - root.leftChild.left + <span class="number">1</span>) * v;</span><br><span class="line">            root.rightChild.val += (root.rightChild.right - root.rightChild.left + <span class="number">1</span>) * v;</span><br><span class="line">            <span class="comment">// root取消懒标记</span></span><br><span class="line">            root.lazy = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    创建左右子树</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">lazyCreate</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> root.left + (root.right - root.left) / <span class="number">2</span>; <span class="comment">// root区间中点</span></span><br><span class="line">        <span class="comment">// 创建左右子树并构建连接</span></span><br><span class="line">        <span class="keyword">if</span> (root.leftChild == <span class="literal">null</span>) root.leftChild = <span class="keyword">new</span> <span class="title class_">Node</span>(root.left, mid);</span><br><span class="line">        <span class="keyword">if</span> (root.rightChild == <span class="literal">null</span>) root.leftChild = <span class="keyword">new</span> <span class="title class_">Node</span>(mid + <span class="number">1</span>, root.right);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>数组表示的线段树(含懒标记+动态开点)可以参考三叶：</strong></p><p><a href="https://leetcode.cn/problems/my-calendar-i/"><strong>729. 我的日程安排表 I</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> leetcode.SegmentTree;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Fomalhaut</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/6/24</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> 729. 我的日程安排表 I</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Q729</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MyCalendar</span> <span class="variable">myCalendar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyCalendar</span>();</span><br><span class="line">        System.out.println(myCalendar.book(<span class="number">10</span>, <span class="number">20</span>));    <span class="comment">// true</span></span><br><span class="line">        System.out.println(myCalendar.book(<span class="number">15</span>, <span class="number">25</span>));    <span class="comment">// false</span></span><br><span class="line">        System.out.println(myCalendar.book(<span class="number">20</span>, <span class="number">30</span>));    <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">MyCalendar</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        本题是线段树的模板题之一,由于值域范围在[0,1e9]因此只能采用动态开点的方式,否则会出现MLE</span></span><br><span class="line"><span class="comment">        本题要动态地获当前区间是否完全被覆盖,可以将线段树节点值设为当前区间的节点数(叶子结点只有0与1的区间和)</span></span><br><span class="line"><span class="comment">        同时为了使查询的时间复杂度为严格的O(logN)要加入懒标记</span></span><br><span class="line"><span class="comment">        -&gt;查询[start,end)区间是否能book就相当于求[start,end-1]的区间和是否为0</span></span><br><span class="line"><span class="comment">        懒标记的线段树空间复杂度为O(MlogN),M为操作次数; 查询和更新一次时间复杂度为:O(logN)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         节点类:</span></span><br><span class="line"><span class="comment">         本节点与之前的模板不同,该节点成员没有显式地包含节点u的区间左右端点[lc,rc]</span></span><br><span class="line"><span class="comment">         区间左右端点[lc,rc]可以通过update()与query()显式地传入再进行递归计算</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">            <span class="comment">// ls 与rs 分别代表当节点的左右子节点在tr中的下标 (相当于leftChild与rightChild)</span></span><br><span class="line">            <span class="comment">// val 表示当前节点的区间和(只有0与1)</span></span><br><span class="line">            <span class="comment">// add为懒标记</span></span><br><span class="line">            <span class="type">int</span> ls, rs, add, val;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1e9</span>, M = <span class="number">120010</span>, cnt = <span class="number">1</span>; <span class="comment">// N 区间范围; M 节点个数; cnt 节点索引</span></span><br><span class="line">        Node[] tr = <span class="keyword">new</span> <span class="title class_">Node</span>[M];    <span class="comment">// 数组表示的线段树</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">MyCalendar</span><span class="params">()</span> &#123;</span><br><span class="line">            tr[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Node</span>(); <span class="comment">// 根节点u从tr[0]开始</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        更新[l,r]区间的节点,更新值为val=1</span></span><br><span class="line"><span class="comment">        u 根节点索引;lc 与 rc 代表根节点u表示的值域范围</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> lc, <span class="type">int</span> rc, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">            <span class="comment">// 节点u表示的范围[lc,rc]在[l,r]内部 -&gt; 直接更新节点值和懒标记</span></span><br><span class="line">            <span class="keyword">if</span> (lc &gt;= l &amp;&amp; rc &lt;= r) &#123;</span><br><span class="line">                tr[u].val = (rc - lc + <span class="number">1</span>) * val;</span><br><span class="line">                tr[u].add = val;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            lazyCreate(u);  <span class="comment">// 动态开点</span></span><br><span class="line">            pushDown(u, rc - lc + <span class="number">1</span>);   <span class="comment">// 下传懒标记</span></span><br><span class="line">            <span class="comment">// 递归更新左右子节点</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lc + (rc - lc) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (l &lt;= mid) update(tr[u].ls, lc, mid, l, r, val); <span class="comment">// [l,r]占据到左子树</span></span><br><span class="line">            <span class="keyword">if</span> (r &gt; mid) update(tr[u].rs, mid + <span class="number">1</span>, rc, l, r, val);  <span class="comment">// [l,r]占据到右子树</span></span><br><span class="line">            pushUp(u);  <span class="comment">// 回溯更新u的值</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        查询[l,r]区间的节点</span></span><br><span class="line"><span class="comment">        u 根节点索引;lc 与 rc 代表根节点u表示的值域范围</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> lc, <span class="type">int</span> rc, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (lc &gt;= l &amp;&amp; rc &lt;= r) <span class="keyword">return</span> tr[u].val;   <span class="comment">// u节点区间在[l,r]内</span></span><br><span class="line">            <span class="comment">// 否则继续往下走</span></span><br><span class="line">            lazyCreate(u);  <span class="comment">// 动态开点</span></span><br><span class="line">            pushDown(u, rc - lc + <span class="number">1</span>); <span class="comment">// 下传懒标记</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lc + (rc - lc) / <span class="number">2</span>, res = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (l &lt;= mid) res = query(tr[u].ls, lc, mid, l, r); <span class="comment">// [l,r]占据到左子树</span></span><br><span class="line">            <span class="keyword">if</span> (r &gt; mid) res += query(tr[u].rs, mid + <span class="number">1</span>, rc, l, r);  <span class="comment">// [l,r]占据到右子树</span></span><br><span class="line">            <span class="keyword">return</span> res; <span class="comment">// 返回左右区间总和</span></span><br><span class="line">            <span class="comment">// 查询不更新端点的值因此不用回溯</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        向上更新u的值</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushUp</span><span class="params">(<span class="type">int</span> u)</span> &#123;</span><br><span class="line">            tr[u].val = tr[tr[u].ls].val + tr[tr[u].rs].val;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        下传懒标记</span></span><br><span class="line"><span class="comment">        其中 len 为节点表示的区间长度 用于简化计算区间长度</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushDown</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> len)</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> tr[u].add;</span><br><span class="line">            <span class="keyword">if</span> (v != <span class="number">0</span>) &#123;   <span class="comment">// 只有懒标记不为0才下传</span></span><br><span class="line">                <span class="comment">// 1.下传懒标记</span></span><br><span class="line">                tr[tr[u].ls].add = v;</span><br><span class="line">                tr[tr[u].rs].add = v;</span><br><span class="line">                <span class="comment">// 2.更新子节点的值(不判断懒标记就要+=避免0覆盖)</span></span><br><span class="line">                tr[tr[u].ls].val = (len - len / <span class="number">2</span>) * v; <span class="comment">// 左(大)</span></span><br><span class="line">                tr[tr[u].rs].val = (len / <span class="number">2</span>) * v;   <span class="comment">// 右(小)</span></span><br><span class="line">                <span class="comment">// 3.懒标记下传完置0</span></span><br><span class="line">                tr[u].add = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        动态开点:动按需态创建左右子节点并构建连接</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">lazyCreate</span><span class="params">(<span class="type">int</span> u)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (tr[u].ls == <span class="number">0</span>) &#123;    <span class="comment">// 当且仅当左子节点没有时才进行开点(tr[u].ls为0表示还没开左子节点)</span></span><br><span class="line">                tr[u].ls = cnt++;   <span class="comment">// 构建与tr[u]的连接,索引依次取</span></span><br><span class="line">                tr[tr[u].ls] = <span class="keyword">new</span> <span class="title class_">Node</span>();  <span class="comment">// 开点</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tr[u].rs == <span class="number">0</span>) &#123;</span><br><span class="line">                tr[u].rs = cnt++;</span><br><span class="line">                tr[tr[u].rs] = <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">book</span><span class="params">(<span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">            <span class="comment">// 区间[start,end-1]已经有东西填充过了-&gt;不能book</span></span><br><span class="line">            <span class="keyword">if</span> (query(<span class="number">0</span>, <span class="number">0</span>, N, start, end - <span class="number">1</span>) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 否则更新并返回true</span></span><br><span class="line">            update(<span class="number">0</span>, <span class="number">0</span>, N, start, end - <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/my-calendar-ii/solution/by-ac_oier-okkc/"><strong>731. 我的日程安排表 II</strong></a><strong>(注意节点维护的是最大值)</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> leetcode.SegmentTree;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Fomalhaut</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/6/24</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> 731. 我的日程安排表 II</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Q731</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MyCalendarTwo</span> <span class="variable">MyCalendar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyCalendarTwo</span>();</span><br><span class="line">        System.out.println(MyCalendar.book(<span class="number">10</span>, <span class="number">20</span>));    <span class="comment">// true</span></span><br><span class="line">        System.out.println(MyCalendar.book(<span class="number">50</span>, <span class="number">60</span>));    <span class="comment">// true</span></span><br><span class="line">        System.out.println(MyCalendar.book(<span class="number">10</span>, <span class="number">40</span>));    <span class="comment">// true</span></span><br><span class="line">        System.out.println(MyCalendar.book(<span class="number">5</span>, <span class="number">15</span>));     <span class="comment">// false</span></span><br><span class="line">        System.out.println(MyCalendar.book(<span class="number">5</span>, <span class="number">10</span>));     <span class="comment">// true</span></span><br><span class="line">        System.out.println(MyCalendar.book(<span class="number">25</span>, <span class="number">55</span>));    <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">MyCalendarTwo</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        这题也可以用线段树进行求解:start与end的范围为[0,1e9]</span></span><br><span class="line"><span class="comment">        不过相比于Q729 我的日程安排表I 这里要维护的val为区间的最大值max</span></span><br><span class="line"><span class="comment">        当区间的最大值&gt;=2就说明已经有两个重叠的预订,第3个预订就不能book了</span></span><br><span class="line"><span class="comment">        查询和更新一次时间复杂度为:O(logN) 空间复杂度为O(MlogN),M为操作次数</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        节点类</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">            <span class="type">int</span> ls, rs, add, max;   <span class="comment">// ls, rs 为左右子节点在tr中索引(触手); add 懒标记; max 维护区间最大值</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1e9</span>, M = <span class="number">120010</span>, cnt = <span class="number">1</span>; <span class="comment">// N 区间范围; M 节点个数; cnt 节点在tr中的索引</span></span><br><span class="line">        Node[] tr = <span class="keyword">new</span> <span class="title class_">Node</span>[M];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">MyCalendarTwo</span><span class="params">()</span> &#123;</span><br><span class="line">            tr[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Node</span>(); <span class="comment">// 创建根节点</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        更新区间[l,r] 值为val</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> lc, <span class="type">int</span> rc, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">            <span class="comment">// [l,r]在u表示的区间内</span></span><br><span class="line">            <span class="keyword">if</span> (lc &gt;= l &amp;&amp; rc &lt;= r) &#123;</span><br><span class="line">                tr[u].add += val;   <span class="comment">// 懒标记要累计(例如覆盖了2次)</span></span><br><span class="line">                <span class="comment">// 最大值是max(curVal,curVal+val)=curVal+val -&gt; max += val;</span></span><br><span class="line">                tr[u].max += val;</span><br><span class="line">                <span class="keyword">return</span>; <span class="comment">// 结束</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// [l,r]不在u内</span></span><br><span class="line">            lazyCreate(u);  <span class="comment">// 动态开点</span></span><br><span class="line">            pushDown(u);    <span class="comment">// 下传懒标记</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lc + (rc - lc) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (l &lt;= mid) update(tr[u].ls, lc, mid, l, r, val); <span class="comment">// 占据到左子树</span></span><br><span class="line">            <span class="keyword">if</span> (r &gt; mid) update(tr[u].rs, mid + <span class="number">1</span>, rc, l, r, val);  <span class="comment">// 占据到右子树</span></span><br><span class="line">            pushUp(u);  <span class="comment">// 回溯</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">       查询区间[l,r]的最大值</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> lc, <span class="type">int</span> rc, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (lc &gt;= l &amp;&amp; rc &lt;= r) <span class="keyword">return</span> tr[u].max;</span><br><span class="line">            lazyCreate(u);  <span class="comment">// 冬天开点</span></span><br><span class="line">            pushDown(u);    <span class="comment">// 下传懒标记</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lc + (rc - lc) / <span class="number">2</span>, res = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (l &lt;= mid) res = query(tr[u].ls, lc, mid, l, r);</span><br><span class="line">            <span class="keyword">if</span> (r &gt; mid) res = Math.max(res, query(tr[u].rs, mid + <span class="number">1</span>, rc, l, r));   <span class="comment">// 记得取左右子节点的最大值</span></span><br><span class="line">            <span class="keyword">return</span> res; <span class="comment">// 返回最大值</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        按需动态开点</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">lazyCreate</span><span class="params">(<span class="type">int</span> u)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (tr[u].ls == <span class="number">0</span>) &#123;    <span class="comment">// 左子节点不存在 -&gt; 创建并构建连接</span></span><br><span class="line">                tr[u].ls = cnt++;</span><br><span class="line">                tr[tr[u].ls] = <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tr[u].rs == <span class="number">0</span>) &#123;</span><br><span class="line">                tr[u].rs = cnt++;</span><br><span class="line">                tr[tr[u].rs] = <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        下传懒标记</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushDown</span><span class="params">(<span class="type">int</span> u)</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> tr[u].add;  <span class="comment">// 节点u下传下来的懒标记</span></span><br><span class="line">            <span class="keyword">if</span> (v != <span class="number">0</span>) &#123;   <span class="comment">// 当且仅当懒标记不为0才进行下传</span></span><br><span class="line">                <span class="comment">// 下传懒标记至子节点(累计)</span></span><br><span class="line">                tr[tr[u].ls].add += v;</span><br><span class="line">                tr[tr[u].rs].add += v;</span><br><span class="line">                <span class="comment">// 更新左右子节点的值(累计)</span></span><br><span class="line">                tr[tr[u].ls].max += v;</span><br><span class="line">                tr[tr[u].rs].max += v;</span><br><span class="line">                tr[u].add = <span class="number">0</span>;  <span class="comment">// 下传懒标记完成撤销u的懒标记</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        回溯更新u的最大值</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushUp</span><span class="params">(<span class="type">int</span> u)</span> &#123;</span><br><span class="line">            tr[u].max = Math.max(tr[tr[u].ls].max, tr[tr[u].rs].max);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">book</span><span class="params">(<span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">            <span class="comment">// 最大值&gt;=2说明区间[start,end-1]存在某个点覆盖了2次</span></span><br><span class="line">            <span class="keyword">if</span> (query(<span class="number">0</span>, <span class="number">0</span>, N, start, end - <span class="number">1</span>) &gt;= <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            update(<span class="number">0</span>, <span class="number">0</span>, N, start, end - <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>做完这两题估计对线段树有了充分了解了！</p><h3 id="3-差分数组-「区间修改-单点查询」：">3.差分数组-&gt;「区间修改 &amp; 单点查询」：</h3><p>差分区间求和:将每个区间覆盖信息转化为<strong>变化量</strong>记录,最后<strong>从头开始统计变化量</strong>就可以将总的变化量求出来</p><p>比喻成公交车:上车就表示该时刻t1-&gt;新区间加入乘客+1；下车就表示区间结束-&gt;下一个时刻(t2+1)乘客-1</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] corpFlightBookings(<span class="type">int</span>[][] bookings, <span class="type">int</span> n) &#123;</span><br><span class="line">        <span class="comment">//  注意航班编号为1-n</span></span><br><span class="line">        <span class="comment">// 变化量计数器:索引[0,n-1]</span></span><br><span class="line">        <span class="type">int</span>[] counter = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="comment">// 遍历每个区间</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] booking : bookings) &#123;</span><br><span class="line">            <span class="comment">// 因为航班编号为1-n,因此左偏移一位才是counter索引</span></span><br><span class="line">            counter[booking[<span class="number">0</span>] - <span class="number">1</span>] += booking[<span class="number">2</span>];</span><br><span class="line">            <span class="comment">// 这里原本有+1又向左偏移一位就是原本的,要判断区间是否合法</span></span><br><span class="line">            <span class="keyword">if</span>(booking[<span class="number">1</span>] &lt; n) counter[booking[<span class="number">1</span>]] -= booking[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 该站人数=上一站人数+该站变化量</span></span><br><span class="line">        <span class="comment">// 注意最初的一站就是0+counter[0]=counter[0]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            counter[i] += counter[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> counter;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 树状数组 </tag>
            
            <tag> 线段树 </tag>
            
            <tag> 差分 </tag>
            
            <tag> 前缀和 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>并查集专题</title>
      <link href="/posts/226132e.html"/>
      <url>/posts/226132e.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-并查集模板">1.并查集模板</h2><p>并查集是一种树型数据结构(多叉树)，可以高效地实现查找和合并功能，常用于求<strong>连通</strong>问题</p><p>1.每个数据可以看作一个节点</p><p>2.每一组数据都是一颗树</p><p>3.一个组中的数据对应的树和另外一个组中数据对应的树之间没有任何关系</p><p>4.初始化的时候把索引当作每个组的标识符</p><p><strong>并查集主要有三个功能：</strong></p><p>1.<strong>寻找根节点</strong>，函数：find(int u)，也就是判断这个节点的祖先节点是哪个</p><p>2.<strong>将两个节点接入到同一个集合</strong>，函数：join(int u, int v)，将两个节点连在同一个根节点上</p><p>3.<strong>判断两个节点是否在同一个集合</strong>，函数：same(int u, int v)，就是判断两个节点是不是同一个根节点</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">1005</span>; <span class="comment">// 节点数量3 到 1000</span></span><br><span class="line"><span class="type">int</span>[] father = <span class="keyword">new</span> <span class="title class_">int</span>[n]; <span class="comment">// father[i]为节点i的父亲</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 并查集初始化</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        father[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 并查集寻根</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> u)</span> &#123;</span><br><span class="line">    <span class="comment">// return u == father[u] ? u : father[u] = find(father[u]);</span></span><br><span class="line">    <span class="keyword">if</span>(father[u]!=u) father[u]=find(father[u]); <span class="comment">// 递归返回的同时压缩路径</span></span><br><span class="line">    <span class="keyword">return</span> father[u];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将v-&gt;u 这条边加入并查集(合并:其中u为根节点)</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">join</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> &#123;</span><br><span class="line">    u = find(u);</span><br><span class="line">    v = find(v);</span><br><span class="line">    <span class="keyword">if</span> (u == v) <span class="keyword">return</span>;</span><br><span class="line">    father[v] = u;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断 u 和 v 是否位于同一个连通域(同根)</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">same</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> &#123;</span><br><span class="line">    u = find(u);</span><br><span class="line">    v = find(v);</span><br><span class="line">    <span class="keyword">return</span> u == v;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>注意：</strong> 每个连通域根节点都是独一无二的，因此可以通过某个节点寻根+HashMap统计出每个连通域的节点数量以及连通域个数等，而不用多一个字段值sum，代码如下：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 根据图的信息构建连接</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span>[] e : edges) &#123;</span><br><span class="line">    join(e[<span class="number">0</span>], e[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 由于每个连通块的根都是唯一的,因此我们可以利用此来统计连通块内的元素个数</span></span><br><span class="line">HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">root</span> <span class="operator">=</span> find(i); <span class="comment">// 该连通域对应的根节点</span></span><br><span class="line">    map.put(root, map.getOrDefault(root, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>map.size()</code>就是连通域数量；<code>map.get(find(x))</code>就是节点x所在连通域节点数量</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 图 </tag>
            
            <tag> 并查集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记忆化搜索专题</title>
      <link href="/posts/8802f5d3.html"/>
      <url>/posts/8802f5d3.html</url>
      
        <content type="html"><![CDATA[<h3 id="第300场周赛"><a href="https://leetcode.cn/contest/weekly-contest-300/"><strong>第300场周赛</strong></a></h3><p>这次周赛的第3与第4题均可以用记忆化DFS进行求解，第一次尝试这种强大的方法，是动态规划的底层逻辑演算！记忆化DFS的首条件是出现子问题并且子问题数量有限</p><p>通过记忆化搜索可以将时间复杂度从2^N降低至O(N)</p><p><a href="https://leetcode.cn/problems/number-of-people-aware-of-a-secret/">6109. 知道秘密的人数</a></p><p>例如这一题的 dfs(i) 为第 i 天发现的秘密的人(包含自己在内)一共可以使得后面多少人知道秘密</p><p>我们可以怎样求dfs(i)？他可以由哪几个子问题的结果运算得到？</p><p>某个人在第 i 天知道秘密，则对应的传播阶段为 [min(i+delay,n),min(i+forget-1,n)] 记为 [a,b]</p><p>此时知道秘密的人数有dfs(i)=1+∑dfs(a,b) 其中1为自己本身</p><p>只需要处理好base case和memo，同时注意 i 本身也会忘记 就可以轻松写出来</p><p>这种一路dfs到底的写法，利用dfs递归返回的结果进行中间运算的方法称为非回溯型的写法</p><p>跟回溯写法的区别就是，回溯类型写法需要找到并保存所有的path</p><p>在这里我们只需要知道dfs(i)的计算值即可，因此这里dfs(i)带上返回参数int类型</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> n, delay, forget;</span><br><span class="line">    <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">    <span class="type">int</span>[] memo;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peopleAwareOfSecret</span><span class="params">(<span class="type">int</span> _n, <span class="type">int</span> _delay, <span class="type">int</span> _forget)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        Java 记忆化搜索:</span></span><br><span class="line"><span class="comment">        我们记dfs(i)为第i天发现的秘密的人包含自己在内一共可以使得后面多少人知道秘密</span></span><br><span class="line"><span class="comment">        i从i+delay天起,到i+forget-1天都是可以将秘密散播出去的</span></span><br><span class="line"><span class="comment">        也就是[min(i+delay,n),min(i+forget-1,n)]=[a,b]这个时间段是i的传播阶段</span></span><br><span class="line"><span class="comment">        此时知道秘密的人数有1+∑dfs(a,b)</span></span><br><span class="line"><span class="comment">        同时应该注意知道了秘密的人会忘记秘密,因此也会有一个期限</span></span><br><span class="line"><span class="comment">        这里由于子问题的出现可以使用记忆化减少搜索次数</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        n = _n;</span><br><span class="line">        delay = _delay;</span><br><span class="line">        forget = _forget;</span><br><span class="line">        memo = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">return</span> dfs(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="comment">// 在第n天之后才能传播,说明只有自己知道</span></span><br><span class="line">        <span class="keyword">if</span> (i + delay &gt; n) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// 已经搜索过直接返回</span></span><br><span class="line">        <span class="keyword">if</span> (memo[i] != <span class="number">0</span>) <span class="keyword">return</span> memo[i];</span><br><span class="line">        <span class="comment">// i传播的范围为[min(i+delay,n),min(i+forget-1,n)]=[a,b]</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> i + delay, b = Math.min(i + forget - <span class="number">1</span>, n);</span><br><span class="line">        <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> i + forget &lt;= n ? <span class="number">0</span> : <span class="number">1</span>;    <span class="comment">// 自身到[i+forget]就忘记了,在n天内忘记了取0,反之取1</span></span><br><span class="line">        <span class="comment">// 合法的传播范围为[a,b]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> a; j &lt;= b; j++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> dfs(j);</span><br><span class="line">            memo[j] = t;    <span class="comment">// 标记</span></span><br><span class="line">            res = (res + t) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="LC6110-网格图中递增路径的数目"><a href="https://leetcode.cn/problems/number-of-increasing-paths-in-a-grid/">LC6110. 网格图中递增路径的数目</a></h3><p>这道题一样时可以利用子问题的搜索结果减少计算量的题目</p><p>dfs(i,j)主逻辑:grid[i][j]出发的递增路径数=本身自成1条路径+上下左右出发严格递增路径数之和</p><p>另外用一个memo[i][j]保存从grid[i][j]出发的递增路径数</p><p>另外有一些细节：vis的标记方法与撤回、memo的标记方法（怎样才做到不重复标记）、取模技巧（可能溢出的变量要用long类型）等等…</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span>[][] memo, grid;</span><br><span class="line">    <span class="type">boolean</span>[][] vis;</span><br><span class="line">    <span class="type">int</span> m, n;</span><br><span class="line">    <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line">    <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countPaths</span><span class="params">(<span class="type">int</span>[][] _grid)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        dfs记忆化搜索:</span></span><br><span class="line"><span class="comment">        从每个格子出发搜索递增的路径数有多少</span></span><br><span class="line"><span class="comment">        有上下左右4个方向,合法的方向是比之前格子严格大的</span></span><br><span class="line"><span class="comment">        另外用一个memo[i][j]保存从grid[i][j]出发的递增路径数</span></span><br><span class="line"><span class="comment">        dfs(i,j)主逻辑:grid[i][j]出发的递增路径数=本身自成1条路径+上下左右出发严格递增路径数之和</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        grid = _grid;</span><br><span class="line">        m = grid.length;</span><br><span class="line">        n = grid[<span class="number">0</span>].length;</span><br><span class="line">        memo = <span class="keyword">new</span> <span class="title class_">int</span>[m][n];</span><br><span class="line">        vis = <span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];    <span class="comment">// 保存当前路径访问过的格子:回溯形式标记,递归出栈时候会恢复原状</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 统计每一个出发点的递增路径</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                vis[i][j] = <span class="literal">true</span>;   <span class="comment">// 进入dfs前标记搜索</span></span><br><span class="line">                res = (res + dfs(i, j)) % MOD;</span><br><span class="line">                vis[i][j] = <span class="literal">false</span>;  <span class="comment">// 撤回</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="comment">// 已经搜索过了,直接返回其数值</span></span><br><span class="line">        <span class="keyword">if</span> (memo[i][j] != <span class="number">0</span>) <span class="keyword">return</span> memo[i][j];</span><br><span class="line">        <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1</span>;   <span class="comment">// 本身自成一条严格递增路径</span></span><br><span class="line">        <span class="comment">// 一共有4个搜索方向</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] dir : dirs) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">newI</span> <span class="operator">=</span> i + dir[<span class="number">0</span>], newJ = j + dir[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// 越界||已经搜索过||大小不符合要求</span></span><br><span class="line">            <span class="keyword">if</span> (newI &lt; <span class="number">0</span> || newI &gt;= m || newJ &lt; <span class="number">0</span> || newJ &gt;= n || vis[newI][newJ] || grid[newI][newJ] &lt;= grid[i][j])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            vis[newI][newJ] = <span class="literal">true</span>; <span class="comment">// 标记搜索</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> dfs(newI, newJ);    <span class="comment">// 下一点出发点路径数</span></span><br><span class="line">            vis[newI][newJ] = <span class="literal">false</span>;    <span class="comment">// 记得撤回访问标记,因为仅需要标记单一路径上的;从另外一点出发可以经过同一条路径</span></span><br><span class="line">            res = (res + t) % MOD;  <span class="comment">// 累加结果</span></span><br><span class="line">        &#125;</span><br><span class="line">        memo[i][j] = (<span class="type">int</span>) res; <span class="comment">// 标记grid[i][j]出发的路径数</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="补充：关于base-case与memo返回的先后顺序问题">补充：关于base case与memo返回的先后顺序问题</h3><p>这里建议都先写memo返回，然后再写base case，因为有些base case判断逻辑可能有较大的时间开销。</p><p><strong>base case 在前面：69ms</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] nums = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">318</span>];</span><br><span class="line">    <span class="keyword">static</span> HashSet&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] memo = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">100005</span>];  <span class="comment">// memo[i]=0表示还没赋值，1表示必输，2表示必赢</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 预处理出可选状态</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; <span class="number">318</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> i * i;</span><br><span class="line">            nums[i] = num;</span><br><span class="line">            set.add(num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">winnerSquareGame</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        记忆化DFS(1 &lt;= n &lt;= 10^5)</span></span><br><span class="line"><span class="comment">        我们记dfs(i)为剩余石头为i颗时，当前先手选择者是否可以赢得游戏，若能赢则为true，否则为false</span></span><br><span class="line"><span class="comment">        同时维护一个数据结构memo存储已经计算过的结果:memo[i]是已经计算过的dfs(i)</span></span><br><span class="line"><span class="comment">        我们预处理出一个可选的数目列表nums=[1,4,9,16,25,...]</span></span><br><span class="line"><span class="comment">        base case:</span></span><br><span class="line"><span class="comment">       剩余的石头数字恰好在列表当中出现，那么返回true，当前选择者另一个就没法选了</span></span><br><span class="line"><span class="comment">        dfs主逻辑:思考当前选择者可以做出的选择有哪些?</span></span><br><span class="line"><span class="comment">            显然可以从nums中选择 &lt; 当前剩余石头数目的石头j，而且当前选择者赢得游戏的充要条件是:</span></span><br><span class="line"><span class="comment">            选了石头之后下一个先手的输掉游戏，即dfs(i-j)==false，这么多种选择j中只需要一个为false即可</span></span><br><span class="line"><span class="comment">            于是用||条件进行连接</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">return</span> dfs(n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="comment">// base case</span></span><br><span class="line">        <span class="keyword">if</span> (set.contains(i)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (memo[i] != <span class="number">0</span>) <span class="keyword">return</span> memo[i] == <span class="number">2</span>;  <span class="comment">// 记忆化加速</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; <span class="number">318</span> &amp;&amp; nums[j] &lt; i; j++) &#123;</span><br><span class="line">            <span class="comment">// 后手输了，先手必赢</span></span><br><span class="line">            <span class="keyword">if</span> (!dfs(i - nums[j])) &#123;</span><br><span class="line">                memo[i] = <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 后手在这种情况赢了，先手在后面还有机会赢</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 最后都不提前返回，说明先手必输了</span></span><br><span class="line">        memo[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>memo 在前面：20ms</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] nums = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">318</span>];</span><br><span class="line">    <span class="keyword">static</span> HashSet&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] memo = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">100005</span>];  <span class="comment">// memo[i]=0表示还没赋值，1表示必输，2表示必赢</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 预处理出可选状态</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; <span class="number">318</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> i * i;</span><br><span class="line">            nums[i] = num;</span><br><span class="line">            set.add(num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">winnerSquareGame</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        记忆化DFS(1 &lt;= n &lt;= 10^5)</span></span><br><span class="line"><span class="comment">        我们记dfs(i)为剩余石头为i颗时，当前先手选择者是否可以赢得游戏，若能赢则为true，否则为false</span></span><br><span class="line"><span class="comment">        同时维护一个数据结构memo存储已经计算过的结果:memo[i]是已经计算过的dfs(i)</span></span><br><span class="line"><span class="comment">        我们预处理出一个可选的数目列表nums=[1,4,9,16,25,...]</span></span><br><span class="line"><span class="comment">        base case:</span></span><br><span class="line"><span class="comment">       剩余的石头数字恰好在列表当中出现，那么返回true，当前选择者另一个就没法选了</span></span><br><span class="line"><span class="comment">        dfs主逻辑:思考当前选择者可以做出的选择有哪些?</span></span><br><span class="line"><span class="comment">            显然可以从nums中选择 &lt; 当前剩余石头数目的石头j，而且当前选择者赢得游戏的充要条件是:</span></span><br><span class="line"><span class="comment">            选了石头之后下一个先手的输掉游戏，即dfs(i-j)==false，这么多种选择j中只需要一个为false即可</span></span><br><span class="line"><span class="comment">            于是用||条件进行连接</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">return</span> dfs(n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (memo[i] != <span class="number">0</span>) <span class="keyword">return</span> memo[i] == <span class="number">2</span>;  <span class="comment">// 记忆化加速</span></span><br><span class="line">        <span class="comment">// base case</span></span><br><span class="line">        <span class="keyword">if</span> (set.contains(i)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; <span class="number">318</span> &amp;&amp; nums[j] &lt; i; j++) &#123;</span><br><span class="line">            <span class="comment">// 后手输了，先手必赢</span></span><br><span class="line">            <span class="keyword">if</span> (!dfs(i - nums[j])) &#123;</span><br><span class="line">                memo[i] = <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 后手在这种情况赢了，先手在后面还有机会赢</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 最后都不提前返回，说明先手必输了</span></span><br><span class="line">        memo[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DFS </tag>
            
            <tag> 记忆化DFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>区间DP专题总结</title>
      <link href="/posts/3cc9359b.html"/>
      <url>/posts/3cc9359b.html</url>
      
        <content type="html"><![CDATA[<p>区间DP是指以区间左右边界 f[i][j] 作为动态规划变量的问题</p><p>一般求解步骤：</p><p>1.状态定义：f[i][j] 为<strong>求解分区间 [i,j] 重复子问题的开销</strong>，其中 i&lt;=j</p><p>2.状态转移：求f[i][j]通常要考虑<strong>将 [i, j] 区间分为两个重复子问题</strong></p><p>这个根据具体的问题而定，有的可能要根据s[i]与s[j]是否相等做出不同的转移，如 <a href="https://leetcode.cn/problems/strange-printer/">664. 奇怪的打印机</a></p><p>有的可能是选择直接枚举分割点k，然后建立 [i, j] 区间与 左右子区间的转移，如 <a href="https://leetcode.cn/problems/guess-number-higher-or-lower-ii/">375. 猜数字大小 II</a></p><p>有的还可能不是分割区间，而是利用缩小区间 [i+1,j] 的子问题与 [i, j] 区间建立连接，如 <a href="https://leetcode-cn.com/problems/stone-game/">877. 石子游戏</a></p><p>3.初始化：通常来说要初始化<strong>长度为1的边界状态 f[i][i] 的值</strong>，为接下来的遍历做好初值准备</p><p>4.遍历顺序：这里有两种遍历的方法，推荐<strong>以遍历长度len</strong>的方法</p><p><strong>4.1 长度len为基础进行遍历</strong></p><p>1.遍历长度len(正序2~n)；</p><p>2.遍历左边界i(正序0~i+len-1==n-1)；</p><p>3.遍历分割点k(正反序无所谓i~j-1)</p><p>​      <strong>4.2 i与j为基础进行遍历</strong></p><p>1.枚举左端点i(倒序n-2~0)</p><p>2.枚举右端点j(正序i+1~n-1)</p><p>3.枚举分割点k(正反序无所谓i~j-1)</p><p>此时以k分割后的左右子区间分别为：[i,k] 与 [k+1,j]</p><p>示意图如下：可知分割区间依赖于正下方和正左方的状态有效值-&gt;<strong>遍历长度是以“滑梯”的方式下去的；遍历i与j是从底下上来的</strong></p><p><img src="https://s1.vika.cn/space/2022/09/30/4a37f03d4e744871bc00bb94ffcaf21a" alt="p9"></p><p>5.返回形式：一般来说返回 <strong>f[0][n-1]</strong> 就是关于整个区间对应的子问题答案</p><p>复杂度分析：一般地，时间复杂度:O(N^3)；空间复杂度:O(N^2)</p><p><a href="https://leetcode.cn/problems/guess-number-higher-or-lower-ii/"><strong>375. 猜数字大小 II</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[][] f = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">205</span>][<span class="number">205</span>];</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">INF</span> <span class="operator">=</span> <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMoneyAmount</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        解法2：区间DP</span></span><br><span class="line"><span class="comment">        1.状态定义:f[i][j]为确保猜中区间[i,j]至少需要的金额，其中 j&gt;=i &amp;&amp; i,j∈[1,n]</span></span><br><span class="line"><span class="comment">        2.状态转移:要想求解f[i][j]就要考虑f[i][k-1]与f[k+1][j]</span></span><br><span class="line"><span class="comment">            其中k为区间的分割点（某次猜的数字为k），遍历k∈[i,j]，求得该次稳赢的开销为 k+max(f[i][k-1],f[k+1][j])</span></span><br><span class="line"><span class="comment">            遍历k过程中维护[i,j]区间分割成两个区间后的最小值min，那么min就是f[i][j]的值</span></span><br><span class="line"><span class="comment">        3.初始化:f[i][j]=0 其中i&gt;=j</span></span><br><span class="line"><span class="comment">        4.遍历顺序:求f[i][j]要用到f[i][k-1]与f[k+1][j] 那么j正序 i倒序 k无所谓</span></span><br><span class="line"><span class="comment">        5.返回形式:返回f[1][n]就是答案</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">// 遍历左边界i∈[n,1]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="comment">// 遍历右边界j∈[i+1,n] 注意j=i为0 强行转移会发生错误</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> INF;</span><br><span class="line">                <span class="comment">// 遍历分界线k∈[i,j]</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt;= j; k++) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> k + Math.max(f[i][k - <span class="number">1</span>], f[k + <span class="number">1</span>][j]);   <span class="comment">// 本次猜k的稳赢的开销</span></span><br><span class="line">                    min = Math.min(min, cur);   <span class="comment">// 这么多种选择的最小开销</span></span><br><span class="line">                &#125;</span><br><span class="line">                f[i][j] = min;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> f[<span class="number">1</span>][n];     <span class="comment">// 选择[1,n]中稳赢的最小开销</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/strange-printer/"><strong>664. 奇怪的打印机</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">strangePrinter</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        方法2：区间DP</span></span><br><span class="line"><span class="comment">        1.状态定义:f[i][j]为打印s[i,j]所需要的最少打印次数（i&lt;=j）</span></span><br><span class="line"><span class="comment">        2.状态转移:求f[i][j]就要考虑s[i]与s[j]</span></span><br><span class="line"><span class="comment">            2.1 当s[i]==s[j]时 s[i]与s[j]其中一个可以顺路打印 f[i][j]=f[i][j-1]</span></span><br><span class="line"><span class="comment">            2.1 当s[i]=!s[j]时 枚举分割点，分割点两边的次数加起来取最小值就是答案(只取最优的打印次数转移)</span></span><br><span class="line"><span class="comment">                f[i][j]=min(f[i][k]+f[k+1][j]) 其中k∈[i,j-1]</span></span><br><span class="line"><span class="comment">        3.初始化:初始化f[i][i]=1 单个字符最少打印1次</span></span><br><span class="line"><span class="comment">        4.遍历顺序:Loop1-&gt;遍历长度len(正序)  Loop2-&gt;遍历左边界i(正序)  Loop3-&gt;遍历分割点k(正序)</span></span><br><span class="line"><span class="comment">            另一个遍历角度:枚举左端点i(倒序n-2~0) 枚举右端点j(正序i~n-1) 枚举分割点k(没所谓i~j-1)</span></span><br><span class="line"><span class="comment">        5.返回形式:返回f[0][n-1]就是打印s[0,n-1]所需要的最小打印次数</span></span><br><span class="line"><span class="comment">        时间复杂度:O(N^3) 空间复杂度:O(N^2)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length(), INF = <span class="number">101</span>;</span><br><span class="line">        <span class="type">int</span>[][] f = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">        <span class="comment">// 打印1个字符只需要1次</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            f[i][i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 枚举长度len∈[2,len]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">2</span>; len &lt;= n; len++) &#123;</span><br><span class="line">            <span class="comment">// 枚举左端点i∈[0,n-len]</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i + len - <span class="number">1</span> &lt; n; i++) &#123;</span><br><span class="line">                <span class="comment">// j为右端点</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + len - <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// s[i]==s[j] 顺路打印</span></span><br><span class="line">                <span class="keyword">if</span> (s.charAt(i) == s.charAt(j)) &#123;</span><br><span class="line">                    f[i][j] = f[i][j - <span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> INF;  <span class="comment">// 最多的打印次数</span></span><br><span class="line">                    <span class="comment">// 枚举分割点k∈[i,j-1]</span></span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt; j; k++) &#123;</span><br><span class="line">                        <span class="comment">// 维护最小的打印次数</span></span><br><span class="line">                        min = Math.min(min, f[i][k] + f[k + <span class="number">1</span>][j]);</span><br><span class="line">                    &#125;</span><br><span class="line">                    f[i][j] = min;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> f[<span class="number">0</span>][n - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>记忆化DFS解法：</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[][] memo;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">INF</span> <span class="operator">=</span> <span class="number">101</span>;</span><br><span class="line">    <span class="type">char</span>[] chs;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">strangePrinter</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        方法1：记忆化DFS:</span></span><br><span class="line"><span class="comment">        关注子问题，每当打印一段涉及到的变量为的当前打印区间的左右边界s[i,j]</span></span><br><span class="line"><span class="comment">        因此定义dfs(i,j)为打印s[i,j]需要的最少打印次数</span></span><br><span class="line"><span class="comment">        此时情况分为2种：</span></span><br><span class="line"><span class="comment">        1.当s[i]==s[j]时，打印s[i]时可以同时把s[j]也打印了，因此总的次数为dfs(i,j-1)</span></span><br><span class="line"><span class="comment">        2.当s[i]!=s[j]时，打印s[i]时不能同时把s[j]也打印</span></span><br><span class="line"><span class="comment">            假设中间的字母都不相同的情况下，总的次数需要dfs(i,j-1)+1，即每个字母都要独立打印</span></span><br><span class="line"><span class="comment">            但是s[i...k...j]中间的s[k]可能与s[i]或者s[j]相等，此时的打印次数可以减少，因为可以顺带打印</span></span><br><span class="line"><span class="comment">            那么就要枚举s[i,j]之间的分割点s[k]，其中k∈[i,j-1]，分割后的区间为s[i,k]与s[k+1,j]</span></span><br><span class="line"><span class="comment">            最少的打印次数为多少？答案为min(dfs(i,k)+dfs(k+1,j)) 中间可以顺带打印的都经过了最优的状态转移</span></span><br><span class="line"><span class="comment">        最后返回dfs(0,n-1)就是答案</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        chs = s.toCharArray();</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> chs.length;</span><br><span class="line">        memo = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">        <span class="keyword">return</span> dfs(<span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// dfs(i,j):打印s[i,j]需要的最少打印次数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="comment">// memo中存在该状态直接返回</span></span><br><span class="line">        <span class="keyword">if</span> (memo[i][j] != <span class="number">0</span>) <span class="keyword">return</span> memo[i][j];</span><br><span class="line">        <span class="comment">// base case</span></span><br><span class="line">        <span class="keyword">if</span> (i == j) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// s[i]==s[j]</span></span><br><span class="line">        <span class="keyword">if</span> (chs[i] == chs[j]) <span class="keyword">return</span> dfs(i, j - <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> INF;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt; j; k++) &#123;</span><br><span class="line">            min = Math.min(min, dfs(i, k) + dfs(k + <span class="number">1</span>, j)); <span class="comment">// 取最小分割位置赋值到dfs(i,j)</span></span><br><span class="line">        &#125;</span><br><span class="line">        memo[i][j] = min;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其实能用动态规划解决的问题都可以用记忆化DFS解决</p><p>记忆化DFS的优点就是不用考虑具体的状态遍历顺序是怎样的，只要能够判断出memo里面的状态被有效值覆盖过就可以直接拿来用，因此可以将 memo[i][j] 的值初始化为一个不可能到达的值INF</p><p>模板中一般包含一下几个关键点：</p><p>1.每次递归返回之前记录该次最优值进入memo memo[i][j] = min;</p><p>2.若dfs(i,j)中的memo[i][j]的有效值已经出现过可以直接取 if (memo[i][j] != 0) return memo[i][j];</p><p>3.base case 一般来说是 if (i == j) return ?;</p><p>4.遍历与dfs(i,j)有关的状态（结果），选择最优的（经过计算）得到的结果作为dfs(i,j)的结果 视具体问题而定</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 区间DP </tag>
            
            <tag> 动态规划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数位DP总结</title>
      <link href="/posts/d795dbaa.html"/>
      <url>/posts/d795dbaa.html</url>
      
        <content type="html"><![CDATA[<h4 id="1-三叶的模板">1.三叶的模板</h4><p>位DP是一种比较抽象和难理解的DP题型，什么时候会用到数位DP去解题？</p><p>一般来说，当遇到求 [a,b] 内满足一定条件的数字有多少个时，大概率会用到数位DP</p><p>设 f[i] 为 [0,i] 满足条件的数字个数，那么[a, b] 内的符合要求数目就是 f[b]-f[a]</p><p>三叶的数位DP方面总结得比较系统，题解也是比较模板化的，<strong>建议按照模板来</strong>，大致梳理一下模板和思路如下：</p><p>将 [0,n] 的数字分为3部分：</p><p>1.<strong>res1</strong> <strong><em>位数小于n</em><strong>的部分 这部分一般可以通过</strong>乘法原理</strong>求解</p><p>2.<strong>res2</strong> <strong><em>位数等于n且最高位小于n部分</em></strong> 这部分也可以用乘法原理进行求解，<strong>枚举最高位可用的情形然后利用乘法原理计算</strong></p><p>3.<strong>res3</strong> <strong><em>位数等于n且最高位等于n部分</em></strong> 这部分是最难的，因为每一位的取值严格被限制了，需要用到DP的思想进行求解</p><p>（注意这个res3不一定是n的最高位，是遍历过程中作为状态值动态变化的）</p><p>res2与res3一般放在一起求解，套路如下：</p><p>从<strong>高位向低位</strong>枚举，假设当前位数字为cur，其中res2部分可以通过乘法原理计算得到</p><p>res3部分需要由 <strong>当前位的后面位方案</strong>数 决定，这里就有了子问题的复现了，原问题与子问题的维度差异就是子问题比原问题少了原来的最高位</p><p>以 LC 1012为例</p><p>res2 = [0,cur-1]能用的数字数 * 后面剩余位数的排列数</p><p><code>res3相当于固定了当前位为最大值cur，再看后面位总的方案数，通过for循环一直遍历至最后一位(或者是出现重复的一位)</code></p><p>还有一个细节就是别漏了最大数本身也符合要求这种情形</p><p>排列数的情形有限，我们可以预处理出来所有排列数来加快计算速度</p><p>最后再累加上res1的方案数就是答案</p><p><a href="https://leetcode.cn/problems/numbers-with-repeated-digits/"><strong>1012. 至少有 1 位重复的数字</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// 预处理排列数 f[i][j]=i*(i+1)*...*(j-1)*j</span></span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[][] f = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">11</span>][<span class="number">11</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; <span class="number">11</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; <span class="number">11</span>; j++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt;= j; k++) &#123;</span><br><span class="line">                    cur *= k;</span><br><span class="line">                &#125;</span><br><span class="line">                f[i][j] = cur;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numDupDigitsAtMostN</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        数位DP(较难):</span></span><br><span class="line"><span class="comment">        本题可以转化为求[1,n]全部数字不相同的数字个数，是典型的数位DP问题</span></span><br><span class="line"><span class="comment">        数位DP问题求解的总体思路就是求[0,n]中满足某些条件的数字个数</span></span><br><span class="line"><span class="comment">        通常套路就是将[0,n]的数字分为3部分：</span></span><br><span class="line"><span class="comment">        1.res1 位数小于n的部分 这部分与 LC357 解法一致，利用乘法原理求解</span></span><br><span class="line"><span class="comment">        2.res2 位数等于n的部分且最高位小于n 这部分也可以用乘法原理进行求解，枚举最高位直接计算就可以</span></span><br><span class="line"><span class="comment">        3.res3 位数等于n的部分且最高位等于n 这部分是最难的，因为每一位的取值严格被限制了，需要用到DP的思想进行求解</span></span><br><span class="line"><span class="comment">        res2与res3一般放在一起求解，套路如下：</span></span><br><span class="line"><span class="comment">        从高位向低位枚举，假设当前位为cur，其中res2部分可以通过乘法原理计算得到</span></span><br><span class="line"><span class="comment">        res3部分需要由  当前位的后面位方案数  决定</span></span><br><span class="line"><span class="comment">        具体的，res2=[0,cur-1]能用的数字数*后面剩余位数的排列数</span></span><br><span class="line"><span class="comment">                res3相当于固定了当前位为最大值cur，再看后面位的总的方案数，通过for循环一直遍历至最后一位(或者是出现重复的一位)</span></span><br><span class="line"><span class="comment">                排列数的情形有限，我们可以预处理出来加快计算速度</span></span><br><span class="line"><span class="comment">        时间复杂度:O(logN)  空间复杂度:O(C)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">return</span> n - dp(n) + <span class="number">1</span>;   <span class="comment">// 注意排除掉0的情况</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// dp[x]返回[0,x]中每一位都不同的数字数目</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dp</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="comment">// 一位数直接返回x+1(因为包含0)</span></span><br><span class="line">        <span class="keyword">if</span> (x &lt;= <span class="number">9</span>) <span class="keyword">return</span> x + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// 将x每一位提出来</span></span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (x != <span class="number">0</span>) &#123;</span><br><span class="line">            list.add(x % <span class="number">10</span>);</span><br><span class="line">            x /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">bitCnt</span> <span class="operator">=</span> list.size();</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 1.计算res1+res2部分</span></span><br><span class="line">        <span class="comment">// 其中i为数字x的位索引，i越大表示位数越高(越左)</span></span><br><span class="line">        <span class="comment">// p记录当前循环到的位置已经遍历了多少位</span></span><br><span class="line">        <span class="comment">// used标记当前遍历过程中已经用了的哪些数字，到时候根据used排除</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> bitCnt - <span class="number">1</span>, used = <span class="number">0</span>, p = <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--, p++) &#123;</span><br><span class="line">            <span class="comment">// 首先计算当前位cur能用的数字个数cnt</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> list.get(i), cnt = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// 枚举[cur-1,0]，再排除掉前面已经用过的</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> cur - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="comment">// 最高位可以用[cur-1,1]</span></span><br><span class="line">                <span class="keyword">if</span> (i == bitCnt - <span class="number">1</span>) &#123;</span><br><span class="line">                    cnt = cur - <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 低位可以用[cur-1,0]没用过的任意数</span></span><br><span class="line">                <span class="keyword">if</span> (((used &gt;&gt; j) &amp; <span class="number">1</span>) == <span class="number">0</span>) cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 计算res2部分</span></span><br><span class="line">            <span class="comment">// 合法值 a&gt;=b 其中a为cur后面首位选择数，b为终点(最后一位)的选择数</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span> - p, b = a - (bitCnt - p) + <span class="number">1</span>;</span><br><span class="line">            res += cnt * (i &gt; <span class="number">0</span> ? f[b][a] : <span class="number">1</span>);    <span class="comment">// 特例为最后一位的时候可以选cnt个</span></span><br><span class="line">            <span class="comment">// 已经遇到相同数字，统计完cnt次以后([0,cur-1]的情况)就可以退出</span></span><br><span class="line">            <span class="keyword">if</span> (((used &gt;&gt; cur) &amp; <span class="number">1</span>) == <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) res++;  <span class="comment">// 当x本身就是合法案例，最后一位加完cnt之后还要再+1</span></span><br><span class="line">            used |= (<span class="number">1</span> &lt;&lt; cur);  <span class="comment">// 标记使用了cur</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 2.计算res3部分(位数小于x的部分)</span></span><br><span class="line">        res += <span class="number">10</span>;  <span class="comment">// 先统计一位数的情况</span></span><br><span class="line">        <span class="comment">// 统计后面的[2,bitCnt-1]位:9*9  9*9*8  9*9*8*7 ...</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt; bitCnt; i++) &#123;</span><br><span class="line">            res += <span class="number">9</span> * f[<span class="number">11</span> - i][<span class="number">9</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-灵佬的模板（推荐）">2.灵佬的模板（推荐）</h4><p><a href="https://leetcode.cn/problems/count-special-integers/">2376. 统计特殊整数</a></p><p>参考灵神写的记忆化DFS解决数位DP问题的模板，非常好用，几乎可以“秒杀”任何类型的数位DP！</p><p><strong>记忆化本质就是减少前面已选状态一致的情况，将1eM的时间复杂度压缩至1&lt;&lt;M，效率非常高</strong></p><p><strong>详细参考：<a href="https://leetcode.cn/problems/count-special-integers/solution/shu-wei-dp-mo-ban-by-endlesscheng-xtgx/">数位 DP 通用模板，附题单（Python/Java/C++/Go）</a></strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span>[][] memo;   <span class="comment">// memo[i][mask]记录当前选择顺位为i，已选状态为mask时，构造第i位及后面位的合法方案数</span></span><br><span class="line">    <span class="type">char</span>[] s;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countSpecialNumbers</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        参考灵神の数位DP记忆化DFS模板：</span></span><br><span class="line"><span class="comment">        注意这题与LC1012是一样的，不过这题更直接求每一位都不相同数字</span></span><br><span class="line"><span class="comment">        dfs(i, mask, isLimit, hasNum) 代表从左到右选到第i个数字时(i从0开始)，前面数字已选状态为mask时的合法方案数</span></span><br><span class="line"><span class="comment">        各个参数的含义如下:</span></span><br><span class="line"><span class="comment">        i:当前选择的数字位次，从0开始</span></span><br><span class="line"><span class="comment">        mask:前面已择数字的状态，是一个10位的二进制数，如:0000000010就代表前面已经选了1</span></span><br><span class="line"><span class="comment">        isLimit:boolean类型，代表当前位选择是否被前面位的选择限制了；</span></span><br><span class="line"><span class="comment">            如n=1234，前面选了12，选第3位的时候会被限制在0~3，isLimit=true；否则是0~9，isLimit=false</span></span><br><span class="line"><span class="comment">        hasNum:表示前面是否已经选择了数字，若选择了就为true(识别直接构造低位的情况)</span></span><br><span class="line"><span class="comment">        时间复杂度:O(1024*M*10) 空间复杂度:O(1024*M)</span></span><br><span class="line"><span class="comment">        记忆化DFS的时间复杂度=状态数*每一次枚举的情况数</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        s = String.valueOf(n).toCharArray();    <span class="comment">// 转化为字符数组形式</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> s.length;</span><br><span class="line">        memo = <span class="keyword">new</span> <span class="title class_">int</span>[m][<span class="number">1</span> &lt;&lt; <span class="number">10</span>];     <span class="comment">// i∈[0,m-1]，mask为一个10位二进制数</span></span><br><span class="line">        <span class="comment">// 初始化memo为-1代表该顺位下该已选状态还没进行计算</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            Arrays.fill(memo[i], -<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 注意一开始最高位是有限制的，isLimit=true</span></span><br><span class="line">        <span class="keyword">return</span> dfs(<span class="number">0</span>, <span class="number">0</span>, <span class="literal">true</span>, <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// dfs(i, mask, isLimit, hasNum) 代表从左到右选第i个数字时，前面已选状态为mask时的合法方案数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> mask, <span class="type">boolean</span> isLimit, <span class="type">boolean</span> hasNum)</span> &#123;</span><br><span class="line">        <span class="comment">// base case</span></span><br><span class="line">        <span class="comment">// i越过最后一位，此时前面选了就算一个，没选的就不算，因为不选后面也没得选了</span></span><br><span class="line">        <span class="keyword">if</span> (i == s.length) <span class="keyword">return</span> hasNum ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 已经计算过该状态，并且该状态是有效的，直接返回该状态</span></span><br><span class="line">        <span class="comment">// 这一步是降低时间复杂度的关键，使得记忆化dfs的时间复杂度控制得很低</span></span><br><span class="line">        <span class="comment">// !isLimit表示没有被限制的才可以直接得出结果，否则还要根据后面的数字进行计算子问题计算</span></span><br><span class="line">        <span class="keyword">if</span> (!isLimit &amp;&amp; hasNum &amp;&amp; memo[i][mask] != -<span class="number">1</span>) <span class="keyword">return</span> memo[i][mask];</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;    <span class="comment">// 结果</span></span><br><span class="line">        <span class="comment">// 本位可以取0(可直接构造低位数)的情况，此时要加上构造低位数0xxx的方案数</span></span><br><span class="line">        <span class="comment">// 将是否选了数字作为分类条件是为了避免出现00010这样有多个0的就不能统计了</span></span><br><span class="line">        <span class="keyword">if</span> (!hasNum) res = dfs(i + <span class="number">1</span>, mask, <span class="literal">false</span>, <span class="literal">false</span>);</span><br><span class="line">        <span class="comment">// 构造与当前顺位相同位数的数字就要枚举可选的数字进行DFS</span></span><br><span class="line">        <span class="comment">// 枚举的起点要视hasNum而定，如果前面选择了数字，那么现在可以选0；否则只能从1开始</span></span><br><span class="line">        <span class="comment">// 枚举得终点视isLimit而定，若被限制了只能到s[i]，否则可以到9</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> hasNum ? <span class="number">0</span> : <span class="number">1</span>, end = isLimit ? s[i] - <span class="string">&#x27;0&#x27;</span> : <span class="number">9</span>; k &lt;= end; k++) &#123;</span><br><span class="line">            <span class="comment">// 如果该数字k还没有被选中，那猫就可以选该位数字</span></span><br><span class="line">            <span class="keyword">if</span> (((mask &gt;&gt; k) &amp; <span class="number">1</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// 方案数遵循加法原理</span></span><br><span class="line">                <span class="comment">// i:进行下一位的DFS，因此为i+1</span></span><br><span class="line">                <span class="comment">// mask:由于该位选中了k，mask掩膜传下去就要更新，已选状态加上k</span></span><br><span class="line">                <span class="comment">// isLimit:当且仅当前面的被限制了且该位被限制</span></span><br><span class="line">                <span class="comment">// hasNum:该位选了必定为true</span></span><br><span class="line">                res += dfs(i + <span class="number">1</span>, mask | (<span class="number">1</span> &lt;&lt; k), isLimit &amp;&amp; k == end, <span class="literal">true</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!isLimit &amp;&amp; hasNum) memo[i][mask] = res;    <span class="comment">// 如果前面没有限制，表明后面都是同质的，可以记录进memo中</span></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 动态规划 </tag>
            
            <tag> 数位DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>多源BFS总结</title>
      <link href="/posts/3efa1ce7.html"/>
      <url>/posts/3efa1ce7.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-1020-飞地的数量">1.<a href="https://leetcode.cn/problems/number-of-enclaves/">1020. 飞地的数量</a></h3><p>BFS标记已经搜索过的格子避免重复搜索，一定一定要在入队时候就标记搜索</p><p><strong>如果在出队时才标记搜索，那么下一层的节点可能会把上一层的重复入队，因为上一层前面的节点出队了，后面的还没出队因此还视为未被搜索，有重复入队的风险！</strong></p><p><strong>1.常规单源BFS解法：5ms</strong> <strong>48.8 MB</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">boolean</span>[][] canReach;  <span class="comment">// canReach记录grid[i][j]是否能到达边界</span></span><br><span class="line">    <span class="type">int</span>[][] grid;</span><br><span class="line">    <span class="type">int</span> m, n;</span><br><span class="line">    <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numEnclaves</span><span class="params">(<span class="type">int</span>[][] _grid)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        多源BFS:</span></span><br><span class="line"><span class="comment">        有一个技巧，要越过边界一定要经过边界，那么我们要求中间有哪些不能到达边界的，反过来就是要求哪些能到达边界的</span></span><br><span class="line"><span class="comment">        再反过来只需要从边界开始DFS看看能到达哪些陆地即可，再用总的陆地数减去能到达边界的陆地数就是不能到达的陆地数</span></span><br><span class="line"><span class="comment">        遍历格子的方式也可以是BFS</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        grid = _grid;</span><br><span class="line">        m = grid.length;</span><br><span class="line">        n = grid[<span class="number">0</span>].length;</span><br><span class="line">        canReach = <span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line">        <span class="comment">// 搜索4条边界的陆地</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][<span class="number">0</span>] == <span class="number">1</span>) bfs(i, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (grid[i][n - <span class="number">1</span>] == <span class="number">1</span>) bfs(i, n - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; n - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[<span class="number">0</span>][j] == <span class="number">1</span>) bfs(<span class="number">0</span>, j);</span><br><span class="line">            <span class="keyword">if</span> (grid[m - <span class="number">1</span>][j] == <span class="number">1</span>) bfs(m - <span class="number">1</span>, j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 统计不能到达边界的数目</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span> &amp;&amp; !canReach[i][j]) res++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// dfs(i,j)搜索与之连接的陆地并标记到canReach</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">bfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="comment">// grid[i][j]可以到达边界说明与之连通的已经搜索过了，结束</span></span><br><span class="line">        <span class="keyword">if</span> (canReach[i][j]) <span class="keyword">return</span>;</span><br><span class="line">        Queue&lt;<span class="type">int</span>[]&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        canReach[i][j] = <span class="literal">true</span>;  <span class="comment">// 统一入队标记搜索(速度快很多避免重复搜索)</span></span><br><span class="line">        que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, j&#125;);</span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> que.size();</span><br><span class="line">            <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span>[] poll = que.poll();</span><br><span class="line">                <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> poll[<span class="number">0</span>], y = poll[<span class="number">1</span>];</span><br><span class="line">                <span class="comment">// 搜索4个方向</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span>[] dir : dirs) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newX</span> <span class="operator">=</span> x + dir[<span class="number">0</span>], newY = y + dir[<span class="number">1</span>];</span><br><span class="line">                    <span class="comment">// 位于区域内并且是陆地就可以到达，且不能搜回头路</span></span><br><span class="line">                    <span class="keyword">if</span> (newX &gt;= <span class="number">0</span> &amp;&amp; newX &lt;= m - <span class="number">1</span> &amp;&amp; newY &gt;= <span class="number">0</span> &amp;&amp; newY &lt;= n - <span class="number">1</span> &amp;&amp; grid[newX][newY] == <span class="number">1</span> &amp;&amp; !canReach[newX][newY]) &#123;</span><br><span class="line">                        canReach[newX][newY] = <span class="literal">true</span>;  <span class="comment">// 统一入队标记搜索</span></span><br><span class="line">                        que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;newX, newY&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>2.多源BFS写法：</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">boolean</span>[][] canReach;  <span class="comment">// canReach记录grid[i][j]是否能到达边界</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numEnclaves</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        多源BFS:</span></span><br><span class="line"><span class="comment">        有一个技巧，要越过边界一定要经过边界，那么我们要求中间有哪些不能到达边界的，反过来就是要求哪些能到达边界的</span></span><br><span class="line"><span class="comment">        再反过来只需要从边界开始BFS看看能到达哪些陆地即可，再用总的陆地数减去能到达边界的陆地数就是不能到达的陆地数</span></span><br><span class="line"><span class="comment">        这是多个源点的BFS，我们可以把多个节点同时入队，相当于开始就进行第二层的BFS</span></span><br><span class="line"><span class="comment">        时间复杂度:O(N^2)  空间复杂度:O(N)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        Queue&lt;<span class="type">int</span>[]&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 搜索4条边界的陆地</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][<span class="number">0</span>] == <span class="number">1</span>) &#123;</span><br><span class="line">                grid[i][<span class="number">0</span>] = <span class="number">2</span>; <span class="comment">// 访问过与边缘连通的陆地标记为2</span></span><br><span class="line">                que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, <span class="number">0</span>&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][n - <span class="number">1</span>] == <span class="number">1</span>) &#123;</span><br><span class="line">                grid[i][n - <span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">                que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, n - <span class="number">1</span>&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; n - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[<span class="number">0</span>][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                grid[<span class="number">0</span>][j] = <span class="number">2</span>;</span><br><span class="line">                que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">0</span>, j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (grid[m - <span class="number">1</span>][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                grid[m - <span class="number">1</span>][j] = <span class="number">2</span>;</span><br><span class="line">                que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;m - <span class="number">1</span>, j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> que.size();</span><br><span class="line">            <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span>[] poll = que.poll();</span><br><span class="line">                <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> poll[<span class="number">0</span>], y = poll[<span class="number">1</span>];</span><br><span class="line">                <span class="comment">// 搜索4个方向</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span>[] dir : dirs) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newX</span> <span class="operator">=</span> x + dir[<span class="number">0</span>], newY = y + dir[<span class="number">1</span>];</span><br><span class="line">                    <span class="comment">// 位于区域内并且是陆地就可以到达，且不能搜回头路</span></span><br><span class="line">                    <span class="keyword">if</span> (newX &gt;= <span class="number">0</span> &amp;&amp; newX &lt;= m - <span class="number">1</span> &amp;&amp; newY &gt;= <span class="number">0</span> &amp;&amp; newY &lt;= n - <span class="number">1</span> &amp;&amp; grid[newX][newY] == <span class="number">1</span>) &#123;</span><br><span class="line">                        grid[newX][newY] = <span class="number">2</span>;</span><br><span class="line">                        que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;newX, newY&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 统计不能到达边界的数目</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) res++; <span class="comment">// 为1的就是无法到达边界的陆地</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>3.DFS解法：4ms 48.7 MB</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">boolean</span>[][] canReach;  <span class="comment">// canReach记录grid[i][j]是否能到达边界</span></span><br><span class="line">    <span class="type">int</span>[][] grid;</span><br><span class="line">    <span class="type">int</span> m, n;</span><br><span class="line">    <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numEnclaves</span><span class="params">(<span class="type">int</span>[][] _grid)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        记忆化DFS:</span></span><br><span class="line"><span class="comment">        有一个技巧，要越过边界一定要经过边界，那么我们要求中间有哪些不能到达边界的，反过来就是要求哪些能到达边界的</span></span><br><span class="line"><span class="comment">        再反过来只需要从边界开始DFS看看能到达哪些陆地即可，再用总的陆地数减去能到达边界的陆地数就是不能到达的陆地数</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        grid = _grid;</span><br><span class="line">        m = grid.length;</span><br><span class="line">        n = grid[<span class="number">0</span>].length;</span><br><span class="line">        canReach = <span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line">        <span class="comment">// 搜索4条边界的陆地</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][<span class="number">0</span>] == <span class="number">1</span>) dfs(i, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (grid[i][n - <span class="number">1</span>] == <span class="number">1</span>) dfs(i, n - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; n - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[<span class="number">0</span>][j] == <span class="number">1</span>) dfs(<span class="number">0</span>, j);</span><br><span class="line">            <span class="keyword">if</span> (grid[m - <span class="number">1</span>][j] == <span class="number">1</span>) dfs(m - <span class="number">1</span>, j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 统计不能到达边界的数目</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span> &amp;&amp; !canReach[i][j]) res++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// dfs(i,j)搜索与之连接的陆地并标记到canReach</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="comment">// grid[i][j]可以到达边界说明与之连通的已经搜索过了，结束</span></span><br><span class="line">        <span class="keyword">if</span> (canReach[i][j]) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// 标记与边界连通</span></span><br><span class="line">        canReach[i][j] = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// 搜索4个方向</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] dir : dirs) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">newI</span> <span class="operator">=</span> i + dir[<span class="number">0</span>], newJ = j + dir[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// 位于区域内并且是陆地就可以到达</span></span><br><span class="line">            <span class="keyword">if</span> (newI &gt;= <span class="number">0</span> &amp;&amp; newI &lt;= m - <span class="number">1</span> &amp;&amp; newJ &gt;= <span class="number">0</span> &amp;&amp; newJ &lt;= n - <span class="number">1</span> &amp;&amp; grid[newI][newJ] == <span class="number">1</span>) &#123;</span><br><span class="line">                dfs(newI, newJ);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-1162-地图分析">2.<a href="https://leetcode.cn/problems/as-far-from-land-as-possible/"><strong>1162. 地图分析</strong></a></h3><p><strong>多源BFS实际就是单源BFS的第二层，在前面加上一个超级源点指向最初入队的节点，就是普通的单源BFS</strong></p><p><strong>参考：</strong><a href="https://leetcode.cn/problems/as-far-from-land-as-possible/solution/zhen-liang-yan-sou-huan-neng-duo-yuan-kan-wan-miao/"> <strong>ʚ自在飞花ɞ | 多个源点的广搜</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDistance</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        多源BFS问题(相当于单源BFS从第2层开始):</span></span><br><span class="line"><span class="comment">        这题是最短路径问题，求某个0到达1的最短路径的最大值</span></span><br><span class="line"><span class="comment">        求最短路径，首先想到的就是BFS，可以枚举每个格子0求出每个海洋到达陆地的最近距离，取最大值</span></span><br><span class="line"><span class="comment">        这样做的时间复杂度为O(n^4)≈1e8 必定TLE</span></span><br><span class="line"><span class="comment">        不妨反过来，我们从陆地1出发进行多源点的BFS</span></span><br><span class="line"><span class="comment">        每一圈到达的海洋0都是陆地到达的该海洋的最短路径，也就是说是这个海洋到达陆地的最短路径</span></span><br><span class="line"><span class="comment">        那么遍历到最后一层就是陆地1到达海洋0的最短路径最大值</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        Queue&lt;<span class="type">int</span>[]&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 所有的陆地入队(相当于单源BFS的第二层)</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, j&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 全是海洋或者陆地返回-1</span></span><br><span class="line">        <span class="keyword">if</span> (que.size() == m * n || que.size() == <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">dis</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> que.size();</span><br><span class="line">            <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span>[] poll = que.poll();</span><br><span class="line">                <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> poll[<span class="number">0</span>], y = poll[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span>[] dir : dirs) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newX</span> <span class="operator">=</span> x + dir[<span class="number">0</span>], newY = y + dir[<span class="number">1</span>];</span><br><span class="line">                    <span class="comment">// grid[newX][newY]在区域内且为没有被访问过的海洋</span></span><br><span class="line">                    <span class="keyword">if</span> (newX &gt;= <span class="number">0</span> &amp;&amp; newX &lt;= m - <span class="number">1</span> &amp;&amp; newY &gt;= <span class="number">0</span> &amp;&amp; newY &lt;= n - <span class="number">1</span> &amp;&amp; grid[newX][newY] == <span class="number">0</span>) &#123;</span><br><span class="line">                        grid[newX][newY] = <span class="number">2</span>; <span class="comment">// 访问过的海洋记为2就不会重复访问</span></span><br><span class="line">                        que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;newX, newY&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            dis++;  <span class="comment">// 每一圈距离+1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dis;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>在矩阵中，关于BFS入队的类型，可以为int[] 类型的[x,y]，也可以将其化为int类型后面再进行解析</strong></p><h3 id="3-1765-地图中的最高点">3.<a href="https://leetcode.cn/problems/map-of-highest-peak/"><strong>1765. 地图中的最高点</strong></a></h3><p><strong>1.常规写法：44 ms  136.9 MB</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] highestPeak(<span class="type">int</span>[][] isWater) &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        多源BFS：</span></span><br><span class="line"><span class="comment">        矩阵就是4方向的无向图</span></span><br><span class="line"><span class="comment">        这题要求的是从某个水域1出发后的BFS的层数能达到的方案值对应的矩阵，且任意相邻的格子高度差 至多 为 1</span></span><br><span class="line"><span class="comment">        多源的BFS解法就是首先让可以入队的水域1全部一次入队，遇到下一个格子直接等于本格子的值+1</span></span><br><span class="line"><span class="comment">        遍历完之后会出现最大值，最后的矩阵就是答案</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> isWater.length, n = isWater[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line">        Queue&lt;<span class="type">int</span>[]&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 这里规定为水域为0，没有访问的土地为-1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (isWater[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    isWater[i][j] = <span class="number">0</span>;</span><br><span class="line">                    que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, j&#125;);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    isWater[i][j] = -<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> que.size();</span><br><span class="line">            <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span>[] poll = que.poll();</span><br><span class="line">                <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> poll[<span class="number">0</span>], y = poll[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span>[] dir : dirs) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newX</span> <span class="operator">=</span> x + dir[<span class="number">0</span>], newY = y + dir[<span class="number">1</span>];</span><br><span class="line">                    <span class="comment">// 在区域内且没有被访问过的土地才能BFS</span></span><br><span class="line">                    <span class="keyword">if</span> (newX &gt;= <span class="number">0</span> &amp;&amp; newX &lt;= m - <span class="number">1</span> &amp;&amp; newY &gt;= <span class="number">0</span> &amp;&amp; newY &lt;= n - <span class="number">1</span> &amp;&amp; isWater[newX][newY] == -<span class="number">1</span>) &#123;</span><br><span class="line">                        isWater[newX][newY] = isWater[x][y] + <span class="number">1</span>;</span><br><span class="line">                        que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;newX, newY&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isWater;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>化为int类型后：45 ms 158.2 MB</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] highestPeak(<span class="type">int</span>[][] isWater) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> isWater.length, n = isWater[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line">        Queue&lt;Integer&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();    <span class="comment">// 用int代替[x,y]数组</span></span><br><span class="line">        <span class="comment">// 这里规定为水域为0，没有访问的土地为-1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (isWater[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    isWater[i][j] = <span class="number">0</span>;</span><br><span class="line">                    que.add(i * n + j);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    isWater[i][j] = -<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> que.size();</span><br><span class="line">            <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">poll</span> <span class="operator">=</span> que.poll();</span><br><span class="line">                <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> poll / n, y = poll % n; <span class="comment">// 解析出x与y</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span>[] dir : dirs) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newX</span> <span class="operator">=</span> x + dir[<span class="number">0</span>], newY = y + dir[<span class="number">1</span>];</span><br><span class="line">                    <span class="comment">// 在区域内且没有被访问过的土地才能BFS</span></span><br><span class="line">                    <span class="keyword">if</span> (newX &gt;= <span class="number">0</span> &amp;&amp; newX &lt;= m - <span class="number">1</span> &amp;&amp; newY &gt;= <span class="number">0</span> &amp;&amp; newY &lt;= n - <span class="number">1</span> &amp;&amp; isWater[newX][newY] == -<span class="number">1</span>) &#123;</span><br><span class="line">                        isWater[newX][newY] = isWater[x][y] + <span class="number">1</span>;</span><br><span class="line">                        que.add(newX * n + newY);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isWater;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 多源BFS </tag>
            
            <tag> BFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>单调栈总结</title>
      <link href="/posts/e88c5782.html"/>
      <url>/posts/e88c5782.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-单调栈可以解决的问题：">1.单调栈可以解决的问题：</h3><p>我们常常遇到要在O(N)的时间复杂度内求出当前对象 nums[i] 左边或者右边首个比自己大或者小的情况</p><p>这种问题通常称为<strong>Next Greater问题</strong></p><p>就相当于你是一个人，往两边看首先被哪个高个子挡住，这个高个子满足两个条件：</p><p>1.身高比你高；2.在某一方向中比你高的人中距离你最近</p><p>这种条件可能比较明显，<a href="https://leetcode.cn/problems/daily-temperatures/">739. 每日温度</a>  <a href="https://leetcode.cn/problems/next-greater-element-i/">496. 下一个更大元素 I</a> 这类型要你直接求下一个更大更小的元素是什么</p><p>也有可能是比较隐秘的，抽象成<strong>波及范围</strong>的，这属于单调栈中的困难题了 <a href="https://leetcode.cn/problems/trapping-rain-water/">42. 接雨水</a>  <a href="https://leetcode.cn/problems/subarray-with-elements-greater-than-varying-threshold/">6119. 元素值大于变化阈值的子数组</a></p><p>求某个元素的影响范围，通常都是找到两边首个比自己小的或大的 left 与 right，然后这个[left,right]通常就是影响区间的</p><p>例如[left,right]可以接住高度为max-nums[i]的雨水，可以组成某某区间等…</p><h3 id="2-单调栈的两种写法：">2.单调栈的两种写法：</h3><p>以<a href="https://leetcode.cn/problems/daily-temperatures/">739. 每日温度</a> 为例进行说明，一般来说有两种写法：</p><p>1.<strong>Next Greater元素</strong>在栈中的写法（25ms/51.1MB）</p><p>举个🌰：现在要寻找的nums[i]左边首个严格小于nums[i]的元素，st = [1, 2, 3, 6]</p><p>若nums[i]=7，直接取栈顶的6作为左边首个严格小于nums[i]的元素</p><p>若nums[i]=3，要将栈顶中&gt;=nums[i]的元素全部弹出，直至栈顶严格小于nums[i] 此时st = [1, 2]，那么2就是所求</p><p><strong>要点：</strong> 如果找nums[i] 右边的元素，那么从右边遍历起以便于 Next Greater元素先入栈；</p><p>反之，如果找nums[i] 左边的元素，那么从左边遍历起以便于 Next Greater元素先入栈；</p><p>当前遍历到的nums[i]就是基准元素，如果找右边首个大于nums[i]的就要一直保持nums[i]是最左边的且是最小的，不符合条件的栈顶元素（&lt;=nums[i]的）就出栈，直到符合条件就找到了答案。</p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302102438.jpg" alt="p8" style="zoom: 67%;" /><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] dailyTemperatures(<span class="type">int</span>[] tem) &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        写法1:Next Greater元素在栈中的写法</span></span><br><span class="line"><span class="comment">        我们要找nums[i]右边首个比自身严格大的温度，因此要从右边起遍历温度</span></span><br><span class="line"><span class="comment">        并且维护一个严格单调递增的栈（从左往右看）</span></span><br><span class="line"><span class="comment">        单调找的操作有如下两种选择：</span></span><br><span class="line"><span class="comment">        1.tem[i]&lt;tem[栈顶] 说明找到tem[i]右边首个比自身大的温度，直接记录，最后tem[i]也要入栈</span></span><br><span class="line"><span class="comment">        2.tem[i]&gt;=tem[栈顶] 说明栈顶不是符合要求的元素，逐个弹出直至tem[i]&lt;tem[栈顶]，记录结果，最后tem[i]也要入栈</span></span><br><span class="line"><span class="comment">        特殊情况：栈为空直接入栈</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> tem.length;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="comment">// 单调栈存储索引即可</span></span><br><span class="line">        Deque&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="comment">// tem[i]&gt;=tem[栈顶] 弹出栈顶元素直至tem[i]&lt;tem[栈顶]</span></span><br><span class="line">            <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; tem[i] &gt;= tem[stack.peekFirst()]) stack.pollFirst();</span><br><span class="line">            <span class="comment">// 记录结果:栈为空说明tem[i]后面没有比tem[i]温度高的，记录0；否则记录天数差值</span></span><br><span class="line">            res[i] = stack.isEmpty() ? <span class="number">0</span> : stack.peekFirst() - i;</span><br><span class="line">            <span class="comment">// tem[i]入栈</span></span><br><span class="line">            stack.addFirst(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.<strong>基准元素nums[i]</strong> 在栈中的写法(23ms/56.8MB)</p><p>举个🌰：现在要寻找的nums[i]右边首个严格大于nums[i]的元素，st = [8, 6, 4, 3]</p><p>现在我们栈中的元素还要找自己右边首个大于自己的元素呢，嗷嗷待哺~~~</p><p>若nums[i]=2，比栈顶还小，直接入栈得了，所有人都还没找到比自己小的元素~~~此时 st = [8, 6, 4, 3, 2]</p><p>此时来了nums[i]=4，栈上方的2与3显然是找到了右边首个比自己严格大的元素，出栈并记录</p><p>但是栈中的4还是没有找到比自己严格大的，因此只能期待接下来有没有更大的数字了~~~</p><p>此时st = [8, 6, 4, 4] 若此时再来个5那么这两个可怜的4就有机会出栈并记录了~~~</p><p><strong>要点：</strong> 如果找nums[i] 右边的元素，那么从左边遍历起以便于基准元素nuns[i]先入栈；</p><p>反之，如果找nums[i] 左边的元素，那么从右遍历起以便于基准元素nums[i]先入栈；</p><p>当前遍历到的nums[i]就是基准元素，且一直要保持栈顶是最小的，一旦新来的nums[i]严格大于栈顶的小可怜，就代表栈顶的小可怜可以出栈记录了</p><p>代码如下：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] dailyTemperatures(<span class="type">int</span>[] tem) &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    写法2:基准元素nums[i]在栈中的写法</span></span><br><span class="line"><span class="comment">    我们要找nums[i]右边首个比自身严格大的温度，因此要从左起遍历温度以便于基准元素入栈</span></span><br><span class="line"><span class="comment">    维护一个单调递减栈（从左往右看） 一旦栈顶小可爱遇到比自己大的就冲出来并记录</span></span><br><span class="line"><span class="comment">    1.tem[i]&lt;=tem[栈顶] 说明栈顶的小可爱都还没找到下一个比自己严格大的元素，tem[i]直接入栈当下一个小可爱</span></span><br><span class="line"><span class="comment">    2.tem[i]&gt;tem[栈顶] 说明栈顶那群小可爱已经找到下一个比自己严格大的元素，出栈并记录，最后别忘了tem[i]也要入栈找自己的下一个比自身大的元素</span></span><br><span class="line"><span class="comment">    特殊情况：栈为空直接入栈即可，栈顶没有人要找下一个更大的元素</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> tem.length;</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="comment">// 单调栈存储索引即可</span></span><br><span class="line">    Deque&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">// 当栈顶小可爱遇到比自己大的tem[i]，c出栈并记录后tem[i]入栈</span></span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; tem[i] &gt; tem[stack.peekFirst()]) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">poll</span> <span class="operator">=</span> stack.pollFirst();</span><br><span class="line">            res[poll] = i - poll;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 否则直接入栈</span></span><br><span class="line">        stack.addFirst(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>由运行结果可知两种写法时间消耗与空间消耗接近，个人比较推荐<strong>写法1</strong></p><h3 id="3-API的选用习惯：">3.API的选用习惯：</h3><p>目前比较推荐以下两种：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">写法1</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Deque&lt;Integer&gt; st = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">st.push(i);    <span class="comment">// 元素入栈</span></span><br><span class="line">st.peek();    <span class="comment">// 查看栈顶元素</span></span><br><span class="line">st.pop();    <span class="comment">// 弹出栈顶元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">写法2</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Deque&lt;Integer&gt; st = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">st.addFirst(i);    <span class="comment">// 元素入栈</span></span><br><span class="line">st.peekFirst();    <span class="comment">// 查看栈顶元素</span></span><br><span class="line">st.pollFirst();    <span class="comment">// 弹出栈顶元素</span></span><br></pre></td></tr></table></figure><h3 id="4-单调栈与范围管辖问题（Hard）">4.单调栈与范围管辖问题（Hard）</h3><p><a href="https://leetcode.cn/problems/sum-of-subarray-ranges/"><strong>2104. 子数组范围和</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[] nums;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">subArrayRanges</span><span class="params">(<span class="type">int</span>[] _nums)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    方法2：单调栈</span></span><br><span class="line"><span class="comment">    我们要找nums[i]中所有的子数组的max-min的和，那么我们罗列出所有子数组，其最大值和最小值必定出自于nums[i]其中某一个</span></span><br><span class="line"><span class="comment">    换一个角度，我们假设nums[i]作为max管辖的子数组个数为k1，最为min管辖的子数组个数为k2，那么nums[i]*(k2-k1)就是nums[i]这个数字贡献的范围和</span></span><br><span class="line"><span class="comment">    我们怎样知道某个nums[i]的管辖范围？很显然要找到nums[i]在包含自身的哪个范围内是“老大”</span></span><br><span class="line"><span class="comment">    例如作为max就要知道自己左右两边首个比自己大的数字，在这两个数字之间nums[i]就是老大</span></span><br><span class="line"><span class="comment">    这种情况显然就要用到单调找来查找自己的管辖范围</span></span><br><span class="line"><span class="comment">    以求最大值为例进行说明，我们要求自己左右两边比自己大的数字，先以左边为例进行说明</span></span><br><span class="line"><span class="comment">    在栈中从左到右维护一个单调递减栈，一旦遇到nums[i]&lt;nums[栈顶]就说明nums[i]找到了比自己大的数字位置</span></span><br><span class="line"><span class="comment">    找到nums[i]左右两边比自己大的数字位置之后，例如 nums = [4,-2,-3,4,1] 计算得idx=3的元素范围为[-1,5]</span></span><br><span class="line"><span class="comment">    这里是下一个比自己大的数字范围，因此包含idx=3的子数组个数为：(3-(-1))*(5-3)=8 左边4个:3  2,3  1,2,3  0,1,2,3</span></span><br><span class="line"><span class="comment">    右边2个:∅  4 换算到一般情况就是 (idx-left)*(right-idx)</span></span><br><span class="line"><span class="comment">    注意点：nums = [4,-2,-3,4,1] 这种情况下我们会求得第一个4的范围为：[0,4] 同理第二个范围也为：[0,4]</span></span><br><span class="line"><span class="comment">    这两种情况会重复计算第一个4与第二个4共存的情况</span></span><br><span class="line"><span class="comment">    因此我们在单调栈计算的时候，约定左边找比自己严格大(小)的首个数字，右边找大于等于(小于等于)自己的首个数字</span></span><br><span class="line"><span class="comment">    时间复杂度:O(N) 空间复杂度:O(N)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    nums = _nums;</span><br><span class="line">    n = nums.length;</span><br><span class="line">    <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// max[i]表示nums[i]作为最大值的子数组个数，min[i]表示nums[i]作为最小值的子数组个数</span></span><br><span class="line">    <span class="type">int</span>[] max = getCnt(<span class="literal">true</span>), min = getCnt(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">// 计算所有子数组范围和</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        res += (<span class="type">long</span>) (max[i] - min[i]) * nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// getCnt(true)表示获取nums[i]最大值的子数组个数，反之就是获取nums[i]最大值的子数组个数</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[] getCnt(<span class="type">boolean</span> isMax) &#123;</span><br><span class="line">    <span class="comment">// ans[i]表示要返回的数据</span></span><br><span class="line">    <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="comment">// left[i]表示nums[i]左边首个严格大于(小于)自身的数字索引</span></span><br><span class="line">    <span class="comment">// right[i]表示nums[i]左边首个非严格大于(小于)自身的数字索引</span></span><br><span class="line">    <span class="type">int</span>[] left = <span class="keyword">new</span> <span class="title class_">int</span>[n], right = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="comment">// 利用单调栈查找管辖范围</span></span><br><span class="line">    Deque&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; (isMax ? nums[i] &gt;= nums[stack.peekFirst()] : nums[i] &lt;= nums[stack.peekFirst()])) stack.pollFirst();</span><br><span class="line">        left[i] = stack.isEmpty() ? -<span class="number">1</span> : stack.peekFirst();</span><br><span class="line">        stack.addFirst(i);</span><br><span class="line">    &#125;</span><br><span class="line">    stack.clear();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; (isMax ? nums[i] &gt; nums[stack.peekFirst()] : nums[i] &lt; nums[stack.peekFirst()])) stack.pollFirst();</span><br><span class="line">        right[i] = stack.isEmpty() ? n : stack.peekFirst();</span><br><span class="line">        stack.addFirst(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 计算管辖范围内子数组个数</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        ans[i] = (i - left[i]) * (right[i] - i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/subarray-with-elements-greater-than-varying-threshold/"><strong>2334. 元素值大于变化阈值的子数组</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">validSubarraySize</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> threshold)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        单调栈的应用:</span></span><br><span class="line"><span class="comment">        不妨枚举nums[i]并假设某包含nums[i]的子段是长度为k的某段中最小的数字</span></span><br><span class="line"><span class="comment">        在该段中其余数字都大于nums[i]，只要nums[i]&gt;threshold/k，那么段内的所有元素均大于threshold/k</span></span><br><span class="line"><span class="comment">        我们只需要求出有没有这样的nums[i]就可以知道是否有符合题意的k</span></span><br><span class="line"><span class="comment">        怎样维护某个nums[i]在某个段内是最小的数字？我们只需要找到nums[i]左边和右边首个严格小于nums[i]的索引</span></span><br><span class="line"><span class="comment">        那么索引之间就是nums[i]这段的波及范围</span></span><br><span class="line"><span class="comment">        快速求nums[i]左边和右边首个小于nums[i]的元素属于Next Greater问题，可以用单调栈解决</span></span><br><span class="line"><span class="comment">        时间复杂度：O(N) 空间复杂度：O(N)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="comment">// 两个单调栈st1与st2</span></span><br><span class="line">        Deque&lt;Integer&gt; st1 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(), st2 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// left[i]存储nums[i]左边首个严格小于nums[i]的数字索引，不存在时为-1</span></span><br><span class="line">        <span class="comment">// right[i]存储nums[i]右边首个严格小于nums[i]的数字索引，不存在时为n</span></span><br><span class="line">        <span class="type">int</span>[] left = <span class="keyword">new</span> <span class="title class_">int</span>[n], right = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="comment">// 正序遍历求left[i]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="comment">// 遇到nums[i]&lt;=nums[栈顶索引] -&gt; 弹出栈顶索引直至nums[i]&gt;nums[栈顶索引]</span></span><br><span class="line">            <span class="comment">// 此时nums[栈顶索引]就是nums[i]左边首个严格小于nums[i]的数字</span></span><br><span class="line">            <span class="comment">// 被弹出的那些栈顶元素是不可能成为后面left[i]有效取值的，因为会优先取到当前的nums[i]</span></span><br><span class="line">            <span class="comment">// e.g. nums[st1]=[1,2,4,5] nums[i]=3 显然4与5不符合题意弹出 3才是符合题意的 加入后面有个6进来了</span></span><br><span class="line">            <span class="comment">// 必然会优先取到3而不会取更前面的4与5</span></span><br><span class="line">            <span class="keyword">while</span> (!st1.isEmpty() &amp;&amp; nums[st1.peek()] &gt;= nums[i]) st1.pop();    <span class="comment">// 一直弹出直至st1严格递增</span></span><br><span class="line">            left[i] = st1.isEmpty() ? -<span class="number">1</span> : st1.peek();  <span class="comment">// 栈顶的必定1严格小于nums[i]并且是最近的(-1表示取全部)</span></span><br><span class="line">            st1.push(i);    <span class="comment">// 每次都要入栈</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 倒序遍历求right[i]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!st2.isEmpty() &amp;&amp; nums[st2.peek()] &gt;= nums[i]) st2.pop();</span><br><span class="line">            right[i] = st2.isEmpty() ? n : st2.peek();</span><br><span class="line">            st2.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 枚举nums[i]根据其波及范围确定到k，再判断k是否合法</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> right[i] - left[i] - <span class="number">1</span>; <span class="comment">// 实际范围:[left[i]+1,right[i]-1]</span></span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; threshold / k) <span class="keyword">return</span> k;  <span class="comment">// 合法</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;  <span class="comment">// 不存在</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-栈结构写法的优化">5.栈结构写法的优化</h3><p>以<a href="https://leetcode.cn/problems/sum-of-subarray-ranges/"><strong>2104. 子数组范围和</strong></a>为例进行说明</p><p>栈结构还可以优化成数组的写法，辅助一个ptr指针，在数据范围小的时候非常节省时间与空间</p><p>其中<strong>ptr指代当前栈中栈顶元素所在stack数组的位置</strong></p><p>prt指针可以初始化为-1或者0表示栈底索引，栈的容量初始化为可能出现的最大栈中元素个数</p><p><strong>入栈：</strong> stack[++ptr]=i腾出空位再赋值</p><p><strong>出栈：</strong> 直接ptr–即可，后面新元素入栈会覆盖掉旧的痕迹</p><p><strong>查看栈顶元素：</strong> 返回stack[ptr]就是</p><p><strong>清空栈：</strong> ptr=0（-1）</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[] nums;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">subArrayRanges</span><span class="params">(<span class="type">int</span>[] _nums)</span> &#123;</span><br><span class="line">    nums = _nums;</span><br><span class="line">    n = nums.length;</span><br><span class="line">    <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// max[i]表示nums[i]作为最大值的子数组个数，min[i]表示nums[i]作为最小值的子数组个数</span></span><br><span class="line">    <span class="type">int</span>[] max = getCnt(<span class="literal">true</span>), min = getCnt(<span class="literal">false</span>);</span><br><span class="line">    <span class="comment">// 计算所有子数组范围和</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        res += (<span class="type">long</span>) (max[i] - min[i]) * nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// getCnt(true)表示获取nums[i]最大值的子数组个数，反之就是获取nums[i]最大值的子数组个数</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[] getCnt(<span class="type">boolean</span> isMax) &#123;</span><br><span class="line">    <span class="comment">// ans[i]表示要返回的数据</span></span><br><span class="line">    <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="comment">// left[i]表示nums[i]左边首个严格大于(小于)自身的数字索引</span></span><br><span class="line">    <span class="comment">// right[i]表示nums[i]左边首个非严格大于(小于)自身的数字索引</span></span><br><span class="line">    <span class="type">int</span>[] left = <span class="keyword">new</span> <span class="title class_">int</span>[n], right = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="comment">// 利用单调栈查找管辖范围(数组模拟栈结构，在范围小得时候非常好用)</span></span><br><span class="line">    <span class="type">int</span>[] stack = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    <span class="type">int</span> <span class="variable">ptr</span> <span class="operator">=</span> <span class="number">0</span>;    <span class="comment">// ptr指代当前栈中栈顶元素所在stack数组的位置</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (ptr &gt; <span class="number">0</span> &amp;&amp; (isMax ? nums[i] &gt;= nums[stack[ptr]] : nums[i] &lt;= nums[stack[ptr]])) ptr--;</span><br><span class="line">        left[i] = ptr == <span class="number">0</span> ? -<span class="number">1</span> : stack[ptr];</span><br><span class="line">        stack[++ptr] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    ptr = <span class="number">0</span>;    <span class="comment">// 清空栈</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">while</span> (ptr &gt; <span class="number">0</span> &amp;&amp; (isMax ? nums[i] &gt; nums[stack[ptr]] : nums[i] &lt; nums[stack[ptr]])) ptr--;</span><br><span class="line">        right[i] = ptr == <span class="number">0</span> ? n : stack[ptr];</span><br><span class="line">        stack[++ptr] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 计算管辖范围内子数组个数</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        ans[i] = (i - left[i]) * (right[i] - i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-记录的一些练习题">6.记录的一些练习题</h3><h4 id="6-1-LC402-移掉-K-位数字"><a href="https://leetcode-cn.com/problems/remove-k-digits/"><strong>6.1 LC402. 移掉 K 位数字</strong></a></h4><p>给你一个以字符串表示的非负整数 num 和一个整数 k ，移除这个数中的 k 位数字，使得剩下的数字最小。</p><p>请你以字符串形式返回这个最小的数字。</p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302102366.jpg" alt="p24"></p><p><strong>思路：</strong></p><p><strong>单调栈</strong>:维护一个栈底-&gt;栈顶单调递增的栈(参考&quot;笨猪爆破组&quot;题解)</p><p>要尽量让高位维护一个递增的趋势，即去除高位的降序对</p><p>如:1234532与5321234，当组成数字相同时，必定是前面高位递增数值会更加小</p><p>现在任务变成：删除k位使得高位的递增序列尽量长(删除高位尽可能多的递减对)</p><p>单调栈按顺序存储想要的数字，其中栈顶为栈中最大值，将当前遍历到的数字与栈顶比较决定栈顶的去留</p><p>设栈顶数字为B，当前遍历到的数字为A：</p><p>1.B &gt; A：B与A之间组成递减对，此时去掉B，A代替B的位置可以使得数值变小</p><p>2.B &lt;= A：B与A之间组成递增对，让A入栈是最好的选择</p><p>这里要注意几个问题：</p><p>1.能去除（出栈）的数字个数有限，不能超过k，因此超过k部分直接加入，不保证栈的单调性</p><p>2.考虑去除前导0的情况，前导0不能加入；换句话说就是：非0和有垫底的0可以加入</p><p>3.当前num中的降序对 &lt; k时，删除完所有降序对后，num已经是递增，此时截取前面部分就是最小的;</p><p>4.当前num中的降序对 &gt;= k时，恰好删除完或者有剩余，此时num后面的直接加入即可，不用考虑保持栈的单调性</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">removeKdigits</span><span class="params">(String num, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (num.length() == k) <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="comment">// 单调栈</span></span><br><span class="line">        Deque&lt;Character&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 遍历num每一个数字</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> ch : num.toCharArray()) &#123;</span><br><span class="line">            <span class="comment">// 找出降序对</span></span><br><span class="line">            <span class="keyword">while</span> (k &gt; <span class="number">0</span> &amp;&amp; !stack.isEmpty() &amp;&amp; stack.peekFirst() &gt; ch) &#123;</span><br><span class="line">                <span class="comment">// 这里弹出一个表明num中删除了一个(降序对的前一个元素)</span></span><br><span class="line">                stack.pollFirst();</span><br><span class="line">                k--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 为了去除前导0:非0的直接加入;当前栈有垫底的,啥都可以加入</span></span><br><span class="line">            <span class="keyword">if</span>(ch != <span class="string">&#x27;0&#x27;</span> || !stack.isEmpty()) stack.addFirst(ch);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 遍历完num所有数字,但是k还大于0,要截取前面的数字(相当于把栈顶部分弹出k个)</span></span><br><span class="line">        <span class="keyword">while</span> (k-- &gt; <span class="number">0</span> &amp;&amp; !stack.isEmpty()) stack.pollFirst();</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) sb.append(stack.pollFirst());</span><br><span class="line">        <span class="comment">// 这里要考虑到栈为空的情况,sb没东西表明为0</span></span><br><span class="line">        <span class="keyword">return</span> sb.length() == <span class="number">0</span> ? <span class="string">&quot;0&quot;</span> : sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-2-LC316-去除重复字母"><a href="https://leetcode-cn.com/problems/remove-duplicate-letters/"><strong>6.2 LC316. 去除重复字母</strong></a></h4><p>给你一个字符串 s ，请你去除字符串中重复的字母，使得每个字母只出现一次。</p><p>需保证 返回结果的字典序最小（要求不能打乱其他字符的相对位置）。</p><p><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/202209302102518.jpg" alt="p25"></p><p><strong>思路：</strong></p><p><strong>单调栈+标记:</strong></p><p>参考labuladong的题解，本题的关键点有几个：</p><p>1.要求最后的字母没有重复，且每个字母都要出现一次</p><p>2.要按照原来字母的出现顺序输出(相对顺序不变)</p><p>3.满足条件1与2前提下的要求返回字符串的字典序最小</p><p>其中，条件1可以用boolean数组或者HashSet等数据结构来进行存储，如果前面出现过就不加入；</p><p>条件2要求相对顺序不变，可以用一个指针进行遍历再存储，只要满足数据存储有序的数据结构即可</p><p>最关键的是条件3，要求字典序最小的情形输出。这里就是要用到单调栈最深层的原因</p><p>因为我们要操作&quot;临近元素&quot;(降序对)！为什么要操作降序对？</p><p>这个可以参考  402. 移掉 K 位数字(中等)</p><p>402题是要求删掉k个数字使得最后的结果最小，核心就是优先找出&quot;降序对&quot;，例如：76，98，54…</p><p>因为当你删除了降序对前面的数字后，后面数字的居上取代了原来前面的数字，必定使得数字变小</p><p>A=123a56与B=123b56，a与b当前面完全一致，整个数字大小取决于a与b的大小，a&gt;b则A&gt;B</p><p>回到本题中，我们要使得字典序在满足其他条件的前提下尽可能小，那么可以选择删掉降序对的前面字母</p><p>由于后来居上的特征，降序对是不断变化的，因此要用<strong>栈</strong>这种结构来模拟，每当当前字母ch满足其他条件时，</p><p>如果与栈顶组成降序对，说明我现在<strong>有机会</strong>让字典序变小，因此必然会想着将栈顶元素弹出！</p><p>可是本题要求所有字母都要出现一次，你把栈顶弹出了之后万一后面不再出现栈顶的字母不就不满足题意？</p><p>因此还要看看后面有没有再出现栈顶元素：</p><p>1.若没有出现则不能弹出，ch乖乖进去吧！</p><p>2.若后面还会出现，可以放心弹出，后面还可以加入该字母的，这样既使得字典序尽量小又能满足条件！</p><p>做法就是用count数组维护当前位置后面剩余的每个字母个数，当个数减为0时说明后面没有了！</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">removeDuplicateLetters</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="comment">// 统计当前位置剩余字符的个数</span></span><br><span class="line">        <span class="type">int</span>[] count = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">            count[c - <span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 统计某个字母是否在栈中(用于栈中去重)</span></span><br><span class="line">        <span class="type">boolean</span>[] inStack = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="comment">// 单调栈:按照字母的字典序保存字母</span></span><br><span class="line">        Deque&lt;Character&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 遍历字符串s</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">            <span class="comment">// 字符c次数-1</span></span><br><span class="line">            count[c - <span class="string">&#x27;a&#x27;</span>]--;</span><br><span class="line">            <span class="comment">// 栈中已经有了,不再加入</span></span><br><span class="line">            <span class="keyword">if</span>(inStack[c - <span class="string">&#x27;a&#x27;</span>]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// 字符c入栈,入栈前要将所有的字典序比c大且后面还会出现的字母弹出</span></span><br><span class="line">            <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; c &lt; stack.peekFirst()) &#123;</span><br><span class="line">                <span class="comment">// 栈顶字母后面没有出现了,不能再弹出</span></span><br><span class="line">                <span class="keyword">if</span>(count[stack.peekFirst() - <span class="string">&#x27;a&#x27;</span>] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">// 否则可以弹出</span></span><br><span class="line">                <span class="type">char</span> <span class="variable">poll</span> <span class="operator">=</span> stack.pollFirst();</span><br><span class="line">                <span class="comment">// 弹出的就将栈中的记录删除</span></span><br><span class="line">                inStack[poll - <span class="string">&#x27;a&#x27;</span>] = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 字符c入栈</span></span><br><span class="line">            stack.addFirst(c);</span><br><span class="line">            <span class="comment">// 入栈后要标记</span></span><br><span class="line">            inStack[c - <span class="string">&#x27;a&#x27;</span>] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 最后将栈中的元素逐个弹出存入sb中</span></span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            sb.append(stack.pollFirst());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 还要倒序一下才是正确顺序</span></span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>面试题 03.02. 栈的最小值 同 155.最小栈</strong></p><p>设计一个支持 push ，pop ，top 操作，并能在常数时间内检索到最小元素的栈。</p><p>实现 MinStack 类:</p><p>MinStack() 初始化堆栈对象。</p><p>void push(int val) 将元素val推入堆栈。</p><p>void pop() 删除堆栈顶部的元素。</p><p>int top() 获取堆栈顶部的元素。</p><p>int getMin() 获取堆栈中的最小元素。</p><img src="https://s1.vika.cn/space/2022/09/30/61322653f4964259bebca84cb1d37f9e" alt="p26" style="zoom: 80%;" /><p><strong>思路：</strong></p><p><strong>单调递增栈</strong>(栈顶-&gt;栈底)维护栈中元素最小值:</p><p>方法1：完全同步栈：一个为常规栈（主栈）；另一个为同步栈，保存每一步中主栈元素最小值</p><p>这个方法要求主栈与同步栈的元素个数严格相等，加入时两个同步加入，弹出时两个同步弹出，无需多加判断</p><p>这种方法存在一定的冗余存储，于是就有了方法2</p><p>方法2：主栈+单调栈：一个为主栈，另一个为单调递增栈(栈顶-&gt;栈底)，当且仅当要加入的元素x&lt;=单调栈栈顶时才加入</p><p>其余情况不加入；同理，弹出时要看单调栈栈顶是否与主栈弹出的元素相等，若相等的话就弹出。</p><p>注意：这个单调栈是非主动挤压型的，也就是在加入元素时，如果当前元素不能与现在的单调栈构成单调递增栈会主动放弃，而不会将栈中不符合条件的全部弹出(这显然会损失掉部分最小值信息!)</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MinStack_1</span> &#123;</span><br><span class="line">    Deque&lt;Integer&gt; stack;</span><br><span class="line">    Deque&lt;Integer&gt; minStack;</span><br><span class="line">    <span class="comment">// 构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MinStack_1</span><span class="params">()</span> &#123;</span><br><span class="line">        stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        minStack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 这一步很关键:就是让首个加入的x也可以顺利加入minStack</span></span><br><span class="line">        minStack.addFirst(Integer.MAX_VALUE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 往栈顶加入元素</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="comment">// 常规栈直接加入,最小栈加入当前栈中最小值(统一以队头为栈顶)</span></span><br><span class="line">        stack.addFirst(x);</span><br><span class="line">        <span class="comment">// 求出当前栈中的最小值</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> Math.min(minStack.peekFirst(), x);</span><br><span class="line">        minStack.addFirst(min);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 弹出栈顶元素(不返回)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 常规栈直接弹出,最小栈同步更新</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">pop</span> <span class="operator">=</span> stack.pollFirst();</span><br><span class="line">        <span class="comment">// 这里无论pop是何止都要弹出minStack栈顶,因为两个栈的个数总是一致的</span></span><br><span class="line">        minStack.pollFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取栈顶元素(不弹出)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peekFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取栈中最小值</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMin</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> minStack.peekFirst();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------------------------------------------------------------------------</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MinStack_2</span> &#123;</span><br><span class="line">    Deque&lt;Integer&gt; stack;</span><br><span class="line">    Deque&lt;Integer&gt; minStack;</span><br><span class="line">    <span class="comment">// 构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MinStack_2</span><span class="params">()</span> &#123;</span><br><span class="line">        stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        minStack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 这一步很关键:就是让首个加入的x也可以顺利加入minStack</span></span><br><span class="line">        minStack.addFirst(Integer.MAX_VALUE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 往栈顶加入元素</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="comment">// 常规栈直接加入,最小栈加入当前栈中最小值(统一以队头为栈顶)</span></span><br><span class="line">        stack.addFirst(x);</span><br><span class="line">        <span class="comment">// 求出当前栈中的最小值</span></span><br><span class="line">        <span class="keyword">if</span>(x &lt;= minStack.peekFirst()) minStack.addFirst(x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 弹出栈顶元素(不返回)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 常规栈直接弹出,最小栈同步更新</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">pop</span> <span class="operator">=</span> stack.pollFirst();</span><br><span class="line">        <span class="comment">// 区别就在这里:这里要看与pop相等的栈顶才弹出</span></span><br><span class="line">        <span class="keyword">if</span>(minStack.peekFirst() == pop) minStack.pollFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取栈顶元素(不弹出)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peekFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取栈中最小值</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMin</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> minStack.peekFirst();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>这道题要时刻注意判空异常，还有初始化辅助栈要将不影响首个元素入栈的Integer.MAX_VALUE加入!!!记住了</strong></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 单调栈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前缀树Tire</title>
      <link href="/posts/633eedf0.html"/>
      <url>/posts/633eedf0.html</url>
      
        <content type="html"><![CDATA[<p><a href="https://leetcode.cn/problems/implement-trie-prefix-tree/"> <strong>208.实现Trie (前缀树)</strong></a></p><p>Trie（发音类似 “try”）或者说 前缀树 是一种树形数据结构，用于<strong>高效地存储和检索字符串数据集中的键</strong>。这一数据结构有相当多的应用情景，例如自动补完和拼写检查。</p><p><strong>代码模板如下：</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Trie</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    总体思路:</span></span><br><span class="line"><span class="comment">    1.创建节点类:TireNode 包含2个成员:</span></span><br><span class="line"><span class="comment">        1.boolean end-&gt;标记该节点是否为单词末尾</span></span><br><span class="line"><span class="comment">        2.TireNode[26] children 孩子触手指向接下来的字母节点</span></span><br><span class="line"><span class="comment">    2.通过这个TireNode类进行保存、查找与查询前缀的操作</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">TireNode</span> &#123;</span><br><span class="line">        <span class="type">boolean</span> end;    <span class="comment">// 标记该节点是否为单词末尾</span></span><br><span class="line">        TireNode[] children;    <span class="comment">// 孩子触手指向接下来的字母节点</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">TireNode</span><span class="params">()</span> &#123;</span><br><span class="line">            end = <span class="literal">false</span>;    <span class="comment">// 默认不是结尾</span></span><br><span class="line">            children = <span class="keyword">new</span> <span class="title class_">TireNode</span>[<span class="number">26</span>];    <span class="comment">// 保存字母26只触手即可</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TireNode root;  <span class="comment">// Tire根节点</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Trie</span><span class="params">()</span> &#123;</span><br><span class="line">        root = <span class="keyword">new</span> <span class="title class_">TireNode</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 向前缀树中插入字符串 word</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(String word)</span> &#123;</span><br><span class="line">        <span class="type">TireNode</span> <span class="variable">p</span> <span class="operator">=</span> root; <span class="comment">// p指针从Tire根节点开始</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; word.length(); i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> word.charAt(i) - <span class="string">&#x27;a&#x27;</span>;   <span class="comment">// word[i]对应触手索引</span></span><br><span class="line">            <span class="keyword">if</span> (p.children[u] == <span class="literal">null</span>) p.children[u] = <span class="keyword">new</span> <span class="title class_">TireNode</span>();  <span class="comment">// 没有对应字母节点就创建</span></span><br><span class="line">            p = p.children[u];  <span class="comment">// 往下走</span></span><br><span class="line">        &#125;</span><br><span class="line">        p.end = <span class="literal">true</span>;   <span class="comment">// 标记p这里是结尾</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果字符串 word 在前缀树中，返回 true（即，在检索之前已经插入）；否则，返回 false</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(String word)</span> &#123;</span><br><span class="line">        <span class="type">TireNode</span> <span class="variable">p</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; word.length(); i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> word.charAt(i) - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span> (p.children[u] == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;    <span class="comment">// 没有该单词</span></span><br><span class="line">            p = p.children[u];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p.end;   <span class="comment">// 如果当初p标记了结尾说明就是存在该单词</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果之前已经插入的字符串 word 的前缀之一为 prefix ，返回 true ；否则，返回 false</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">startsWith</span><span class="params">(String prefix)</span> &#123;</span><br><span class="line">        <span class="type">TireNode</span> <span class="variable">p</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; prefix.length(); i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> prefix.charAt(i) - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span> (p.children[u] == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            p = p.children[u];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;    <span class="comment">// 能走完就表明存在该前缀,不一定要为end==true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tire </tag>
            
            <tag> 前缀树 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>序列DP专题</title>
      <link href="/posts/90ae1f90.html"/>
      <url>/posts/90ae1f90.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-最长递增子序列（LIS问题）">1.最长递增子序列（LIS问题）</h3><h4 id="LC1713-得到子序列的最少操作次数"><a href="https://leetcode.cn/problems/minimum-operations-to-make-a-subsequence/"><strong>LC1713. 得到子序列的最少操作次数</strong></a></h4><p>这道题提供提供了一种时间复杂度为<strong>O(NlogN)</strong> 的方法求解最长递增子序列的长度</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minOperations</span><span class="params">(<span class="type">int</span>[] target, <span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        从最长公共子序列问题(LCS)转化为最长递增子序列(LIS)问题</span></span><br><span class="line"><span class="comment">        如:target = [6,4,8,1,3,2], arr = [4,7,6,2,3,8,6,1]</span></span><br><span class="line"><span class="comment">        映射到map后:[6-&gt;0,4-&gt;1,8-&gt;2,1-&gt;3,3-&gt;4,2-&gt;5]</span></span><br><span class="line"><span class="comment">        则arr的索引为:[1,-1,0,5,4,2,0,3] 可以将-1去掉得到 [1,0,5,4,2,0,3]</span></span><br><span class="line"><span class="comment">        变相就是求映射后的arr最长严格递增子序列长度,最后答案是target长度-arr最长递增子序列长度</span></span><br><span class="line"><span class="comment">        由于arr范围在1e5 因此用O(N^2)办法必定TLE</span></span><br><span class="line"><span class="comment">        尝试维护一个数组minTail[i]记录长度为i的递增子序列结尾的最小数字</span></span><br><span class="line"><span class="comment">        显然minTail是单调递增的,因为递增序列长度越大,其最小结尾数字必然越大</span></span><br><span class="line"><span class="comment">        此时可以用二分加速搜索f[i]前面的最佳转移项f[j],f[j]必定满足条件:结尾数值&lt;list[i]并且长度最大</span></span><br><span class="line"><span class="comment">        我们寻找结尾元素&lt;list[i]的最大长度项,即结尾元素&lt;list[i]的最大minIdx索引</span></span><br><span class="line"><span class="comment">        注意:</span></span><br><span class="line"><span class="comment">        1.这是边遍历list[i]边更新minTail[i],因此都是list[i]前面的索引</span></span><br><span class="line"><span class="comment">        2.由于LCS是没有重复元素的因此转化为LIS问题后是严格递增的</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> target.length;</span><br><span class="line">    HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// 将target元素及索引映射到map</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        map.put(target[i], i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 存储arr在target中的有效索引</span></span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : arr) &#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(num)) list.add(map.get(num));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 此时问题转化为求list中最长严格递增子序列长度</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> list.size(), max = <span class="number">0</span>;   <span class="comment">// max维护当前遍历的最长递增子序列长度(list可能为空因此max初始化为0)</span></span><br><span class="line">    <span class="comment">// f[i]为以list[i]结尾的最长递增子序列长度,minTail[i]为长度为i的递增子序列对应的最小结尾数字</span></span><br><span class="line">    <span class="type">int</span>[] f = <span class="keyword">new</span> <span class="title class_">int</span>[n], minTail = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    Arrays.fill(minTail, <span class="number">0x3f3f3f3f</span>); <span class="comment">// 便于min比较得出最小索引</span></span><br><span class="line">    <span class="comment">// 遍历list</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">// 记t为list[i]</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">        <span class="comment">// 二分查找minTail[i]&lt;list[i]的最大数字</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = i;   <span class="comment">// 二分的是minTail的索引(递增子序列的长度)</span></span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> l + (r - l + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (minTail[mid] &lt; t) &#123;</span><br><span class="line">                <span class="comment">// 1.minTail[mid] &lt; t说明mid也可能是正确答案</span></span><br><span class="line">                l = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 2.minTail[mid] &gt;= t说明mid不可能是正确答案</span></span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// l == r 此时l为合法f[j]的最大长度,拼接上list[i]就是l+1</span></span><br><span class="line">        f[i] = l + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// 更新max</span></span><br><span class="line">        max = Math.max(max, f[i]);</span><br><span class="line">        <span class="comment">// 根据当前结尾数字更新minTail(记得是t,因为自始至终比较的是序列结尾数字t)</span></span><br><span class="line">        minTail[f[i]] = Math.min(minTail[f[i]], t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 最少要插入的次数=target长度-最长递增子序列长度max</span></span><br><span class="line">    <span class="keyword">return</span> m - max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="模板1：基于LC300-最长递增子序列"><strong>模板1：基于</strong><a href="https://leetcode.cn/problems/longest-increasing-subsequence/"><strong>LC300. 最长递增子序列</strong></a></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLIS</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    根据 1713. 得到子序列的最少操作次数</span></span><br><span class="line"><span class="comment">    这里给出一种时间复杂度为O(NlogN)的dp+贪心+二分解法</span></span><br><span class="line"><span class="comment">    1 &lt;= nums.length &lt;= 2500</span></span><br><span class="line"><span class="comment">    -1e4 &lt;= nums[i] &lt;= 1e4</span></span><br><span class="line"><span class="comment">    定义minTail[len]为当前遍历到的长度为len的递增子序列的最小结尾数字</span></span><br><span class="line"><span class="comment">    可知minTail[i]必定是单增的,我们可以用二分寻找到f[i]之前一个能拼接的最长的f[j]</span></span><br><span class="line"><span class="comment">    最后维护最大的f[i]就是答案</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length, max = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span>[] minTail = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    Arrays.fill(minTail, <span class="number">0x3f3f3f3f</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = i;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> l + (r - l + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (minTail[mid] &lt; nums[i]) &#123;</span><br><span class="line">                l = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> l + <span class="number">1</span>;</span><br><span class="line">        max = Math.max(max, cur);</span><br><span class="line">        minTail[cur] = Math.min(minTail[cur], nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="模板2：（效率更高）基于LC354-俄罗斯套娃信封问题"><strong>模板2：（效率更高）基于</strong><a href="https://leetcode.cn/problems/russian-doll-envelopes/"><strong>LC354. 俄罗斯套娃信封问题</strong></a></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxEnvelopes</span><span class="params">(<span class="type">int</span>[][] envelopes)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    排序+序列DP+贪心:</span></span><br><span class="line"><span class="comment">    1 &lt;= envelopes.length &lt;= 1e5</span></span><br><span class="line"><span class="comment">    envelopes[i].length == 2</span></span><br><span class="line"><span class="comment">    1 &lt;= wi, hi &lt;= 105</span></span><br><span class="line"><span class="comment">    注意到数量范围:我们只能用O(N)或者O(logN)的方法进行解决</span></span><br><span class="line"><span class="comment">    1.首先对envelopes按照第一维度升序,第二维度降序进行排序</span></span><br><span class="line"><span class="comment">    2.然后我们找到第二维度的严格上升序列的最大长度就是答案</span></span><br><span class="line"><span class="comment">    证明:因为这样在第二维度取到的严格上升序列必定不是在第一维度相等的</span></span><br><span class="line"><span class="comment">    局部最优的贪心思路:顺序遍历num=envelopes[i][1]</span></span><br><span class="line"><span class="comment">    1.当遇到&gt;结尾元素时,直接加入结尾</span></span><br><span class="line"><span class="comment">    2.当遇到&lt;=结尾元素时,查找首个&gt;=num的坑位用num取代</span></span><br><span class="line"><span class="comment">    总体时间复杂度:O(NlogN) 空间负复杂度:O(N</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> envelopes.length;</span><br><span class="line">    Arrays.sort(envelopes, (a, b) -&gt; a[<span class="number">0</span>] == b[<span class="number">0</span>] ? b[<span class="number">1</span>] - a[<span class="number">1</span>] : a[<span class="number">0</span>] - b[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// tails[i]表示以长度为i+1的结尾最小数字(必定递增)</span></span><br><span class="line">    <span class="type">int</span>[] tails = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    tails[<span class="number">0</span>] = envelopes[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">    <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> <span class="number">0</span>;    <span class="comment">// tails结尾索引指针</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">// num大于结尾元素 -&gt; 直接加入并偏移end指针</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> envelopes[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (num &gt; tails[end]) &#123;</span><br><span class="line">            tails[++end] = num;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 二分查找适合的插入位置(即寻找首个&gt;=num的坑位)</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = end;</span><br><span class="line">            <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> l + (r - l) / <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span> (tails[mid] &lt; num) &#123; <span class="comment">// 注意是对坑位索引进行二分查找</span></span><br><span class="line">                    l = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    r = mid;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// l == r</span></span><br><span class="line">            tails[l] = num;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// end最后表示最长递增子序列的索引,end+1就是长度(所求)</span></span><br><span class="line">    <span class="keyword">return</span> end + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="LIS的O-NlogN-解法压缩至求3元递增子序列"><strong>LIS的O(NlogN)解法压缩至求3元递增子序列</strong></h4><p><a href="https://leetcode.cn/problems/increasing-triplet-subsequence/"><strong>LC334. 递增的三元子序列</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">increasingTriplet</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        LIS问题拓展(贪心)：</span></span><br><span class="line"><span class="comment">        我们知道求解LIS问题除了有O(N^2)的方法外，还有一种可以加速至O(NlogN)的方法</span></span><br><span class="line"><span class="comment">        利用辅助数组minNum，其中minNum[len]为长度为len的递增子序列结尾最小数字</span></span><br><span class="line"><span class="comment">        但是我们这里是求3元子序列，只需要维护最长递增子序列最前面两个即可，因此可以直接在O(1)时间内找到前面可以拼接的数字</span></span><br><span class="line"><span class="comment">        时间复杂度:O(N) 空间复杂度:O(1)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">// first为长度为1的递增子序列最小结尾数字，second为长度为1的递增子序列最小结尾数字</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">first</span> <span class="operator">=</span> Integer.MAX_VALUE, second = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (num &gt; second) <span class="keyword">return</span> <span class="literal">true</span>;  <span class="comment">// num可以拼接在原来的second后说明已经找到3元递增子序列</span></span><br><span class="line">            <span class="comment">// 维护first与second的值</span></span><br><span class="line">            <span class="keyword">if</span> (num &lt; first) &#123;</span><br><span class="line">                first = num;    <span class="comment">// 1.num最小，必然长度为1最小的就是num</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (first &lt; num &amp;&amp; num &lt; second) &#123;</span><br><span class="line">                second = num;   <span class="comment">// 2.first &lt; num说明num可以拼接在first后，再加上nums&lt;second说明最小数字这个位置num可以取代原来的second</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 最后都找不到</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-最长公共子序列（LCS问题）">2.最长公共子序列（LCS问题）</h3><p>最常规的DP转移方程就不说了，我们由此引出常见的问题模型：<strong>判断是否s1是否为s2子串</strong></p><h4 id="方法1：双指针-O-max-m-n"><strong>方法1：双指针-&gt;O(max(m,n))</strong></h4><p>写法1：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 判断s1是否为s2子序列,是则返回true</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(String s1, String s2)</span> &#123;</span><br><span class="line">    <span class="comment">// 双指针实现</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">len1</span> <span class="operator">=</span> s1.length(), len2 = s2.length();</span><br><span class="line">    <span class="type">int</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="number">0</span>, p2 = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// p1主动移动且每次移动1格,p2被动移动</span></span><br><span class="line">    <span class="keyword">while</span> (p1 &lt;= len1 - <span class="number">1</span> &amp;&amp; p2 &lt;= len2 - <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// p2被动移动至与s1[p1]==s2[p2]的位置</span></span><br><span class="line">        <span class="keyword">while</span> (p2 &lt;= len2 - <span class="number">1</span> &amp;&amp; s1.charAt(p1) != s2.charAt(p2)) &#123;</span><br><span class="line">            p2++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p2 == len2) <span class="keyword">break</span>;  <span class="comment">// p2提前结束了就直接结束不要移动p1</span></span><br><span class="line">        <span class="comment">// 共同后移</span></span><br><span class="line">        p1++;</span><br><span class="line">        p2++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 退出的位置为s1最后一个待匹配的位置,p1指针刚好移出就表明s1是s2子串</span></span><br><span class="line">    <span class="keyword">return</span> p1 == len1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>写法2：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 判断s1是否为s2子序列</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">match</span><span class="params">(String s1, String s2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len1</span> <span class="operator">=</span> s1.length(), len2 = s2.length();</span><br><span class="line">    <span class="type">int</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="number">0</span>, p2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p1 &lt; len1 &amp;&amp; p2 &lt; len2) &#123;</span><br><span class="line">        <span class="comment">// s2[p2]一直寻找直至与s1[p1]匹配</span></span><br><span class="line">        <span class="keyword">while</span> (p2 &lt; len2 &amp;&amp; s2.charAt(p2) != s1.charAt(p1)) p2++;</span><br><span class="line">        <span class="keyword">if</span> (p2 &lt; len2) &#123;</span><br><span class="line">            <span class="comment">// p1每次主动移动一位(p2匹配上了才移动)</span></span><br><span class="line">            p1++;</span><br><span class="line">            <span class="comment">// p2也要移动</span></span><br><span class="line">            p2++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p1 == len1;  <span class="comment">// p1==len1说明p1最后一位也匹配到p2有效值，p1==len1退出，说明s1是s2子串</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="方法2：DP-O-m-n"><strong>方法2：DP-&gt;O(m*n)</strong></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 最长公共子序列方法求解(LCS问题)</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(String s1, String s2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len1</span> <span class="operator">=</span> s1.length(), len2 = s2.length();</span><br><span class="line">    <span class="type">int</span>[][] f = <span class="keyword">new</span> <span class="title class_">int</span>[len1 + <span class="number">1</span>][len2 + <span class="number">1</span>];    <span class="comment">// f[i][j]表示考虑s1[0,i-1]与s2[0,j-1]最长公共子序列长度</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= len1; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= len2; j++) &#123;</span><br><span class="line">            <span class="comment">// 考虑s1[i - 1]与s2[j - 1]是否相等来分类转移</span></span><br><span class="line">            <span class="keyword">if</span> (s1.charAt(i - <span class="number">1</span>) == s2.charAt(j - <span class="number">1</span>)) &#123; <span class="comment">// 1.相等直接转移</span></span><br><span class="line">                f[i][j] = f[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;    <span class="comment">// 2.不相等其中有一个必定不能取,但是另外一个可能可以</span></span><br><span class="line">                f[i][j] = Math.max(f[i - <span class="number">1</span>][j], f[i][j - <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f[len1][len2] == len1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-回文子串、子序列问题">3.回文子串、子序列问题</h3><h4 id="最长回文子序列问题-非连续">最长回文子序列问题(非连续)</h4><p><a href="https://leetcode.cn/problems/minimum-insertion-steps-to-make-a-string-palindrome/"><strong>LC1312. 让字符串成为回文串的最少插入次数</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minInsertions</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        序列DP：最长回文子序列</span></span><br><span class="line"><span class="comment">        这题要求让s成为回文串的 最少插入次数，反过来就是求s原本有的最长回文子序列长度</span></span><br><span class="line"><span class="comment">        然后再插入与非回文字符数相等的字符即可</span></span><br><span class="line"><span class="comment">        1.状态定义:f[i][j]代表考虑s[i,j]最长回文子序列长度</span></span><br><span class="line"><span class="comment">        2.状态转移:要求f[i][j]就要比较s[i]与s[j]的值</span></span><br><span class="line"><span class="comment">            2.1 s[i]==s[j] 两个字母都要了，回文长度+2 f[i][j]=f[i+1][j-1]+2</span></span><br><span class="line"><span class="comment">            2.2 s[i]!=s[j] 两个字母最多只能保留一个，f[i][j]=max(f[i+1][j],f[i][j-1])</span></span><br><span class="line"><span class="comment">        3.初始化:f[i][i]=1，其余为0</span></span><br><span class="line"><span class="comment">        4.遍历顺序:i倒序，j正序 &amp;&amp; i&lt;j</span></span><br><span class="line"><span class="comment">        5.返回形式:n-f[0][n-1]</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="type">int</span>[][] f = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            f[i][i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (s.charAt(i) == s.charAt(j)) &#123;</span><br><span class="line">                    f[i][j] = f[i + <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">2</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    f[i][j] = Math.max(f[i + <span class="number">1</span>][j], f[i][j - <span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n - f[<span class="number">0</span>][n - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="最长回文子串问题-连续">最长回文子串问题(连续)</h4><p><a href="https://leetcode.cn/problems/palindromic-substrings/"><strong>LC647. 回文子串</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countSubstrings</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        1.状态定义:dp[i][j]表示s[i,j]之间是否回文,回文则为true(i&lt;=j)</span></span><br><span class="line"><span class="comment">        2.状态转移:考虑s[i]与s[j]</span></span><br><span class="line"><span class="comment">            2.1 如果s[i]!=s[j] 说明s[i,j]必定不回文-&gt;不转移</span></span><br><span class="line"><span class="comment">            2.2 如果s[i]==s[j] 那就要看s[i+1,j-1]是否回文</span></span><br><span class="line"><span class="comment">                2.2.1 若j-i+1&lt;=3即j-i&lt;=2时必定回文 dp[i][j]=true</span></span><br><span class="line"><span class="comment">                2.2.2 j-i&gt;2且dp[i+1][j-1]==true也是回文的 dp[i][j]=true</span></span><br><span class="line"><span class="comment">                2.2.3 j-i&gt;2且dp[i+1][j-1]==false必定不回文的 -&gt; 不转移</span></span><br><span class="line"><span class="comment">        3.初始化:左下角-&gt;右上角 无需初始化 后序推导会有j-i&lt;=2的情况做铺垫</span></span><br><span class="line"><span class="comment">        4.遍历顺序:先i后j,i倒序,j无所谓</span></span><br><span class="line"><span class="comment">        5.返回形式:返回dp[i][j]中true的个数</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">boolean</span>[][] dp = <span class="keyword">new</span> <span class="title class_">boolean</span>[len][len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt;= len - <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="comment">// 1.s[i]!=s[j]</span></span><br><span class="line">                <span class="keyword">if</span> (s.charAt(i) != s.charAt(j)) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 2.s[i]==s[j]</span></span><br><span class="line">                <span class="keyword">if</span> (j - i &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">                    dp[i][j] = <span class="literal">true</span>;</span><br><span class="line">                    res++;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 3.s[i]==s[j] &amp;&amp; j-i&gt;2</span></span><br><span class="line">                <span class="keyword">if</span> (dp[i + <span class="number">1</span>][j - <span class="number">1</span>]) &#123;</span><br><span class="line">                    dp[i][j] = <span class="literal">true</span>;</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/longest-palindromic-substring/"><strong>LC5. 最长回文子串</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        1.状态定义:boolean类型的dp[i][j]表示s[i,j]之间的是否为回文串,其中i&lt;=j</span></span><br><span class="line"><span class="comment">        2.状态转移:要想推断dp[i][j]即s[i,j]否为回文串,关键看s[i]与s[j]以及中间的dp[i+1][j-1]</span></span><br><span class="line"><span class="comment">            2.1 若s[i]!=s[j] 直接断定不是回文串(不转移)</span></span><br><span class="line"><span class="comment">            2.2 若s[i]==s[j] 并且中间是回文串:dp[i+1][j-1]==true 或者 j-i+1&lt;=3 是回文串</span></span><br><span class="line"><span class="comment">        3.初始化:dp[i][j]=true,i==j</span></span><br><span class="line"><span class="comment">        4.遍历顺序:左下-&gt;右上 因此i必须倒序,j无所谓</span></span><br><span class="line"><span class="comment">        5.返回形式:维护最大长度回文串并返回:max(j-i+1) &amp;&amp; dp[i][j]==true-&gt;s[i,j]</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="type">boolean</span>[][] dp = <span class="keyword">new</span> <span class="title class_">boolean</span>[n][n];</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span>[] range = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> n - <span class="number">1</span>; j &gt;= i; j--) &#123;</span><br><span class="line">                <span class="comment">// s[i]==s[j]的情况</span></span><br><span class="line">                <span class="keyword">if</span> (s.charAt(i) == s.charAt(j)) &#123;</span><br><span class="line">                    <span class="comment">// 长度&lt;=3或者中间也是回文</span></span><br><span class="line">                    <span class="keyword">if</span> (j - i &lt;= <span class="number">2</span> || dp[i + <span class="number">1</span>][j - <span class="number">1</span>]) &#123;</span><br><span class="line">                        <span class="comment">// 转移</span></span><br><span class="line">                        dp[i][j] = <span class="literal">true</span>;</span><br><span class="line">                        <span class="comment">// 更新最大长度与范围</span></span><br><span class="line">                        <span class="keyword">if</span> (j - i + <span class="number">1</span> &gt; maxLen) &#123;</span><br><span class="line">                            maxLen = j - i + <span class="number">1</span>;</span><br><span class="line">                            range = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, j&#125;;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 截取s[i,j]</span></span><br><span class="line">        <span class="keyword">return</span> s.substring(range[<span class="number">0</span>], range[<span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 动态规划 </tag>
            
            <tag> 序列DP </tag>
            
            <tag> 字符串 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基环树、拓扑排序和时间戳总结</title>
      <link href="/posts/e57075c7.html"/>
      <url>/posts/e57075c7.html</url>
      
        <content type="html"><![CDATA[<h4 id="LC6134-找到离给定两个节点最近的节点"><a href="https://leetcode.cn/problems/find-closest-node-to-given-two-nodes/"><strong>LC6134. 找到离给定两个节点最近的节点</strong></a></h4><p>这题是求<strong>点到点</strong>之间距离的问题，要点是一直循环记录就可以，退出条件为检测到成环了或者走到尽头</p><p>由于每个节点 至多 有一条出边，因此变成了一条没有分叉的路，BFS或者DFS都是可以的</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">closestMeetingNode</span><span class="params">(<span class="type">int</span>[] edges, <span class="type">int</span> node1, <span class="type">int</span> node2)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    基环树问题：</span></span><br><span class="line"><span class="comment">    直接预处理出node1以及node2到其他所有点的距离</span></span><br><span class="line"><span class="comment">    然后枚举每个节点，求出两者最大距离的最小时对应的节点索引返回</span></span><br><span class="line"><span class="comment">    时间复杂度:O(N) 空间复杂度:O(N)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> edges.length;</span><br><span class="line">    <span class="comment">// dis1[i]存储node1到节点编号为i的节点距离，dis2[i]存储node2到节点编号为i的节点距离(不能到达为-1)</span></span><br><span class="line">    <span class="type">int</span>[] dis1 = <span class="keyword">new</span> <span class="title class_">int</span>[n], dis2 = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    Arrays.fill(dis1, -<span class="number">1</span>);</span><br><span class="line">    dis1[node1] = <span class="number">0</span>;</span><br><span class="line">    Arrays.fill(dis2, -<span class="number">1</span>);</span><br><span class="line">    dis2[node2] = <span class="number">0</span>;</span><br><span class="line">    getDis(edges, node1, dis1);</span><br><span class="line">    getDis(edges, node2, dis2);</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> -<span class="number">1</span>;   <span class="comment">// 结果</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> <span class="number">100010</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (dis1[i] == -<span class="number">1</span> || dis2[i] == -<span class="number">1</span>) <span class="keyword">continue</span>;   <span class="comment">// 只有两个都可以到达才进行统计</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">curMax</span> <span class="operator">=</span> Math.max(dis1[i], dis2[i]);</span><br><span class="line">        <span class="keyword">if</span> (curMax &lt; min)&#123;</span><br><span class="line">            min = curMax;</span><br><span class="line">            res = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取node到节点i的距离并写入dis[i]</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">getDis</span><span class="params">(<span class="type">int</span>[] edges, <span class="type">int</span> node, <span class="type">int</span>[] dis)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> node, d = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 当有可以前往的节点，继续走</span></span><br><span class="line">    <span class="keyword">while</span> (edges[cur] != -<span class="number">1</span>) &#123;</span><br><span class="line">        cur = edges[cur];   <span class="comment">// 走到下一个节点</span></span><br><span class="line">        d++;</span><br><span class="line">        <span class="keyword">if</span> (dis[cur] != -<span class="number">1</span>) <span class="keyword">break</span>; <span class="comment">// 成环访问到同一个节点了，退出</span></span><br><span class="line">        dis[cur] = d;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>基环树定义可参考：</strong><a href="https://blog.csdn.net/weixin_45697774/article/details/108948457">【算法笔记】基环树</a></p><h4 id="LC6135-图中的最长环"><a href="https://leetcode.cn/problems/longest-cycle-in-a-graph/"><strong>LC6135. 图中的最长环</strong></a></h4><p>这题也是基环树，因为出边限定了一条，但是可能有多个环</p><p>DFS时间戳一般是 times[i] 的形式，times[i] 记录的是首次访问节点 i 的时间节点</p><p>通过时间戳我们可以很轻易地得知该轮<strong>之前已经访问过了哪些节点</strong>并计算出距离</p><p>同时得知<strong>之前轮已经访问过的点</strong>，是一个兼具标记访问、标记先后顺序、标记距离、前缀和等参数的利器</p><p>可以用来<strong>判断是否成环、判断节点的父子关系</strong>等</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestCycle</span><span class="params">(<span class="type">int</span>[] edges)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        基环树+时间戳</span></span><br><span class="line"><span class="comment">        times[i]记录首次访问编号为i的节点时间点，clock维护当前的时间节点</span></span><br><span class="line"><span class="comment">        我们枚举每个出发点</span></span><br><span class="line"><span class="comment">        1.遇到之前访问过的节点times[i]&gt;0，跳过</span></span><br><span class="line"><span class="comment">        2.首次访问节点i，从节点i出发向前走同时标记访问过的节点的时间戳</span></span><br><span class="line"><span class="comment">        如果前方出现过times[j]&gt;0的情况说明这个时候节点已经被访问过，说明成环了</span></span><br><span class="line"><span class="comment">        注意:为了避免后面枚举的节点重复经过之前访问过的节点但是不成环的情况，要加一个判断条件times[j]&gt;=start</span></span><br><span class="line"><span class="comment">        其中start为从i点出发的时间戳，若成环必然有times[j]&gt;=start，重复经过旧节点但是不成环的情况是times[j]&lt;start</span></span><br><span class="line"><span class="comment">        因为你这个times[j]之前一轮出发点中已经枚举过了，时间必定在该轮start之前</span></span><br><span class="line"><span class="comment">        维护这个环的长度最大值就是答案</span></span><br><span class="line"><span class="comment">        时间复杂度:O(N) 空间复杂度:O(N)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> edges.length;</span><br><span class="line">        <span class="type">int</span>[] times = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="comment">// 枚举每个出发点</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, clock = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (times[i] &gt; <span class="number">0</span>) <span class="keyword">continue</span>; <span class="comment">// 这个出发点已经访问过了，跳过</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> clock;  <span class="comment">// start维护当前出发点的出发时间</span></span><br><span class="line">            <span class="comment">// 枚举以节点i为出发点的路径上的点</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> i; x != -<span class="number">1</span>; x = edges[x]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (times[x] &gt; <span class="number">0</span>) &#123; <span class="comment">// 已经访问过该节点(不一定是该轮的)</span></span><br><span class="line">                    <span class="comment">// 若该节点是该轮才访问的说明成环了</span></span><br><span class="line">                    <span class="keyword">if</span>(times[x] &gt;= start) res = Math.max(res, clock - times[x]);  <span class="comment">// 维护最大环值</span></span><br><span class="line">                    <span class="keyword">break</span>;  <span class="comment">// 已经访问过节点就退出，不论是该轮访问的还是之前</span></span><br><span class="line">                &#125;</span><br><span class="line">                times[x] = clock++; <span class="comment">// 标记访问该节点的最早时间戳</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="LC2322-从树中删除边的最小分数"><a href="https://leetcode.cn/problems/minimum-score-after-removals-on-a-tree/"><strong>LC2322. 从树中删除边的最小分数</strong></a></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] nums, xr, in, out; <span class="comment">// xr[i]为以i为根的子树异或和,in和out分别是节点i dfs递归进栈和出栈的时间点</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">clock</span> <span class="operator">=</span> <span class="number">0</span>;  <span class="comment">// 全局时间戳(以0为根的dfs序)</span></span><br><span class="line">    List&lt;Integer&gt;[] list;   <span class="comment">// 存边</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumScore</span><span class="params">(<span class="type">int</span>[] _nums, <span class="type">int</span>[][] edges)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        DFS时间戳+枚举新树根节点+异或性质运用:</span></span><br><span class="line"><span class="comment">        题目是将整棵树切成3部分,我们就假设0为树原来的根节点(确定根节点方便求异或),切割之后另外两棵子树根节点为x与y</span></span><br><span class="line"><span class="comment">        假设x是y的根节点,由于枚举的是不同的点,因此不存在互相包含的情况</span></span><br><span class="line"><span class="comment">        此时有:in[x]&lt;in[y]&lt;=out[y]&lt;=out[x] 其中in[y]&lt;=out[y]必定成立,因此x是y的根节点等价于in[x]&lt;in[y]&amp;&amp;out[y]&lt;=out[x]</span></span><br><span class="line"><span class="comment">        利用时间戳的可以用来快速判断x与y节点之间的父子关系(以0为原始根节点)</span></span><br><span class="line"><span class="comment">        我们枚举删除边后产生的两个新的根节点,设a,b,c分别为0,x,y为根的切断后子树异或和,有以下3种情况:</span></span><br><span class="line"><span class="comment">        1.x是y的根节点且位于初始根节点0的同侧-&gt;异或和分别为:c=xr[y],b=xr[x]^xr[y],a=xr[0]^xr[x]</span></span><br><span class="line"><span class="comment">        2.y是x的根节点且位于初始根节点0的同侧-&gt;异或和分别为:b=xr[x],c=xr[y]^xr[x],a=xr[0]^xr[y]</span></span><br><span class="line"><span class="comment">        3.y与x分局初始根节点0的异侧-&gt;异或和分别为:c=xr[y],b=xr[x],a=xr[0]^xr[x]^xr[y]</span></span><br><span class="line"><span class="comment">        分别枚举x∈[1,n],y∈[x+1,n],维护异或和差值的最小值</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        nums = _nums;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0x3f3f3f3f</span>, n = nums.length;</span><br><span class="line">        xr = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        in = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        out = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            list[i] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] e : edges) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> e[<span class="number">0</span>], b = e[<span class="number">1</span>];</span><br><span class="line">            list[a].add(b);</span><br><span class="line">            list[b].add(a);</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(<span class="number">0</span>, -<span class="number">1</span>); <span class="comment">// 初始化各个节点时间戳以及求每个节点为根的异或和</span></span><br><span class="line">        <span class="comment">// 枚举删除边后产生的两个新的根节点x与y</span></span><br><span class="line">        <span class="type">int</span> a, b, c;    <span class="comment">// 设a,b,c分别为0,x,y为根切断后子树的异或和</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">1</span>; x &lt; n; x++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> x + <span class="number">1</span>; y &lt; n; y++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (isParent(x, y)) &#123;   <span class="comment">// x是y根节点</span></span><br><span class="line">                    a = xr[<span class="number">0</span>] ^ xr[x];</span><br><span class="line">                    b = xr[x] ^ xr[y];</span><br><span class="line">                    c = xr[y];</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isParent(y, x)) &#123;    <span class="comment">// y是x根节点</span></span><br><span class="line">                    a = xr[<span class="number">0</span>] ^ xr[y];</span><br><span class="line">                    b = xr[x];</span><br><span class="line">                    c = xr[y] ^ xr[x];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;    <span class="comment">// x与y分布异侧</span></span><br><span class="line">                    a = xr[<span class="number">0</span>] ^ xr[x] ^ xr[y];</span><br><span class="line">                    b = xr[x];</span><br><span class="line">                    c = xr[y];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 维护异或和最大差值的最小值</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> Math.max(a, Math.max(b, c)), min = Math.min(a, Math.min(b, c));</span><br><span class="line">                res = Math.min(res, max - min);</span><br><span class="line">                <span class="keyword">if</span> (res == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// 为0提前退出</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断x是否为y的父节点(不重合)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isParent</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> in[x] &lt; in[y] &amp;&amp; out[y] &lt;= out[x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 求节点时间戳和异或和:其中i为当前节点索引,fa为其父节点(用于避免走回头路)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> fa)</span> &#123;</span><br><span class="line">        xr[i] = nums[i];    <span class="comment">// xr[i]初始化为节点i的值</span></span><br><span class="line">        in[i] = ++clock;    <span class="comment">// 记录进入的时间戳</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> next : list[i]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (next != fa) &#123;   <span class="comment">// 不走回头路</span></span><br><span class="line">                dfs(next, i);   <span class="comment">// 求出以next为根的异或和与时间戳</span></span><br><span class="line">                xr[i] ^= xr[next];  <span class="comment">// xr[i]添上xr[next]</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        out[i] = clock; <span class="comment">// 记录i出栈时间戳</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>拓扑排序检测环的应用：</strong></p><p>拓扑排序可以<strong>将不在环中的节点先全部删除掉</strong>然后就会剩下只在环中的节点</p><p>可以统计删除的节点数目对比总节点的数目就可以得知是否存在环</p><p>环中的节点个数可以直接通过for循环遍历进行统计</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestCycle</span><span class="params">(<span class="type">int</span>[] edges)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    基环树+拓扑排序</span></span><br><span class="line"><span class="comment">    拓扑排序可以优先逐步筛选掉那些入度为0的节点，最后就只剩下成环的节点了</span></span><br><span class="line"><span class="comment">    拓扑排序总体思路为:</span></span><br><span class="line"><span class="comment">    1.定义入度数组并统计每个节点的入度，首次先将入度为0点节点入队</span></span><br><span class="line"><span class="comment">    2.将上一轮的入队的节点的弹出删除，并将出队节点指向的节点入度-1，如果此时又有节点入度为0就入队，以此类推直至队列为空</span></span><br><span class="line"><span class="comment">    (注意上述过程入队的节点都要进行标记后面不能再用)</span></span><br><span class="line"><span class="comment">    3.剩下的节点就是成环的，入度永远也不可能为0的节点了</span></span><br><span class="line"><span class="comment">        这里可以提前判断一下剩余节点个数是不是为0了，如果是可以提前退出</span></span><br><span class="line"><span class="comment">    4.枚举每个节点进行for循环遍历(因为只有一条出边因此可以用for循环代替DFS/BFS)</span></span><br><span class="line"><span class="comment">        如果已经删除掉的就跳过，如果不是就证明这个节点必然在环中，直接for循环遍历并统计最大长度</span></span><br><span class="line"><span class="comment">        遍历过的环同样进行标记避免下一次重复访问</span></span><br><span class="line"><span class="comment">        那么最后统计到的最大长度就是最长环</span></span><br><span class="line"><span class="comment">    时间复杂度:O(N) 空间复杂度:O(N)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> edges.length;</span><br><span class="line">    <span class="type">boolean</span>[] vis = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">    Queue&lt;Integer&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();    <span class="comment">// 辅助队列</span></span><br><span class="line">    <span class="type">int</span>[] inDegree = <span class="keyword">new</span> <span class="title class_">int</span>[n];    <span class="comment">// 入度数组</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> e : edges) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e != -<span class="number">1</span>) inDegree[e]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 入度为0的节点优先入队</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (inDegree[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            que.add(i);</span><br><span class="line">            vis[i] = <span class="literal">true</span>;  <span class="comment">// 标记访问</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">poll</span> <span class="operator">=</span> que.poll();  <span class="comment">// 删除节点poll</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">next</span> <span class="operator">=</span> edges[poll]; <span class="comment">// 指向的节点索引</span></span><br><span class="line">        <span class="comment">// 注意可能不成环的情况next在最后一个节点为-1，因此要加一个判断</span></span><br><span class="line">        <span class="keyword">if</span> (next != -<span class="number">1</span> &amp;&amp; --inDegree[next] == <span class="number">0</span>) &#123; <span class="comment">// 由于删除了节点poll因此其指向的节点对应入度也-1，若为0就入队</span></span><br><span class="line">            que.add(next);</span><br><span class="line">            vis[next] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 剩下的节点就是环上的节点</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (vis[i]) <span class="keyword">continue</span>;   <span class="comment">// 访问过的节点跳过</span></span><br><span class="line">        <span class="comment">// 否则就是未访问过的环上的节点</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> i, cycleNum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!vis[edges[cur]]) &#123;</span><br><span class="line">            cur = edges[cur];</span><br><span class="line">            cycleNum++;</span><br><span class="line">            vis[cur] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        res = Math.max(res, cycleNum);  <span class="comment">// 维护环的最大值</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="LC6163-给定条件下构造矩阵"><a href="https://leetcode.cn/problems/build-a-matrix-with-conditions/">LC6163. 给定条件下构造矩阵</a></h4><p>拓扑排序的题目通常是：<strong>已知一系列限制某两个节点先后顺序的条件，要求解最后满足这些条件的节点总体先后顺序</strong>。</p><p>这道题就是典型的拓扑排序问题，条件可以看做边，只要得知两个维度可以独立分析，那么这道题就可以拆解成两次拓扑排序。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] buildMatrix(<span class="type">int</span> k, <span class="type">int</span>[][] rowConditions, <span class="type">int</span>[][] colConditions) &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        维度独立分析+拓扑排序:</span></span><br><span class="line"><span class="comment">        注意到:两个维度之间的顺序是独立的，只要各自满足该维度的排序最后进行组装即可</span></span><br><span class="line"><span class="comment">        而且数字之间的先后可以看做有向边，求节点的先后顺序就是典型的拓扑排序问题</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">// 求出两个维度限制条件计算出来的顺序</span></span><br><span class="line">        List&lt;Integer&gt; seq1 = getSeq(k, rowConditions), seq2 = getSeq(k, colConditions);</span><br><span class="line">        <span class="comment">// 成环了，seq的长度必然小于k，没有答案</span></span><br><span class="line">        <span class="keyword">if</span> (seq1.size() &lt; k || seq2.size() &lt; k) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="comment">// 根据seq1与seq2组装成矩阵</span></span><br><span class="line">        <span class="type">int</span>[][] res = <span class="keyword">new</span> <span class="title class_">int</span>[k][k];</span><br><span class="line">        <span class="type">int</span>[][] map = <span class="keyword">new</span> <span class="title class_">int</span>[k + <span class="number">1</span>][<span class="number">2</span>];    <span class="comment">// 索引映射</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">            map[seq1.get(i)][<span class="number">0</span>] = i;</span><br><span class="line">            map[seq2.get(i)][<span class="number">1</span>] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">            res[map[i][<span class="number">0</span>]][map[i][<span class="number">1</span>]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 根据限制条件，通过拓扑排序获取节点的相对顺序(返回某一种合法情况)</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; <span class="title function_">getSeq</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span>[][] conditions)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] inDegree = <span class="keyword">new</span> <span class="title class_">int</span>[k + <span class="number">1</span>];</span><br><span class="line">        HashSet&lt;Integer&gt;[] list = <span class="keyword">new</span> <span class="title class_">HashSet</span>[k + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">            list[i] = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] r : conditions) &#123;</span><br><span class="line">            <span class="comment">// a-&gt;b 即a在b上面</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> r[<span class="number">0</span>], b = r[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// HashSet自动去判断是否存在并添加(去重)</span></span><br><span class="line">            <span class="keyword">if</span> (list[a].add(b)) &#123;</span><br><span class="line">                inDegree[b]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Integer&gt; seq = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  <span class="comment">// 存储顺序</span></span><br><span class="line">        Queue&lt;Integer&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 入度为0的先入队</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (inDegree[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                que.add(i);</span><br><span class="line">                seq.add(i);    <span class="comment">// 加入seq</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">poll</span> <span class="operator">=</span> que.poll();  <span class="comment">// 删除该边</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> ne : list[poll]) &#123;</span><br><span class="line">                <span class="comment">// 删除poll后如果产生入度为0的节点就使其入队</span></span><br><span class="line">                <span class="keyword">if</span> (--inDegree[ne] == <span class="number">0</span>) &#123;</span><br><span class="line">                    que.add(ne);</span><br><span class="line">                    seq.add(ne);    <span class="comment">// 加入seq</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> seq;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DFS </tag>
            
            <tag> 拓扑排序 </tag>
            
            <tag> 时间戳 </tag>
            
            <tag> 图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>最短路径算法</title>
      <link href="/posts/9df73d67.html"/>
      <url>/posts/9df73d67.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-Dijkstra算法（优先用堆优化实现方式）">1.Dijkstra算法（优先用堆优化实现方式）</h3><p><strong>主要步骤：</strong></p><p>1.每次从<strong>未标记的节点</strong>中选择<strong>距离出发点最近</strong>的节点，标记，收录到最优路径集合中。</p><p>⒉计算刚加入节点A的邻近节点B的距离（不包含标记的节点)</p><p>若 <strong>（节点A的距离+节点A到节点B的边长)&lt;节点B的距离</strong> ，就<strong>更新节点B的距离和前面点</strong>。</p><p>本质是<strong>贪心算法</strong>：我现在就把出发点到B的已知的最短距离摆在这里，下次如果你要从出发点起出发路过B然后到达C，且B到C仅有一条路径，距离是固定的，因此必定是用先前求出来的出发点到B的最短距离来进行求解，这是出发点经过B到C的最短路径；当然，走到C可不止经过B这一种路径，还可能经过X到达C，那么我开门这时候就可以维护出发点到达C的最短路，到时候这个到达C的最短路又可以用了；以此类推直至到达终点。</p><p>注意：Dijkstra算法只适用于权重为非负数的带权图！<br><img src="https://s1.vika.cn/space/2022/09/30/b9da0b39dff44a449207e3ad6e5c3f36" alt="p4"></p><p>或者和BFS进行类比，BFS是每次走1步，如果当路径很长时显然不现实；</p><p>因此，Dijkstra算法每次迭代是以节点作为单元，通常为了节省时间我们会用<strong>堆（TreeSet?）</strong> 来优化</p><p>总的时间复杂度为:O(NlogN) 空间复杂度:O(N)  其中N为边数</p><p><img src="https://s1.vika.cn/space/2022/09/30/e869e7b4c5804042bfebc13872905c06" alt="p5"></p><p>以上图为例，从节点0开始出发，从现在起只向前走，0已经被标记了不会再走回头路，marked=[0]；</p><p>节点[4,5] [6,7] [1,2] 入队，接下来先弹出距离起点最短的节点1([1,2])（为啥可以这么快弹出来？因为可以确定出发点0到节点1最短距离就是2，其他节点要想走到节点1只能从4和6走，又由于<strong>没有负边权</strong>其他路肯定更长，因此出发点到节点1的最短距离就是2）</p><p><strong>节点弹出就意味着起点到弹出的节点最短距离已经确定了，此时可以标记掉节点1下次不用再走回头路，marked=[0,1]</strong></p><p>节点1下面有节点2和3，此时计算后为[2,5] [3,5]入队；此时队列中元素为 que= [[4,5] [6,7] [2,5] [3,5]]</p><p>又进入下一轮的筛选，到起点距离最短的节点有3个，距离都为5</p><p>假如弹出节点4，那么[6,7]就会入队  此时队列为 que=[[6,7] [6,7] [2,5] [3,5]] marked=[0,1,4]</p><p>接下来弹出[2,5] 加入[5,6]    此时队列为 que=[[6,7] [6,7] [5,6] [3,5]] marked=[0,1,2,4]</p><p>弹出[3,5] 加入[5,6]  此时队列为 que=[[6,7] [6,7] [5,6] [5,6]] marked=[0,1,2,3,4]</p><p>弹出[5,6] 加入[6,7]  此时队列为 que=[[6,7] [6,7] [6,7] [5,6]] marked=[0,1,2,3,4,5]</p><p>弹出[5,6] 加入[6,7]  此时队列为 que=[[6,7] [6,7] [6,7] [6,7]] marked=[0,1,2,3,4,5]</p><p>弹出[6,7] 标记节点6  que=[[6,7] [6,7] [6,7]] marked=[0,1,2,3,4,5,6]</p><p>至此，搜索完毕，此时的节点0到节点6最短距离为7</p><p><strong>关于 Dijkstra算法节点标记访问的问题：</strong></p><p>1.如果是边权只有0与正数的，可以在入队时候直接标记，因为到时候兜回来肯定比现在的长（提高性能）；</p><p>2.如果边权不是上述情况，只能在弹出的时候标记访问，只有在弹出时才可以确定起点到该点的最短路径。</p><p><img src="https://s1.vika.cn/space/2022/09/30/830707e008974f5191dd009a84c0706b" alt="p6"><br><img src="https://s1.vika.cn/space/2022/09/30/9b1961abd3154f2cb23ded4d1b5c141b" alt="p7"></p><p>参考：</p><p><strong>1.Dijkstra图解动画：</strong><a href="https://www.bilibili.com/video/BV1zz4y1m7Nq">【算法】最短路径查找—Dijkstra算法_哔哩哔哩_bilibili</a></p><p><strong>2.三叶姐的最短路径模板(背下来)</strong>：<a href="https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&amp;mid=2247488007&amp;idx=1&amp;sn=9d0dcfdf475168d26a5a4bd6fcd3505d&amp;chksm=fd9cb918caeb300e1c8844583db5c5318a89e60d8d552747ff8c2256910d32acd9013c93058f&amp;token=211780171&amp;lang=zh_CN#rd">三叶姐最短路模板</a></p><p><strong>3.自己写的答案与例题：</strong><a href="https://leetcode.cn/problems/network-delay-time/">743. 网络延迟时间</a></p><p><strong>4.矩阵型Dijkstra参考：</strong></p><p><a href="https://leetcode.cn/problems/cut-off-trees-for-golf-event/">675. 为高尔夫比赛砍树</a></p><p><a href="https://leetcode.cn/problems/minimum-obstacle-removal-to-reach-corner/">2290. 到达角落需要移除障碍物的最小数目</a></p><p><a href="https://leetcode.cn/problems/minimum-cost-to-make-at-least-one-valid-path-in-a-grid/">1368. 使网格图至少有一条有效路径的最小代价</a></p><p><strong>标准模板（矩阵型的图可以将二维(x,y)坐标压缩成一维m*x+y）：</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minCost</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        最短路算法:</span></span><br><span class="line"><span class="comment">        我们先别被箭头迷惑了，先把所有路都当做可以走，不过要走到下一个节点的代价增加了而已</span></span><br><span class="line"><span class="comment">        看到了这一点那么这题就可以转化为最短路径的题目</span></span><br><span class="line"><span class="comment">        网格中某个点grid[i][j]每次可以往上下左右走一格</span></span><br><span class="line"><span class="comment">        1.如果走的方向与原来的方向不一致则消耗一次改格子的次数，cost++</span></span><br><span class="line"><span class="comment">        2.如果走的方向与原来的方向一致则不消耗次数，cost不变</span></span><br><span class="line"><span class="comment">        求到达grid[m-1][n-1]消耗的最少次数（最小代价、最短路径）</span></span><br><span class="line"><span class="comment">        因为代价只有0和1两种，因此既可以用Dijkstra算法，又可以用01BFS</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">// 解法1:Dijkstra算法</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">INF</span> <span class="operator">=</span> <span class="number">0x3f3f3f3f</span>;</span><br><span class="line">        <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="type">boolean</span>[][] vis = <span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line">        <span class="type">int</span>[][] cost = <span class="keyword">new</span> <span class="title class_">int</span>[m][n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            Arrays.fill(cost[i], INF);</span><br><span class="line">        &#125;</span><br><span class="line">        cost[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 根据到起点的最短距离升序(注意最好不要根据cost直接排序，因为cost会随时改变，弹出时会有出错风险)</span></span><br><span class="line">        <span class="comment">// 也就是说你的cost改变了后，pq里面放在头部的元素可能还未来得及改变，因此最好的比较的变量独立且不会被修改</span></span><br><span class="line">        PriorityQueue&lt;<span class="type">int</span>[]&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(Comparator.comparingInt(a -&gt; a[<span class="number">0</span>]));</span><br><span class="line">        pq.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>&#125;);</span><br><span class="line">        <span class="keyword">while</span> (!pq.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span>[] p = pq.poll();</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> p[<span class="number">1</span>], y = p[<span class="number">2</span>];</span><br><span class="line">            <span class="keyword">if</span> (vis[x][y]) <span class="keyword">continue</span>;    <span class="comment">// 访问过就跳过</span></span><br><span class="line">            vis[x][y] = <span class="literal">true</span>;   <span class="comment">// 当且仅当弹出才能确定起点到达改点的最小代价，标记为true</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">nx</span> <span class="operator">=</span> x + dirs[i][<span class="number">0</span>], ny = y + dirs[i][<span class="number">1</span>];</span><br><span class="line">                <span class="comment">// 在区域内才需要计算，这里不用保证未访问过，因为前面的路是新的</span></span><br><span class="line">                <span class="keyword">if</span> (nx &gt;= <span class="number">0</span> &amp;&amp; nx &lt; m &amp;&amp; ny &gt;= <span class="number">0</span> &amp;&amp; ny &lt; n) &#123;</span><br><span class="line">                    <span class="comment">// 只有方向对才不用付出代价，否则要付出代价</span></span><br><span class="line">                    <span class="type">int</span> <span class="variable">g</span> <span class="operator">=</span> i + <span class="number">1</span> == grid[x][y] ? <span class="number">0</span> : <span class="number">1</span>;</span><br><span class="line">                    <span class="comment">// nc为起点经过grid[x][y]到达grid[nx][ny]的最小代价</span></span><br><span class="line">                    <span class="type">int</span> <span class="variable">nc</span> <span class="operator">=</span> cost[x][y] + g;</span><br><span class="line">                    <span class="comment">// 小于原来的cost[nx][ny]就可以更新并入队</span></span><br><span class="line">                    <span class="keyword">if</span> (nc &lt; cost[nx][ny]) &#123;</span><br><span class="line">                        cost[nx][ny] = nc;</span><br><span class="line">                        pq.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;nc, nx, ny&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cost[m - <span class="number">1</span>][n - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>注意</strong>自定义比较规则时候的一些细节：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">PriorityQueue&lt;<span class="type">int</span>[]&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(Comparator.comparingInt(a -&gt; cost[a[<span class="number">0</span>]][a[<span class="number">1</span>]));</span><br><span class="line">                                                                                       </span><br><span class="line"><span class="comment">//根据到起点的最短距离升序(注意最好不要根据cost直接排序，因为cost会随时改变，弹出时会有出错风险)</span></span><br><span class="line"><span class="comment">//也就是说你的cost改变了后，pq里面放在头部的元素可能还未来得及改变，因此最好的比较的变量独立且不会被修改 </span></span><br><span class="line">PriorityQueue&lt;<span class="type">int</span>[]&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(Comparator.comparingInt(a -&gt; a[O]));</span><br></pre></td></tr></table></figure><h3 id="2-01BFS">2.<strong>01BFS</strong></h3><p><a href="https://leetcode.cn/problems/minimum-obstacle-removal-to-reach-corner/"><strong>2290. 到达角落需要移除障碍物的最小数目</strong></a></p><p><a href="https://leetcode.cn/problems/minimum-cost-to-make-at-least-one-valid-path-in-a-grid/"><strong>1368. 使网格图至少有一条有效路径的最小代价</strong></a></p><p>我们都知道BFS是一种最基础的最短路径算法，因为队列保证了距离的二段性，先出队的距离必定小于等于后出队的距离，因此必定会以最短的路径找到终点，类似于洪水均匀蔓延的思想。</p><p>此算法是Dijkstra等求最短路的优秀替代</p><p>适用于求最短路径，但是有个要求：<strong>边权为0和1(或0和其他正数）</strong>。</p><p>求最短路的时间复杂度可以由 O(mlogn) 降到 O(m)！(n为点的个数，m为边的个数）</p><p>原理：这是 dijkstra 的优化，若边权只是 0 和 1 ，启用优先队列未免太浪费资源了！</p><p>用双端队列正是对这个地方的优化，将优先队列插入元素 O(logn) 的时间复杂度降到了 O(1)！！</p><p><strong>过程：</strong></p><p>从起点开始，加入队列。</p><p>while队列非空，取队首元素，用这个节点更新其他节点。</p><p>如果可以更新的话：</p><p>1、边权为0，放到队首。（从边权为0的边走，不增加消耗，得多走这样的边）</p><p>2、边权为其他，放到队尾。（增加消耗，少用）</p><p>（这样，队列前面的元素值一定比后面的元素值小（可以手动模拟下），每次求队首元素来更新相连的点的距离，完美的替代了优先队列的功能！）</p><p><strong>因为将权重为0的节点加入进来不会使得当前最大距离变大，最短路径树还是处于同一层，相当于将等距线最大限度地蔓延到更远的地方。</strong></p><p>参考：<a href="https://blog.csdn.net/Mr_dimple/article/details/116864052">双端队列_01bfs——附详解典例</a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumObstacles</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        01BFS解法：</span></span><br><span class="line"><span class="comment">        本题相当于求从grid[0,0]到grid[m-1][n-1]的最短路径(最低成本)，其中经过障碍物成本为1，空地成本为0</span></span><br><span class="line"><span class="comment">        用常规的堆优化Dijkstra解法时间复杂度为O(m*n*log(m*n))</span></span><br><span class="line"><span class="comment">        利用01BFS可以将时间复杂度降为O(m*n)，也就是说每个节点只入队1次，不会重复访问且可以在O(1)内找到最短距离的节点</span></span><br><span class="line"><span class="comment">        过程为：用一个双端队列维护入队元素，然后如果下一个格子为0可以进入队头，否则进入队尾</span></span><br><span class="line"><span class="comment">            同时利用一个dis二维数组维护起点蔓延到该点的最短距离，最后返回dis[m-1][n-1]就是所求</span></span><br><span class="line"><span class="comment">        时间复杂度:O(m*n) 空间复杂度:O(m*n)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">INF</span> <span class="operator">=</span> <span class="number">0x3f3f3f3f</span>;</span><br><span class="line">        <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="type">int</span>[][] dis = <span class="keyword">new</span> <span class="title class_">int</span>[m][n];    <span class="comment">// dis[i][j]维护起点蔓延到grid[i][j]时的最短距离</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            Arrays.fill(dis[i], INF);</span><br><span class="line">        &#125;</span><br><span class="line">        dis[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;  <span class="comment">// 起点到起点的距离为0</span></span><br><span class="line">        Deque&lt;<span class="type">int</span>[]&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">0</span>, <span class="number">0</span>&#125;);</span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span>[] p = que.poll();</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> p[<span class="number">0</span>], y = p[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span>[] d : dirs) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">nx</span> <span class="operator">=</span> x + d[<span class="number">0</span>], ny = y + d[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (nx &gt;= <span class="number">0</span> &amp;&amp; nx &lt; m &amp;&amp; ny &gt;= <span class="number">0</span> &amp;&amp; ny &lt; n) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">nd</span> <span class="operator">=</span> dis[x][y] + grid[nx][ny];</span><br><span class="line">                    <span class="keyword">if</span> (nd &lt; dis[nx][ny]) &#123;</span><br><span class="line">                        dis[nx][ny] = nd;   <span class="comment">// dis[nx][ny]继承小的值</span></span><br><span class="line">                        <span class="comment">// 看当前格子为0就入队头，否则入队尾</span></span><br><span class="line">                        <span class="keyword">if</span> (grid[nx][ny] == <span class="number">0</span>) &#123;</span><br><span class="line">                            que.addFirst(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;nx, ny&#125;);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            que.addLast(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;nx, ny&#125;);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dis[m - <span class="number">1</span>][n - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minCost</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    最短路径算法:</span></span><br><span class="line"><span class="comment">    我们先别被箭头迷惑了，先把所有路都当做可以走，不过要走到下一个节点的代价增加了而已</span></span><br><span class="line"><span class="comment">    看到了这一点那么这题就可以转化为最短路径的题目</span></span><br><span class="line"><span class="comment">    网格中某个点grid[i][j]每次可以往上下左右走一格</span></span><br><span class="line"><span class="comment">    1.如果走的方向与原来的方向不一致则消耗一次改格子的次数，cost++</span></span><br><span class="line"><span class="comment">    2.如果走的方向与原来的方向一致则不消耗次数，cost不变</span></span><br><span class="line"><span class="comment">    求到达grid[m-1][n-1]消耗的最少次数（最小代价、最短路径）</span></span><br><span class="line"><span class="comment">    因为代价只有0和1两种，因此既可以用Dijkstra算法，又可以用01BFS</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">// 解法2:01BFS</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">INF</span> <span class="operator">=</span> <span class="number">0x3f3f3f3f</span>;</span><br><span class="line">    <span class="type">int</span>[] dx = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;, dy = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[][] cost = <span class="keyword">new</span> <span class="title class_">int</span>[m][n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        Arrays.fill(cost[i], INF);</span><br><span class="line">    &#125;</span><br><span class="line">    cost[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    Deque&lt;<span class="type">int</span>[]&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    que.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">0</span>, <span class="number">0</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span>[] p = que.pollFirst();</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> p[<span class="number">0</span>], y = p[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">nx</span> <span class="operator">=</span> x + dx[i], ny = y + dy[i];</span><br><span class="line">            <span class="keyword">if</span> (nx &gt;= <span class="number">0</span> &amp;&amp; nx &lt; m &amp;&amp; ny &gt;= <span class="number">0</span> &amp;&amp; ny &lt; n) &#123;</span><br><span class="line">                <span class="comment">// 只有方向对才不用付出代价，否则要付出代价</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">g</span> <span class="operator">=</span> i + <span class="number">1</span> == grid[x][y] ? <span class="number">0</span> : <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// nc为起点经过grid[x][y]到达grid[nx][ny]的最小代价</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">nc</span> <span class="operator">=</span> cost[x][y] + g;</span><br><span class="line">                <span class="comment">// 小于原来的cost[nx][ny]就可以更新并入队</span></span><br><span class="line">                <span class="keyword">if</span> (nc &lt; cost[nx][ny]) &#123;</span><br><span class="line">                    cost[nx][ny] = nc;</span><br><span class="line">                    <span class="comment">// 重点</span></span><br><span class="line">                    <span class="keyword">if</span> (g == <span class="number">0</span>) &#123;</span><br><span class="line">                        que.addFirst(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;nx, ny&#125;);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        que.addLast(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;nx, ny&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cost[m - <span class="number">1</span>][n - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-AStar算法（启发式搜索）">3.AStar算法（启发式搜索）</h3><p><strong>待续…</strong></p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> BFS </tag>
            
            <tag> Dijkstra </tag>
            
            <tag> 状态压缩 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>代码模板</title>
      <link href="/posts/933bf8f5.html"/>
      <url>/posts/933bf8f5.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-Java快读模板">1.Java快读模板</h3><p>我们以往使用的<code>Scanner sc = new Scanner(System.in);</code>和<code>String s = sc.nextLine();</code>在输入数据非常大的时候会变得很慢，增加程序运行时间，因此用字符缓冲流来代替，提高运行速度!</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 缓冲输入流</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">BufferedReader</span> <span class="variable">bf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in));</span><br><span class="line"><span class="comment">// 输出流</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(System.out)));</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">Line</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">p</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        p = bf.readLine();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">inStr</span> <span class="operator">=</span> Line();</span><br><span class="line">    pw.println(inStr);<span class="comment">// 输出(支持任意类型)</span></span><br><span class="line">    pw.flush();<span class="comment">// 要有flush才能输出</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-二叉树处理模板">2.二叉树处理模板</h3><p>二叉树是最常见的数据结构之一，在处理输入的通常是一个数组要转化为二叉树，而输出的时候往往要将二叉树转化为数组。</p><p>下面是<strong>二叉树节点类+根据int类型数组生成二叉树+给定root打印二叉树值</strong>的代码模板</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> leetcode.Binary_Trees;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Fomalhaut</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/4/26</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> 二叉树工具类:序列化与反序列化(不带多余null)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeUtils</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 序列化二叉树</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> root 根节点引用</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> String 序列化后以字符串形式表示的二叉树序列</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">serialize</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;[]&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Queue&lt;TreeNode&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        que.add(root);</span><br><span class="line">        <span class="keyword">while</span>(!que.isEmpty()) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> que.poll();</span><br><span class="line">            <span class="keyword">if</span>(node != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// 1.node不为空的情况</span></span><br><span class="line">                <span class="comment">// node的值加入sb(自动转型)</span></span><br><span class="line">                list.add(node.val + <span class="string">&quot;&quot;</span>);</span><br><span class="line">                <span class="comment">// 左右子节点无论是否为空照样入队</span></span><br><span class="line">                que.add(node.left);</span><br><span class="line">                que.add(node.right);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 2.node为空的情况</span></span><br><span class="line">                <span class="comment">// &quot;null&quot;这个字符串加入sb即可</span></span><br><span class="line">                list.add(<span class="string">&quot;null&quot;</span>);</span><br><span class="line">                <span class="comment">// 空节点没有左右子节点了</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">flag</span> <span class="operator">=</span> list.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> list.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="string">&quot;null&quot;</span>.equals(list.get(i))) &#123;</span><br><span class="line">                flag = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">&quot;[&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= flag; i++) &#123;</span><br><span class="line">            sb.append(list.get(i)).append(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.deleteCharAt(sb.length() - <span class="number">1</span>).append(<span class="string">&quot;]&quot;</span>).toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 反序列化二叉树</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> data 二叉树字符串序列</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> TreeNode 反序列化后二叉树根节点引用</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title function_">deserialize</span><span class="params">(String data)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;[]&quot;</span>.equals(data)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 首先将字符串转化为每个值的字符串数组(去头尾+&quot;,&quot;分割)</span></span><br><span class="line">        String[] strs = data.substring(<span class="number">1</span>, data.length() - <span class="number">1</span>).split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">strsLen</span> <span class="operator">=</span> strs.length;</span><br><span class="line">        <span class="comment">// 遍历序列化数据的索引(初始化为1指向root左子节点)</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// 辅助队列</span></span><br><span class="line">        Queue&lt;TreeNode&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 创建根节点</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(Integer.parseInt(strs[<span class="number">0</span>]));</span><br><span class="line">        <span class="comment">// 根节点入队</span></span><br><span class="line">        que.add(root);</span><br><span class="line">        <span class="comment">// 开启遍历</span></span><br><span class="line">        <span class="keyword">while</span>(!que.isEmpty()) &#123;</span><br><span class="line">            <span class="comment">// 队头节点出队</span></span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> que.poll();</span><br><span class="line">            <span class="comment">// 只要strs[i](出队节点的某个子节点)不是null就可以参与树的构建</span></span><br><span class="line">            <span class="keyword">if</span>(i &lt; strsLen &amp;&amp; !<span class="string">&quot;null&quot;</span>.equals(strs[i])) &#123;</span><br><span class="line">                <span class="comment">// 构建新的左子节点并完成指向</span></span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(Integer.parseInt(strs[i]));</span><br><span class="line">                node.left = left;</span><br><span class="line">                <span class="comment">// 左子节点入队</span></span><br><span class="line">                que.add(left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 索引向右移动</span></span><br><span class="line">            i++;</span><br><span class="line">            <span class="keyword">if</span>(i &lt; strsLen &amp;&amp; !<span class="string">&quot;null&quot;</span>.equals(strs[i])) &#123;</span><br><span class="line">                <span class="comment">// 构建新的右子节点并完成指向</span></span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(Integer.parseInt(strs[i]));</span><br><span class="line">                node.right = right;</span><br><span class="line">                <span class="comment">// 右子节点入队</span></span><br><span class="line">                que.add(right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 索引继续向右移动</span></span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 返回根节点</span></span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-链表处理模板">3.链表处理模板</h3><p>链表是最简单的数据结构之一，下面给出<strong>链表节点类+根据int数组生成链表+给定head打印节点值</strong>代码模板</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Fomalhaut</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/4/25</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> 链表工具类:构建+打印</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkListUtil</span> &#123;</span><br><span class="line">    <span class="comment">// 由数组生成链表</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title function_">generateLinkList</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">nex</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> arr.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(arr[i]);</span><br><span class="line">            cur.next = nex;</span><br><span class="line">            nex = cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 打印链表</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printLinkList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">            list.add(cur.val);</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Fomalhaut</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/4/25</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> 节点类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line"></span><br><span class="line">    ListNode() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode(<span class="type">int</span> val, ListNode next) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 二叉树 </tag>
            
            <tag> 链表 </tag>
            
            <tag> 输入输出 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>原码、反码与补码</title>
      <link href="/posts/cbb20bac.html"/>
      <url>/posts/cbb20bac.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-原码">1.原码</h3><p>原码就是符号位加上真值的绝对值，即用第一位表示符号，其余位表示值。比如如果是8位二进制：</p><p><a href="%E5%8E%9F%E7%A0%81">+1</a> = 0000 0001</p><p><a href="%E5%8E%9F%E7%A0%81">-1</a> = 1000 0001</p><p><strong>第一位是符号位</strong>，所以8位二进制数的取值范围就是：</p><p>[1111 1111 , 0111 1111]</p><p>即</p><p>[-127 , 127]</p><p>原码是人脑最容易理解和计算的表示方式。</p><h3 id="2-反码">2.反码</h3><p>反码的表示方法是: 正数的反码是其本身，<strong>负数的反码是在其原码的基础上，符号位不变，其余各个位取反</strong>。</p><p>[+1] = <a href="%E5%8E%9F%E7%A0%81">00000001</a>= <a href="%E5%8F%8D%E7%A0%81">00000001</a></p><p>[-1] = <a href="%E5%8E%9F%E7%A0%81">10000001</a>= <a href="%E5%8F%8D%E7%A0%81">11111110</a></p><p>可见如果一个反码表示的是负数，人脑无法直观的看出来它的数值。通常要将其转换成原码再计算。</p><h3 id="3-补码">3.补码</h3><p>补码的表示方法是：正数的补码就是其本身，负数的补码是在其原码的基础上，符号位不变，其余各位取反，最后+1 (即在<strong>反码的基础上+1</strong>)。</p><p>[+1] = <a href="%E5%8E%9F%E7%A0%81">00000001</a> = <a href="%E5%8F%8D%E7%A0%81">00000001</a> = <a href="%E8%A1%A5%E7%A0%81">00000001</a></p><p>[-1] = <a href="%E5%8E%9F%E7%A0%81">10000001</a> = <a href="%E5%8F%8D%E7%A0%81">11111110</a> = <a href="%E8%A1%A5%E7%A0%81">11111111</a></p><p>对于负数，补码表示方式也是人脑无法直观看出其数值的。通常也需要转换成原码在计算其数值。</p><p>补码解决了0的符号以及两个编码的问题，让计算机的减法可以直接转为加法运算(计算机内部都是用<strong>补码</strong>直接运算，只有负数与原码不一致):</p><p>1-1 = 1 + (-1) = [0000 0001]原 + [1000 0001]原 = [0000 0001]补 + [1111 1111]补 = [0000 0000]补=[0000 0000]原</p><p>这样0用[0000 0000]表示, 而以前出现问题的-0则不存在了.而且可以<strong>用[1000 0000]表示-128</strong>:</p><p>(-1) + (-127) = [1000 0001]原 + [1111 1111]原 = [1111 1111]补 + [1000 0001]补 = [1000 0000]补</p><p>-1-127的结果应该是-128，在用补码运算的结果中，[1000 0000]补就是-128。但是注意因为实际上是使用以前的-0的补码来表示-128，所以-128并没有原码和反码表示 。</p><p>使用补码，不仅仅修复了0的符号以及存在两个编码的问题，而且还能够：多表示一个最低数。这就是为什么8位二进制，使用原码或反码表示的范围为[-127, +127]，而使用补码表示的范围为[-128, 127]。</p><p><strong>计算机利用补码实现两数相减：</strong><br><img src="https://s1.vika.cn/space/2022/09/30/f9ed6ae36ad04af4ab5f7bd5b956fbde" alt="p3"></p>]]></content>
      
      
      <categories>
          
          <category> 计算机基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 二进制 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>位运算专题</title>
      <link href="/posts/d155facc.html"/>
      <url>/posts/d155facc.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-位运算常见技巧总结">1.位运算常见技巧总结</h2><p>1.<code>n&amp;(n-1)</code> 将n的<strong>最低位</strong> 1置0。例如:<code>11011000&amp;1010111=11010000</code></p><p>2.获取二进制中<strong>最右边的1</strong>，且其它位置为0: <code>n &amp; (-n)</code> 。例如:<code>n=01011000，-n=11011000(原)=10100111(反)=10101000(补)</code></p><p><code>n&amp;(-n)=01011000&amp;10101000=00001000</code>，相当于提取了最右边的1其余位为0（树状数组会）</p><p>3.任何数和0做异或运算，结果仍然是原来的数，即 <strong><code>a^0=a</code></strong>。 例如:<code>11011000^00000000=11011000</code></p><p>4.任何数和其自身做异或运算，结果是 0，即 <strong><code>a^a=0</code></strong>。例如:<code>11011000^11011000=00000000</code></p><p>5.异或运算满足交换律和结合律，<code>a^b^a=b^a^a=b^(a^a)=b^0=b</code></p><p>6.将某一位0或1取反：<code>x^1=~x</code>，例如：<code>0^1=1，1^1=0</code></p><p>7.<strong><code>Integer.numberOfTrailingZeros(int i)</code></strong> 返回指定int值的二进制补码二进制表示形式中最低位1之后的0的数目。</p><p>8.<strong><code>Integer.numberOfLeadingZeros(int i)</code></strong> 返回这个数据的二进制串中从最左边算起连续的“0”的总数量。因为int类型的数据长度为32所以高位不足的地方会以“0”填充。</p><p><code>Integer.numberOfTrailingZeros(10); </code>   // 10=1010(2) -&gt; 输出结果为1(最低位1尾随0个数)  <code>Integer.numberOfLeadingZeros(2);</code>    // 2=10(2) -&gt; 输出结果为30(不足前面补0) // 那么求二级制表示一共有多少位就有一个技巧 <code>32 - Integer.numberOfLeadingZeros(2); </code>   // 返回2</p><p><font size=4><strong>详细参考：</strong></font><a href="https://blog.csdn.net/wat1r/article/details/114298873"><strong><font size=4>位运算操作常见技巧</font></strong></a></p><h2 id="2-位运算题目的常见出题形式">2.位运算题目的常见出题形式</h2><h3 id="LC2135-统计追加字母可以获得的单词数"><a href="https://leetcode.cn/problems/count-words-obtained-after-adding-a-letter/">LC2135. 统计追加字母可以获得的单词数</a></h3><p><b>总体方法：</b>位运算掩膜计数+HashMap(数组)+HashSet<br>1.我们要求的是<code>targetWords</code>中能够由<code>startWords</code>转化过来的数目，那么以<code>targetWords</code>为主体进行求解会比较简单<br>2.我们都知道<code>startWords</code>只能追加一个字母变成<code>targetWords</code>，那么我们可以以字符串长度分组进行计算<br>3.假设<code>targetWords[i]</code>的长度为<code>len</code>，那么只有可能从长度为<code>len-1</code>的<code>startWords[j]</code>转换过来<br>4.我们可以枚举每个<code>targetWords[i]</code>，再枚举某个<code>targetWords[i]</code>中可删除的字母，每当删除一个字母后假若在长度为<code>len-1</code>的<code>startWords[j]</code>中找到相同掩膜的说明这个<code>targetWords[i]</code>可以完成转换，<code>res++</code>然后直接下一个；当枚举完后都不能转换就说明不能完成转换<br>5.预处理：求出按照长度分组的<code>startWords[j]</code>的占位掩膜，这里可以用<code>HashMap</code>映射，由于长度在<code>[1,26]</code>用数组可以更快<br>时间复杂度：<code>O(C*N)</code>；空间复杂度：<code>O(N)</code></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">wordCount</span><span class="params">(String[] startWords, String[] targetWords)</span> &#123;</span><br><span class="line">        <span class="comment">// 预处理出按长度分组的startWords的占位掩膜</span></span><br><span class="line">        HashMap&lt;Integer, HashSet&lt;Integer&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String s : startWords) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">            <span class="keyword">if</span> (!map.containsKey(len)) &#123;</span><br><span class="line">                map.put(len, <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 求出掩膜</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mask</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">                mask |= (<span class="number">1</span> &lt;&lt; (c - <span class="string">&#x27;a&#x27;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            map.get(len).add(mask);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 枚举目标字符串</span></span><br><span class="line">        <span class="keyword">for</span> (String s : targetWords) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">            <span class="keyword">if</span> (len == <span class="number">1</span>) <span class="keyword">continue</span>; <span class="comment">// 长度为1不可能可以生成</span></span><br><span class="line">            <span class="comment">// 求出掩膜</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mask</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">                mask |= (<span class="number">1</span> &lt;&lt; (c - <span class="string">&#x27;a&#x27;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 枚举可以删除的单个字母</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">newMask</span> <span class="operator">=</span> mask - (<span class="number">1</span> &lt;&lt; (c - <span class="string">&#x27;a&#x27;</span>));   <span class="comment">// 删除单个字母后的掩膜</span></span><br><span class="line">                <span class="keyword">if</span> (map.containsKey(len - <span class="number">1</span>) &amp;&amp; map.get(len - <span class="number">1</span>).contains(newMask)) &#123;   <span class="comment">// 该字符串可以被转化过来</span></span><br><span class="line">                    res++;  <span class="comment">// 结果+1</span></span><br><span class="line">                    <span class="keyword">break</span>;  <span class="comment">// 退出</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这类掩膜匹配的题目关注的是有哪些字母，只关心有没有而不关心数目多少与顺序是什么，看看不同字符串之间是否由相同的字母组成，这类只关注组分是否完全一致的就可以用位运算十分高效地以<code>O(1)</code>时间复杂度内得出组分是否一致。若只有小写字母：<code>int</code>掩膜；其他更长的可以考虑用<code>long</code>掩膜等…</p><h3 id="1835-所有数对按位与结果的异或和"><a href="https://leetcode.cn/problems/find-xor-sum-of-all-pairs-bitwise-and/">1835. 所有数对按位与结果的异或和</a></h3><p>初始代码 42ms</p><p><strong>逐位分析+统计:</strong><br>设arr1长度为m，arr2长度为n<br>要求arr1与arr2之间的每一个(i,j)数对组合，我们专注于某一位<br>1.当arr1[i]该位为0时，arr2[j]该位无论为什么最后AND的结果必然为0，因此贡献了0个1<br>2.当arr1[i]该位为1时，AND的结果与arr2[j]该位相同，因此贡献了对应arr2[j]对应这么多个1(可进行预处理)<br>3.统计该位AND之后1的个数一共有多少个<br>4.由异或的性质可知:1^1^1^…^1，奇数个为1，0^0^0^…^0 为0，无论0有多少个，因此统计1的个数会比较快<br>5.该位所有这么多1与0异或出来的就是该位异或和结果，其他位以此类推<br><strong>时间复杂度:O(C*N) 空间复杂度:O©</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getXORSum</span><span class="params">(<span class="type">int</span>[] arr1, <span class="type">int</span>[] arr2)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 统计arr2每一位的1有多少个</span></span><br><span class="line">        <span class="type">int</span>[] cntMap1 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">32</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : arr2) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (((num &gt;&gt; i) &amp; <span class="number">1</span>) == <span class="number">1</span>) cntMap1[i]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 统计arr1[i]与arr2[j]组合之后每一位的1的数目(可能很大)</span></span><br><span class="line">        <span class="type">long</span>[] cntMap2 = <span class="keyword">new</span> <span class="title class_">long</span>[<span class="number">32</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : arr1) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">                <span class="comment">// 当arr1[i]该位为1</span></span><br><span class="line">                <span class="keyword">if</span> (((num &gt;&gt; i) &amp; <span class="number">1</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">                    cntMap2[i] += cntMap1[i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">            res += (cntMap2[i] % <span class="number">2</span>) * (<span class="number">1</span> &lt;&lt; i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><p>优化后代码 1ms<br><strong>优化思路:</strong><br>1.mask1的位x标记arr2中位x中1的个数奇偶性，为1有奇数个1，为0有偶数个1<br>2.mask2的位x标记arr1[i]与arr2[j]组合之后的数字位x中1的个数，为1说明有奇数个1，为0说明有偶数个1<br>3.具体求法可参考原始代码：<br>3.1 逐位扫描arr1[i]的每一位x，如果该位为0的话AND之后对1的贡献为0；<br>该位为1AND之后对1的奇偶性贡献恰好是^mask1对应位(异或1之后摆动特性)<br>3.2 arr1[i]的位x是1利用mask1进行^=即可；但是对应位为0就行是不变的<br>因此要把arr1[i]对应位为0的屏蔽掉，可以用num&amp;mask1使得arr1[i]为0的位最后异或0，结果不变；<br>而arr1[i]为1的位保持异或mask1的对应位，记录该位的奇偶性特性变化<br>4.最后返回mask2就是答案，因为已经是异或之后对应位的组装结果<br><strong>时间复杂度:O(N) 空间复杂度:O(1)</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getXORSum</span><span class="params">(<span class="type">int</span>[] arr1, <span class="type">int</span>[] arr2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mask1</span> <span class="operator">=</span> <span class="number">0</span>, mask2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : arr2) mask1 ^= num;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : arr1) mask2 ^= num &amp; mask1;</span><br><span class="line">        <span class="keyword">return</span> mask2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 位运算 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>刷题零碎知识点</title>
      <link href="/posts/668058a3.html"/>
      <url>/posts/668058a3.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-String-Join-方法-A-String-B-String">1.String.Join 方法 (A (String), B (String[]))</h3><p>在指定 String 数组B的每个元素之间串联指定的分隔符 A，从而产生单个串联的字符串</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String [] tmpStr = &#123;abc, def, ghi&#125;;</span><br><span class="line"><span class="type">String</span> <span class="variable">jn</span> <span class="operator">=</span> string.Join(“-“, tmpStr);<span class="comment">// 此时输出为”abc-def-ghi”</span></span><br><span class="line"><span class="comment">// 常见用法:字符串数组chs-&gt;字符串str</span></span><br><span class="line">String.join(<span class="string">&quot;&quot;</span>,strings)<span class="comment">//&#123;&quot;abcdefghi&quot;&#125;</span></span><br></pre></td></tr></table></figure><br/><h3 id="2-split-根据匹配给定的正则表达式来拆分字符串">2.split() 根据匹配给定的正则表达式来拆分字符串</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Welcome-to-Runoob&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (String retval: str.split(<span class="string">&quot;-&quot;</span>))&#123;</span><br><span class="line"> System.out.println(retval);</span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">// 分隔符返回值 :Welcome  to  Runoob</span></span><br><span class="line"><span class="comment">// 此方法常用来字符串-&gt;字符串数组(输入模式下的输入数组后的处理)</span></span><br></pre></td></tr></table></figure><br/><h4 id="3-StringBuilder的delete-与deleteCharAt">3.StringBuilder的delete()与deleteCharAt()</h4><p>两个都是用来删除StringBuilder字符串指定索引处字符的方法</p><p>delete（int a,int b）有两个参数，删除索引从[a,b)的字符；</p><p>deleteCharAt（int a）只有一个参数，使用时删除索引为a的字符；</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">buff</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;0123456789&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;buff=&quot;</span>+buff);</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除下标从3到5的字符</span></span><br><span class="line">buff.delete(<span class="number">3</span>,<span class="number">5</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;deletionBack=&quot;</span>+ buff);</span><br><span class="line"></span><br><span class="line">buff = <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;0123456789&quot;</span>);</span><br><span class="line"><span class="comment">//删除下标为8字符</span></span><br><span class="line">buff.deleteCharAt(<span class="number">8</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;delectCharAtBack=&quot;</span>+buff);</span><br><span class="line"><span class="comment">// 输出如下:</span></span><br><span class="line"><span class="comment">// buff=0123456789</span></span><br><span class="line"><span class="comment">// deletionBack=01256789</span></span><br><span class="line"><span class="comment">// delectCharAtBack=012345679</span></span><br></pre></td></tr></table></figure><br/><h3 id="4-List与数组互相转换">4.List与数组互相转换</h3><p>具体参考<a href="https://blog.csdn.net/Gc_680/article/details/122568085">Java：List与数组相互转换</a></p><br/><h4 id="5-字符-字符串">5.字符-&gt;字符串</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String.valueOf(str.charAt(i))</span><br></pre></td></tr></table></figure><br/><h3 id="6-StringBuilder的append-方法可以接受很多种类型">6.<strong>StringBuilder的append()方法可以接受很多种类型</strong></h3><p><img src="https://s1.vika.cn/space/2022/09/30/10cafb97b11d4b10a6b15948a05d0ee4" alt=""></p><br/><h3 id="7-StringBuilder的setCharAt-方法">7.StringBuilder的setCharAt()方法</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//第一个参数为索引,第二个参数为该索引处设置的值</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCharAt</span><span class="params">(<span class="type">int</span> index, <span class="type">char</span> ch)</span></span><br><span class="line">sb.setCharAt(end, temp);</span><br></pre></td></tr></table></figure><br/><h3 id="8-重载的remove-方法">8.重载的remove()方法</h3><p>ArrayList有两个remove()重载法，分别是:remove(int index) remove(Object o)</p><p>若参数输入为1，到底是删除对象1还是删除索引为1的元素呢?</p><p>最后发现：<strong>remove(1)是删除索引为1的元素；remove(new Integer(1))则删除元素1</strong></p><p>因为1默认是基本类型int</p><br/><h3 id="9-数组转List集合方法：-注意包装类型">9.数组转List集合方法：(注意包装类型)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">方法<span class="number">1</span>:</span><br><span class="line">Integer[] nums = <span class="keyword">new</span> <span class="title class_">Integer</span>[<span class="number">5</span>]; <span class="comment">// 这里不能用int</span></span><br><span class="line">Arrays.fill(nums,<span class="number">1</span>);</span><br><span class="line">List&lt;Integer&gt; list = Arrays.asList(nums);</span><br><span class="line"></span><br><span class="line">方法<span class="number">2</span>:</span><br><span class="line">Integer[] nums = <span class="keyword">new</span> <span class="title class_">Integer</span>[<span class="number">5</span>];</span><br><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">Collections.addAll(list, nums);</span><br></pre></td></tr></table></figure><br/><h3 id="10-Java中的Math-atan2-double-x-double-y-方法">10.Java中的Math.atan2(double x, double y)方法</h3><p>将指定的直角坐标(x, y)转换为极坐标(r, θ)，并返回弧度θ。</p><p>该方法通过计算 y/x 的反正切值来计算弧度θ，值域为(-π, π]。</p><p><strong>atan2与atan区别：</strong></p><p>参数个数不同：atan(double a)，而atan2(double y, double x)。</p><p>参数含义不同：atan中的参数a一般传y/x，也就是斜率k，而atan2中的两个参数就是实际中的x坐标和y坐标。</p><p>值域不同：atan值域为(-π/2,π/2)，而atan2的值域为[-π,π]。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">double</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">2</span>, y = <span class="number">2</span>;</span><br><span class="line">    System.out.println(Math.atan2(y, x)); <span class="comment">// 0.7853981633974483</span></span><br><span class="line">    System.out.println(Math.atan(y / x)); <span class="comment">// 0.7853981633974483</span></span><br><span class="line">    <span class="type">double</span> <span class="variable">x2</span> <span class="operator">=</span> <span class="number">4</span>, y2 = <span class="number">3</span>;</span><br><span class="line">    <span class="type">double</span> <span class="variable">x1</span> <span class="operator">=</span> <span class="number">2</span>, y1 = <span class="number">1</span>;</span><br><span class="line">    System.out.println(Math.atan2(y2 - y1, x2 - x1)); <span class="comment">// 0.7853981633974483(45°)</span></span><br><span class="line">    System.out.println(Math.atan((y2 - y1) / (x2 - x1))); <span class="comment">// 0.7853981633974483</span></span><br><span class="line">    <span class="comment">// 下面有区别</span></span><br><span class="line">    System.out.println(Math.atan2(y1 - y2, x1 - x2)); <span class="comment">// -2.356194490192345(-135°)</span></span><br><span class="line">    System.out.println(Math.atan((y1 - y2) / (x1 - x2))); <span class="comment">// 0.7853981633974483</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br/><h3 id="11-TreeSet返回最小元素与最大元素的API">11.TreeSet返回最小元素与最大元素的API</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">TreeSet&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(排序规则));</span><br><span class="line"><span class="type">int</span> <span class="variable">first</span> <span class="operator">=</span> set.first();<span class="comment">// 排序规则的首个元素</span></span><br><span class="line"><span class="type">int</span> <span class="variable">last</span> <span class="operator">=</span> set.last();<span class="comment">// 排序规则的最后一个元素</span></span><br><span class="line">set.remove(o);<span class="comment">// 移除对应元素</span></span><br></pre></td></tr></table></figure><br/><h3 id="12-关于TreeSet自定义排序规则后修改规则中元素的问题">12.关于TreeSet自定义排序规则后修改规则中元素的问题</h3><p><strong>与规则相关并有扰乱顺序的风险</strong>时，必须确保这个元素的排序是没有被影响过的，否则在remove()时，会出现定位失败，有可能删除失败，或者删除出错！</p><p>因此，当我们用TreeSet作为一个自动排序容器时，更新元素的位置，必须分三个步骤：</p><p><strong>1、remove老的元素</strong></p><p><strong>2、修改</strong></p><p><strong>3、插入修改后的元素</strong></p><p>PS:set.add(T t)如果存在了，将不会进行任何操作并返回false</p><p><a href="https://leetcode.cn/problems/design-a-food-rating-system/"><strong>6126. 设计食物评分系统</strong></a></p><p><strong>参考：</strong><a href="https://www.cnblogs.com/chzcb/p/3984681.html"><strong>关于TreeSet的排序对于删除操作的影响</strong></a></p><br/><h3 id="13-List数组的正确写法">13.List数组的正确写法</h3><p>创建时候指定类型，然后统一初始化一次，后面直接add即可</p><p>这里也用到List存图的方式，比较适合稀疏图，因为List容量可变</p><p>通常来说邻接矩阵适合稠密图，稀疏图可以采用HashMap（离散化程度大）或者List数组(离散化程度小/节点索引为[1,n]情形)</p><p><a href="https://leetcode.cn/problems/course-schedule/"><strong>207. 课程表</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canFinish</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[][] pres)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    拓扑排序:</span></span><br><span class="line"><span class="comment">    只要课程没有循环依赖(成环)，就可以顺利按照拓扑排序的规则完成所有课程</span></span><br><span class="line"><span class="comment">    思路就是优先消除入度为0的课程，因为这个课程可以直接学不用依赖别的课程</span></span><br><span class="line"><span class="comment">    消除到最后看看还有没有没哟被消去的课程即可</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">// 存储课程之间的依赖关系，比如0依赖1，list[0]中就有1</span></span><br><span class="line">    List&lt;Integer&gt;[] list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        list[i] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] p : pres) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">next</span> <span class="operator">=</span> p[<span class="number">0</span>], pre = p[<span class="number">1</span>];</span><br><span class="line">        list[pre].add(next);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] inDegree = <span class="keyword">new</span> <span class="title class_">int</span>[n];    <span class="comment">// 入度数组</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : list[i]) &#123;</span><br><span class="line">            inDegree[num]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;    <span class="comment">// 统计入度为0的节点</span></span><br><span class="line">    Queue&lt;Integer&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (inDegree[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            que.add(i);</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">poll</span> <span class="operator">=</span> que.poll();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : list[poll]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (--inDegree[num] == <span class="number">0</span>) &#123;</span><br><span class="line">                que.add(num);</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt == n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br/><h3 id="14-关于static关键字在力扣提交的速度优化">14.关于static关键字在力扣提交的速度优化</h3><p><a href="https://leetcode.cn/problems/guess-number-higher-or-lower-ii/"><strong>375. 猜数字大小 II</strong></a></p><p>优化前代码如下 <strong>(67ms/40.2MB)</strong> ：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span>[][] memo;   <span class="comment">// memo[i][j]记录猜中区间[i,j]之间所需的最少钱数</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">INF</span> <span class="operator">=</span> <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMoneyAmount</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        memo = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">return</span> dfs(<span class="number">1</span>, n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="comment">// base case</span></span><br><span class="line">        <span class="keyword">if</span> (j - i &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// memo中存在</span></span><br><span class="line">        <span class="keyword">if</span> (memo[i][j] != <span class="number">0</span>) <span class="keyword">return</span> memo[i][j];</span><br><span class="line">        <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> INF;   <span class="comment">// 最小值</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt;= j; k++) &#123;</span><br><span class="line">            <span class="comment">// 维护合法分割点的最小钱数</span></span><br><span class="line">            <span class="comment">// 当前分割点的钱数=分割点k猜错的开销+左右区间开销大的一边(保证任意数字都可通过该最大开销猜中)</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> k + Math.max(dfs(i, k - <span class="number">1</span>), dfs(k + <span class="number">1</span>, j));</span><br><span class="line">            min = Math.min(min, cur);</span><br><span class="line">        &#125;</span><br><span class="line">        memo[i][j] = min;   <span class="comment">// 记录猜中当前区间的最小钱值</span></span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>static优化后 <strong>(8ms/38.1MB)</strong> ：</p><p>注意static的优化要在成员里面加上static并且有相应的初始化器</p><p><code>static int[][] memo = new int[201][201]; </code></p><p><code>static int INF = 0x3f3f3f3f;</code></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[][] memo = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">201</span>][<span class="number">201</span>];   <span class="comment">// memo[i][j]记录猜中区间[i,j]之间所需的最少钱数</span></span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="variable">INF</span> <span class="operator">=</span> <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMoneyAmount</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> dfs(<span class="number">1</span>, n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="comment">// base case</span></span><br><span class="line">        <span class="keyword">if</span> (j - i &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// memo中存在</span></span><br><span class="line">        <span class="keyword">if</span> (memo[i][j] != <span class="number">0</span>) <span class="keyword">return</span> memo[i][j];</span><br><span class="line">        <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> INF;   <span class="comment">// 最小值</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt;= j; k++) &#123;</span><br><span class="line">            <span class="comment">// 维护合法分割点的最小钱数</span></span><br><span class="line">            <span class="comment">// 当前分割点的钱数=分割点k猜错的开销+左右区间开销大的一边(保证任意数字都可通过该最大开销猜中)</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> k + Math.max(dfs(i, k - <span class="number">1</span>), dfs(k + <span class="number">1</span>, j));</span><br><span class="line">            min = Math.min(min, cur);</span><br><span class="line">        &#125;</span><br><span class="line">        memo[i][j] = min;   <span class="comment">// 记录猜中当前区间的最小钱值</span></span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>从67ms直接优化到8ms优化效果超级理想</p><p><strong>注意：有部分题型不能在成员中初始化static变量否则会出错！如下：</strong></p><p><a href="https://leetcode.cn/problems/stone-game/"><strong>877. 石子游戏</strong></a></p><p><a href="https://leetcode.cn/problems/strange-printer/"><strong>664. 奇怪的打印机</strong></a></p><br/><h3 id="15-维护两个集合（数组）中前两个最大值">15.维护两个集合（数组）中前两个最大值</h3><p>有时候我们不仅要求最大值，有可能还要实时维护次大值，次大值可能会用到</p><p>如何高效地维护最大值与次大值呢？最高效的方法就是利用两个变量max1（最大值）与max2（次大值）进行滚动维护</p><p>当遇到下一个数字nums[i]&gt;max1大，此时max2=max1；max1=nums[i]</p><p>也就是说原来的max1取代了原来的max2，而nums[i]取代原来max1位置（卷起来了）</p><p>而max1&gt;=nums[i]&gt;max2时，我们令nums[i]取代原来max2位置，原来的max2就被取代了</p><p>当nums[i]==max2 可以维持原状，当nums[i]</p><p><strong>PS：</strong> 当然，如果我们不熟悉的话可以用优先队列去维护，甚至维护前k大元素都可以</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumOperations</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        考虑两种间隔的前两个最大值+分类讨论</span></span><br><span class="line"><span class="comment">        要想最少操作次数，就要充分利用原理有出现的数字</span></span><br><span class="line"><span class="comment">        记偶数索引的最多出现的数字为a1，次多出现的数字为a2</span></span><br><span class="line"><span class="comment">        记奇数索引的最多出现的数字为b1，次多出现的数字为b2</span></span><br><span class="line"><span class="comment">        1.当a1!=b1 这是最理想的结果，直接将其他数字改成a1与b1，总的操作次数为n-(m1[a1]+m2[b1])</span></span><br><span class="line"><span class="comment">        2.当a1==b1 此时就有点麻烦了，不能同时将其他数字变为a1与b1因为会产生冲突</span></span><br><span class="line"><span class="comment">            此时我们可以有两种选择:选a1与b2 或 a2与b1 (a2与b2数目不多于前两者可以忽略)</span></span><br><span class="line"><span class="comment">            取数目总和大的，最后结果为:n-max(m1[a1]+m2[b2],m1[a2]+m2[b1])</span></span><br><span class="line"><span class="comment">        重点就是如何维护两个最大值了</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span>[] m1 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">100010</span>], m2 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">100010</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="number">0</span>, a2 = <span class="number">0</span>, b1 = <span class="number">0</span>, b2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// 偶数索引</span></span><br><span class="line">                m1[nums[i]]++;</span><br><span class="line">                <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> m1[nums[i]];  <span class="comment">// cur为当前数字nums[i]出现的次数</span></span><br><span class="line">                <span class="keyword">if</span> (a1 == <span class="number">0</span> || cur &gt; m1[a1]) &#123;  <span class="comment">// 最大出现次数的数字还没出现||当前数字出现次数已经大于a1出现次数</span></span><br><span class="line">                    <span class="comment">// nums[i]取代a1位置，之前的a1退居a2位置</span></span><br><span class="line">                    a2 = a1;</span><br><span class="line">                    a1 = nums[i];</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] != a1 &amp;&amp; (a2 == <span class="number">0</span> || cur &gt; m1[a2])) &#123;</span><br><span class="line">                    <span class="comment">// nums[i]!=a1说明这个nums[i]不是最大值的，此时若次大值处还没赋值或者nums[i]出现次数比原先的a2多</span></span><br><span class="line">                    <span class="comment">// 那么nums[i]可以取代原来a2的位置</span></span><br><span class="line">                    a2 = nums[i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 奇数索引</span></span><br><span class="line">                m2[nums[i]]++;</span><br><span class="line">                <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> m2[nums[i]];</span><br><span class="line">                <span class="keyword">if</span> (b1 == <span class="number">0</span> || cur &gt; m2[b1]) &#123;</span><br><span class="line">                    b2 = b1;</span><br><span class="line">                    b1 = nums[i];</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] != b1 &amp;&amp; (b2 == <span class="number">0</span> || cur &gt; m2[b2])) &#123;</span><br><span class="line">                    b2 = nums[i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a1 != b1) <span class="keyword">return</span> n - (m1[a1] + m2[b1]);</span><br><span class="line">        <span class="keyword">return</span> n - Math.max(m1[a1] + m2[b2], m1[a2] + m2[b1]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br/><h3 id="16-最大公约数gcd与最小公倍数">16.最大公约数gcd与最小公倍数</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BiggestFactor</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">8</span>, b = <span class="number">5</span>;</span><br><span class="line">        System.out.println(a + <span class="string">&quot;与&quot;</span> + b + <span class="string">&quot;最大公约数为:&quot;</span> + maxCommonFactor(a, b));</span><br><span class="line">        System.out.println(a + <span class="string">&quot;与&quot;</span> + b + <span class="string">&quot;最小公倍数为:&quot;</span> + minCommonMultiple(a, b));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 最小公倍数:结合最大公约数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">minCommonMultiple</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a * b / maxCommonFactor(a, b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 最大公约数:辗转相除法</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">maxCommonFactor</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (b != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> a % b;</span><br><span class="line">            a = b;</span><br><span class="line">            b = r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">        <span class="comment">// return b &gt; 0 ? gcd(b, a % b) : a; (一步到位写法)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>拓展：求一个数组的最大公约数-&gt; 滚动因子 O(N)</strong></p><p><a href="https://leetcode.cn/problems/minimum-deletions-to-make-array-divisible/"><strong>6122. 使数组可以被整除的最少删除次数</strong></a></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minOperations</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span>[] numsDivide)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    求最大公因数问题：</span></span><br><span class="line"><span class="comment">    原问题等价于求numsDivide的最大公因数maxFac，只要在nums中找到一个可以整除maxFac的数字，那么该数字必定可以被numsDivide所有数整除</span></span><br><span class="line"><span class="comment">    将nums排序后找出最小的可以满足上述条件的数字，那么该数字前面的数字就是要删除的数字数目</span></span><br><span class="line"><span class="comment">    关键是怎样在接近O(N)时间复杂度内求解数组的最大公因数?</span></span><br><span class="line"><span class="comment">    答案是利用前面部分的maxFac与numsDivide[i]求最大公因数，求出来的就表示满足numsDivide[0,i-1]+numsDivide[i]=numsDivide[0,i]的最大公因数</span></span><br><span class="line"><span class="comment">    当遍历整个数组就是整个数组的最大公因数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> numsDivide.length, n = nums.length;</span><br><span class="line">    <span class="comment">// 求数组的最大公因数</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">maxFac</span> <span class="operator">=</span> numsDivide[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; m; i++) &#123;</span><br><span class="line">        maxFac = gcd(maxFac, numsDivide[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (maxFac % nums[i] == <span class="number">0</span>) <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 求a与b的最大公约数</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> b &gt; <span class="number">0</span> ? gcd(b, a % b) : a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>同理可以求得整个数组的最小公倍数</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">minCommonMultiple</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.lebnght; i++) &#123;</span><br><span class="line">        res = maxCommonFactor(res, nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 最小公倍数:结合最大公约数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">minCommonMultiple</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a * b / maxCommonFactor(a, b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 最大公约数:辗转相除法</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">maxCommonFactor</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (b != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> a % b;</span><br><span class="line">            a = b;</span><br><span class="line">            b = r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">        <span class="comment">// return b &gt; 0 ? gcd(b, a % b) : a; (一步到位写法)</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br/><h3 id="17-螺旋矩阵模拟转向trick">17.螺旋矩阵模拟转向trick</h3><p><a href="https://leetcode.cn/problems/spiral-matrix-iv/">6111. 螺旋矩阵 IV</a></p><p>周赛中发现了灵神的这个模拟转向的小trick 可以应用至任意的螺旋矩阵题目</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] spiralMatrix(<span class="type">int</span> m, <span class="type">int</span> n, ListNode head) &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        一个模拟的万能转向trick(参考灵神)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span>[][] res = <span class="keyword">new</span> <span class="title class_">int</span>[m][n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            Arrays.fill(res[i], -<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="comment">// 上右下左四个进给方向</span></span><br><span class="line">        <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="comment">// idx为进给方向,x与y是遍历指针</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> <span class="number">0</span>, x = <span class="number">0</span>, y = -<span class="number">1</span>; <span class="comment">// 为了进给第一步向右走了之后才赋值,初始化(x,y)=(0.-1)</span></span><br><span class="line">        <span class="comment">// 链表还没走完就继续循环</span></span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">newX</span> <span class="operator">=</span> x + dirs[idx][<span class="number">0</span>], newY = y + dirs[idx][<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// 越界或者碰到已经覆盖过的-&gt;转向</span></span><br><span class="line">            <span class="keyword">if</span> (newX &lt; <span class="number">0</span> || newX &gt;= m || newY &lt; <span class="number">0</span> || newY &gt;= n || res[newX][newY] != -<span class="number">1</span>) idx = (idx + <span class="number">1</span>) % <span class="number">4</span>;</span><br><span class="line">            x += dirs[idx][<span class="number">0</span>];</span><br><span class="line">            y += dirs[idx][<span class="number">1</span>];</span><br><span class="line">            res[x][y] = cur.val;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br/>]]></content>
      
      
      <categories>
          
          <category> Java基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 字符串 </tag>
            
            <tag> Java </tag>
            
            <tag> API </tag>
            
            <tag> 数组 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown语法与外挂标签写法汇总</title>
      <link href="/posts/2013454d.html"/>
      <url>/posts/2013454d.html</url>
      
        <content type="html"><![CDATA[<h1>1.Markdown语法自带格式</h1><div class="note info flat"><p>参考：<a href="https://blog.csdn.net/u014061630/article/details/81359144">Markdown语法图文全面详解(10分钟学会)</a></p></div><div class="note warning flat"><p>注意：此页面偶尔会存在CSS冲突问题!</p></div><h2 id="1-1-代码块">1.1 代码块</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">\```shell</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VSCode终端</span></span><br><span class="line">hexo clean; hexo s</span><br><span class="line">hexo clean; hexo g; hexo d</span><br><span class="line">git add .; git commit -m &quot;npm publish&quot;; npm version patch; </span><br><span class="line">git push</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Cmder终端</span></span><br><span class="line">hexo clean &amp;&amp; hexo s</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line">git add . &amp;&amp; git commit -m &quot;npm publish&quot; &amp;&amp; npm version patch</span><br><span class="line">git push</span><br><span class="line">\```</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VSCode终端</span></span><br><span class="line">hexo clean; hexo s</span><br><span class="line">hexo clean; hexo g; hexo d</span><br><span class="line">git add .; git commit -m &quot;npm publish&quot;; npm version patch; </span><br><span class="line">git push</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Cmder终端</span></span><br><span class="line">hexo clean &amp;&amp; hexo s</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line">git add . &amp;&amp; git commit -m &quot;npm publish&quot; &amp;&amp; npm version patch</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-2-多级标题">1.2 多级标题</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># H1</span></span><br><span class="line"><span class="section">## H2</span></span><br><span class="line"><span class="section">### H3</span></span><br><span class="line"><span class="section">#### H4</span></span><br><span class="line"><span class="section">##### H5</span></span><br><span class="line"><span class="section">###### H6</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><p>见本文章标题!</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-3-文字样式">1.3 文字样式</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">u</span>&gt;</span></span>下划线演示<span class="language-xml"><span class="tag">&lt;/<span class="name">u</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">文字<span class="strong">**加粗**</span>演示</span><br><span class="line"></span><br><span class="line">文字<span class="emphasis">*斜体*</span>演示</span><br><span class="line"></span><br><span class="line">文本<span class="code">`高亮`</span>演示</span><br><span class="line"></span><br><span class="line">文本~~删除~~线演示</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span> = <span class="string">5</span>&gt;</span></span>5号字<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;黑体&quot;</span>&gt;</span></span>黑体<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">blue</span>&gt;</span></span>蓝色<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">td</span> <span class="attr">bgcolor</span>=<span class="string">MistyRose</span>&gt;</span></span>这里的背景色是：MistyRosen，此处输入任意想输入的内容<span class="language-xml"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><p><u>下划线演示</u></p><p>文字<strong>加粗</strong>演示</p><p>文字<em>斜体</em>演示</p><p>文本<code>高亮</code>演示</p><p>文本<s>删除</s>线演示</p><p><font size = 5>5号字</font><br><font face="黑体">黑体</font><br><font color=blue>蓝色</font></p><table><tr><td bgcolor=MistyRose>这里的背景色是：MistyRosen，此处输入任意想输入的内容</td></tr></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note info flat"><p>上述要点可参考:<a href="https://blog.csdn.net/qq_43732429/article/details/108034518">【Markdown语法】字体颜色大小及文字底色设置</a></p></div><h2 id="1-4-引用">1.4 引用</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="quote">&gt;  Java</span></span><br><span class="line"><span class="quote">&gt; 二级引用演示</span></span><br><span class="line"><span class="quote">&gt; MySQL</span></span><br><span class="line"><span class="quote">&gt; &gt;外键</span></span><br><span class="line"><span class="quote">&gt; &gt;</span></span><br><span class="line"><span class="quote">&gt; &gt;事务</span></span><br><span class="line"><span class="quote">&gt; &gt;</span></span><br><span class="line"><span class="quote">&gt; &gt;<span class="strong">**行级锁**</span>(引用内部一样可以用格式)</span></span><br><span class="line"><span class="quote">&gt; </span></span><br><span class="line"><span class="quote">&gt; ....</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><blockquote><p>Java<br>二级引用演示<br>MySQL</p><blockquote><p>外键</p><p>事务</p><p><strong>行级锁</strong>(引用内部一样可以用格式)</p></blockquote><p>…</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-5-分割线">1.5 分割线</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><hr><hr><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-6-列表-跟空格都可以">1.6 列表(*,+,-跟空格都可以)</h2><h3 id="1-6-1-无序列表">1.6.1 无序列表</h3><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">*</span> Java</span><br><span class="line"><span class="bullet">*</span> Python</span><br><span class="line"><span class="bullet">*</span> ...</span><br><span class="line"></span><br><span class="line"><span class="bullet">+</span> Java</span><br><span class="line"><span class="bullet">+</span> Python</span><br><span class="line"><span class="bullet">+</span> ...</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> Java</span><br><span class="line"><span class="bullet">-</span> Python</span><br><span class="line"><span class="bullet">-</span> ...</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ul><li>Java</li><li>Python</li><li>…</li></ul><ul><li>Java</li><li>Python</li><li>…</li></ul><ul><li>Java</li><li>Python</li><li>…</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="1-6-2-有序列表">1.6.2 有序列表</h3><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 注意后面有空格</span></span><br><span class="line"><span class="bullet">1.</span> </span><br><span class="line"><span class="bullet">2.</span> </span><br><span class="line"><span class="bullet">3.</span> </span><br><span class="line"><span class="bullet">4.</span> </span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li></li><li></li><li></li><li></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-7-图片">1.7 图片</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 本地图片</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/assets/pusheencode.webp&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;示例图片&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:50%;&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="section"># 在线图片</span></span><br><span class="line">![<span class="string">code</span>](<span class="link">https://cdn.jsdelivr.net/gh/fomalhaut1998/markdown_pic/img/code.png</span>)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><p>本地图片:<br><img src="/assets/pusheencode.webp" alt="示例图片" style="zoom:50%;" /><br>在线图片:<br><img src="https://cdn.jsdelivr.net/gh/fomalhaut1998/markdown_pic/img/code.png" alt="code"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-8-表格">1.8 表格</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">| 项目标号 | 资金     | 备注 |</span><br><span class="line">| -------- | -------- | ---- |</span><br><span class="line">| 1        | 100，000 | 无   |</span><br><span class="line">| 2        | 200，000 | 无   |</span><br><span class="line">| 3        | 300,600  | 重要 |</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><table><thead><tr><th>项目标号</th><th>资金</th><th>备注</th></tr></thead><tbody><tr><td>1</td><td>100，000</td><td>无</td></tr><tr><td>2</td><td>200，000</td><td>无</td></tr><tr><td>3</td><td>300,600</td><td>重要</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-9-公式">1.9 公式</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">$$</span><br><span class="line">\Gamma(z)=\int<span class="emphasis">_0^\infty t^&#123;z-1&#125;e^&#123;-t&#125;dt.</span></span><br><span class="line"><span class="emphasis">$$</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><p>$$<br>\Gamma(z)=\int_0^\infty t^{z-1}e^{-t}dt.<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1>2.Butterfly外挂标签</h1><div class="note info flat"><p>这部分参考安知鱼:<a href="https://anzhiy.cn/posts/7d58.html">基于Butterfly的外挂标签引入</a></p></div><h2 id="2-1-行内文本样式-text">2.1 行内文本样式 text</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% u 文本内容 %&#125;</span><br><span class="line">&#123;% emp 文本内容 %&#125;</span><br><span class="line">&#123;% wavy 文本内容 %&#125;</span><br><span class="line">&#123;% del 文本内容 %&#125;</span><br><span class="line">&#123;% kbd 文本内容 %&#125;</span><br><span class="line">&#123;% psw 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">1.</span> 带 &#123;% u 下划线 %&#125; 的文本</span><br><span class="line"><span class="bullet">2.</span> 带 &#123;% emp 着重号 %&#125; 的文本</span><br><span class="line"><span class="bullet">3.</span> 带 &#123;% wavy 波浪线 %&#125; 的文本</span><br><span class="line"><span class="bullet">4.</span> 带 &#123;% del 删除线 %&#125; 的文本</span><br><span class="line"><span class="bullet">5.</span> 键盘样式的文本 &#123;% kbd command %&#125; + &#123;% kbd D %&#125;</span><br><span class="line"><span class="bullet">6.</span> 密码样式的文本：&#123;% psw 这里没有验证码 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><ol><li>带 <u>下划线</u> 的文本</li><li>带 <emp>着重号</emp> 的文本</li><li>带 <wavy>波浪线</wavy> 的文本</li><li>带 <del>删除线</del> 的文本</li><li>键盘样式的文本 <kbd>command</kbd> + <kbd>D</kbd></li><li>密码样式的文本：<psw>这里没有验证码</psw></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-2-行内文本-span">2.2 行内文本 span</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% span 样式参数(参数以空格划分), 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>字体</code>: logo, code</li><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>大小</code>: small, h4, h3, h2, h1, large, huge, ultra</li><li><code>对齐方向</code>: left, center, right</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> 彩色文字</span><br><span class="line">在一段话中方便插入各种颜色的标签，包括：&#123;% span red, 红色 %&#125;、&#123;% span yellow, 黄色 %&#125;、&#123;% span green, 绿色 %&#125;、&#123;% span cyan, 青色 %&#125;、&#123;% span blue, 蓝色 %&#125;、&#123;% span gray, 灰色 %&#125;。</span><br><span class="line"><span class="bullet">-</span> 超大号文字</span><br><span class="line">文档「开始」页面中的标题部分就是超大号文字。</span><br><span class="line">&#123;% span center logo large, Volantis %&#125;</span><br><span class="line">&#123;% span center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><ul><li>彩色文字<br>在一段话中方便插入各种颜色的标签，包括：<span class='p red'>红色</span>、<span class='p yellow'>黄色</span>、<span class='p green'>绿色</span>、<span class='p cyan'>青色</span>、<span class='p blue'>蓝色</span>、<span class='p gray'>灰色</span>。</li><li>超大号文字<br>文档「开始」页面中的标题部分就是超大号文字。<br><span class='p center logo large'>Volantis</span><br><span class='p center small'>A Wonderful Theme for Hexo</span></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-3-段落文本-p">2.3 段落文本 p</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% p 样式参数(参数以空格划分), 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>字体</code>: logo, code</li><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>大小</code>: small, h4, h3, h2, h1, large, huge, ultra</li><li><code>对齐方向</code>: left, center, right</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> 彩色文字</span><br><span class="line">在一段话中方便插入各种颜色的标签，包括：&#123;% p red, 红色 %&#125;、&#123;% p yellow, 黄色 %&#125;、&#123;% p green, 绿色 %&#125;、&#123;% p cyan, 青色 %&#125;、&#123;% p blue, 蓝色 %&#125;、&#123;% p gray, 灰色 %&#125;。</span><br><span class="line"><span class="bullet">-</span> 超大号文字</span><br><span class="line">文档「开始」页面中的标题部分就是超大号文字。</span><br><span class="line">&#123;% p center logo large, Volantis %&#125;</span><br><span class="line">&#123;% p center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><ul><li>彩色文字<br>在一段话中方便插入各种颜色的标签，包括：<p class='p red'>红色</p>、<p class='p yellow'>黄色</p>、<p class='p green'>绿色</p>、<p class='p cyan'>青色</p>、<p class='p blue'>蓝色</p>、<p class='p gray'>灰色</p>。</li><li>超大号文字<br>文档「开始」页面中的标题部分就是超大号文字。</li></ul><p class='p center logo large'>Volantis</p><p class='p center small'>A Wonderful Theme for Hexo</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-4-引用note">2.4 引用note</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">通用配置</button></li><li class="tab"><button type="button" data-href="#分栏-2">语法格式</button></li><li class="tab"><button type="button" data-href="#分栏-3">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-4">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-5">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">note:</span><br><span class="line">  # Note tag style values:</span><br><span class="line">  #  - simple    bs-callout old alert style. Default.</span><br><span class="line">  #  - modern    bs-callout new (v2-v3) alert style.</span><br><span class="line">  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span><br><span class="line">  #  - disabled  disable all CSS styles import of note tag.</span><br><span class="line">  style: simple</span><br><span class="line">  icons: false</span><br><span class="line">  border<span class="emphasis">_radius: 3</span></span><br><span class="line"><span class="emphasis">  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line"><span class="emphasis">  # Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line"><span class="emphasis">  light_</span>bg<span class="emphasis">_offset: 0</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 自带icon</span></span><br><span class="line">&#123;% note [class] [no-icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"><span class="section"># 外部icon</span></span><br><span class="line">&#123;% note [color] [icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.自带icon</p><table><thead><tr><th>参数</th><th style="text-align:center">用法</th></tr></thead><tbody><tr><td>class</td><td style="text-align:center">【可选】标识，不同的标识有不同的配色 （ default / primary / success / info / warning / danger ）</td></tr><tr><td>no-icon</td><td style="text-align:center">【可选】不显示 icon</td></tr><tr><td>style</td><td style="text-align:center">【可选】可以覆盖配置中的 style （simple/modern/flat/disabled）</td></tr></tbody></table><p>2.外部icon</p><table><thead><tr><th>参数</th><th style="text-align:center">用法</th></tr></thead><tbody><tr><td>class</td><td style="text-align:center">【可选】标识，不同的标识有不同的配色 （ default / blue / pink / red / purple / orange / green ）</td></tr><tr><td>no-icon</td><td style="text-align:center">【可选】可配置自定义 icon (只支持 fontawesome 图标, 也可以配置 no-icon )</td></tr><tr><td>style</td><td style="text-align:center">【可选】可以覆盖配置中的 style （simple/modern/flat/disabled）</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><details class="folding-tag" blue><summary> 1.自带icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note simple %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>2.<code>modern</code>样式</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note modern %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default modern %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary modern %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success modern %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info modern %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning modern %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger modern %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>3.<code>flat</code>样式</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note flat %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default flat %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary flat %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success flat %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info flat %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning flat %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger flat %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>4.<code>disabled</code>样式</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note disabled %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default disabled %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary disabled %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success disabled %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info disabled %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning disabled %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger disabled %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>5.<code>no-icon</code>样式</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default no-icon %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary no-icon %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success no-icon %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info no-icon %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning no-icon %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger no-icon %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" blue><summary> 2.外部icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; simple %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; simple %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; simple %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; simple%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; simple %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; simple %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; simple %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>2.<code>modern</code>样式</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; modern %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; modern %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; modern%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; modern %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; modern %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; modern %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>3.<code>flat</code>样式</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; flat %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; flat %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; flat%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; flat %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; flat %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>4.<code>disabled</code>样式</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; disabled %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; disabled %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; disabled %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; disabled %&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; disabled %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; disabled %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; disabled %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>5.<code>no-icon</code>样式</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue no-icon %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink no-icon %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red no-icon %&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange no-icon %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple no-icon %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green no-icon %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-5"><details class="folding-tag" blue><summary> 1.自带icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式</p><div class="note simple"><p>默认 提示块标签</p></div><div class="note default simple"><p>default 提示块标签</p></div><div class="note primary simple"><p>primary 提示块标签</p></div><div class="note success simple"><p>success 提示块标签</p></div><div class="note info simple"><p>info 提示块标签</p></div><div class="note warning simple"><p>warning 提示块标签</p></div><div class="note danger simple"><p>danger 提示块标签</p></div>2.`modern`样式<div class="note modern"><p>默认 提示块标签</p></div><div class="note default modern"><p>default 提示块标签</p></div><div class="note primary modern"><p>primary 提示块标签</p></div><div class="note success modern"><p>success 提示块标签</p></div><div class="note info modern"><p>info 提示块标签</p></div><div class="note warning modern"><p>warning 提示块标签</p></div><div class="note danger modern"><p>danger 提示块标签</p></div><p>3.<code>flat</code>样式</p><div class="note flat"><p>默认 提示块标签</p></div><div class="note default flat"><p>default 提示块标签</p></div><div class="note primary flat"><p>primary 提示块标签</p></div><div class="note success flat"><p>success 提示块标签</p></div><div class="note info flat"><p>info 提示块标签</p></div><div class="note warning flat"><p>warning 提示块标签</p></div><div class="note danger flat"><p>danger 提示块标签</p></div><p>4.<code>disabled</code>样式</p><div class="note disabled"><p>默认 提示块标签</p></div><div class="note default disabled"><p>default 提示块标签</p></div><div class="note primary disabled"><p>primary 提示块标签</p></div><div class="note success disabled"><p>success 提示块标签</p></div><div class="note info disabled"><p>info 提示块标签</p></div><div class="note warning disabled"><p>warning 提示块标签</p></div><div class="note danger disabled"><p>danger 提示块标签</p></div><p>5.<code>no-icon</code>样式</p><div class="note no-icon flat"><p>默认 提示块标签</p></div><div class="note default no-icon flat"><p>default 提示块标签</p></div><div class="note primary no-icon flat"><p>primary 提示块标签</p></div><div class="note success no-icon flat"><p>success 提示块标签</p></div><div class="note info no-icon flat"><p>info 提示块标签</p></div><div class="note warning no-icon flat"><p>warning 提示块标签</p></div><div class="note danger no-icon flat"><p>danger 提示块标签</p></div>              </div>            </details><details class="folding-tag" blue><summary> 2.外部icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式</p><div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了…</p></div><div class="note pink icon-padding simple"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding simple"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding simple"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding simple"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding simple"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>2.<code>modern</code>样式</p><div class="note icon-padding modern"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了…</p></div><div class="note pink icon-padding modern"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding modern"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding modern"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>3.<code>flat</code>样式</p><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了…</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>4.<code>disabled</code>样式</p><div class="note icon-padding disabled"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding disabled"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了…</p></div><div class="note pink icon-padding disabled"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding disabled"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding disabled"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding disabled"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding disabled"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>5.<code>no-icon</code>样式</p><div class="note no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue no-icon flat"><p>2021年快到了…</p></div><div class="note pink no-icon flat"><p>小心开车 安全至上</p></div><div class="note red no-icon flat"><p>这是三片呢？还是四片？</p></div><div class="note orange no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple no-icon flat"><p>剪刀石头布</p></div><div class="note green no-icon flat"><p>前端最讨厌的浏览器</p></div>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-5-上标标签-tip">2.5 上标标签 tip</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip [参数，可选] %&#125;文本内容&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>样式</code>: success,error,warning,bolt,ban,home,sync,cogs,key,bell</li><li><code>自定义图标</code>: 支持fontawesome。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip %&#125;default&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip info %&#125;info&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip success %&#125;success&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip error %&#125;error&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip warning %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bolt %&#125;bolt&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban %&#125;ban&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip home %&#125;home&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip sync %&#125;sync&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip cogs %&#125;cogs&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip key %&#125;key&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bell %&#125;bell&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip fa-atom %&#125;自定义font awesome图标&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class="tip "><p>default</p></div><div class="tip info"><p>info</p></div><div class="tip success"><p>success</p></div><div class="tip error"><p>error</p></div><div class="tip warning"><p>warning</p></div><div class="tip bolt"><p>bolt</p></div><div class="tip ban"><p>ban</p></div><div class="tip home"><p>home</p></div><div class="tip sync"><p>sync</p></div><div class="tip cogs"><p>cogs</p></div><div class="tip key"><p>key</p></div><div class="tip bell"><p>bell</p></div><div class="tip fa-atom"><p>自定义font awesome图标</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-6-动态标签-anima">2.6 动态标签 anima</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip [参数，可选] %&#125;文本内容&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><div class="note info flat"><ol><li>将所需的CSS类添加到图标（或DOM中的任何元素）。</li><li>对于父级悬停样式，需要给目标元素添加指定CSS类，同时还要给目标元素的父级元素添加CSS类<code>faa-parent animated-hover</code>。（详情见示例及示例源码）<br>You can regulate the speed of the animation by adding the CSS class or . faa-fastfaa-slow</li><li>可以通过给目标元素添加CSS类<code>faa-fast</code>或<code>faa-slow</code>来控制动画快慢。</li></ol></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.On DOM load（当页面加载时显示动画）</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><p>2.调整动画速度</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated faa-fast %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated faa-slow %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><p>3.On hover（当鼠标悬停时显示动画）</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated-hover %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated-hover %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><p>4.On parent hover（当鼠标悬停在父级元素时显示动画）</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip warning faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-horizontal&quot;</span>&gt;</span></span>warning<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-flash&quot;</span>&gt;</span></span>ban<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.On DOM load（当页面加载时显示动画）</p><div class="tip warning faa-horizontal animated"><p>warning</p></div><div class="tip ban faa-flash animated"><p>ban</p></div>2.调整动画速度<div class="tip warning faa-horizontal animated faa-fast"><p>warning</p></div><div class="tip ban faa-flash animated faa-slow"><p>ban</p></div>3.On hover（当鼠标悬停时显示动画）<div class="tip warning faa-horizontal animated-hover"><p>warning</p></div><div class="tip ban faa-flash animated-hover"><p>ban</p></div>4.On parent hover（当鼠标悬停在父级元素时显示动画）<div class="tip warning faa-parent animated-hover"><p class="faa-horizontal">warning</p></div><div class="tip ban faa-parent animated-hover"><p class="faa-flash">ban</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-7-复选列表-checkbox">2.7 复选列表 checkbox</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% checkbox 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>样式</code>: plus, minus, times</li><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>选中状态</code>: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% checkbox 纯文本测试 %&#125;</span><br><span class="line">&#123;% checkbox checked, 支持简单的 [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) 语法 %&#125;</span><br><span class="line">&#123;% checkbox red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% checkbox green checked, 绿色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox yellow checked, 黄色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox cyan checked, 青色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox blue checked, 蓝色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox plus green checked, 增加 %&#125;</span><br><span class="line">&#123;% checkbox minus yellow checked, 减少 %&#125;</span><br><span class="line">&#123;% checkbox times red checked, 叉 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class='checkbox'><input type="checkbox" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>支持自定义颜色</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>绿色 + 默认选中</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>黄色 + 默认选中</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>青色 + 默认选中</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>蓝色 + 默认选中</p>            </div><div class='checkbox plus green checked'><input type="checkbox" checked="checked"/>            <p>增加</p>            </div><div class='checkbox minus yellow checked'><input type="checkbox" checked="checked"/>            <p>减少</p>            </div><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>叉</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-8-单选列表-radio">2.8 单选列表 radio</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% radio 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>选中状态</code>: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% radio 纯文本测试 %&#125;</span><br><span class="line">&#123;% radio checked, 支持简单的 [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) 语法 %&#125;</span><br><span class="line">&#123;% radio red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% radio green, 绿色 %&#125;</span><br><span class="line">&#123;% radio yellow, 黄色 %&#125;</span><br><span class="line">&#123;% radio cyan, 青色 %&#125;</span><br><span class="line">&#123;% radio blue, 蓝色 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class='checkbox'><input type="radio" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="radio" />            <p>支持自定义颜色</p>            </div><div class='checkbox green'><input type="radio" />            <p>绿色</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>黄色</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>青色</p>            </div><div class='checkbox blue'><input type="radio" />            <p>蓝色</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-9-时间轴-timeline">2.9 时间轴 timeline</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% timeline 时间线标题（可选）[,color] %&#125;</span><br><span class="line">&lt;!-- timeline 时间节点（标题） --&gt;</span><br><span class="line">正文内容</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline 时间节点（标题） --&gt;</span><br><span class="line">正文内容</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>title</code>:标题/时间线</li><li><code>color</code>:<code>timeline</code>颜色:default(留空) / blue / pink / red / purple / orange / green</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% timeline 时间轴样式,blue %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-07-24 [<span class="string">2.6.6 -&gt; 3.0</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 如果有 <span class="code">`hexo-lazyload-image`</span> 插件，需要删除并重新安装最新版本，设置 <span class="code">`lazyload.isSPA: true`</span>。</span><br><span class="line"><span class="bullet">2.</span> 2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <span class="code">`use_cdn: true`</span> 则需要删除。</span><br><span class="line"><span class="bullet">3.</span> 2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</span><br><span class="line"><span class="bullet">4.</span> 2.x 版本的置顶 <span class="code">`top: true`</span> 改为了 <span class="code">`pin: true`</span>，并且同样适用于 <span class="code">`layout: page`</span> 的页面。</span><br><span class="line"><span class="bullet">5.</span> 如果使用了 <span class="code">`hexo-offline`</span> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-05-15 [<span class="string">2.6.3 -&gt; 2.6.6</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6</span>) --&gt;</span><br><span class="line"></span><br><span class="line">不需要额外处理。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-04-20 [<span class="string">2.6.2 -&gt; 2.6.3</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 全局搜索 <span class="code">`seotitle`</span> 并替换为 <span class="code">`seo_title`</span>。</span><br><span class="line"><span class="bullet">2.</span> group 组件的索引规则有变，使用 group 组件的文章内，<span class="code">`group: group_name`</span> 对应的组件名必须是 <span class="code">`group_name`</span>。</span><br><span class="line"><span class="bullet">2.</span> group 组件的列表名优先显示文章的 <span class="code">`short_title`</span> 其次是 <span class="code">`title`</span>。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>时间轴样式</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-07-24 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases">2.6.6 -&gt; 3.0</a></p></div></div><div class='timeline-item-content'><ol><li>如果有 <code>hexo-lazyload-image</code> 插件，需要删除并重新安装最新版本，设置 <code>lazyload.isSPA: true</code>。</li><li>2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <code>use_cdn: true</code> 则需要删除。</li><li>2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</li><li>2.x 版本的置顶 <code>top: true</code> 改为了 <code>pin: true</code>，并且同样适用于 <code>layout: page</code> 的页面。</li><li>如果使用了 <code>hexo-offline</code> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-05-15 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6">2.6.3 -&gt; 2.6.6</a></p></div></div><div class='timeline-item-content'><p>不需要额外处理。</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-04-20 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3">2.6.2 -&gt; 2.6.3</a></p></div></div><div class='timeline-item-content'><ol><li>全局搜索 <code>seotitle</code> 并替换为 <code>seo_title</code>。</li><li>group 组件的索引规则有变，使用 group 组件的文章内，<code>group: group_name</code> 对应的组件名必须是 <code>group_name</code>。</li><li>group 组件的列表名优先显示文章的 <code>short_title</code> 其次是 <code>title</code>。</li></ol></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-10-链接卡片-link">2.10 链接卡片 link</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% link 标题, 链接, 图片链接（可选） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% link 糖果屋教程贴, https://akilar.top/posts/615e2dec/, https://cdn.cbd.int/akilar-candyassets@1.0.36/image/siteicon/favicon.ico %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><div class="tag link"><a class="link-card" title="糖果屋教程贴" href="https://akilar.top/posts/615e2dec/"><div class="left"><img src="https://cdn.cbd.int/akilar-candyassets@1.0.36/image/siteicon/favicon.ico"/></div><div class="right"><p class="text">糖果屋教程贴</p><p class="url">https://akilar.top/posts/615e2dec/</p></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-11-按钮-btns">2.11 按钮 btns</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% btns 样式参数 %&#125;</span><br><span class="line">&#123;% cell 标题, 链接, 图片或者图标 %&#125;</span><br><span class="line">&#123;% cell 标题, 链接, 图片或者图标 %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li>圆角样式：rounded, circle</li><li>增加文字样式：可以在容器内增加 <code>&lt;b&gt;</code>标题<code>&lt;/b&gt;</code>和<code>&lt;p&gt;</code>描述文字<code>&lt;/p&gt;</code></li><li>布局方式：<br>默认为自动宽度，适合视野内只有一两个的情况。</li></ol><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>wide</td><td>宽一点的按钮</td></tr><tr><td>fill</td><td>填充布局，自动铺满至少一行，多了会换行</td></tr><tr><td>center</td><td>居中，按钮之间是固定间距</td></tr><tr><td>around</td><td>居中分散</td></tr><tr><td>grid2</td><td>等宽最多2列，屏幕变窄会适当减少列数</td></tr><tr><td>grid3</td><td>等宽最多3列，屏幕变窄会适当减少列数</td></tr><tr><td>grid4</td><td>等宽最多4列，屏幕变窄会适当减少列数</td></tr><tr><td>grid5</td><td>等宽最多5列，屏幕变窄会适当减少列数</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.如果需要显示类似「团队成员」之类的一组含有头像的链接</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% btns circle grid5 %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><p>2.或者含有图标的按钮</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% btns rounded grid5 %&#125;</span><br><span class="line">&#123;% cell 下载源码, /, fas fa-download %&#125;</span><br><span class="line">&#123;% cell 查看文档, /, fas fa-book-open %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><p>3.圆形图标 + 标题 + 描述 + 图片 + 网格5列 + 居中</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% btns circle center grid5 %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>心率管家<span class="language-xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p red, 专业版 %&#125;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_pro.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>心率管家<span class="language-xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p green, 免费版 %&#125;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_lite.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.如果需要显示类似「团队成员」之类的一组含有头像的链接</p><div class="btns circle grid5">            <a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a>          </div>2.或者含有图标的按钮<div class="btns rounded grid5">            <a class="button" href='/' title='下载源码'><i class='fas fa-download'></i>下载源码</a><a class="button" href='/' title='查看文档'><i class='fas fa-book-open'></i>查看文档</a>          </div>3.圆形图标 + 标题 + 描述 + 图片 + 网格5列 + 居中<div class="btns circle center grid5">            <a href='https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1'>  <i class='fab fa-apple'></i>  <b>心率管家</b>  <p class='p red'>专业版</p>  <img src='https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_pro.png'></a><a href='https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1'>  <i class='fab fa-apple'></i>  <b>心率管家</b>  <p class='p green'>免费版</p>  <img src='https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_lite.png'></a>          </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-12-github卡片-ghcard">2.12 github卡片 ghcard</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% ghcard 用户名, 其它参数（可选） %&#125;</span><br><span class="line">&#123;% ghcard 用户名/仓库, 其它参数（可选） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><p>使用<code>,</code>分割各个参数。写法为：<code>参数名=参数值</code><br>以下只写几个常用参数值。</p><table><thead><tr><th><strong>参数名</strong></th><th>取值</th><th>释义</th></tr></thead><tbody><tr><td>hide</td><td>stars,commits,prs,issues,contribs</td><td>隐藏指定统计</td></tr><tr><td>count_private</td><td>true</td><td>将私人项目贡献添加到总提交计数中</td></tr><tr><td>show_icons</td><td>true</td><td>显示图标</td></tr><tr><td>theme</td><td>查阅:<a href="https://github.com/anuraghazra/github-readme-stats/blob/master/themes/README.md">Available Themes</a></td><td>主题</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.用户信息卡片</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">| &#123;% ghcard fomalhaut1998 %&#125; | &#123;% ghcard fomalhaut1998, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=buefy %&#125; | &#123;% ghcard fomalhaut1998, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=onedark %&#125; | &#123;% ghcard fomalhaut1998, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=algolia %&#125; | &#123;% ghcard fomalhaut1998, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><p>2.仓库信息卡片</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=buefy %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=onedark %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=algolia %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.用户信息卡片</p><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=calm&show_owner=true"/></a></td></tr></tbody></table><p>2.仓库信息卡片</p><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=calm&show_owner=true"/></a></td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-13-github徽标-ghbdage">2.13 github徽标 ghbdage</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% bdage [right],[left],[logo]||[color],[link],[title]||[option] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>left</code>：徽标左边的信息，必选参数。</li><li><code>right</code>: 徽标右边的信息，必选参数，</li><li><code>logo</code>：徽标图标，图标名称详见<a href="https://simpleicons.org/">simpleicons</a>，可选参数。</li><li><code>color</code>：徽标右边的颜色，可选参数。</li><li><code>link</code>：指向的链接，可选参数。</li><li><code>title</code>：徽标的额外信息，可选参数。主要用于优化SEO，但<code>object</code>标签不会像<code>a</code>标签一样在鼠标悬停显示<code>title</code>信息。</li><li><code>option</code>：自定义参数，支持<a href="https://shields.io/">shields.io</a>的全部API参数支持，具体参数可以参看上文中的拓展写法示例。形式为<code>name1=value2&amp;name2=value2</code>。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.基本参数,定义徽标左右文字和图标</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% bdage Theme,Butterfly %&#125;</span><br><span class="line">&#123;% bdage Frame,Hexo,hexo %&#125;</span><br></pre></td></tr></table></figure><p>2.信息参数，定义徽标右侧内容背景色，指向链接</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% bdage CDN,JsDelivr,jsDelivr||abcdef,https://metroui.org.ua/index.html,本站使用JsDelivr为静态资源提供CDN加速 %&#125;</span><br><span class="line">//如果是跨顺序省略可选参数，仍然需要写个逗号,用作分割</span><br><span class="line">&#123;% bdage Source,GitHub,GitHub||,https://github.com/ %&#125;</span><br></pre></td></tr></table></figure><p>3.拓展参数，支持shields的API的全部参数内容</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% bdage Hosted,Vercel,Vercel||brightgreen,https://vercel.com/,本站采用双线部署，默认线路托管于Vercel||style=social&amp;logoWidth=20 %&#125;</span><br><span class="line">//如果是跨顺序省略可选参数组，仍然需要写双竖线||用作分割</span><br><span class="line">&#123;% bdage Hosted,Vercel,Vercel||||style=social&amp;logoWidth=20&amp;logoColor=violet %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.基本参数,定义徽标左右文字和图标</p><p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Butterfly-Theme-orange?logo=&color=orange&link=&"></object><br><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Hexo-Frame-orange?logo=hexo&color=orange&link=&"></object></p><p>2.信息参数，定义徽标右侧内容背景色，指向链接</p><p><object class="ghbdage" style="margin-inline:5px" title="本站使用JsDelivr为静态资源提供CDN加速" standby="loading..." data="https://img.shields.io/badge/JsDelivr-CDN-orange?logo=jsDelivr&color=abcdef&link=https://metroui.org.ua/index.html&"></object><br>//如果是跨顺序省略可选参数，仍然需要写个逗号,用作分割<br><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/GitHub-Source-orange?logo=GitHub&color=orange&link=https://github.com/&"></object></p><p>3.拓展参数，支持shields的API的全部参数内容</p><p><object class="ghbdage" style="margin-inline:5px" title="本站采用双线部署，默认线路托管于Vercel" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=brightgreen&link=https://vercel.com/&style=social&logoWidth=20"></object><br>//如果是跨顺序省略可选参数组，仍然需要写双竖线||用作分割<br><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=orange&link=&style=social&logoWidth=20&logoColor=violet"></object></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-14-网站卡片-sites">2.14 网站卡片 sites</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site xaoxuu, url=https://xaoxuu.com, screenshot=https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg, avatar=https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/avatar/avatar.png, description=简约风格 %&#125;</span><br><span class="line">&#123;% site inkss, url=https://inkss.cn, screenshot=https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg, avatar=https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site MHuiG, url=https://blog.mhuig.top, screenshot=https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png, avatar=https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site Colsrch, url=https://colsrch.top, screenshot=https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png, avatar=https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site Linhk1606, url=https://linhk1606.github.io, screenshot=https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png, avatar=https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><div class="site-card-group"><a class="site-card" href="https://fomalhaut1998.com"><div class="img"><img src="https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/avatar/avatar.png"/><span class="title">fomalhaut1998</span><span class="desc">简约风格</span></div></a><a class="site-card" href="https://inkss.cn"><div class="img"><img src="https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg"/><span class="title">inkss</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://blog.mhuig.top"><div class="img"><img src="https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png"/><span class="title">MHuiG</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://colsrch.top"><div class="img"><img src="https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg"/><span class="title">Colsrch</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://linhk1606.github.io"><div class="img"><img src="https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png"/></div><div class="info"><img src="https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png"/><span class="title">Linhk1606</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-15-行内图片-inlineimage">2.15 行内图片 inlineimage</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% inlineimage 图片链接, height=高度（可选） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>高度</code>：height=20px</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">这是 &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif %&#125; 一段话。</span><br><span class="line"></span><br><span class="line">这又是 &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif, height=40px %&#125; 一段话。</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>这是 <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif" style="height:1.5em"/> 一段话。</p><p>这又是 <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif" style="height:40px;"/> 一段话。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-16-单张图片-image">2.16 单张图片 image</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% image 链接, width=宽度（可选）, height=高度（可选）, alt=描述（可选）, bg=占位颜色（可选） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li>图片宽度高度：width=300px, height=32px</li><li>图片描述：alt=图片描述（butterfly需要在主题配置文件中开启图片描述）</li><li>占位背景色：bg=#f2f2f2</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.添加描述：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, alt=每天下课回宿舍的路，没有什么故事。 %&#125;</span><br></pre></td></tr></table></figure><p>2.指定宽度</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px %&#125;</span><br></pre></td></tr></table></figure><p>3.指定宽度并添加描述：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, alt=每天下课回宿舍的路，没有什么故事。 %&#125;</span><br></pre></td></tr></table></figure><p>4.设置占位背景色：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, bg=#1D0C04, alt=优化不同宽度浏览的观感 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.添加描述：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="每天下课回宿舍的路，没有什么故事。"/></div><span class="image-caption">每天下课回宿舍的路，没有什么故事。</span></div>2..指定宽度<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" style="width:400px;"/></div></div>3.指定宽度并添加描述：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="每天下课回宿舍的路，没有什么故事。" style="width:400px;"/></div><span class="image-caption">每天下课回宿舍的路，没有什么故事。</span></div>4.设置占位背景色：<div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="优化不同宽度浏览的观感" style="width:400px;"/></div><span class="image-caption">优化不同宽度浏览的观感</span></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-17-音频-audio">2.17 音频 audio</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% audio 音频链接 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% audio https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><div class="audio"><audio controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-18-视频-video">2.18 视频 video</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% video 视频链接 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>对齐方向</code>：left, center, right</li><li><code>列数</code>：逗号后面直接写列数，支持 1 ～ 4 列。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.100%宽度</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br></pre></td></tr></table></figure><p>2.50%宽度</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br></pre></td></tr></table></figure><p>3.25%宽度</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% videos, 4 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.100%宽度</p>   <div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div>2.50%宽度   <div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div>3.25%宽度   <div class="videos" col='4'><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-19-相册-gallery">2.19 相册 gallery</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><p>1.gallerygroup 相册图库</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>2.gallery 相册</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 圖片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ul><li>gallerygroup 相册图库</li></ul><table><thead><tr><th>参数名</th><th>释义</th></tr></thead><tbody><tr><td>name</td><td>图库名字</td></tr><tr><td>description</td><td>图库描述</td></tr><tr><td>link</td><td>链接到对应相册的地址</td></tr><tr><td>img-url</td><td>图库封面</td></tr></tbody></table><ul><li><p>gallery 相册</p><p>区别于旧版的Gallery相册,新的Gallery相册会自动根据图片长度进行排版，书写也更加方便，与markdown格式一样。可根据需要插入到相应的md。无需再自己配置长宽。<strong>建议在粘贴时故意使用长短、大小、横竖不一的图片</strong>，会有更好的效果。（尺寸完全相同的图片只会平铺输出，效果很糟糕）</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.gallerygroup 相册图库</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup MC 在Rikkaの六花服务器里留下的足迹 &#x27;/gallery/MC/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg %&#125;</span><br><span class="line">&#123;% galleryGroup Gundam 哦咧哇gundam哒！ &#x27;/gallery/Gundam/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png %&#125;</span><br><span class="line">&#123;% galleryGroup I-am-Akilar 某种意义上也算自拍吧 &#x27;/gallery/I-am-Akilar/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>2.gallery 相册</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg</span>)</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg</span>)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.gallerygroup 相册图库</p><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">MC</div>  <p>在Rikkaの六花服务器里留下的足迹</p>  <a href='/gallery/MC/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">Gundam</div>  <p>哦咧哇gundam哒！</p>  <a href='/gallery/Gundam/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">I-am-Akilar</div>  <p>某种意义上也算自拍吧</p>  <a href='/gallery/I-am-Akilar/'></a>  </figcaption>  </figure></div>2.gallery 相册<div class="fj-gallery"><p><img src="https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg" alt=""></p>          </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-20-折叠框-folding">2.20 折叠框 folding</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><p>1.gallerygroup 相册图库</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% folding 参数（可选）, 标题 %&#125;</span><br><span class="line">![](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg</span>)</span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><!-- tab 参数配置 --><ol><li><p><code>颜色</code>：blue, cyan, green, yellow, red</p></li><li><p><code>状态</code>：状态填写 open 代表默认打开。</p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% folding 查看图片测试 %&#125;</span><br><span class="line"></span><br><span class="line">![](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg</span>)</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding cyan open, 查看默认打开的折叠框 %&#125;</span><br><span class="line"></span><br><span class="line">这是一个默认打开的折叠框。</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding green, 查看代码测试 %&#125;</span><br><span class="line">假装这里有代码块（代码块没法嵌套代码块）</span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding yellow, 查看列表测试 %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> haha</span><br><span class="line"><span class="bullet">-</span> hehe</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding red, 查看嵌套测试 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding blue, 查看嵌套测试2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding 查看嵌套测试3 %&#125;</span><br><span class="line"></span><br><span class="line">hahaha <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;height:24px&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><details class="folding-tag" ><summary> 查看图片测试 </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg" alt=""></p>              </div>            </details><details class="folding-tag" cyan open><summary> 查看默认打开的折叠框 </summary>              <div class='content'>              <p>这是一个默认打开的折叠框。</p>              </div>            </details><details class="folding-tag" green><summary> 查看代码测试 </summary>              <div class='content'>              <p>假装这里有代码块（代码块没法嵌套代码块）</p>              </div>            </details><details class="folding-tag" yellow><summary> 查看列表测试 </summary>              <div class='content'>              <ul><li>haha</li><li>hehe</li></ul>              </div>            </details><details class="folding-tag" red><summary> 查看嵌套测试 </summary>              <div class='content'>              <details class="folding-tag" blue><summary> 查看嵌套测试2 </summary>              <div class='content'>              <details class="folding-tag" ><summary> 查看嵌套测试3 </summary>              <div class='content'>              <p>hahaha <span><img src='https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span></p>              </div>            </details>              </div>            </details>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-21-分栏-tab">2.21 分栏 tab</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><p>Unique name :</p><ul><li><p>选项卡块标签的唯一名称，不带逗号。</p></li><li><p>将在#id中用作每个标签及其索引号的前缀。</p></li><li><p>如果名称中包含空格，则对于生成#id，所有空格将由破折号代替。</p></li><li><p>仅当前帖子/页面的URL必须是唯一的！</p></li></ul></li><li><p>[index]:</p><ul><li><p>活动选项卡的索引号。</p></li><li><p>如果未指定，将选择第一个标签（1）。</p></li><li><p>如果index为-1，则不会选择任何选项卡。</p></li><li><p>可选参数。</p></li></ul></li><li><p>[Tab caption]:</p><ul><li><p>当前选项卡的标题。</p></li><li><p>如果未指定标题，则带有制表符索引后缀的唯一名称将用作制表符的标题。</p></li><li><p>如果未指定标题，但指定了图标，则标题将为空。</p></li><li><p>可选参数。</p></li></ul></li><li><p>[@icon]:</p><ul><li><p>FontAwesome图标名称（全名，看起来像“ fas fa-font”）</p></li><li><p>可以指定带空格或不带空格；</p></li><li><p>例如’Tab caption @icon’ 和 ‘Tab caption@icon’.</p></li><li><p>可选参数。</p></li></ul></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.Demo 1 - 预设选择第一个【默认】</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>2.Demo 2 - 预设选择tabs</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>3.Demo 3 - 没有预设值</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test3, -1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>4.Demo 4 - 自定义Tab名 + 只有icon + icon和Tab名</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab 第一个Tab --&gt;</span><br><span class="line"><span class="strong">**tab名字为第一个Tab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**只有图标 没有Tab名字**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 炸弹@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**名字+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.Demo 1 - 预设选择第一个【默认】</p><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>2.Demo 2 - 预设选择tabs</p><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2-1">test2 1</button></li><li class="tab"><button type="button" data-href="#test2-2">test2 2</button></li><li class="tab active"><button type="button" data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>3.Demo 3 - 没有预设值</p><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3-1">test3 1</button></li><li class="tab"><button type="button" data-href="#test3-2">test3 2</button></li><li class="tab"><button type="button" data-href="#test3-3">test3 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>4.Demo 4 - 自定义Tab名 + 只有icon + icon和Tab名</p><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">第一个Tab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>炸弹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tab名字为第一个Tab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>只有图标 没有Tab名字</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>名字+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-22-诗词标签-poem">2.22 诗词标签 poem</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><ol><li><code>title</code>：诗词标题</li><li><code>author</code>：作者，可以不写</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% poem 水调歌头,苏轼 %&#125;</span><br><span class="line">丙辰中秋，欢饮达旦，大醉，作此篇，兼怀子由。</span><br><span class="line">明月几时有？把酒问青天。</span><br><span class="line">不知天上宫阙，今夕是何年？</span><br><span class="line">我欲乘风归去，又恐琼楼玉宇，高处不胜寒。</span><br><span class="line">起舞弄清影，何似在人间？</span><br><span class="line"></span><br><span class="line">转朱阁，低绮户，照无眠。</span><br><span class="line">不应有恨，何事长向别时圆？</span><br><span class="line">人有悲欢离合，月有阴晴圆缺，此事古难全。</span><br><span class="line">但愿人长久，千里共婵娟。</span><br><span class="line">&#123;% endpoem %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><div class='poem'><div class='poem-title'>水调歌头</div><div class='poem-author'>苏轼</div><p>丙辰中秋，欢饮达旦，大醉，作此篇，兼怀子由。<br>明月几时有？把酒问青天。<br>不知天上宫阙，今夕是何年？<br>我欲乘风归去，又恐琼楼玉宇，高处不胜寒。<br>起舞弄清影，何似在人间？</p><p>转朱阁，低绮户，照无眠。<br>不应有恨，何事长向别时圆？<br>人有悲欢离合，月有阴晴圆缺，此事古难全。<br>但愿人长久，千里共婵娟。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-23-阿里图标-icon">2.23 阿里图标 icon</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% icon [icon-xxxx],[font-size] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>icon-xxxx</code>：表示图标<code>font-class</code>,可以在自己的阿里矢量图标库项目的<code>font-class</code>引用方案内查询并复制。</li><li><code>font-size</code>：表示图标大小，直接填写数字即可，单位为<code>em</code>。图标大小默认值为<code>1em</code>。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% icon icon-rat<span class="emphasis">_zi %&#125;&#123;% icon icon-rat,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-ox_</span>chou,3 %&#125;&#123;% icon icon-ox,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-tiger<span class="emphasis">_yin,5 %&#125;&#123;% icon icon-tiger,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rabbit_</span>mao,1 %&#125;&#123;% icon icon-rabbit,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dragon<span class="emphasis">_chen,3 %&#125;&#123;% icon icon-dragon,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-snake_</span>si,5 %&#125;&#123;% icon icon-snake,6 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-horse<span class="emphasis">_wu %&#125;&#123;% icon icon-horse,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-goat_</span>wei,3 %&#125;&#123;% icon icon-goat,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-monkey<span class="emphasis">_shen,5 %&#125;&#123;% icon icon-monkey,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rooster_</span>you %&#125;&#123;% icon icon-rooster,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dog<span class="emphasis">_xu,3 %&#125;&#123;% icon icon-dog,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-boar_</span>hai,5 %&#125;&#123;% icon icon-boar,6 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rat_zi"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rat"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-ox_chou"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-ox"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-tiger_yin"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-tiger"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rabbit_mao"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rabbit"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dragon_chen"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dragon"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-snake_si"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-snake"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-horse_wu"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-horse"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-goat_wei"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-goat"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-monkey_shen"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-monkey"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rooster_you"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rooster"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dog_xu"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dog"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-boar_hai"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-boar"></use></svg></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-24-特效标签wow">2.24 特效标签wow</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% wow [animete],[duration],[delay],[offset],[iteration] %&#125;</span><br><span class="line">内容</span><br><span class="line">&#123;% endwow %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>animate</code>: 动画样式，效果详见<a href="https://animate.style/">animate.css参考文档</a></li><li><code>duration</code>: 选填项，动画持续时间，单位可以是<code>ms</code>也可以是<code>s</code>。例如<code>3s</code>，<code>700ms</code>。</li><li><code>delay</code>: 选填项，动画开始的延迟时间，单位可以是<code>ms</code>也可以是<code>s</code>。例如<code>3s</code>，<code>700ms</code>。</li><li><code>offset</code>: 选填项，开始动画的距离（相对浏览器底部）</li><li><code>iteration</code>: 选填项，动画重复的次数</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.flip动画效果。</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__zoomIn,5s,5s,100,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`zoomIn`动画效果，持续`5s`，延时`5s`，离底部`100`距离时启动，重复`10`次</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><p>2.zoomIn动画效果，持续5s，延时5s，离底部100距离时启动，重复10次</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__zoomIn,5s,5s,100,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`zoomIn`动画效果，持续`5s`，延时`5s`，离底部`100`距离时启动，重复`10`次</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><p>3.slideInRight动画效果，持续5s，延时5s</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__slideInRight,5s,5s %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note orange &#x27;fas fa-car&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`slideInRight`动画效果，持续`5s`，延时`5s`。</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><p>4.heartBeat动画效果，延时5s，重复10次。此处注意不用的参数位置要留空，用逗号间隔。</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__heartBeat,,5s,,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note red &#x27;fas fa-battery-half&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`heartBeat`动画效果，延时`5s`，重复`10`次。</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.flip动画效果。</p><div class='wow animate__zoomIn' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset='100'  data-wow-iteration='10' ><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>zoomIn</code>动画效果，持续<code>5s</code>，延时<code>5s</code>，离底部<code>100</code>距离时启动，重复<code>10</code>次</p></div></div><p>2.zoomIn动画效果，持续5s，延时5s，离底部100距离时启动，重复10次</p><div class='wow animate__zoomIn' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset='100'  data-wow-iteration='10' ><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>zoomIn</code>动画效果，持续<code>5s</code>，延时<code>5s</code>，离底部<code>100</code>距离时启动，重复<code>10</code>次</p></div></div><p>3.slideInRight动画效果，持续5s，延时5s</p><div class='wow animate__slideInRight' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-car"></i><p><code>slideInRight</code>动画效果，持续<code>5s</code>，延时<code>5s</code>。</p></div></div><p>4.heartBeat动画效果，延时5s，重复10次。此处注意不用的参数位置要留空，用逗号间隔。</p><div class='wow animate__heartBeat' data-wow-duration='' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='10' ><div class="note red icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p><code>heartBeat</code>动画效果，延时<code>5s</code>，重复<code>10</code>次。</p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-25-进度条-progress">2.25  进度条 progress</h2><div class="note info flat"><p>进度条标签参考<a href="https://rongbuqiu.com/jdt.html">沂佰孜猫-给HEXO文章添加彩色进度条</a>。<br>源样式提取自<a href="https://zwying0814.gitbook.io/cuteen/">Cuteen</a>主题。</p></div><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-2">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% progress [width] [color] [text] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>width</code>: 0到100的阿拉伯数字</li><li><code>color</code>: 颜色，取值有red,yellow,green,cyan,blue,gray</li><li><code>text</code>:进度条上的文字内容</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% progress 10 red 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 30 yellow 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 50 green 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 70 cyan 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 90 blue 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 100 gray 进度条样式预览 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-red"  style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-yellow"  style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-green"  style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-cyan"  style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-blue"  style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-gray"  style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-26-注释-notation">2.26 注释 notation</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% nota [label] , [text] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><p><code>label</code>: 注释词汇</p></li><li><p><code>text</code>: 悬停显示的注解内容</p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% nota 把鼠标移动到我上面试试 ,可以看到注解内容出现在顶栏 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p><span class='nota' data-nota='可以看到注解内容出现在顶栏'>把鼠标移动到我上面试试</span></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-27-气泡注释-bubble">2.27 气泡注释 bubble</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% bubble [content] , [notation] ,[background-color] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>content</code>: 注释词汇</li><li><code>notation</code>: 悬停显示的注解内容</li><li><code>background-color</code>: 可选，气泡背景色。默认为“#71a4e3”</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">最近我学到了不少新玩意儿（虽然对很多大佬来说这些已经是旧技术了），比如CSS的&#123;% bubble 兄弟相邻选择器,&quot;例如 h1 + p &#123;margin-top:50px;&#125;&quot; %&#125;，&#123;% bubble flex布局,&quot;Flex 是 Flexible Box 的缩写，意为&quot;弹性布局&quot;，用来为盒状模型提供最大的灵活性&quot;,&quot;#ec5830&quot; %&#125;，&#123;% bubble transform变换,&quot;transform 属性向元素应用 2D 或 3D 转换。该属性允许我们对元素进行旋转、缩放、移动或倾斜。&quot;,&quot;#1db675&quot; %&#125;，animation的&#123;% bubble 贝塞尔速度曲线,&quot;贝塞尔曲线(Bézier curve)，又称贝兹曲线或贝济埃曲线，是应用于二维图形应用程序的数学曲线。一般的矢量图形软件通过它来精确画出曲线，贝兹曲线由线段与节点组成，节点是可拖动的支点，线段像可伸缩的皮筋&quot;,&quot;#de4489&quot; %&#125;写法，还有今天刚看到的&#123;% bubble clip-path,&quot;clip-path属性使用裁剪方式创建元素的可显示区域。区域内的部分显示，区域外的隐藏。&quot;,&quot;#868fd7&quot; %&#125;属性。这些对我来说很新颖的概念狠狠的冲击着我以前积累起来的设计思路。</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>最近我学到了不少新玩意儿（虽然对很多大佬来说这些已经是旧技术了），比如CSS的<span class="bubble-content">兄弟相邻选择器</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;">例如 h1 + p {margin-top:50px;}</span></span>，<span class="bubble-content">flex布局</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#ec5830;">Flex 是 Flexible Box 的缩写，意为弹性布局&quot;，用来为盒状模型提供最大的灵活性&quot;</span></span>，<span class="bubble-content">transform变换</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#1db675;">transform 属性向元素应用 2D 或 3D 转换。该属性允许我们对元素进行旋转、缩放、移动或倾斜。</span></span>，animation的<span class="bubble-content">贝塞尔速度曲线</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#de4489;">贝塞尔曲线(Bézier curve)，又称贝兹曲线或贝济埃曲线，是应用于二维图形应用程序的数学曲线。一般的矢量图形软件通过它来精确画出曲线，贝兹曲线由线段与节点组成，节点是可拖动的支点，线段像可伸缩的皮筋</span></span>写法，还有今天刚看到的<span class="bubble-content">clip-path</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#868fd7;">clip-path属性使用裁剪方式创建元素的可显示区域。区域内的部分显示，区域外的隐藏。</span></span>属性。这些对我来说很新颖的概念狠狠的冲击着我以前积累起来的设计思路。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-28-引用文献-reference">2.28 引用文献 reference</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% referto [id] , [literature] %&#125;</span><br><span class="line">&#123;% referfrom [id] , [literature] , [url] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><p>referto 引用上标</p><ul><li><p><code>id</code>: 上标序号内容，需与referfrom标签的id对应才能实现跳转</p></li><li><p><code>literature</code>: 引用的参考文献名称</p></li></ul></li><li><p>referfrom 引用出处</p><ul><li><p><code>id</code>: 序号内容，需与referto标签的id对应才能实现 跳转</p></li><li><p><code>literature</code>: 引用的参考文献名称</p></li><li><p><code>url</code>: 引用的参考文献链接，可省略</p></li></ul></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">Akilarの糖果屋(akilar.top)是一个私人性质的博客&#123;% referto &#x27;[1]&#x27;,&#x27;Akilarの糖果屋群聊简介&#x27; %&#125;，从各类教程至生活点滴，无话不谈。建群的目的是提供一个闲聊的场所。博客采用Hexo框架&#123;% referto &#x27;[2]&#x27;,&#x27;Hexo中文文档&#x27; %&#125;，Butterfly主题&#123;% referto &#x27;[3]&#x27;,&#x27;Butterfly 安装文档(一) 快速开始&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">本项目参考了Volantis&#123;% referto &#x27;[4]&#x27;,&#x27;hexo-theme-volantis 标签插件&#x27; %&#125;的标签样式。引入<span class="code">`[tag].js`</span>，并针对<span class="code">`butterfly`</span>主题修改了相应的<span class="code">`[tag].styl`</span>。在此鸣谢<span class="code">`Volantis`</span>主题众开发者。</span><br><span class="line">主要参考内容包括各个volantis的内置标签插件文档&#123;% referto &#x27;[5]&#x27;,&#x27;Volantis文档:内置标签插件&#x27; %&#125;</span><br><span class="line">Butterfly主题的各个衍生魔改&#123;% referto &#x27;[6]&#x27;,&#x27;Butterfly 安装文档:标签外挂（Tag Plugins&#x27; %&#125;&#123;% referto &#x27;[7]&#x27;,&#x27;小弋の生活馆全样式预览&#x27; %&#125;&#123;% referto &#x27;[8]&#x27;,&#x27;l-lin-font-awesome-animation&#x27; %&#125;&#123;% referto &#x27;[9]&#x27;,&#x27;小康的butterfly主题使用文档&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% referfrom &#x27;[1]&#x27;,&#x27;Akilarの糖果屋群聊简介&#x27;,&#x27;https://jq.qq.com/?<span class="emphasis">_wv=1027&amp;k=pGLB2C0N&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[2]&#x27;,&#x27;Hexo中文文档&#x27;,&#x27;https://hexo.io/zh-cn/docs/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[3]&#x27;,&#x27;Butterfly 安装文档(一) 快速开始&#x27;,&#x27;https://butterfly.js.org/posts/21cfbf15/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[4]&#x27;,&#x27;hexo-theme-volantis 标签插件&#x27;,&#x27;https://volantis.js.org/v5/tag-plugins/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[5]&#x27;,&#x27;Volantis文档:内置标签插件&#x27;,&#x27;https://volantis.js.org/tag-plugins/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[6]&#x27;,&#x27;Butterfly 安装文档:标签外挂（Tag Plugins&#x27;,&#x27;https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[7]&#x27;,&#x27;小弋の生活馆全样式预览&#x27;,&#x27;https://lovelijunyi.gitee.io/posts/c898.html&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[8]&#x27;,&#x27;l-lin-font-awesome-animation&#x27;,&#x27;https://github.com/l-lin/font-awesome-animation&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[9]&#x27;,&#x27;小康的butterfly主题使用文档&#x27;,&#x27;https://www.antmoe.com/posts/3b43914f/&#x27; %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>Akilarの糖果屋(akilar.top)是一个私人性质的博客<span class="hidden-anchor" id="referto_[1]"></span><sup class="reference"><a href="#referfrom_[1]">[1]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Akilarの糖果屋群聊简介</span><span class="reference-title">参考资料</span></span></span>，从各类教程至生活点滴，无话不谈。建群的目的是提供一个闲聊的场所。博客采用Hexo框架<span class="hidden-anchor" id="referto_[2]"></span><sup class="reference"><a href="#referfrom_[2]">[2]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Hexo中文文档</span><span class="reference-title">参考资料</span></span></span>，Butterfly主题<span class="hidden-anchor" id="referto_[3]"></span><sup class="reference"><a href="#referfrom_[3]">[3]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly 安装文档(一) 快速开始</span><span class="reference-title">参考资料</span></span></span></p><p>本项目参考了Volantis<span class="hidden-anchor" id="referto_[4]"></span><sup class="reference"><a href="#referfrom_[4]">[4]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">hexo-theme-volantis 标签插件</span><span class="reference-title">参考资料</span></span></span>的标签样式。引入<code>[tag].js</code>，并针对<code>butterfly</code>主题修改了相应的<code>[tag].styl</code>。在此鸣谢<code>Volantis</code>主题众开发者。<br>主要参考内容包括各个volantis的内置标签插件文档<span class="hidden-anchor" id="referto_[5]"></span><sup class="reference"><a href="#referfrom_[5]">[5]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Volantis文档:内置标签插件</span><span class="reference-title">参考资料</span></span></span><br>Butterfly主题的各个衍生魔改<span class="hidden-anchor" id="referto_[6]"></span><sup class="reference"><a href="#referfrom_[6]">[6]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly 安装文档:标签外挂（Tag Plugins</span><span class="reference-title">参考资料</span></span></span><span class="hidden-anchor" id="referto_[7]"></span><sup class="reference"><a href="#referfrom_[7]">[7]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">小弋の生活馆全样式预览</span><span class="reference-title">参考资料</span></span></span><span class="hidden-anchor" id="referto_[8]"></span><sup class="reference"><a href="#referfrom_[8]">[8]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">l-lin-font-awesome-animation</span><span class="reference-title">参考资料</span></span></span><span class="hidden-anchor" id="referto_[9]"></span><sup class="reference"><a href="#referfrom_[9]">[9]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">小康的butterfly主题使用文档</span><span class="reference-title">参考资料</span></span></span></p><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://jq.qq.com/?_wv=1027&k=pGLB2C0N">Akilarの糖果屋群聊简介</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://hexo.io/zh-cn/docs/">Hexo中文文档</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[3]"></span><a class="reference-anchor" href="#referto_[3]">[3]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/21cfbf15/">Butterfly 安装文档(一) 快速开始</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[4]"></span><a class="reference-anchor" href="#referto_[4]">[4]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/v5/tag-plugins/">hexo-theme-volantis 标签插件</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[5]"></span><a class="reference-anchor" href="#referto_[5]">[5]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/tag-plugins/">Volantis文档:内置标签插件</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[6]"></span><a class="reference-anchor" href="#referto_[6]">[6]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89">Butterfly 安装文档:标签外挂（Tag Plugins</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[7]"></span><a class="reference-anchor" href="#referto_[7]">[7]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://lovelijunyi.gitee.io/posts/c898.html">小弋の生活馆全样式预览</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[8]"></span><a class="reference-anchor" href="#referto_[8]">[8]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://github.com/l-lin/font-awesome-animation">l-lin-font-awesome-animation</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[9]"></span><a class="reference-anchor" href="#referto_[9]">[9]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.antmoe.com/posts/3b43914f/">小康的butterfly主题使用文档</a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-29-PDF展示">2.29 PDF展示</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% pdf 文件路径 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>文件路径</code>: 可以是相对路径或者是在线链接</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 1.本地文件:在md文件路径下创建一个同名文件夹，其内放pdf文件名为xxx.pdf的文件</span></span><br><span class="line">&#123;% pdf xxx.pdf %&#125;</span><br><span class="line"><span class="section"># 2.在线链接</span></span><br><span class="line">&#123;% pdf https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/pdf/小作文讲义.pdf %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>2.在线链接(要放到最外层才能起作用)</p><pre><code>&lt;div class=&quot;row&quot;&gt;&lt;embed src=&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/pdf/小作文讲义.pdf&quot; width=&quot;100%&quot; height=&quot;550&quot; type=&quot;application/pdf&quot;&gt;&lt;/div&gt;</code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-30-Hexo-tag-map-插件">2.30 Hexo-tag-map 插件</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% + 标签值 + 经度 + 纬度 + 文本 + 缩放等级 + 宽 + 高 + 默认图层 + %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><table><thead><tr><th style="text-align:center">地图名</th><th style="text-align:center">标签值 &lt;必填&gt;</th><th style="text-align:center">宽 (默认 100%) / 高 (默认 360px)</th><th style="text-align:center">缩放等级 (默认 14)</th><th style="text-align:center">宽 (默认 100%) / 高 (默认 360px)</th><th style="text-align:center">默认图层 (默认 1)</th></tr></thead><tbody><tr><td style="text-align:center">混合地图</td><td style="text-align:center">map</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 3~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~7</td></tr><tr><td style="text-align:center">谷歌地图</td><td style="text-align:center">googleMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~20</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~3</td></tr><tr><td style="text-align:center">高德地图</td><td style="text-align:center">gaodeMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 3~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~3</td></tr><tr><td style="text-align:center">百度地图</td><td style="text-align:center">baiduMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 4~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~2</td></tr><tr><td style="text-align:center">Geoq 地图</td><td style="text-align:center">geoqMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~5</td></tr><tr><td style="text-align:center">openstreet 地图</td><td style="text-align:center">openstreetMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">不支持此参数</td></tr></tbody></table><ol><li>参数之间，用英文逗号相隔</li><li>参数必须按上述事例顺序输入，不得为空</li><li>同一个页面，同一组经纬度值，只能插入一个相同标签值的地图 (若有需要，可以将第二个地图上，经度或纬度末尾删除一两个数)</li><li>参数取值必须在上述范围内</li><li>默认图层：即地图叠加层的值，默认常规地图还是卫星地图，可按地图显示顺序取值</li><li>缩放等级，数字越大，地图比例尺越小，显示的越精细</li><li>除标签值外，其他参数选填，但 每个参数的左边的参数必填</li><li>谷歌地图需要外网才能加载查看</li></ol><p>坐标获取：<a href="https://lbs.amap.com/tools/picker">高德地图坐标拾取系统</a> 、<a href="https://api.map.baidu.com/lbsapi/getpoint/index.html">百度地图坐标拾取系统</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% map 120.101101,30.239119 %&#125;</span><br><span class="line">&#123;% googleMap 120.101101,30.239119, 这里是西湖灵隐寺，据说求姻缘很灵验哦！ %&#125;</span><br><span class="line">&#123;% geoqMap 120.101101,30.239119, 这里是西湖灵隐寺，据说求姻缘很灵验哦！, 13, 90%, 320px, 3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div class="map-box"><div id="map-120.101101-30.239119" style="max-width:100%; height:360px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div></div><script type="text/javascript">var normalm=L.tileLayer.chinaProvider('GaoDe.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imgm=L.tileLayer.chinaProvider('GaoDe.Satellite.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imga=L.tileLayer.chinaProvider('GaoDe.Satellite.Annotion',{maxZoom:20,minZoom:1,attribution:'Amap'});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'});routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1,attribution:'Google Maps'});var normalm1=L.tileLayer.chinaProvider('Geoq.Normal.Map',{maxZoom:21,minZoom:1,attribution:'GeoQ'});var normal=L.layerGroup([normalm]),image=L.layerGroup([imgm,imga]);var baseLayers={"高德地图":normal,"智图地图":normalm1,"谷歌地图":normalMap,"高德卫星地图":imgm,"谷歌卫星地图":satelliteMap,"高德卫星标注":image,"谷歌卫星标注":routeMap};var mymap=L.map('map-120.101101-30.239119',{center:[30.239119,120.101101],zoom:14,layers:[normal],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'放大',zoomOutTitle:'缩小'}).addTo(mymap);</script><br><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div id="googleMap-120.101101-30.239119" style="max-width:100%; height:360px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div><script type="text/javascript">var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:22,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:22,minZoom:1,attribution:'Google Maps'}),routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:22,minZoom:1,attribution:'Google Maps'});var baseLayers={"谷歌地图":normalMap,"谷歌卫星图":satelliteMap,"谷歌卫星标注": routeMap};var overlayLayers={};var mymap=L.map("googleMap-120.101101-30.239119",{center:[30.239119,120.101101],zoom:14,layers:[normalMap],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'放大',zoomOutTitle:'缩小'}).addTo(mymap);var marker = L.marker(['30.239119','120.101101']).addTo(mymap);marker.bindPopup("这里是西湖灵隐寺，据说求姻缘很灵验哦！").openPopup();</script><br><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div id="geoqMap-120.101101-30.239119" style="max-width:90%; height:320px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div><script type="text/javascript">var normalm1=L.tileLayer.chinaProvider('Geoq.Normal.Map',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm2=L.tileLayer.chinaProvider('Geoq.Normal.PurplishBlue',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm3=L.tileLayer.chinaProvider('Geoq.Normal.Gray',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm4=L.tileLayer.chinaProvider('Geoq.Normal.Warm',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm5=L.tileLayer.chinaProvider('Geoq.Theme.Hydro',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normal=L.layerGroup([normalm1,normalm2,normalm3,normalm4,normalm5]);var baseLayers={"智图地图":normalm1,"午夜蓝":normalm2,"灰色":normalm3,"暖色":normalm4,"水系":normalm5};var mymap=L.map("geoqMap-120.101101-30.239119",{center:[30.239119,120.101101],zoom:13,layers:[normalm3],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'放大',zoomOutTitle:'缩小'}).addTo(mymap);var marker = L.marker(['30.239119','120.101101']).addTo(mymap);marker.bindPopup("这里是西湖灵隐寺，据说求姻缘很灵验哦！").openPopup();</script><br><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-31-隐藏块">2.31 隐藏块</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% hideBlock display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li>content：要隐藏的内容</li><li>display：展示前按钮显示的文字（可选）</li><li>bg：按钮的背景颜色（可选）</li><li>color：按钮显示的文字的颜色（可选）</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% hideBlock 点我预览, blue %&#125;</span><br><span class="line">这里有张图片：</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://s1.vika.cn/space/2022/10/30/b35fce448bc9404a8d65c3ce1e6e46eb&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;image (1)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:67%;&quot;</span> /&gt;</span></span></span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class="hide-block"><button type="button" class="hide-button" style="background-color:  blue;">点我预览    </button><div class="hide-content"><p>这里有张图片：<br><img src="https://s1.vika.cn/space/2022/10/30/b35fce448bc9404a8d65c3ce1e6e46eb" alt="image (1)" style="zoom:67%;" /></p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
      
      
      <categories>
          
          <category> 演示 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> 外挂标签 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title></title>
      <link href="/manifest.json"/>
      <url>/manifest.json</url>
      
        <content type="html"><![CDATA[{"name":"FomalhautのBlog","short_name":"Fomalhaut🥝","theme_color":"#5fc4e6","background_color":"#5fc4e6","display":"standalone","scope":"/","start_url":"/","icons":[{"src":"/assets/gulp/siteicon/16.png","sizes":"16x16","type":"image/png"},{"src":"/assets/gulp/siteicon/32.png","sizes":"32x32","type":"image/png"},{"src":"/assets/gulp/siteicon/48.png","sizes":"48x48","type":"image/png"},{"src":"/assets/gulp/siteicon/64.png","sizes":"64x64","type":"image/png"},{"src":"/assets/gulp/siteicon/128.png","sizes":"128x128","type":"image/png"},{"src":"/assets/gulp/siteicon/144.png","sizes":"144x144","type":"image/png"},{"src":"/assets/gulp/siteicon/192.png","sizes":"192x192","type":"image/png"},{"src":"/assets/gulp/siteicon/512.png","sizes":"512x512","type":"image/png"}],"splash_pages":null}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>分类</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/live2d-widget-master/README.html"/>
      <url>/live2d-widget-master/README.html</url>
      
        <content type="html"><![CDATA[<h1>Live2D Widget 自用二改版</h1><p><img src="https://forthebadge.com/images/badges/built-with-love.svg" alt=""><br><img src="https://forthebadge.com/images/badges/uses-html.svg" alt=""><br><img src="https://forthebadge.com/images/badges/made-with-javascript.svg" alt=""><br><img src="https://forthebadge.com/images/badges/contains-cat-gifs.svg" alt=""><br><img src="https://forthebadge.com/images/badges/powered-by-electricity.svg" alt=""><br><img src="https://forthebadge.com/images/badges/makes-people-smile.svg" alt=""></p><h2 id="特性-Feature">特性 Feature</h2><p>在网页中添加 Live2D 看板娘。兼容 PJAX，支持无刷新加载。<br>Add Live2D widget to web page. Compatible with PJAX.</p><p><strong>警告：本项目使用了大量 ES6 语法，不支持 IE 11 等老旧浏览器。</strong><br><strong>WARNING: This project does not support legacy browsers such as IE 11.</strong></p><h2 id="示例-Demo">示例 Demo</h2><p>在<a href="https://zhangshuqiao.org">米米的博客</a>的左下角可查看效果。（注：以下人物模型仅供展示之用，本仓库并不包含任何模型。）</p><p><img src="assets/screenshot-2.png" width="280"><img src="assets/screenshot-3.png" width="280"><img src="assets/screenshot-1.png" width="270"></p><p>你也可以在允许的范围内进行二次开发，这里有一些示例</p><ul><li><a href="https://mi.js.org/live2d-widget/demo/demo.html">demo.html</a> ，展现基础效果</li><li><a href="https://mi.js.org/live2d-widget/demo/login.html">login.html</a> ，仿 NPM 的登陆界面</li></ul><h2 id="依赖-Dependencies">依赖 Dependencies</h2><p>本插件需要 Font Awesome (v4 或 v5) 图标支持，请确保相关样式表已在页面中加载。以 Font Awesome v4 为例，请在 <code>&lt;head&gt;</code> 中加入：<br>Font Awesome (v4 or v5) is required for this plugin. Take Font Awesome v4 as an example, please add the following in <code>&lt;head&gt;</code>:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>否则图标将无法正常显示。（如果网页中已经加载了任何版本的 Font Awesome，就不要重复加载了）</p><h2 id="使用-Usage">使用 Usage</h2><p>将这一行代码加入 <code>&lt;head&gt;</code> 或 <code>&lt;body&gt;</code>，即可展现出效果：</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果网站启用了 PJAX，由于看板娘不必每页刷新，因此要注意将相关脚本放到 PJAX 刷新区域之外。</p><p>换句话说，如果你是小白，或者只需要最基础的功能，就只用把这一行代码，连同前面加载 Font Awesome 的一行代码，一起放到 html 的 <code>&lt;head&gt;</code> 中即可。<br>对于用各种模版引擎（例如 Nunjucks，Jinja 或者 PHP）生成的页面，也要自行修改，方法类似，只是可能略为麻烦。以 <a href="https://hexo.io">Hexo</a> 为例，需要在主题相关的 ejs 或 njk 模版中正确配置路径，才可以加载。</p><p><strong>但是！我们强烈推荐自己进行配置，否则很多功能是不完整的，并且可能产生问题！</strong><br>如果你有兴趣自己折腾的话，请看下面的详细说明。</p><h3 id="Using-CDN">Using CDN</h3><p>要自定义有关内容，可以把这个仓库 Fork 一份，然后进行修改。这时，使用方法对应地变为</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/username/live2d-widget@latest/autoload.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>将此处的 <code>username</code> 替换为你的 GitHub 用户名。为了使 CDN 的内容正常刷新，需要创建新的 git tag 并推送至 GitHub 仓库中，否则此处的 <code>@latest</code> 仍然指向更新前的文件。此外 CDN 本身存在缓存，因此改动可能需要一定的时间生效。相关文档：</p><ul><li><a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">Git Basics - Tagging</a></li><li><a href="https://help.github.com/en/github/administering-a-repository/managing-releases-in-a-repository">Managing releases in a repository</a></li></ul><h3 id="Self-host">Self-host</h3><p>你也可以直接把这些文件放到服务器上，而不是通过 CDN 加载。</p><ul><li>如果你能够通过 <code>ssh</code> 访问你的主机，请把整个仓库克隆到服务器上。执行：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /path/to/your/webroot</span><br><span class="line"><span class="comment"># Clone this repository</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/stevenjoezhang/live2d-widget.git</span><br></pre></td></tr></table></figure></li><li>如果你的主机无法用 <code>ssh</code> 连接（例如一般的虚拟主机），请选择 <code>Download ZIP</code>，然后通过 <code>ftp</code> 等方式上传到主机上，再解压到网站的目录下。</li><li>如果你是通过 Hexo 等工具部署的静态博客，请在博客源文件（即 <code>source</code>）目录下，执行前述的 <code>git clone</code> 命令。重新部署博客时，相关文件就会自动上传到对应的路径下。为了避免这些文件被 Hexo 插件错误地修改，可能需要设置 <code>skip_render</code>。</li></ul><p>这样，整个项目就可以通过你的服务器 IP 或者域名从公网访问了。不妨试试能否正常地通过浏览器打开 <code>autoload.js</code> 和 <code>live2d.min.js</code> 等文件，并确认这些文件的内容是完整和正确的。<br>一切正常的话，接下来修改一些配置就行了。（需要通过服务器上的文本编辑器修改；你也可以先在本地完成这一步骤，再上传到服务器上）<br>修改 <code>autoload.js</code> 中的常量 <code>live2d_path</code> 为 <code>live2d-widget</code> 这一目录的 URL。比如说，如果你能够通过</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://example.com/path/to/live2d-widget/live2d.min.js</span><br></pre></td></tr></table></figure><p>访问到 <code>live2d.min.js</code>，那么就把 <code>live2d_path</code> 的值修改为</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://example.com/path/to/live2d-widget/</span><br></pre></td></tr></table></figure><p>路径末尾的 <code>/</code> 一定要加上。具体可以参考 <code>autoload.js</code> 内的注释。<br>完成后，在你要添加看板娘的界面加入</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://example.com/path/to/live2d-widget/autoload.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>就可以加载了。</p><h2 id="后端-API">后端 API</h2><p><code>initWidget</code> 方法接受名为 <code>apiPath</code> 和 <code>cdnPath</code> 的参数，两者设置其中一项即可。其中 <code>apiPath</code> 为后端 API 的 URL，可以自行搭建，并增加模型（需要修改的内容比较多，此处不再赘述）。而 <code>cdnPath</code> 则是通过 jsDelivr 这样的 CDN 服务加载资源，更加稳定。</p><h2 id="目录结构-Files">目录结构 Files</h2><ul><li><code>waifu-tips.js</code> 包含了按钮和对话框的逻辑；</li><li><code>waifu-tips.json</code> 中定义了触发条件（<code>selector</code>，CSS 选择器）和触发时显示的文字（<code>text</code>）；</li><li><code>waifu.css</code> 是看板娘的样式表。</li></ul><p>源文件是对 Hexo 的 <a href="http://github.com/next-theme/hexo-theme-next">NexT 主题</a>有效的，为了适用于你自己的网页，可能需要自行修改，或增加新内容。<br><strong>警告：作者不对包括但不限于 <code>waifu-tips.js</code> 和 <code>waifu-tips.json</code> 文件中的内容负责，请自行确保它们是合适的。</strong></p><p>如果有任何疑问，欢迎提 Issue。如果有任何修改建议，欢迎提 Pull Request。</p><h2 id="鸣谢-Thanks">鸣谢 Thanks</h2><p><a href="https://www.browserstack.com/"><img height="80" src="https://live.browserstack.com/images/opensource/browserstack-logo.svg" alt="BrowserStack Logo"></a></p><blockquote><p>感谢 BrowserStack 容许我们在真实的浏览器中测试此项目。<br>Thanks to <a href="https://www.browserstack.com/">BrowserStack</a> for providing the infrastructure that allows us to test in real browsers!</p></blockquote><p><a href="https://www.jsdelivr.com"><img height="80" src="https://raw.githubusercontent.com/jsdelivr/jsdelivr-media/master/default/svg/jsdelivr-logo-horizontal.svg"></a></p><blockquote><p>感谢 jsDelivr 提供的 CDN 服务。<br>Thanks jsDelivr for providing public CDN service.</p></blockquote><p>代码自这篇博文魔改而来：<br><a href="https://www.fghrsh.net/post/123.html">https://www.fghrsh.net/post/123.html</a></p><p>点击看板娘的纸飞机按钮时，会出现一个彩蛋，这来自于 <a href="http://www.websiteasteroids.com">WebsiteAsteroids</a>。</p><h2 id="更多-More">更多 More</h2><p>更多内容可以参考：<br><a href="https://imjad.cn/archives/lab/add-dynamic-poster-girl-with-live2d-to-your-blog-02">https://imjad.cn/archives/lab/add-dynamic-poster-girl-with-live2d-to-your-blog-02</a><br><a href="https://github.com/xiazeyu/live2d-widget.js">https://github.com/xiazeyu/live2d-widget.js</a><br><a href="https://github.com/summerscar/live2dDemo">https://github.com/summerscar/live2dDemo</a></p><p>关于后端 API 模型：<br><a href="https://github.com/fghrsh/live2d_api">https://github.com/fghrsh/live2d_api</a><br><a href="https://github.com/xiazeyu/live2d-widget-models">https://github.com/xiazeyu/live2d-widget-models</a><br><a href="https://github.com/xiaoski/live2d_models_collection">https://github.com/xiaoski/live2d_models_collection</a></p><p>除此之外，还有桌面版本：<br><a href="https://github.com/amorist/platelet">https://github.com/amorist/platelet</a><br><a href="https://github.com/akiroz/Live2D-Widget">https://github.com/akiroz/Live2D-Widget</a><br><a href="https://github.com/zenghongtu/PPet">https://github.com/zenghongtu/PPet</a><br><a href="https://github.com/LikeNeko/L2dPetForMac">https://github.com/LikeNeko/L2dPetForMac</a></p><p>以及 Wallpaper Engine：<br><a href="https://github.com/guansss/nep-live2d">https://github.com/guansss/nep-live2d</a></p><h2 id="许可证-License">许可证 License</h2><p>Released under the GNU General Public License v3<br><a href="http://www.gnu.org/licenses/gpl-3.0.html">http://www.gnu.org/licenses/gpl-3.0.html</a></p><p>本仓库并不包含任何模型，用作展示的所有 Live2D 模型、图片、动作数据等版权均属于其原作者，仅供研究学习，不得用于商业用途。</p><p>Live2D 官方网站：<br><a href="https://www.live2d.com/en/">https://www.live2d.com/en/</a><br><a href="https://live2d.github.io">https://live2d.github.io</a></p><p>Live2D Cubism Core は Live2D Proprietary Software License で提供しています。<br><a href="https://www.live2d.com/eula/live2d-proprietary-software-license-agreement_en.html">https://www.live2d.com/eula/live2d-proprietary-software-license-agreement_en.html</a><br>Live2D Cubism Components は Live2D Open Software License で提供しています。<br><a href="http://www.live2d.com/eula/live2d-open-software-license-agreement_en.html">http://www.live2d.com/eula/live2d-open-software-license-agreement_en.html</a></p><blockquote><p>The terms and conditions do prohibit modification, but obfuscating in <code>live2d.min.js</code> would not be considered illegal modification.</p></blockquote><p><a href="https://community.live2d.com/discussion/140/webgl-developer-licence-and-javascript-question">https://community.live2d.com/discussion/140/webgl-developer-licence-and-javascript-question</a></p><h2 id="更新-Update">更新 Update</h2><p>2018年10月31日，由 fghrsh 提供的原 API 停用，请更新至新地址。参考文章：<br><a href="https://www.fghrsh.net/post/170.html">https://www.fghrsh.net/post/170.html</a></p><p>2020年1月1日起，本项目不再依赖于 jQuery。</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/live2d-widget-master/autoload.js"/>
      <url>/live2d-widget-master/autoload.js</url>
      
        <content type="html"><![CDATA[// 注意：live2d_path 参数应使用绝对路径const live2d_path = "https://gitee.com/coolsong-self/live2d-widget/";//const live2d_path = "/live2d-widget/";// 封装异步加载资源的方法function loadExternalResource(url, type) {return new Promise((resolve, reject) => {let tag;if (type === "css") {tag = document.createElement("link");tag.rel = "stylesheet";tag.href = url;}else if (type === "js") {tag = document.createElement("script");tag.src = url;}if (tag) {tag.onload = () => resolve(url);tag.onerror = () => reject(url);document.head.appendChild(tag);}});}// 加载 waifu.css live2d.min.js waifu-tips.jsif (screen.width >= 768) {if (screen.width >= 100) {Promise.all([loadExternalResource(live2d_path + "waifu.css", "css"),loadExternalResource(live2d_path + "live2d.min.js", "js"),loadExternalResource(live2d_path + "waifu-tips.js", "js")]).then(() => {initWidget({waifuPath: live2d_path + "waifu-tips.json",//apiPath: "https://live2d.fghrsh.net/api/",cdnPath: "https://gitee.com/coolsong-self/live2d_api/"});});}}// initWidget 第一个参数为 waifu-tips.json 的路径，第二个参数为 API 地址// API 后端可自行搭建，参考 https://github.com/fghrsh/live2d_api// 初始化看板娘会自动加载指定目录下的 waifu-tips.jsonconsole.log(`  く__,.ヘヽ.        /  ,ー､ 〉           ＼ ', !-─‐-i  /  /´           ／｀ｰ'       L/／｀ヽ､         /   ／,   /|   ,   ,       ',       ｲ   / /-‐/  ｉ  L_ ﾊ ヽ!   i        ﾚ ﾍ 7ｲ｀ﾄ   ﾚ'ｧ-ﾄ､!ハ|   |          !,/7 '0'     ´0iソ|    |          |.从"    _     ,,,, / |./    |          ﾚ'| i＞.､,,__  _,.イ /   .i   |            ﾚ'| | / k_７_/ﾚ'ヽ,  ﾊ.  |              | |/i 〈|/   i  ,.ﾍ |  i  |             .|/ /  ｉ：    ﾍ!    ＼  |              kヽ>､ﾊ    _,.ﾍ､    /､!              !'〈//｀Ｔ´', ＼ ｀'7'ｰr'              ﾚ'ヽL__|___i,___,ンﾚ|ノ                  ﾄ-,/  |___./                  'ｰ'    !_,.:`);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/live2d-widget-master/waifu-tips.js"/>
      <url>/live2d-widget-master/waifu-tips.js</url>
      
        <content type="html"><![CDATA[/* * Live2D Widget * https://github.com/stevenjoezhang/live2d-widget */function loadWidget(config) {let { waifuPath, apiPath, cdnPath } = config;let useCDN = false, modelList;if (typeof cdnPath === "string") {useCDN = true;if (!cdnPath.endsWith("/")) cdnPath += "/";} else if (typeof apiPath === "string") {if (!apiPath.endsWith("/")) apiPath += "/";} else {console.error("Invalid initWidget argument!");return;}localStorage.removeItem("waifu-display");sessionStorage.removeItem("waifu-text");document.body.insertAdjacentHTML("beforeend", `<div id="waifu"><div id="waifu-tips"></div><canvas id="live2d" width="800" height="800"></canvas><div id="waifu-tool"><span class="fa fa-lg fa-comment"></span><span class="fa fa-lg fa-paper-plane"></span><span class="fa fa-lg fa-user-circle"></span><span class="fa fa-lg fa-street-view"></span><span class="fa fa-lg fa-camera-retro"></span><span class="fa fa-lg fa-info-circle"></span><span class="fa fa-lg fa-times"></span></div></div>`);// https://stackoverflow.com/questions/24148403/trigger-css-transition-on-appended-elementsetTimeout(() => {document.getElementById("waifu").style.bottom = 0;}, 0);function randomSelection(obj) {return Array.isArray(obj) ? obj[Math.floor(Math.random() * obj.length)] : obj;}// 检测用户活动状态，并在空闲时显示消息let userAction = false,userActionTimer,messageTimer,messageArray = ["好久不见，日子过得好快呢……", "大坏蛋！你都多久没理人家了呀，嘤嘤嘤～", "嗨～快来逗我玩吧！", "拿小拳拳锤你胸口！", "记得把小家加入 Adblock 白名单哦！"];window.addEventListener("mousemove", () => userAction = true);window.addEventListener("keydown", () => userAction = true);setInterval(() => {if (userAction) {userAction = false;clearInterval(userActionTimer);userActionTimer = null;} else if (!userActionTimer) {userActionTimer = setInterval(() => {showMessage(randomSelection(messageArray), 6000, 9);}, 20000);}}, 1000);(function registerEventListener() {document.querySelector("#waifu-tool .fa-comment").addEventListener("click", showHitokoto);document.querySelector("#waifu-tool .fa-paper-plane").addEventListener("click", () => {if (window.Asteroids) {if (!window.ASTEROIDSPLAYERS) window.ASTEROIDSPLAYERS = [];window.ASTEROIDSPLAYERS.push(new Asteroids());} else {const script = document.createElement("script");script.src = "https://cdn.jsdelivr.net/gh/stevenjoezhang/asteroids/asteroids.js";document.head.appendChild(script);}});document.querySelector("#waifu-tool .fa-user-circle").addEventListener("click", loadOtherModel);document.querySelector("#waifu-tool .fa-street-view").addEventListener("click", loadRandModel);document.querySelector("#waifu-tool .fa-camera-retro").addEventListener("click", () => {showMessage("照好了嘛，是不是很可爱呢？", 6000, 9);Live2D.captureName = "photo.png";Live2D.captureFrame = true;});document.querySelector("#waifu-tool .fa-info-circle").addEventListener("click", () => {open("https://github.com/stevenjoezhang/live2d-widget");});document.querySelector("#waifu-tool .fa-times").addEventListener("click", () => {localStorage.setItem("waifu-display", Date.now());showMessage("愿你有一天能与重要的人重逢。", 2000, 11);document.getElementById("waifu").style.bottom = "-500px";setTimeout(() => {document.getElementById("waifu").style.display = "none";document.getElementById("waifu-toggle").classList.add("waifu-toggle-active");}, 3000);});const devtools = () => {};console.log("%c", devtools);devtools.toString = () => {showMessage("哈哈，你打开了控制台，是想要看看我的小秘密吗？", 6000, 9);};window.addEventListener("copy", () => {showMessage("你都复制了些什么呀，转载要记得加上出处哦！", 6000, 9);});window.addEventListener("visibilitychange", () => {if (!document.hidden) showMessage("哇，你终于回来了～", 6000, 9);});})();(function welcomeMessage() {let text;if (location.pathname === "/") { // 如果是主页const now = new Date().getHours();if (now > 5 && now <= 7) text = "早上好！一日之计在于晨，美好的一天就要开始了。";else if (now > 7 && now <= 11) text = "上午好！工作顺利嘛，不要久坐，多起来走动走动哦！";else if (now > 11 && now <= 13) text = "中午了，工作了一个上午，现在是午餐时间！";else if (now > 13 && now <= 17) text = "午后很容易犯困呢，今天的运动目标完成了吗？";else if (now > 17 && now <= 19) text = "傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红～";else if (now > 19 && now <= 21) text = "晚上好，今天过得怎么样？";else if (now > 21 && now <= 23) text = ["已经这么晚了呀，早点休息吧，晚安～", "深夜时要爱护眼睛呀！"];else text = "你是夜猫子呀？这么晚还不睡觉，明天起的来嘛？";} else if (document.referrer !== "") {const referrer = new URL(document.referrer),domain = referrer.hostname.split(".")[1];if (location.hostname === referrer.hostname) text = `欢迎浏览<span>「${document.title.split(" - ")[0]}」</span>`;else if (domain === "baidu") text = `Hello！来自 百度搜索 的朋友<br>你是搜索 <span>${referrer.search.split("&wd=")[1].split("&")[0]}</span> 找到的我吗？`;else if (domain === "so") text = `Hello！来自 360搜索 的朋友<br>你是搜索 <span>${referrer.search.split("&q=")[1].split("&")[0]}</span> 找到的我吗？`;else if (domain === "google") text = `Hello！来自 谷歌搜索 的朋友<br>欢迎浏览<span>「${document.title.split(" - ")[0]}」</span>`;else text = `Hello！来自 <span>${referrer.hostname}</span> 的朋友`;} else {text = `欢迎浏览<span>「${document.title.split(" - ")[0]}」</span>`;}showMessage(text, 7000, 8);})();function showHitokoto() {// 增加 hitokoto.cn 的 APIfetch("https://v1.hitokoto.cn").then(response => response.json()).then(result => {const text = `来自 <span>「${result.from}」</span>，是 <span>${result.creator}</span> 在 hitokoto.cn 投稿的。`;showMessage(result.hitokoto, 6000, 9);setTimeout(() => {showMessage(text, 4000, 9);}, 6000);});}function showMessage(text, timeout, priority) {if (!text || (sessionStorage.getItem("waifu-text") && sessionStorage.getItem("waifu-text") > priority)) return;if (messageTimer) {clearTimeout(messageTimer);messageTimer = null;}text = randomSelection(text);sessionStorage.setItem("waifu-text", priority);const tips = document.getElementById("waifu-tips");tips.innerHTML = text;tips.classList.add("waifu-tips-active");messageTimer = setTimeout(() => {sessionStorage.removeItem("waifu-text");tips.classList.remove("waifu-tips-active");}, timeout);}(function initModel() {let modelId = localStorage.getItem("modelId"),modelTexturesId = localStorage.getItem("modelTexturesId");if (modelId === null) {// 首次访问加载 指定模型 的 指定材质modelId = 1; // 模型 IDmodelTexturesId = 1; // 材质 ID}loadModel(modelId, modelTexturesId);fetch(waifuPath).then(response => response.json()).then(result => {window.addEventListener("mouseover", event => {for (let { selector, text } of result.mouseover) {if (!event.target.matches(selector)) continue;text = randomSelection(text);text = text.replace("{text}", event.target.innerText);showMessage(text, 4000, 8);return;}});window.addEventListener("click", event => {for (let { selector, text } of result.click) {if (!event.target.matches(selector)) continue;text = randomSelection(text);text = text.replace("{text}", event.target.innerText);showMessage(text, 4000, 8);return;}});result.seasons.forEach(({ date, text }) => {const now = new Date(),after = date.split("-")[0],before = date.split("-")[1] || after;if ((after.split("/")[0] <= now.getMonth() + 1 && now.getMonth() + 1 <= before.split("/")[0]) && (after.split("/")[1] <= now.getDate() && now.getDate() <= before.split("/")[1])) {text = randomSelection(text);text = text.replace("{year}", now.getFullYear());//showMessage(text, 7000, true);messageArray.push(text);}});});})();async function loadModelList() {const response = await fetch(`${cdnPath}model_list.json`);modelList = await response.json();}async function loadModel(modelId, modelTexturesId, message) {localStorage.setItem("modelId", modelId);localStorage.setItem("modelTexturesId", modelTexturesId);showMessage(message, 4000, 10);if (useCDN) {if (!modelList) await loadModelList();const target = randomSelection(modelList.models[modelId]);loadlive2d("live2d", `${cdnPath}model/${target}/index.json`);} else {loadlive2d("live2d", `${apiPath}get/?id=${modelId}-${modelTexturesId}`);console.log(`Live2D 模型 ${modelId}-${modelTexturesId} 加载完成`);}}async function loadRandModel() {const modelId = localStorage.getItem("modelId"),modelTexturesId = localStorage.getItem("modelTexturesId");if (useCDN) {if (!modelList) await loadModelList();const target = randomSelection(modelList.models[modelId]);loadlive2d("live2d", `${cdnPath}model/${target}/index.json`);showMessage("我的新衣服好看嘛？", 4000, 10);} else {// 可选 "rand"(随机), "switch"(顺序)fetch(`${apiPath}rand_textures/?id=${modelId}-${modelTexturesId}`).then(response => response.json()).then(result => {if (result.textures.id === 1 && (modelTexturesId === 1 || modelTexturesId === 0)) showMessage("我还没有其他衣服呢！", 4000, 10);else loadModel(modelId, result.textures.id, "我的新衣服好看嘛？");});}}async function loadOtherModel() {let modelId = localStorage.getItem("modelId");if (useCDN) {if (!modelList) await loadModelList();const index = (++modelId >= modelList.models.length) ? 0 : modelId;loadModel(index, 0, modelList.messages[index]);} else {fetch(`${apiPath}switch/?id=${modelId}`).then(response => response.json()).then(result => {loadModel(result.model.id, 0, result.model.message);});}}}function initWidget(config, apiPath) {if (typeof config === "string") {config = {waifuPath: config,apiPath};}document.body.insertAdjacentHTML("beforeend", `<div id="waifu-toggle"><span>看板娘</span></div>`);const toggle = document.getElementById("waifu-toggle");toggle.addEventListener("click", () => {toggle.classList.remove("waifu-toggle-active");if (toggle.getAttribute("first-time")) {loadWidget(config);toggle.removeAttribute("first-time");} else {localStorage.removeItem("waifu-display");document.getElementById("waifu").style.display = "";setTimeout(() => {document.getElementById("waifu").style.bottom = 0;}, 0);}});if (localStorage.getItem("waifu-display") && Date.now() - localStorage.getItem("waifu-display") <= 86400000) {toggle.setAttribute("first-time", true);setTimeout(() => {toggle.classList.add("waifu-toggle-active");}, 0);} else {loadWidget(config);}}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/live2d-widget-master/waifu-tips.json"/>
      <url>/live2d-widget-master/waifu-tips.json</url>
      
        <content type="html"><![CDATA[{"mouseover":[{"selector":"#live2d","text":["干嘛呢你，快把手拿开～～","鼠…鼠标放错地方了！","你要干嘛呀？","喵喵喵？","怕怕(ノ≧∇≦)ノ","非礼呀！救命！","这样的话，只能使用武力了！","我要生气了哦","不要动手动脚的！","真…真的是不知羞耻！","Hentai！"]},{"selector":"#waifu-tool .fa-comment","text":["猜猜我要说些什么？","我从青蛙王子那里听到了不少人生经验。"]},{"selector":"#waifu-tool .fa-paper-plane","text":["要不要来玩飞机大战？","这个按钮上写着「不要点击」。","怎么，你想来和我玩个游戏？","听说这样可以蹦迪！"]},{"selector":"#waifu-tool .fa-user-circle","text":["你是不是不爱人家了呀，呜呜呜～","要见见我的姐姐嘛？","想要看我妹妹嘛？","要切换看板娘吗？"]},{"selector":"#waifu-tool .fa-street-view","text":["喜欢换装 PLAY 吗？","这次要扮演什么呢？","变装！","让我们看看接下来会发生什么！"]},{"selector":"#waifu-tool .fa-camera-retro","text":["你要给我拍照呀？一二三～茄子～","要不，我们来合影吧！","保持微笑就好了～"]},{"selector":"#waifu-tool .fa-info-circle","text":["想要知道更多关于我的事么？","这里记录着我搬家的历史呢。","你想深入了解我什么呢？"]},{"selector":"#waifu-tool .fa-times","text":["到了要说再见的时候了吗？","呜呜 QAQ 后会有期……","不要抛弃我呀……","我们，还能再见面吗……","哼，你会后悔的！"]},{"selector":".menu-item-home a","text":["点击前往首页，想回到上一页可以使用浏览器的后退功能哦。","点它就可以回到首页啦！","回首页看看吧。"]},{"selector":".menu-item-about a","text":["你想知道我家主人是谁吗？","这里有一些关于我家主人的秘密哦，要不要看看呢？","发现主人出没地点！"]},{"selector":".menu-item-tags a","text":["点击就可以看文章的标签啦！","点击来查看所有标签哦。"]},{"selector":".menu-item-categories a","text":["文章都分类好啦～","点击来查看文章分类哦。"]},{"selector":".menu-item-archives a","text":["翻页比较麻烦吗，那就来看看文章归档吧。","文章目录都整理在这里啦！"]},{"selector":".menu-item-friends a","text":["这是我的朋友们哦ヾ(◍°∇°◍)ﾉﾞ","要去大佬们的家看看吗？","要去拜访一下我的朋友们吗？"]},{"selector":".menu-item-search a","text":["找不到想看的内容？搜索看看吧！","在找什么东西呢，需要帮忙吗？"]},{"selector":".menu-item a","text":["快看看这里都有什么呢？"]},{"selector":".site-author","text":["我家主人好看吗？","这是我家主人(*´∇｀*)"]},{"selector":".site-state","text":["这是文章的统计信息～","要不要点进去看看？"]},{"selector":".feed-link a","text":["这里可以使用 RSS 订阅呢！","利用 feed 订阅器，就能快速知道博客有没有更新了呢。"]},{"selector":".cc-opacity, .post-copyright-author","text":["要记得规范转载哦。","所有文章均采用 CC BY-SA 4.0 许可协议～","转载前要先注意下文章的版权协议呢。"]},{"selector":".links-of-author","text":["这里是主人的常驻地址哦。","这里有主人的联系方式！"]},{"selector":".followme","text":["手机扫一下就能继续看，很方便呢～","扫一扫，打开新世界的大门！"]},{"selector":".fancybox img, img.medium-zoom-image","text":["点击图片可以放大呢！"]},{"selector":".copy-btn","text":["代码可以直接点击复制哟。"]},{"selector":".highlight .table-container, .gist","text":["GitHub！我是新手！","PHP 是最好的语言！"]},{"selector":"a[href^='mailto']","text":["邮件我会及时回复的！","点击就可以发送邮件啦～"]},{"selector":"a[href^='/tags/']","text":["要去看看 <span>{text}</span> 标签么？","点它可以查看此标签下的所有文章哟！"]},{"selector":"a[href^='/categories/']","text":["要去看看 <span>{text}</span> 分类么？","点它可以查看此分类下的所有文章哟！"]},{"selector":".post-title-link","text":["要看看 <span>{text}</span> 这篇文章吗？"]},{"selector":"a[rel='contents']","text":["点击来阅读全文哦。"]},{"selector":"a[itemprop='discussionUrl']","text":["要去看看评论吗？"]},{"selector":"#icp","text":["我也是有户口的人哦。","我的主人可是遵纪守法的好主人。"]},{"selector":".container a[href^='http'], .nav-link .nav-text","text":["要去看看 <span>{text}</span> 么？","去 <span>{text}</span> 逛逛吧。","到 <span>{text}</span> 看看吧。"]},{"selector":".backTop","text":["点它就可以回到顶部啦！","又回到最初的起点～","要回到开始的地方么？"]},{"selector":".reward","text":["我是不是棒棒哒～快给我点赞吧！","要打赏我嘛？好期待啊～","主人最近在吃土呢，很辛苦的样子，给他一些钱钱吧～"]},{"selector":".card-webinfo","text":["QwQ才这点访问量，帮主人宣传一下吧＞﹏＜"]},{"selector":"#github","text":["Github! Yes!","Gayhub!（雾"]},{"selector":"#yiyan","text":["不错的一句话呢～"]},{"selector":"#poem","text":["经典的诗句可不能忘～"]},{"selector":"#music","text":["音乐总能治愈人心呢～","听首歌吧～"]},{"selector":"#qq","text":["主人的企鹅账号耶～"]},{"selector":"#avatar","text":["主人的头像呢～"]},{"selector":"#wechatpay","text":["这是我的微信二维码～"]},{"selector":"#alipay","text":["这是我的支付宝哦！"]},{"selector":"#ermb","text":["这是我的数字人民币钱包！"]},{"selector":"#donate","text":["要打赏我嘛？好期待啊～","主人最近在吃土呢，很辛苦的样子，给他一些钱钱吧～"]},{"selector":".btn","text":["噢？一个按钮耶","按了会通向什么地方呢？"]},{"selector":".need-share-button_weibo","text":["微博？来分享一波喵！"]},{"selector":".need-share-button_wechat","text":["分享到微信吧！"]},{"selector":".need-share-button_douban","text":["分享到豆瓣好像也不错！"]},{"selector":".need-share-button_qqzone","text":["QQ 空间，一键转发，耶～"]},{"selector":"#twitter","text":["Twitter？好像是不存在的东西？"]},{"selector":"#facebook","text":["emmm…FB 好像也是不存在的东西？"]},{"selector":"#telegram","text":["Telegram？长得像个纸飞机呢～"]},{"selector":"#bilibili","text":["哔哩哔哩 (゜-゜)つロ 乾杯~","我们可能会___，绝不会___！"]},{"selector":"#cloud_music","text":["来云村找我玩噢～"]},{"selector":".post-nav-item a[rel='next']","text":["来看看下一篇文章吧。","点它可以看下一篇文章哦！","要翻到下一篇文章吗？"]},{"selector":".post-nav-item a[rel='prev']","text":["来看看上一篇文章吧。","点它可以看上一篇文章哦！","要翻到上一篇文章吗？"]},{"selector":".extend.next","text":["去下一页看看吧。","点它可以前进哦！","要翻到下一页吗？"]},{"selector":".extend.prev","text":["去上一页看看吧。","点它可以后退哦！","要翻到上一页吗？"]},{"selector":"input.vnick","text":["该怎么称呼你呢？","留下你的尊姓大名！"]},{"selector":".vmail","text":["留下你的邮箱，不然就是无头像人士了！","记得设置好 Gravatar 头像哦！","为了方便通知你最新消息，一定要留下邮箱！"]},{"selector":".vlink","text":["快快告诉我你的家在哪里，好让我去参观参观！"]},{"selector":".veditor","text":["想要去评论些什么吗？","要说点什么吗？","觉得博客不错？快来留言和主人交流吧！"]},{"selector":".vcontrol a","text":["你会不会熟练使用 Markdown 呀？","使用 Markdown 让评论更美观吧～"]},{"selector":".vemoji-btn","text":["要插入一个萌萌哒的表情吗？","要来一发表情吗？"]},{"selector":".vpreview-btn","text":["要预览一下你的发言吗？","快看看你的评论有多少负熵！"]},{"selector":".vsubmit","text":["评论没有审核，要对自己的发言负责哦～","要提交了吗，请耐心等待回复哦～"]},{"selector":".vcontent","text":["哇，快看看这个精彩评论！","如果有疑问，请尽快留言哦～"]}],"click":[{"selector":"#live2d","text":["再摸的话我可要报警了！⌇●﹏●⌇","110 吗，这里有个变态一直在摸我(ó﹏ò｡)","不要摸我了，我会告诉主人来打你的！","干嘛动我呀！小心我咬你！","别摸我，有什么好摸的！"]},{"selector":".veditor","text":["要吐槽些什么呢？","一定要认真填写喵～","有什么想说的吗？"]},{"selector":".vsubmit","text":["输入验证码就可以提交评论啦～"]}],"seasons":[{"date":"01/01","text":"<span>元旦</span>了呢，新的一年又开始了，今年是{year}年～"},{"date":"02/14","text":"又是一年<span>情人节</span>，{year}年找到对象了嘛～"},{"date":"03/08","text":"今天是<span>国际妇女节</span>！"},{"date":"03/12","text":"今天是<span>植树节</span>，要保护环境呀！"},{"date":"04/01","text":"悄悄告诉你一个秘密～<span>今天是愚人节，不要被骗了哦～</span>"},{"date":"05/01","text":"今天是<span>五一劳动节</span>，计划好假期去哪里了吗～"},{"date":"06/01","text":"<span>儿童节</span>了呢，快活的时光总是短暂，要是永远长不大该多好啊…"},{"date":"09/03","text":"<span>中国人民抗日战争胜利纪念日</span>，铭记历史、缅怀先烈、珍爱和平、开创未来。"},{"date":"09/10","text":"<span>教师节</span>，在学校要给老师问声好呀～"},{"date":"09/14","text":"<span>生日</span>，今天是主人的生日呢！"},{"date":"10/01","text":"<span>国庆节</span>到了，为祖国母亲庆生！"},{"date":"11/05-11/12","text":"今年的<span>双十一</span>是和谁一起过的呢～"},{"date":"12/20-12/31","text":"这几天是<span>圣诞节</span>，主人肯定又去剁手买买买了～"}]}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/live2d-widget-master/waifu.css"/>
      <url>/live2d-widget-master/waifu.css</url>
      
        <content type="html"><![CDATA[#waifu-toggle {background-color: #448aff;border-radius: 5px;bottom: 66px;color: #fff;cursor: pointer;font-size: 12px;left: 0;margin-left: -100px;padding: 5px 2px 5px 5px;position: fixed;transition: margin-left 1s;width: 60px;writing-mode: vertical-rl;}#waifu-toggle.waifu-toggle-active {margin-left: -50px;}#waifu-toggle.waifu-toggle-active:hover {margin-left: -30px;}#waifu {bottom: -1000px;left: 0;line-height: 0;margin-bottom: -10px;position: fixed;transform: translateY(3px);transition: transform .3s ease-in-out, bottom 3s ease-in-out;z-index: 1;}#waifu:hover {transform: translateY(0);}#waifu-tips {animation: shake 50s ease-in-out 5s infinite;background-color: rgba(68, 138, 255, .5);border: 1px solid rgba(68, 137, 255, .7);border-radius: 12px;box-shadow: 0 3px 15px 2px rgba(68, 138, 255, .2);color: white;font-size: 14px;line-height: 24px;margin: -30px 20px;min-height: 70px;opacity: 0;overflow: hidden;padding: 5px 10px;position: absolute;text-overflow: ellipsis;transition: opacity 1s;width: 250px;word-break: break-all;}#waifu-tips.waifu-tips-active {opacity: 1;transition: opacity .2s;}#waifu-tips .fa-lg {color: #448aff;}#live2d {cursor: grab;height: 300px;position: relative;width: 300px;}#live2d:active {cursor: grabbing;}#waifu-tool {color: #aaa;opacity: 0;position: absolute;right: -10px;top: 70px;transition: opacity 1s;}#waifu:hover #waifu-tool {opacity: 1;}#waifu-tool .fa-lg {color: #7b8c9d;cursor: pointer;display: block;height: 30px;text-align: center;transition: color .3s;}#waifu-tool .fa-lg:hover {color: #448aff; /* #34495e */}@keyframes shake {2% {transform: translate(.5px, -1.5px) rotate(-.5deg);}4% {transform: translate(.5px, 1.5px) rotate(1.5deg);}6% {transform: translate(1.5px, 1.5px) rotate(1.5deg);}8% {transform: translate(2.5px, 1.5px) rotate(.5deg);}10% {transform: translate(.5px, 2.5px) rotate(.5deg);}12% {transform: translate(1.5px, 1.5px) rotate(.5deg);}14% {transform: translate(.5px, .5px) rotate(.5deg);}16% {transform: translate(-1.5px, -.5px) rotate(1.5deg);}18% {transform: translate(.5px, .5px) rotate(1.5deg);}20% {transform: translate(2.5px, 2.5px) rotate(1.5deg);}22% {transform: translate(.5px, -1.5px) rotate(1.5deg);}24% {transform: translate(-1.5px, 1.5px) rotate(-.5deg);}26% {transform: translate(1.5px, .5px) rotate(1.5deg);}28% {transform: translate(-.5px, -.5px) rotate(-.5deg);}30% {transform: translate(1.5px, -.5px) rotate(-.5deg);}32% {transform: translate(2.5px, -1.5px) rotate(1.5deg);}34% {transform: translate(2.5px, 2.5px) rotate(-.5deg);}36% {transform: translate(.5px, -1.5px) rotate(.5deg);}38% {transform: translate(2.5px, -.5px) rotate(-.5deg);}40% {transform: translate(-.5px, 2.5px) rotate(.5deg);}42% {transform: translate(-1.5px, 2.5px) rotate(.5deg);}44% {transform: translate(-1.5px, 1.5px) rotate(.5deg);}46% {transform: translate(1.5px, -.5px) rotate(-.5deg);}48% {transform: translate(2.5px, -.5px) rotate(.5deg);}50% {transform: translate(-1.5px, 1.5px) rotate(.5deg);}52% {transform: translate(-.5px, 1.5px) rotate(.5deg);}54% {transform: translate(-1.5px, 1.5px) rotate(.5deg);}56% {transform: translate(.5px, 2.5px) rotate(1.5deg);}58% {transform: translate(2.5px, 2.5px) rotate(.5deg);}60% {transform: translate(2.5px, -1.5px) rotate(1.5deg);}62% {transform: translate(-1.5px, .5px) rotate(1.5deg);}64% {transform: translate(-1.5px, 1.5px) rotate(1.5deg);}66% {transform: translate(.5px, 2.5px) rotate(1.5deg);}68% {transform: translate(2.5px, -1.5px) rotate(1.5deg);}70% {transform: translate(2.5px, 2.5px) rotate(.5deg);}72% {transform: translate(-.5px, -1.5px) rotate(1.5deg);}74% {transform: translate(-1.5px, 2.5px) rotate(1.5deg);}76% {transform: translate(-1.5px, 2.5px) rotate(1.5deg);}78% {transform: translate(-1.5px, 2.5px) rotate(.5deg);}80% {transform: translate(-1.5px, .5px) rotate(-.5deg);}82% {transform: translate(-1.5px, .5px) rotate(-.5deg);}84% {transform: translate(-.5px, .5px) rotate(1.5deg);}86% {transform: translate(2.5px, 1.5px) rotate(.5deg);}88% {transform: translate(-1.5px, .5px) rotate(1.5deg);}90% {transform: translate(-1.5px, -.5px) rotate(-.5deg);}92% {transform: translate(-1.5px, -1.5px) rotate(1.5deg);}94% {transform: translate(.5px, .5px) rotate(-.5deg);}96% {transform: translate(2.5px, -.5px) rotate(-.5deg);}98% {transform: translate(-1.5px, -1.5px) rotate(-.5deg);}0%, 100% {transform: translate(0, 0) rotate(0);}}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>标签</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>画廊</title>
      <link href="/box/Gallery/index.html"/>
      <url>/box/Gallery/index.html</url>
      
        <content type="html"><![CDATA[<div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/img/default_cover_61.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">封面专区</div>  <p>本站用作文章封面的图片，不保证分辨率</p>  <a href='/box/Gallery/photo'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/img/dm11.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">背景专区</div>  <p>收藏的一些的背景与壁纸，分辨率很高</p>  <a href='/box/Gallery/wallpaper'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://pic.imgdb.cn/item/63312f9316f2c2beb1736dbe.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">搜图神器</div>  <p>放大用户搜图在日常工作图的效率，成为图神必备</p>  <a href='http://www.soutushenqi.com/'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://img2.huashi6.com/images/resource/thumbnail/2022/08/20/21109_946677660.jpg?imageMogr2/quality/100/interlace/1/thumbnail/2000x%3E' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">Pixiv</div>  <p>pixiv是喜欢插画、对插画感兴趣的朋友们的交流平台</p>  <a href='https://www.pixiv.net/'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://pic.imgdb.cn/item/63312f3216f2c2beb1731997.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">极简壁纸</div>  <p>极简壁纸是一个由个人开发维护的壁纸类小站，免费提供壁纸的预览和下载</p>  <a href='https://bz.zzzmh.cn/index'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://images.wallpaperscraft.com/image/single/cat_lying_kitten_playful_91882_800x600.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">WallpapersCraft</div>  <p>一个免费壁纸素材分享网站,提供各种分辨率的免费高清壁纸素材</p>  <a href='https://wallpaperscraft.com/'></a>  </figcaption>  </figure>  </div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>动画</title>
      <link href="/box/animation/index.html"/>
      <url>/box/animation/index.html</url>
      
        <content type="html"><![CDATA[<!-- 落叶特效 --><!-- static前面要带/ --><script defer src="/static/js/leaves.js"></script><div class="note info flat"><p><font size=4><b>以下动画源码均取自他人的开源代码，如有侵权请联系删除!</b></font></p></div><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/烟花.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">烟花特效</div>  <p>烟花特效</p>  <a href='https://haiyong.site/demo/fireworks2.html'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/圣诞树.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">圣诞树</div>  <p>只使用 CSS 制作的动画圣诞树</p>  <a href='https://haiyong.site/demo/christmastree1.html'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/时钟.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">黑色炫酷时钟</div>  <p>时钟 2.0 版本</p>  <a href='https://haiyong.site/demo/clock2.html'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/日夜切换.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">日夜切换</div>  <p>日夜切换动画</p>  <a href='https://haiyong.site/demo/daynight.html'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/七彩雨.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">七彩雨</div>  <p>七彩色的雨</p>  <a href='https://haiyong.site/demo/qicaiyu.html'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/时光机.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">多啦A梦的时光机</div>  <p>带你穿越到过去或未来</p>  <a href='https://haiyong.site/demo/chuanyueshikong.html'></a>  </figcaption>  </figure>  </div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>网址导航</title>
      <link href="/box/nav/index.html"/>
      <url>/box/nav/index.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-算法之家">1.算法之家</h2><div class="site-card-group"><a class="site-card" href="https://zerotrac.github.io/leetcode_problem_rating/#/"><div class="img"><img src="https://source.fomal.cc/siteshot/zerotrac.github.io.jpg"/></div><div class="info"><img src="https://zerotrac.github.io/leetcode_problem_rating//favicon.ico"/><span class="title">LeetCode难度分</span><span class="desc">zerotrac的LeetCode题目难度分</span></div></a><a class="site-card" href="https://lcpredictor.herokuapp.com/"><div class="img"><img src="https://source.fomal.cc/siteshot/lcpredictor.herokuapp.com.jpg"/></div><div class="info"><img src="https://lcpredictor.herokuapp.com/favicon.ico"/><span class="title">LeetCode周赛分预测</span><span class="desc">LeetCode周赛分数预测</span></div></a><a class="site-card" href="https://csacademy.com/app/graph_editor/"><div class="img"><img src="https://source.fomal.cc/siteshot/csacademy.com.jpg"/></div><div class="info"><img src="https://csacademy.com/static/favicon.png"/><span class="title">图结构可视化</span><span class="desc">可以将一个图可视化出来</span></div></a><a class="site-card" href="https://acoier.com/"><div class="img"><img src="https://source.fomal.cc/siteshot/acoier.com.jpg"/></div><div class="info"><img src="https://acoier.com/oimg/RoundCorner.png"/><span class="title">宫水三叶の刷题日记</span><span class="desc">算法爱好者，退役 OIer，现微软工程师</span></div></a><a class="site-card" href="https://www.xiaolincoding.com/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.xiaolincoding.com.jpg"/></div><div class="info"><img src="https://www.xiaolincoding.com/logo.webp"/><span class="title">小林coding</span><span class="desc">大家好，我是小林 🤗，是图解系列的作者</span></div></a><a class="site-card" href="https://interviewguide.cn/"><div class="img"><img src="https://source.fomal.cc/siteshot/interviewguide.cn.jpg"/></div><div class="info"><img src="https://interviewguide.cn/images/personal/logo.png"/><span class="title">阿秀的学习笔记</span><span class="desc">你好，我是阿秀</span></div></a><a class="site-card" href="https://www.programmercarl.com/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.programmercarl.com.jpg"/></div><div class="info"><img src="https://img-blog.csdnimg.cn/20210614201246512.png"/><span class="title">代码随想录</span><span class="desc">本站是一套完整的刷题计划，旨在帮助大家少走弯路，循序渐进学算法</span></div></a><a class="site-card" href="https://codetop.cc/"><div class="img"><img src="https://source.fomal.cc/siteshot/codetop.cc.jpg"/></div><div class="info"><img src="https://codetop.cc/logo.jpg"/><span class="title">CodeTop</span><span class="desc">CodeTop用于汇总互联网大厂面试的高频考题🔥帮助面试者更有针对性地准备面试</span></div></a></div><br><br><h2 id="2-实用工具">2.实用工具</h2><div class="site-card-group"><a class="site-card" href="https://tzy1997.com/nav.html"><div class="img"><img src="https://source.fomal.cc/siteshot/tzy1997.com.nav.jpg"/></div><div class="info"><img src="https://fastly.jsdelivr.net/gh/tzy13755126023/BLOG_SOURCE/theme_f/favicon.ico"/><span class="title">唐先森的网址导航</span><span class="desc">一个十分强大好用的导航页</span></div></a><a class="site-card" href="https://www.amp360.net/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.amp360.net.jpg"/></div><div class="info"><img src="https://www.amp360.net/assets/icon/favicon.png"/><span class="title">兔二工具</span><span class="desc">一个拥有很多工具的网站</span></div></a><a class="site-card" href="https://tool.lu/"><div class="img"><img src="https://source.fomal.cc/siteshot/tool.lu.jpg"/></div><div class="info"><img src="https://tool.lu/favicon.ico"/><span class="title">在线工具-你的工具箱</span><span class="desc">另一个拥有很多工具的网站</span></div></a><a class="site-card" href="https://www.ilovepdf.com/zh-cn"><div class="img"><img src="https://source.fomal.cc/siteshot/www.ilovepdf.com.jpg"/></div><div class="info"><img src="https://www.ilovepdf.com/img/favicons-pdf/favicon-32x32.png"/><span class="title">I Love PDF</span><span class="desc">一个完全免费、便捷、强大的PDF在线工具</span></div></a><a class="site-card" href="http://tools.jb51.net/static/colorpicker/"><div class="img"><img src="https://source.fomal.cc/siteshot/tools.jb51.net.jpg"/></div><div class="info"><img src="http://tools.jb51.net/favicon.ico"/><span class="title">在线颜色选择器</span><span class="desc">提供颜色值的计算工具，以及几种颜色选择的工具，方便大家选择颜色，并将颜色转换成自己想要的格式</span></div></a><a class="site-card" href="https://tinypng.com/"><div class="img"><img src="https://source.fomal.cc/siteshot/tinypng.com.jpg"/></div><div class="info"><img src="https://tinypng.com/images/favicon.ico"/><span class="title">TinyPNG</span><span class="desc">一个图片无损压缩网站</span></div></a><a class="site-card" href="https://cloudconvert.com/"><div class="img"><img src="https://source.fomal.cc/siteshot/cloudconvert.com.jpg"/></div><div class="info"><img src="https://cloudconvert.com/images/logo_flat_32.png"/><span class="title">Cloud Convert</span><span class="desc">一个十分强大的在线格式转换工具</span></div></a><a class="site-card" href="http://www.199it.com/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.199it.com.jpg"/></div><div class="info"><img src="http://www.199it.com/favicon.ico"/><span class="title">199IT大数据导航</span><span class="desc">199IT中文互联网数据资讯网</span></div></a><a class="site-card" href="http://www.4243.net/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.4243.net.png"/></div><div class="info"><img src="http://www.4243.net/images/favicon.ico"/><span class="title">大木虫学术导航</span><span class="desc">各种和学术有关的信息一应俱全</span></div></a><a class="site-card" href="https://www.iconfont.cn/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.iconfont.cn.jpg"/></div><div class="info"><img src="https://img.alicdn.com/imgextra/i4/O1CN01Z5paLz1O0zuCC7osS_!!6000000001644-55-tps-83-82.svg"/><span class="title">iconfont</span><span class="desc">阿里妈妈MUX倾力打造的矢量图标管理、交流平台</span></div></a><a class="site-card" href="https://www.uupoop.com/#/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.uupoop.com.jpg"/></div><div class="info"><img src="https://www.uupoop.com/favicon.ico"/><span class="title">稿定设计</span><span class="desc">专业精简的在线ps图片照片制作处理软件工具，绿色免安装，免下载，直接在浏览器打开就可用它修正，调整和美化图像</span></div></a><a class="site-card" href="https://www.ping.cn/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.ping.cn.jpg"/></div><div class="info"><img src="https://www.ping.cn/favicon.ico"/><span class="title">Ping.cn</span><span class="desc">网站速度测试、网络速度检测、多地区在线ping检测、dns查询、路由跟踪查询、ipv6网站测试服务;网络检测节点覆盖全国各省电信、联通、移动、教育网等</span></div></a><a class="site-card" href="https://cp.ciding.cc"><div class="img"><img src="https://source.fomal.cc/siteshot/cp.ciding.cc.jpg"/></div><div class="info"><img src="https://cp.ciding.cc/public/img/logo.png"/><span class="title">青蛙快传</span><span class="desc">一个免费在线的文件/文本快速传输（分享）工具</span></div></a><a class="site-card" href="https://cowtransfer.com/"><div class="img"><img src="https://source.fomal.cc/siteshot/cowtransfer.com.jpg"/></div><div class="info"><img src="https://cdn.dancf.com/fe-assets/20221008/cowtransfer-front/dist/favicon.png"/><span class="title">奶牛快传</span><span class="desc">「奶⽜快传」是一款主打年轻客群的⼤⽂件传输服务，创建于 2018 年，始终致⼒于提升⽤户体验及效率。</span></div></a><a class="site-card" href="https://flowus.cn/product"><div class="img"><img src="https://source.fomal.cc/siteshot/flowus.cn.jpg"/></div><div class="info"><img src="https://cdn.allflow.cn/assets/_next/static/media/favicon.0c45c594.png"/><span class="title">FlowUs 息流</span><span class="desc">新一代知识管理与协作平台</span></div></a><a class="site-card" href="https://jianlixiazai.cn/"><div class="img"><img src="https://source.fomal.cc/siteshot/jianlixiazai.cn.jpg"/></div><div class="info"><img src="https://jianlixiazai.cn/assets/img/favicon.ico"/><span class="title">免费简历模板下载</span><span class="desc">一个可以免费下载word格式简历的网站</span></div></a><a class="site-card" href="https://www.dbbqb.com/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.dbbqb.com.jpg"/></div><div class="info"><img src="https://www.dbbqb.com/favicon.ico"/><span class="title">逗比拯救世界</span><span class="desc">专业的表情包搜索网站</span></div></a><a class="site-card" href="https://imagestool.com/zh_CN/index.html"><div class="img"><img src="https://source.fomal.cc/siteshot/imagestool.com.jpg"/></div><div class="info"><img src="https://imagestool.com/favicon.ico"/><span class="title">imagesTool</span><span class="desc">无需上传文件也可在线处理图片的神器</span></div></a></div><br><br><h2 id="3-上帝之眼">3.上帝之眼</h2><div class="site-card-group"><a class="site-card" href="https://www.darkmap.cn/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.darkmap.cn.png"/></div><div class="info"><img src="https://www.darkmap.cn/favicon.ico"/><span class="title">全球光污染地图</span><span class="desc">观星必备，全球波特尔光污染等级查询</span></div></a><a class="site-card" href="https://www.heavens-above.com/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.heavens-above.com.jpg"/></div><div class="info"><img src="https://www.heavens-above.com/favicon.ico"/><span class="title">Heavens above</span><span class="desc">记录全球卫星实时位置与可见性的网站</span></div></a><a class="site-card" href="https://earth.nullschool.net/zh-cn/"><div class="img"><img src="https://source.fomal.cc/siteshot/earth.nullschool.net.jpg"/></div><div class="info"><img src="https://earth.nullschool.net/favicon.ico"/><span class="title">earth全球地图</span><span class="desc">一个全球天气状况的视觉化|超级计算机预报|每三小时更新一次</span></div></a><a class="site-card" href="https://www.google.com/intl/zh-CN/earth/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.google.com.jpg"/></div><div class="info"><img src="https://www.gstatic.com/earth/00-favicon.ico"/><span class="title">Google Earth</span><span class="desc">世界上最详尽的地球仪</span></div></a><a class="site-card" href="https://stellarium.org/"><div class="img"><img src="https://source.fomal.cc/siteshot/stellarium.org.png"/></div><div class="info"><img src="https://stellarium.org/favicon.ico"/><span class="title">Stellarium</span><span class="desc">适用于您计算机的免费开源天文馆，可计算前后10万年星图实况</span></div></a><a class="site-card" href="https://www.windy.com/"><div class="img"><img src="https://source.fomal.cc/siteshot/www.windy.com.jpg"/></div><div class="info"><img src="https://www.windy.com/favicon.ico"/><span class="title">Windy</span><span class="desc">提供世界上最好的天气预报服务</span></div></a></div><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>游戏</title>
      <link href="/life/games/index.html"/>
      <url>/life/games/index.html</url>
      
        <content type="html"><![CDATA[<div class="note info flat"><p><font size=4><b>以下游戏源码均取自他人的开源代码，如有侵权请联系删除!</b></font></p></div><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/跳房子.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">跳房子</div>  <p>js实现一个点击跳跃逃离房屋坍塌小游戏</p>  <a href='https://haiyong.site/moyu/tiaofangzi.html'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/植物大战僵尸.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">植物大战僵尸</div>  <p>植物大战僵尸网页版</p>  <a href='https://haiyong.site/moyu/pvz/'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/小飞鱼.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">小飞鱼🐳</div>  <p>移动鼠标来改变速度和方向</p>  <a href='https://haiyong.site/moyu/xiaofeiyu.html'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/虫子走迷宫.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">虫子走迷宫🐛</div>  <p>你是一只虫子，控制自己去吃你最爱的卷心菜</p>  <a href='https://haiyong.site/moyu/paocaimigong.html'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/打地鼠.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">打地鼠</div>  <p>哦咧哇dadishu咪哒！</p>  <a href='https://haiyong.site/moyu/dadishu.html'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/小狮子.webp' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">爱吹风的小狮子🦁</div>  <p>按住并拖动以产生风，小狮子一定会很舒服❤</p>  <a href='https://haiyong.site/moyu/lion.html'></a>  </figcaption>  </figure>  </div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>影院</title>
      <link href="/life/movies/index.html"/>
      <url>/life/movies/index.html</url>
      
        <content type="html"><![CDATA[<span class='p center logo h2 blue'><b>( ＾∀＾）／欢迎光临，可以试试右上角关灯观看!＼( ＾∀＾）</b></span><br><br><h2 id="font-color-45b6f7-b-影片预告-9-1-b-font"><font color="#45b6f7"><b>影片预告 9.1</b></font></h2><div class="note info flat"><p><b>1~3 号厅：</b>素材来源于现实世界，记录每一幕令人向往的时刻<br><b>4~6 号厅：</b>二次元的治愈系，唯美画风，前奏响起的那一刻已经沦陷<br><b>7 号厅：</b>外国电影(需要梯子)，很多人无法享受<br><b>出门左拐：</b>互联网影院，无穷无尽的电影资源等着你来探索</p></div><br><br><h2 id="b-1-3-号厅：童话-繁星-治愈-b"><b>1~3 号厅：童话&amp;繁星&amp;治愈</b></h2><details class="folding-tag" blue><summary> 1~3号厅 </summary>              <div class='content'>              <div class="tabs" id="room_1_3"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#room_1_3-1">1号厅</button></li><li class="tab"><button type="button" data-href="#room_1_3-2">2号厅</button></li><li class="tab"><button type="button" data-href="#room_1_3-3">3号厅</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="room_1_3-1"><h3 id="您当前正处于-1-号厅，当前放映的是《梦境般的画面》">您当前正处于 1 号厅，当前放映的是《梦境般的画面》</h3><div align=center class="aspect-ratio">    <iframe src="https://player.bilibili.com/player.html?aid=644384755&&page=1&as_wide=1&high_quality=1&danmaku=0"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     high_quality=1    danmaku=1     allowfullscreen="true">     </iframe></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="room_1_3-2"><h3 id="您当前正处于-2-号厅，当前放映的是《天空，云朵，落日，星空，流星》">您当前正处于 2 号厅，当前放映的是《天空，云朵，落日，星空，流星》</h3><div align=center class="aspect-ratio">    <iframe src="https://player.bilibili.com/player.html?aid=884934225&&page=1&as_wide=1&high_quality=1&danmaku=0"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     high_quality=1    danmaku=1     allowfullscreen="true">     </iframe></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="room_1_3-3"><h3 id="您当前正处于-3-号厅，当前放映的是《还有温柔的时光浪漫不止》">您当前正处于 3 号厅，当前放映的是《还有温柔的时光浪漫不止》</h3><div align=center class="aspect-ratio">    <iframe src="https://player.bilibili.com/player.html?aid=814620841&&page=1&as_wide=1&high_quality=1&danmaku=0"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     high_quality=1    danmaku=1     allowfullscreen="true">     </iframe></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><br><br><h2 id="b-4-6-号厅：盛夏-星河-童年-b"><b>4~6 号厅：盛夏&amp;星河&amp;童年</b></h2><details class="folding-tag" blue><summary> 4~6号厅 </summary>              <div class='content'>              <div class="tabs" id="room_4_6"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#room_4_6-1">4号厅</button></li><li class="tab"><button type="button" data-href="#room_4_6-2">5号厅</button></li><li class="tab"><button type="button" data-href="#room_4_6-3">6号厅</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="room_4_6-1"><h3 id="您当前正处于-4-号厅，当前放映的是《旋律响起的一瞬间，夏天和童年都回来了》">您当前正处于 4 号厅，当前放映的是《旋律响起的一瞬间，夏天和童年都回来了》</h3><div align=center class="aspect-ratio">    <iframe src="https://player.bilibili.com/player.html?aid=418398629&&page=1&as_wide=1&high_quality=1&danmaku=0"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     high_quality=1    danmaku=1     allowfullscreen="true">     </iframe></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="room_4_6-2"><h3 id="您当前正处于-5-号厅，当前放映的是《所念皆星河，星河中是你！》">您当前正处于 5 号厅，当前放映的是《所念皆星河，星河中是你！》</h3><div align=center class="aspect-ratio">    <iframe src="https://player.bilibili.com/player.html?aid=925112738&&page=1&as_wide=1&high_quality=1&danmaku=0"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     high_quality=1    danmaku=1     allowfullscreen="true">     </iframe></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="room_4_6-3"><h3 id="您当前正处于-6-号厅，当前放映的是《小时候真傻-居然盼着长大》">您当前正处于 6 号厅，当前放映的是《小时候真傻 居然盼着长大》</h3><div align=center class="aspect-ratio">    <iframe src="https://player.bilibili.com/player.html?aid=969303835&&page=1&as_wide=1&high_quality=1&danmaku=0"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     high_quality=1    danmaku=1     allowfullscreen="true">     </iframe></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><br><br><h2 id="b-7-号厅：异域风情-b"><b>7 号厅：异域风情</b></h2><details class="folding-tag" blue><summary> 7号厅 </summary>              <div class='content'>              <div class="tabs" id="room_7_7"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#room_7_7-1">7号厅</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="room_7_7-1"><h3 id="您当前正处于-7-号厅，当前放映的是《New-Zealand-4K-Scenic-Relaxation-Film-With-Calming-Music》">您当前正处于 7 号厅，当前放映的是《New Zealand 4K - Scenic Relaxation Film With Calming Music》</h3><div class="youtube" style="position: relative; width: 100%; padding-bottom: 65%;">    <iframe  src="https://www.youtube-nocookie.com/embed/vtxVK3sbZ0o" title="YouTube video player" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%;"> </iframe></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><br><br><h2 id="b-出门左拐：互联网万千世界-b"><b>出门左拐：互联网万千世界</b></h2><details class="folding-tag" blue><summary> 出门左拐 </summary>              <div class='content'>              <div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/o8tv.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">555电影</div>  <p>一个影片资源十分丰富的网站，可以在线观看影片</p>  <a href='https://www.o8tv.com/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/cupfox.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">cupfox 茶杯狐</div>  <p>另一个影片资源十分丰富的网站，可以在线观看影片</p>  <a href='https://cupfox.app/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/zyplayer.fun.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">ZY-player</div>  <p>桌面端看片神器，支持多个播放源解析</p>  <a href='http://zyplayer.fun/'></a>  </figcaption>  </figure></div>              </div>            </details><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>八音盒</title>
      <link href="/life/music/index.html"/>
      <url>/life/music/index.html</url>
      
        <content type="html"><![CDATA[<span class='p center logo h2 blue'><b>♪(^∇^*)</font>欢迎来到aplayer音乐平台，请尽情欣赏~~</b></span><br><h2 id="font-color-45b6f7-b-音乐预告-b-font"><font color="#45b6f7"><b>音乐预告</b></font></h2><div class="note info flat"><p><b>1号厅：</b>治愈人心的纯音乐，适合一个人的时候听<br><b>2号厅：</b>抒情流行曲，适合大众口味<br><b>出门左拐：</b>互联网音乐，无穷无尽的音乐资源等着你来探索</p></div><br><h2 id="1号厅：纯音乐">1号厅：纯音乐</h2><details class="folding-tag" blue><summary> 1号厅 </summary>              <div class='content'>              <div class="tabs" id="room1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#room1-1">1号厅</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="room1-1"><h3 id="您当前正处于1号厅，当前播放的是纯音乐歌单">您当前正处于1号厅，当前播放的是纯音乐歌单</h3><div id="aplayer-oSEOhviA" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="4895239160" data-server="netease" data-type="playlist" data-mode="random" data-autoplay="false" data-listmaxheight="340px" data-preload="auto" data-theme="#e3f2f5" data-volume="0.4" mutex="true"></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><br><br><h2 id="2号厅：流行曲">2号厅：流行曲</h2><details class="folding-tag" blue><summary> 2号厅 </summary>              <div class='content'>              <div class="tabs" id="room2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#room2-1">1号厅</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="room2-1"><h3 id="您当前正处于2号厅，当前播放的是流行曲歌单">您当前正处于2号厅，当前播放的是流行曲歌单</h3><div id="aplayer-oSEOhviA" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="6766661664" data-server="netease" data-type="playlist" data-mode="random" data-autoplay="false" data-listmaxheight="340px" data-preload="auto" data-theme="#e3f2f5" data-volume="0.4" mutex="true"></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><br><br><h2 id="b-出门左拐：互联网万千世界-b-2"><b>出门左拐：互联网万千世界</b></h2><details class="folding-tag" blue><summary> 出门左拐 </summary>              <div class='content'>              <div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://source.fomal.cc/siteshot/lxmusic.toside.cn.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">LX Music</div>  <p>一个免费&开源的音乐查找工具</p>  <a href='https://lxmusic.toside.cn/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://github.com/qier222/YesPlayMusic/raw/master/images/library-dark.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">YesPlayMusic</div>  <p>高颜值的第三方网易云播放器，支持 Windows/macOS/Linux</p>  <a href='https://github.com/qier222/YesPlayMusic'></a>  </figcaption>  </figure></div>              </div>            </details><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/live2d-widget-master/demo/demo.html"/>
      <url>/live2d-widget-master/demo/demo.html</url>
      
        <content type="html"><![CDATA[<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Live2D 看板娘 / Demo</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"><script src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/js/all.min.js"></script><style>#github svg {transition: all 1s;fill: #222;color: #fff;position: absolute;top: 0;right: 0;border: 0;width: 80px;height: 80px;}#github:hover svg {width: 160px;height: 160px;}</style></head><body><a id="github" href="https://github.com/stevenjoezhang/live2d-widget" target="_blank" title="Visit the open-source code on GitHub!"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><script src="../autoload.js"></script></body></html>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/live2d-widget-master/demo/login.html"/>
      <url>/live2d-widget-master/demo/login.html</url>
      
        <content type="html"><![CDATA[<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>看板娘登陆平台</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"><script src="../live2d.min.js"></script><style>html, body {height: 100%;}body {display: flex;align-items: center;justify-content: center;padding-top: 40px;padding-bottom: 40px;background-color: #f5f5f5;}.form-signin {width: 100%;max-width: 330px;padding: 15px;margin: 0 auto;}.form-signin .checkbox {font-weight: 400;}.form-signin .form-control {position: relative;box-sizing: border-box;height: auto;padding: 10px;font-size: 16px;}.form-signin .form-control:focus {z-index: 2;}.form-signin input[type=text] {margin-bottom: -1px;border-bottom-right-radius: 0;border-bottom-left-radius: 0;}.form-signin input[type=password] {margin-bottom: 10px;border-top-left-radius: 0;border-top-right-radius: 0;}#stage {position: relative;}#stage img {width: 100%;margin-bottom: 20px;border-radius: 20px;}#stage button {position: absolute;width: 2em;height: 2em;border-radius: 50%;}#inner {position: relative;background-color: #999;clip-path: circle(120px at center);}#cover {position: absolute;background-color: #CB3837;width: 100%;height: 100%;bottom: 10%;transition: all 1s;box-shadow: 0 0 0 5px rgba(0, 0, 0, .1);}#text {position: absolute;bottom: 30%;font-size: 2em;left: 50%;transform: translateX(-50%);opacity: 0.4;font-weight: bold;}#detail {position: absolute;background: rgba(255, 255, 255, .1);width: 100%;height: 10px;bottom: 0;}#handle {position: absolute;background: #ccc;bottom: -2px;box-shadow: 0 1px 0 1px rgba(0, 0, 0, .1);height: 8px;left: 50%;margin-left: -15px;width: 30px;cursor: pointer;}#info {left: 40px;bottom: 20px;}#refresh {right: 40px;bottom: 20px;}#live2d {cursor: grab;height: 300px;width: 300px;}#live2d:active {cursor: grabbing;}</style></head><body class="text-center"><form class="form-signin" action="login.php" method="post"><div id="stage"><div id="inner"><div id="cover"><div id="text"><span style="color: cyan;">MIMI</span><span style="color: white;">POWERED</span></div><div id="detail"></div><div id="handle"></div></div><canvas class="mb-4" id="live2d" width="800" height="800"></canvas></div><button class="btn btn-link" id="info"><i class="fa fa-lg fa-info"></i></button><button class="btn btn-link" id="refresh"><i class="fa fa-lg fa-sync-alt"></i></button></div><h1 class="h3 mb-3 fw-normal">看板娘登陆平台</h1><label for="room" class="sr-only">用户名</label><input type="text" name="room" class="form-control" placeholder="用户名" required autofocus><label for="pass" class="sr-only">密码</label><input type="password" name="pass" class="form-control" placeholder="密码" required><div class="checkbox mb-4"><label><input type="checkbox" value="remember-me"> 记住我</label></div><div class="d-grid"><button class="btn btn-lg btn-primary" type="submit">登录</button></div><p class="mt-5 mb-3 text-muted">Copyleft &copy; Mimi 2019</p></form><script>/* * _(:з」∠)_ * Created by Shuqiao Zhang in 2019. * https://zhangshuqiao.org *//* * This program is free software: you can redistribute it and/or modify *  it under the terms of the GNU General Public License as published by *  the Free Software Foundation, either version 3 of the License, or *  (at your option) any later version. * * This program is distributed in the hope that it will be useful, *  but WITHOUT ANY WARRANTY; without even the implied warranty of *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the *  GNU General Public License for more details. */window.addEventListener("load", () => {"use strict";if (!CSS.supports("clip-path", "circle(120px at center)")) {document.getElementById("stage").innerHTML = '<img src="../assets/screenshot-1.png">';return;}const apiPath = "https://live2d.fghrsh.net/api";let state = 0, loading = false,modelId = localStorage.getItem("modelId"),modelTexturesId = localStorage.getItem("modelTexturesId");if (modelId === null) {modelId = 1;modelTexturesId = 53;}loadModel(modelId, modelTexturesId);function loadModel(modelId, modelTexturesId) {localStorage.setItem("modelId", modelId);if (modelTexturesId === undefined) modelTexturesId = 0;localStorage.setItem("modelTexturesId", modelTexturesId);loadlive2d("live2d", `${apiPath}/get/?id=${modelId}-${modelTexturesId}`, null);console.log("live2d", `模型 ${modelId}-${modelTexturesId} 加载完成`);setTimeout(() => {coverPosition("80%");state = 2;}, 2000);}function loadRandModel() {const modelId = localStorage.getItem("modelId"),modelTexturesId = localStorage.getItem("modelTexturesId");fetch(`${apiPath}/rand_textures/?id=${modelId}-${modelTexturesId}`).then(response => response.json()).then(result => {loadModel(modelId, result.textures.id);setTimeout(() => {state = 2;coverPosition("80%");loading = false;}, 1000);});}function loadOtherModel() {const modelId = localStorage.getItem("modelId");fetch(`${apiPath}/switch/?id=${modelId}`).then(response => response.json()).then(result => {loadModel(result.model.id);});}function coverPosition(pos) {document.getElementById("cover").style.bottom = pos;}document.getElementById("info").addEventListener("click", () => {fetch("https://v1.hitokoto.cn").then(response => response.json()).then(result => {alert("「" + result.hitokoto + "」——" + result.from);});});document.getElementById("refresh").addEventListener("click", () => {if (loading) return;state = 0;coverPosition("10%");loading = true;setTimeout(loadRandModel, 1000);});document.getElementById("handle").addEventListener("click", () => {if (state === 1) {state = 2;coverPosition("80%");}else if (state === 2) {state = 1;coverPosition("20%");}});document.querySelector("input[type=password]").addEventListener("focus", () => {if (state === 2) {state = 1;coverPosition("20%");}});document.querySelector("input[type=password]").addEventListener("blur", () => {if (state === 1) {state = 2;coverPosition("80%");}});});</script></body></html>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>关于</title>
      <link href="/personal/about/index.html"/>
      <url>/personal/about/index.html</url>
      
        <content type="html"><![CDATA[<div class="note warning simple"><p>声明：<b>非商免字体、网图</b>等资源未经授权仅限个人使用，不得用于商业用途。本站平时仅用于交流和学习新知识，站长不会由此获得任何利益和打赏，也不会以此来获得任何流量和夹带私货，如涉及侵权请联系站长删除对应资源，谢谢！ —— 致版权方</p></div><h2 id="0-网站自述视频">0.网站自述视频</h2><div align=center class="aspect-ratio">    <iframe src="https://player.bilibili.com/player.html?aid=474023258&&page=1&as_wide=1&high_quality=1&danmaku=0"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     high_quality=1    danmaku=1     allowfullscreen="true">     </iframe></div><h2 id="1-重要信息✨">1.重要信息✨</h2><ul><li><font size=4><b>本网站采用多线路并行部署</b></font></li><li>主域名：<a href="https://www.fomal.cc/"><b><font color="#5ea6e5">fomal.cc</font></b></a> | <a href="https://www.fomal.cn/"><b><font color="#5ea6e5">fomal.cn</font></b></a><br>两个主域名均解析至Vercel，IP在北美洲，具有全局CDN功能，访问速度较快<br>为什么会增加一个cn的顶级域名？因为cn域名更加被人熟知，SEO等各方面都有着一定的优势<br>同时fomal.cn域名接入了cloudflare的CDN进行加速，速度看起来没多大差别但是多了几重防护(暂时取消接入)</li><li>备用域名1：<a href="https://blog.fomal.cc/"><b><font color="#5ea6e5">blog.fomal.cc</font></b></a><br>此域名会解析至4EVERLAND，基于IPFS提供的存储及托管服务，节点分布全球，国内访问到的节点大概率在香港，访问速度扛扛的</li><li>备用域名2：<a href="https://aa.fomal.cc/"><b><font color="#5ea6e5">aa.fomal.cc</font></b></a><br>此域名会解析至cloudflare，IP在北美洲，cloudflare是一家美国的跨国科技企业，总部位于旧金山，国内访问速度还是可以的</li><li>备用域名3：<a href="https://bb.fomal.cc/"><b><font color="#5ea6e5">bb.fomal.cc</font></b></a><br>此域名会解析至Netlify，一个现代网站自动化系统，其JAM架构代表了现代网站的发展趋势，国内访问到的节点大概率在新加坡，访问速度尚可</li><li>当然您也可以选择访问原始的Github Pages托管域名<a href="https://fomalhaut1998.github.io/"><b><font color="#5ea6e5">fomalhaut1998.github.io</font></b></a>，不过国内的访问速度较慢</li><li><b>前面的域名均支持HTTPS和SSL证书，除了Github Pages外都有CDN加速技术，都可保证国内有较快的访问速度</b></li></ul><h2 id="2-技术栈-框架🧪">2.技术栈&amp;框架🧪</h2><ul><li>博客框架：<a href="https://github.com/hexojs/hexo">Hexo 6.2.0</a></li><li>主题：<a href="https://butterfly.js.org/">Butterfly 4.3.1</a></li><li>源码仓库：<a href="https://github.com/">Github</a></li><li>托管与部署：本网站采用多线部署，包括<a href="https://pages.github.com/">Github Pages</a>+<a href="https://vercel.com/">Vercel</a>+<a href="https://dashboard.4everland.org/">4EVERLAND</a>+<a href="https://app.netlify.com/">Netlify</a>+<a href="https://www.cloudflare.com/zh-cn/">Cloudflare</a></li><li>评论系统：<a href="https://twikoo.js.org/">Twikoo</a>系统+<a href="https://vercel.com/">Vercel</a>部署+<a href="https://www.mongodb.com/">MongoDB</a>提供存储服务</li><li>在线图床：<a href="https://github.com/">Github</a>公共仓库+<a href="https://vercel.com/">Vercel</a>部署</li><li>CDN：由<a href="https://tianli-blog.club/jsd/">TianliCDN</a>为部分静态资源提供加速节点</li><li>图片压缩：<a href="https://github.com/meowtec/Imagine">Imagine</a>有损压缩技术+<a href="https://imagestool.com/zh_CN/index.html">imagesTool</a>转化图片格式为webp</li><li>字体压缩: (Python+fonttools)一次压缩ttf + <a href="https://cloudconvert.com/">CloudConvert</a>压缩为woff2格式</li><li>静态资源压缩: <a href="https://github.com/gulpjs/gulp">gulp</a> + <a href="https://github.com/olback/es6-css-minify/tree/3.0">JS &amp; CSS Minifier (Minify)</a></li><li>自动部署：<a href="https://blog.csdn.net/weixin_43669978/article/details/122392448">Github Action</a></li><li>SEO优化：<a href="https://www.google.com/">谷歌</a>+<a href="https://www.bing.com/">必应</a>+<a href="https://www.baidu.com/">百度</a> 在对应搜索引擎搜索：<code>site:fomal.cc</code>可查看收录情况</li><li>音乐平台：<a href="https://github.com/MoePlayer/hexo-tag-aplayer">hexo-tag-aplayer</a>+<a href="https://github.com/metowolf/MetingJS">MetingJS</a></li><li>哔哔：<a href="https://github.com/kkfive/kkapi-open">Ispeak</a>+<a href="https://www.mongodb.com/">MongoDB</a>提供存储服务</li><li>流量监控：<a href="https://v6.51.la/">51la</a>+<a href="https://perf.51.la/">灵雀监控</a></li><li>友链朋友圈：<a href="https://github.com/Rock-Candy-Tea/hexo-circle-of-friends">hexo-circle-of-friends</a>爬虫+<a href="https://www.sqlite.org">SQLite</a>提供存储服务+<a href="https://vercel.com/">Vercel</a>部署</li><li>微博热搜：<a href="https://github.com/Eurkon/weibo-top-api">weibo-top-api</a>爬虫+<a href="https://vercel.com/">Vercel</a>部署</li><li>博客统计：<a href="https://tongji.baidu.com/">百度统计</a>+<a href="https://github.com/Eurkon/baidu-tongji-api">baidu-tongji-api</a>爬虫+<a href="https://vercel.com/">Vercel</a>部署</li><li>关于转载：随意即可</li><li>维护日志：见<a href="/site/time/">旧时光</a>栏目</li></ul><br><h2 id="3-个人碎碎念🤗">3.个人碎碎念🤗</h2><div class="img-wrap"><div class="img-bg"><img class="img" src="https://s1.xptou.com/2022/09/12/631f3e79ece3d.webp" style="width:300px;"/></div></div><ul><li><b>搭建博客初衷：</b>作为一个非科班的学生，一直觉得拥有自己的独立网站是一件十分酷的事情！这样就相当于拥有自己独立的空间，不用去CSDN这些网站上写博客或者用有道云笔记去记笔记。网站成为了自己的一个名片，在上面写写东西，记录生活，分享知识，把自己想与他人展现的技能放在博客上，何尝不是一件有趣的事情！😆😆😆</li><li><b>博客内容：</b>本人做的笔记与总结，主要是关于 Java 后端的一些知识，还有 LeetCode 的算法总结，当然也有部分东西是搬过来的(均经过作者同意并注明了出处)👏👏👏</li><li><b>想法：</b>为什么当初会阴差阳错地选择了Hexo这样的静态博客作为自己的网站框架呢？因为相比于Wordpress这些动态博客，Hexo可以不用购买服务器，网站的运营费用主要是域名费用(白嫖😜)。而采用动态博客就必须自己租云服务器，虽然Wordpress部署起来更加简单，不用折腾那么多(但是我是一个比较喜欢折腾的人🤣)。还有一个就是Hexo这个框架非常轻量化，启动速度很快🚀，且可拓展性十分强大，可以自己定义任何东西(虽然都是抄的哈哈🤐)。平时在电脑上写一写MD文件然后直接推送到github仓库就会全自动部署，网站就可以将笔记渲染成十分好看的网页和布局，这种自动化部署和精美的页面是一种能让人十分愉快的体验(当然前期得折腾很多东西啦😏)。比如我8-9月暑假这段时间花了大部分时间来倒腾博客(课题当然摸鱼啦😴)，逛别人博客时看到好看的就想搬到自己的网站上😂，最后基本上就弄成现在这个样子。但是从现在开始应该不那么折腾了，当然有好看的功能也可以加上。搭建博客的初衷是用来写文章而不是用来装扮博客本身，希望不要本末倒置了！😜</li><li><b>寄语：</b>感谢每一位光临小站的朋友🍭🍭🍭</li></ul><br><h2 id="4-基本资料📃">4.基本资料📃</h2><ul><li><b>昵称：</b>Fomalhaut🥝</li><li><b>性别：</b>♂</li><li><b>生日：</b>199X.08.11</li><li><b>身份：</b>南方某高校的研二机械在读生</li><li><b>技能：</b><ul><li><b>计算机💻：</b><ul><li>Java(🌟🌟🌟)</li><li>MySQL(🌟🌟)</li><li>SpringBoot(🌟)</li><li>前端(🌟)</li><li>数据结构与算法(🌟🌟🌟)</li><li>408四大天书(🌟)</li></ul></li><li><b>专业内😵：</b><ul><li>机械设计(🌟🌟)</li><li>硬件编程(🌟)</li><li>图像处理(🌟🌟)</li><li>称量+配溶液+配胶+退火(🌟🌟🌟)</li></ul></li></ul></li><li><b>地址：</b></li></ul><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div class="map-box"><div id="map-113.34499552-23.15537143" style="max-width:90%; height:320px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div></div><script type="text/javascript">var normalm=L.tileLayer.chinaProvider('GaoDe.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imgm=L.tileLayer.chinaProvider('GaoDe.Satellite.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imga=L.tileLayer.chinaProvider('GaoDe.Satellite.Annotion',{maxZoom:20,minZoom:1,attribution:'Amap'});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'});routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1,attribution:'Google Maps'});var normalm1=L.tileLayer.chinaProvider('Geoq.Normal.Map',{maxZoom:21,minZoom:1,attribution:'GeoQ'});var normal=L.layerGroup([normalm]),image=L.layerGroup([imgm,imga]);var baseLayers={"高德地图":normal,"智图地图":normalm1,"谷歌地图":normalMap,"高德卫星地图":imgm,"谷歌卫星地图":satelliteMap,"高德卫星标注":image,"谷歌卫星标注":routeMap};var mymap=L.map('map-113.34499552-23.15537143',{center:[23.15537143,113.34499552],zoom:14,layers:[normal],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'放大',zoomOutTitle:'缩小'}).addTo(mymap);var marker = L.marker(['23.15537143','113.34499552']).addTo(mymap);marker.bindPopup("我的学校在这里哦！").openPopup();</script><br><ul><li><p><b>网站昵称由来</b>：详见<a href="https://en.wikipedia.org/wiki/Fomalhaut">Fomalhaut-Wiki</a></p><ul><li><p>图像：<br><img src="https://www.hualigs.cn/image/634a53686cce6.jpg" alt="北落师门" style="zoom: 40%;" /></p></li><li><p>所属星座及地位：南鱼座α星<br><img src="https://www.hualigs.cn/image/634a5467747e3.jpg" style="zoom:50%;" /></p></li><li><p>中文名称：北落师门</p></li><li><p>亮度排名：18</p></li><li><p>距离：25±0.1光年(7.66±0.04秒差距)</p></li><li><p>视星等：1.16</p></li><li><p>温度：8751K</p></li><li><p>为什么要起这个名字捏?</p><ol><li>北落师门距离地球约为25光年，假设某个人出生的时候，一束光同步从该处出发，那么到达地球的时候那个人正好25岁，正是最有希望最有活力的年纪（这是一颗适合年轻人作为生日星的恒星）。</li><li>在中国南方秋天的夜空里，北落师门是能看到的最靠南边的亮星之一（暗示艰难与极端的处境）。因为在中国的夜空里，南边的天空星星往往比北边的天空要少得多（暗示孤独与自立是人生的主旋律）。</li><li>在中国南方夜空中，北落师门周围没有比他亮的星，其在一片暗淡中显得非常突出，也是一个星座的主星（暗示即使出身平凡暗淡，但是也要在暗淡中绽放光芒，独自灿烂）。</li><li>北落师门是古代占星师非常重视的一颗星，时常用来预测国家是否繁荣昌盛等（说明能够对周围的人和事产生非常大的影响）。</li><li>自1943年起，这颗恒星的光谱就已经成为其它恒星分类的基准点之一<span class="hidden-anchor" id="referto_[1]"></span><sup class="reference"><a href="#referfrom_[1]">[1]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Anchor Points for the MK System of Spectral Classification</span><span class="reference-title">参考资料</span></span></span>。同时北落师门在系外行星的研究中具有特殊意义：它是第一颗在可见光波长成像，成为系外行星候选者的中心恒星，说明这颗恒星在天文学观察与研究上有着非常重要的地位，是一颗比较著名的恒星（这种不是很出名也不是很冷门的恒星名字用来做昵称会比较合适）。<span class="hidden-anchor" id="referto_[2]"></span><sup class="reference"><a href="#referfrom_[2]">[2]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Fomalhaut - Infogalactic: the planetary knowledge core</span><span class="reference-title">参考资料</span></span></span></li></ol><ul><li><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="http://www.astro.utoronto.ca/~garrison/mkstds.html">Anchor Points for the MK System of Spectral Classification</a></div></li><li><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://baike.baidu.com/reference/66009/7faae8ShY9yEfO3x6lyA4IRkQpFznCwwBgzlFH9IGoRtUTzzkkNEcsyUgYTzk5H_lCZc5m2RTG5dBJcMBr_heRwoOas">Fomalhaut - Infogalactic: the planetary knowledge core</a></div></li></ul></li></ul></li><li><p><b>📬：</b><a href="mailto:1174008660@qq.com">1174008660@qq.com</a> | <a href="mailto:admin@fomal.cn">admin@fomal.cn</a>  您可以通过这两个邮箱与我取得联系和交流</p></li></ul><br><h2 id="5-格言💡">5.格言💡</h2><div class="note info no-icon flat"><p>再看看那个光点，它就在这里。这是家园，这是我们。你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生。我们的欢乐与痛苦聚集在一起，数以千计的自以为是的宗教、意识形态和经济学说，每一个猎人与粮秣征收员，每一个英雄与儒夫，每一个文明的缔造者与毁灭者，每一个国王与农夫，每一对年轻情侣，每一个母亲和父亲，满怀希望的孩子、发明家和探险家，每一个德高望重的教师，每个腐败的政客，每一个“超级明星”，每一个“最高领袖”，人类历史上的每一个圣人与罪犯，都在这里一一个悬浮于阳光中的尘埃小点上生活。在浩瀚的宇宙剧场里，地球只是一个极小的舞台。想想所有那些帝王将相杀戮得血流成河，他们的辉煌与胜利，使他们成为光点上一个部分的转眼即逝的主宰；想想这个像素的一个角落的居民对某个别的角落几乎没有区别的居民所犯的无穷无尽的残暴罪行，他们的误解何其多也，他们多么急于互相残杀，他们的仇恨如何强烈。  <strong>——Carl Sagan《暗淡蓝点》</strong></p></div><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>唠叨</title>
      <link href="/personal/bb/index.html"/>
      <url>/personal/bb/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" href="/static/css/bbtalk.css"/><script src="/static/js/bibi.js"></script><div id="bibi"><div class="bb-info"></div><div id="bb-main"></div></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>恋爱小屋</title>
      <link href="/personal/love/index.html"/>
      <url>/personal/love/index.html</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="49c5522fd5aa033f2da4480948286ffc27df19b37965b594caff66987876b87c">c18e331e14ffd352e373662a05570a57f8e573911a2c8d47b49c28e3111417be4e47c460ae695647c8d57a2491664f457053420d55ac295094fa68486c8d332f826e5b3ba149f899b765c531e74a31bc4d9971aab3ac3a513d8dd0bc0e7f68daf0de101710d29428351401dcffdfeece72c4ef818f4a2df4c40fb049ed1032acad2fd359b1441de9e9338b20dbb6b5722c8af71ba234a721fb5ab0dae72372a34f32c5a4e7482bc420785fe3ce556e7408a48bbd6441924eddbe87dda216e28a70a0a13dca1d7425d908ead5fdb16d5e509b4d1e97f8ad7bdbd9c187a12f07d8474cc00f02c19276490ada8517b0d9ff26378bce2b38fbc10863c3933345806ddab3695076c140cdd8115ec64c2e23749fdde2b5d2032c19951df475f8c1fa52e079f17970849da3750b9ae56f1fff391eca962d6a6913c2cf4909dcbcc23257ebdd358362a33ba79c751026f34345c84015e0514c1cbdc6b03cb5e67ea2b3983b4dc6b3715eed5d886abe455769e78cbd2156e5f93582f6ced5f027ecc846b87cf89175c65d56a2105f0466b0f2f2efcf33e40ad8ebcbe375efa204608fe59284f2079b0026e587e5bce74c8134eef8e27c0725ba85aa4fe15a576c22c14a9633e5e6520b728cb58999af2488ea35c62ba2b9cbe202c46cded25ca5dfe038b739f15ee80e3116a9430b42e128e71046cf74e07c9367f7a7ccf2673349853fa017c990915516b34cf31cc3ce623dfe9d406db7f62b046cec6107a1fa5f1fb97034a265039733906fb0580954a6a88f1a1cc8a63e526d25cff3425b6c0bb154efc9d241b7409f8f971b40033ba65cf153e812d62bb48e0e9f52cc4f70df26af383476cfdbcbad711bc2f883dc656f2a76b967584373fa69d09a41a7743d7e535dc7b2dad42d1c360d735d6ced4bbe65eab232fa8fcd3b39b0900843d916f04201657884bc6f46e0389b305c59ab6ba537e5842dec4332185b59fe2861988d141101ae33fe859fca9756fed2f5af96c51328f85b3ed584ac83edfd7377a724bbf0b120b2e56bfdb40430bfb7f574ff2415</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">这里记录我和女朋友的一些事情哦，需要密码才能进入!</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>网站统计</title>
      <link href="/site/census/index.html"/>
      <url>/site/census/index.html</url>
      
        <content type="html"><![CDATA[<!-- gitCalendar --><center><font size=4>Github更新日历📊</font></center><div id="gitZone"></div><br><center><font size=4>网站流量统计📈</font></center><br><div id="statistic"><div class="content"></div><span style="font-size:14px">数据来源：<a style="color:#1690ff;" href="https://v6.51.la/">51la</a></span></div><script>// 链接替换即可，不需要后面的参数fetch('https://v6-widget.51.la/v6/Jo8UvqwHbrzJqA4s/quote.js?theme=#28D2C1,#333333,#484545,#D03E3E,#F4F8F7,#28D2C1,14&col=true&f=14&badge=icon_0&icon=center').then(res => res.text()).then((data) => {    let title = ['最近活跃访客', '今日人数', '今日访问', '昨日人数', '昨日访问', '本月访问', '总访问量']    let num = data.match(/(?<=<\/span><span>).*?(?=<\/span><\/p>)/g)    let order = [1, 3, 2, 4, 5] // 新增  可排序，如果需要隐藏则删除对应数字即可。    // 示例：[1, 3, 2, 4, 5] 显示 ['今日人数', '昨日人数', '今日访问', '昨日访问', '本月访问']，不显示 最近活跃访客(0) 和 总访问量(6)    for (let i = 0; i < order.length; i++) { document.querySelectorAll('#statistic .content')[0].innerHTML += '<div><span>' + title[order[i]] + '</span><span class="num">' + num[order[i]] + '</span></div>' }});</script><br><!-- 访问地图 --><div id="map-chart" style="border-radius: 8px; height: 600px; padding: 10px;"></div><br><!-- 访问趋势 --><div id="trends-chart" style="border-radius: 8px; height: 300px; padding: 10px;"></div><br><!-- 访问来源 --><div id="sources-chart" style="border-radius: 8px; height: 300px; padding: 10px;"></div><br><script defer data-pjax src="/static/js/census.js"></script><h2 id="各线路PING值参考">各线路PING值参考</h2><h4 id="1-fomal-cc-Vercel">1. <a href="http://fomal.cc">fomal.cc</a> (Vercel)</h4><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/fomal_cc.png" alt="image-20220923145618349" style="zoom: 40%;" /><h4 id="2-www-fomal-cc-Vercel">2. <a href="http://www.fomal.cc">www.fomal.cc</a> (Vercel)</h4><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/www_fomal_cc2.png" alt="image-20220923150933497" style="zoom:40%;" /><h4 id="3-fomal-cn-Vercel-Cloudflare">3. <a href="http://fomal.cn">fomal.cn</a> (Vercel+Cloudflare)</h4><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/fomal_cn.png" alt="image-20220923145909002" style="zoom:40%;" /><h4 id="4-www-fomal-cn-Vercel-Cloudflare">4. <a href="http://www.fomal.cn">www.fomal.cn</a> (Vercel+Cloudflare)</h4><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/www_fomal_cn.png" alt="image-20220923150141659" style="zoom:40%;" /><h4 id="5-blog-fomal-cc-4EVERLAND">5. <a href="http://blog.fomal.cc">blog.fomal.cc</a> (4EVERLAND)</h4><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/blog_fomal_cc.png" alt="image-20220923150322985" style="zoom:40%;" /><h4 id="6-aa-fomal-cc-Cloudflare">6. <a href="http://aa.fomal.cc">aa.fomal.cc</a> (Cloudflare)</h4><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/aa_fomal_cc.png" alt="image-20220923150421776" style="zoom:40%;" /><h4 id="7-bb-fomal-cc-Netlify">7. <a href="http://bb.fomal.cc">bb.fomal.cc</a> (Netlify)</h4><img src="https://cdn.staticaly.com/gh/fomalhaut1998/markdown_pic@main/img/bb_fomal_cc.png" alt="image-20220923150539043" style="zoom:40%;" />]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>文章统计</title>
      <link href="/site/echarts/index.html"/>
      <url>/site/echarts/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>旧时光</title>
      <link href="/site/time/index.html"/>
      <url>/site/time/index.html</url>
      
        <content type="html"><![CDATA[<div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>网站建设进程</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-11-9</p></div></div><div class='timeline-item-content'><p>1.修复双侧栏分页按钮不居中的bug<br>2.菜单栏和标题加入霓虹灯效果，很好看哦~</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-11-7</p></div></div><div class='timeline-item-content'><p>1.加入自定义滑块调节透明度、模糊半径<br>2.修复小窗经常自己弹出的问题(LYX的遗留问题)<br>3.修复游戏和动画模块</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-11-3</p></div></div><div class='timeline-item-content'><p>1.Twikoo加入自定义表情<br>2.自定义表情优化</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-11-2</p></div></div><div class='timeline-item-content'><p>1.图标大小重新设置为1.18em</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-11-1</p></div></div><div class='timeline-item-content'><p>1.加入侧边栏开关设置<br>2.更换自定义背景加入图片有效性检验</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-31</p></div></div><div class='timeline-item-content'><p>(3可能会导致卡顿!)<br>1.修复右边小猫咪点击上不去的bug<br>2.加入帧率检测功能<br>3.加入亚克力模糊开关</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-30</p></div></div><div class='timeline-item-content'><p>1.每一页的文章数目设置为8篇</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-22</p></div></div><div class='timeline-item-content'><p>1.加入夜间模式星空特效开关按钮<br>2.重制自述视频</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-21</p></div></div><div class='timeline-item-content'><p>1.修复手机端二级菜单的显示<br>2.手机端向上滑动时导航栏中间不显示标题<br>3.将Github日历搬到网站统计栏目，手机端就不用设置隐藏了<br>4.将51la统计放到网站统计栏目并调整布局<br>5.朋友圈更新到最新版本，加入后台管理系统</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-20</p></div></div><div class='timeline-item-content'><p>这次的魔改参考：<a href="https://yisous.xyz/posts/ac792cf4/">博客魔改日记（1）</a><br>1.顶部导航栏改为常驻，中间显示标题<br>2.新增自定义字体的功能<br>3.新增自定义主题色的功能<br>4.取消更换壁纸弹窗提醒<br>5.加入多款字体选择，注意字体仅供个人非商业用途!<br>6.修复图标细节，更加美观</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-18</p></div></div><div class='timeline-item-content'><p>1.更换字体为筑紫A丸2.0标准体<br>2.PWA问题暂时不明，有机会再修复<br>3.加载动画改为heo样式<br>4.更新网站统计代码，每月17或18日为更新日<br>5.暂时关闭了PWA<br>6.加入了恋爱小屋模块</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-17</p></div></div><div class='timeline-item-content'><p>今天对网站进行全面提速，提速后实测加载时间基本在3-5s，慢的(不挂代理)大多也在10s以内<br>1.关闭Live2D模型，减少部分动画，提高加载速度<br>2.字体统一使用筑紫A丸by宁静之雨.woff2，大幅度减少加载时间<br>3.网站图片统一采用webp格式，图片体积大幅度减小，加载速度大幅度提高<br>4.字体换回Vercel源，将主字体从5MB压缩至1.5MB，加载速度嘎嘎的</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-16</p></div></div><div class='timeline-item-content'><p>1.补充网站的视频自述<br>2.修复24小时自动恢复默认背景的功能<br>3.修复加载时候默认背景图闪烁的bug<br>4.去掉右边卡片网站运行时间<br>5.加入地图坐标</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-15</p></div></div><div class='timeline-item-content'><p>1.关于页面加入Fomalhaut的描述</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-13</p></div></div><div class='timeline-item-content'><p>1.解决切换背景栏目响应式布局问题<br>2.更改字体源为4EVERLAND部署，实测速度快一点，字体平均加载时间5-10s，整个页面平均加载时间15s左右，尚可以接受</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-12</p></div></div><div class='timeline-item-content'><p>1.加入自定义背景功能，只需提供图片链接即可</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-10</p></div></div><div class='timeline-item-content'><p>1.友链站点截图换为固定图源，避免出现反扒页面</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-09</p></div></div><div class='timeline-item-content'><p>1.修复邮箱回复模板<br>2.留言板文字修改<br>3.更改全局鼠标图标为青色小圆点<br>4.部分轻量静态资源的CDN加速迁移至TianliCDN</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-08</p></div></div><div class='timeline-item-content'><p>1.评论系统加入图片上传功能，用的是SMMS图床<br>2.暂时取消Cloudflare加速，修复邮箱admin@fomal.cn的解析</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-07</p></div></div><div class='timeline-item-content'><p>1.修复右键菜单的版权和随便逛逛<br>2.底部心形变成会跳动的<br>3.页脚加入旅行者1号的实时距离<br>4.页脚添加了一句话</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-06</p></div></div><div class='timeline-item-content'><p>1.改进首页卡片圆角，看起来更加舒适<br>2.星空背景放在底层避免干扰阅读，手机端也启用星空背景<br>3.页脚徽标色调微调</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-03</p></div></div><div class='timeline-item-content'><p>1.改版关于页面与网站README.MD文件</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-10-01</p></div></div><div class='timeline-item-content'><p>1.更新图床图库至220+张<br>2.字体统一采用woff2格式，体积更小</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-30</p></div></div><div class='timeline-item-content'><p>1.更换字体为体积更小的筑紫A丸，提高加载速度<br>2.将文章图片迁移至线上图床<br>3.关闭Algolia搜索引擎<br>4.微调加载条渐变色</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-29</p></div></div><div class='timeline-item-content'><p>1.修复个人卡片不能变色的问题，并改善配色</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-26</p></div></div><div class='timeline-item-content'><p>1.修复部分Gallery卡片的图片问题<br>2.新增网站导航模块，收集个人觉得好用的网站<br>3.将原来的天眼模块和工具模块整合进网址导航模块</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-24</p></div></div><div class='timeline-item-content'><p>1.改善Gallery卡片布局<br>2.修复不能压缩的html文件<br>3.更换背景<br>4.改进八音盒字体<br>5.新增霞鹜文楷字体<br>6.修复网站图标(直接加favicon.ico)</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-23</p></div></div><div class='timeline-item-content'><p>1.图片源和字体源更换为Cloudflare部署，加载速度有了明显提升<br>2.新增各条线路的ping参考(位于网站统计模块)<br>3.修复友链中部分有异常的封面图片<br>4.装修画廊<br>5.调整整体布局，向着宽屏适配靠拢</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-22</p></div></div><div class='timeline-item-content'><p>1.本网站决定暂时不备案了，因为没有两个手机号码(°ー°〃)但是域名还可以照常使用<br>2.以后网站直接部署于外国的服务器就算了(白嫖外国的服务器他不香吗?)<br>3.域名<a href="https://www.fomal.cn/"><b><font color="#5ea6e5">fomal.cn</font></b></a>利用cloudflare的CDN进行加速，听很多人说这个在国内是减速，试了一下ping值其实还好:fomal.cn在300ms左右(极差);www.fomal.cn在130ms左右(一般)</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-21</p></div></div><div class='timeline-item-content'><p>1.本网站已经备案，备案号为：粤ICP备-2022115239号<br>2.本网站已加入萌ICP备案，备案号为：萌ICP备-20226665号<br>3.将网站部署于腾讯云轻量级服务器，但未取得SSL证书</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-19</p></div></div><div class='timeline-item-content'><p>1.新增域名<a href="https://www.fomal.cn/"><b><font color="#5ea6e5">fomal.cn</font></b></a><br>2.侧栏新增小猫咪，设置不隐藏侧边滚动条<br>3.绑定域名邮箱：admin@fomal.cn并用作主要邮箱<br>4.修复隐藏菜单栏的bug，当且仅当设备屏幕宽度小于768px时隐藏菜单栏<br>5.目前发现了一个小bug，网站的favicon显示不出来</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-17</p></div></div><div class='timeline-item-content'><p>1.完成博客统计模块建设，采用百度统计API<br>2.关闭pjax，壁纸切换模块貌似还有一点小bug，切换页面可能会变为默认背景，测试中可以维持一定数目的页面不变化；改善了切换背景的逻辑，只有在点击图片切换背景时才会有弹窗提醒，切换页面时不会提醒<br>3.动画模块加入落叶特效<br>4.夜间模式引入全局星空特效，上次有bug的原因是static前面忘记加/了</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-16</p></div></div><div class='timeline-item-content'><p>1.手机菜单栏渐变色适配暗黑模式<br>2.分割线图标改为雪花<br>3.取消禁止f12，但是会提醒<br>4.添加友链<br>5.修复手机端不能更换壁纸的bug并加入提醒</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-15</p></div></div><div class='timeline-item-content'><p>1.关闭全局Pjax以及取消了欢迎弹窗<br>2.即将加入百度网站统计，但是PV值还不够<br>3.手机菜单栏渐变色<br>4.菜单栏svg图标动态重写，手机端保留折叠的同时新增动画特效<br>5.关于模块补充</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-13</p></div></div><div class='timeline-item-content'><p>1.改善关于页面<br>2.个人信息栏图标更换，加入微信联系方式</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-12</p></div></div><div class='timeline-item-content'><p>1.部署至cloudflare<br>2.改进顶部加载条<br>3.手机侧栏默认不展开<br>4.加入Algoliasearch搜索系统<br>5.改版归档页面<br>6.新增微博热搜侧栏并自建API<br>7.加入禁用F12和复制提醒的功能<br>8.子菜单改为横向<br>9.调整部分主题色<br>10.加入评论框背景图片动态变化<br>11.个人信息卡片加入渐变色动画，侧边栏卡片圆角等<br>12.添加多个友链并修复友链头像和封面</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-11</p></div></div><div class='timeline-item-content'><p>1.修复朋友圈<br>2.将网站进行双线部署:Vercel+4EVERLAND。其中Vercel在大陆访问会解析至美国堪萨斯州的IP，有全局CDN功能；4EVERLAND是基于IPFS提供的存储及托管服务，节点分布全球，大陆访问的IP会连接至香港<br>3.更换流行曲歌单<br>4.增加部署至Netlify，国内访问会解析至新加坡，速度尚可<br>5.增加gitcalendar模块并自建API<br>6.修复友链朋友圈的侧栏问题<br>7.新增Consolas字体加载，目的是要适配移动端<br>8.关于页面链接取消加粗<br>9.右键菜单图标修复</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-10</p></div></div><div class='timeline-item-content'><p>1.404页面修复<br>2.添加博客统计<br>3.网站菜单栏大改版<br>4.加入随便逛逛<br>5.Vercel的解析线路改为中国电信<br>6.部分静态资源传到自己的图床来<br>7.背景加入萌宠模块<br>8.将大体积资源全部迁移至NPM图床<br>9.改善404页面<br>10.友链朋友圈修复了(不用梯子也可以进行访问)</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-09</p></div></div><div class='timeline-item-content'><p>1.加入公祭日以及农历节日弹窗<br>2.新增哔哔栏目<br>3.天眼合并至八宝箱<br>4.更换首页分类磁贴样式<br>5.关于页面改版<br>6.将kkpai和kkadmin解析到国内域名<br>7.增加youtube响应式布局<br>8.夜间模式自动切换<br>9.流星背景暂时有一些小bug，有空再修复</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-08</p></div></div><div class='timeline-item-content'><p>1.修复iPad端滑动到底部页面撕裂的问题(是页脚蝴蝶引起的锅)<br>2.页脚的技术徽标改为单行<br>3.更换背景修复的问题修复了<br>4.调整页脚删除蝴蝶后的样式<br>5.评论框背景图大小改善<br>6.评论气泡颜色和尖角改善<br>7.关于页面的信息统计<br>8.夜间模式加入流星背景，与渐变色配合更加好看<br>9.取消canvas nest效果<br>10.加入哔哔功能(样式还有待调整)</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-07</p></div></div><div class='timeline-item-content'><p>1.完善右键回复模板<br>2.新增弹窗功能<br>3.右下角返回顶部按钮增加当前阅读百分比<br>4.加入评论区表情放大<br>5.加入切换背景的功能(跳转页面时候还有点小问题)</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-06</p></div></div><div class='timeline-item-content'><p>1.完善邮件回复模板<br>2.更新友链<br>3.顶部加上进度条<br>4.魔改右键菜单<br>5.加入留言弹幕<br>6.改变屏幕宽度比例<br>7.左上角标题栏加入动画<br>8.修正外链跳转故障</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-05</p></div></div><div class='timeline-item-content'><p>1.网站标题改为<a href="https://fomal.cc/">Fomalhaut🥝</a><br>2.评论区气泡颜色修改<br>3.增加百度,Google和Bing的SEO优化<br>4.增加图片懒加载功能<br>5.加入页面pdf浏览外挂标签<br>6.增加了很多个友链</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-04</p></div></div><div class='timeline-item-content'><p>1.修正关于页面的一些格式问题<br>2.魔改右键菜单(已弃用)<br>3.标签页面增加显示文章数目<br>4.增加RSS配置<br>5.将网站建设进程栏目合并到“旧时光”<br>6.Console控制台输出字符画<br>7.Twikoo评论系统已修复，国内不挂代理可以正常使用<br>8.本站域名更改为:<a href="https://www.fomal.cc/"><u><b><font color=red>fomal.cc</font></b></u></a>，原Github Pages网址<a href="https://fomalhaut1998.github.io/"><u><b><font color=red>fomalhaut1998.github.io</font></b></u></a>仍可以正常访问，不过新域名有Vercel部署的加持，访问速度会更快</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-03</p></div></div><div class='timeline-item-content'><p>1.完善外挂标签参考页面<br>2.装修音乐厅<br>3.调整爬虫封面<br>4.新增天眼模块<br>5.修复其他bug</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-02</p></div></div><div class='timeline-item-content'><p>1.修改页脚剪刀样式<br>2.改进音乐播放页面<br>3.更改字体为两种粗细不同的筑紫A丸<br>4.去除页脚暗黑模式遮罩<br>5.改进夜间模式背景颜色<br>6.封面图床随机图库增加至200张以上<br>7.完成外挂标签文档初步撰写<br>8.其他bug完善</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-01</p></div></div><div class='timeline-item-content'><p>1.风车美化样式改为全局应用<br>2.完善拓展工具<br>3.装修电影院、画廊<br>4.iconfont的css图标恢复正常，微调图标<br>5.更新友链<br>6.其他bug完善</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-08-31</p></div></div><div class='timeline-item-content'><p>1.顶部导航栏改版<br>2.文章版权改版<br>3.加入暗黑模式切换动画<br>4.加入文章加密功能<br>5.其他样式优化</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>诞生初期 2022-08-09 ~ 2022-08-30</p></div></div><div class='timeline-item-content'><p>这段时间是博客搭建初期，没有做很详细的记录<br>1.配置好本地端Node.js环境，安装好Hexo<br>2.更换主题为Butterfly<br>3.同步有道云笔记笔记至博客<br>4.配置Twikoo评论系统，部署于Vercel<br>5.完善Butterfly的基本配置项<br>6.安装插件侧栏电子时钟、双栏显示文章、Live2D看板娘等<br>7.根据Akilar、小冰等人的博客进行魔改，进行全面优化和布局改进<br>8.至此，最初期的网站形成</p></div></div></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>朋友圈</title>
      <link href="/social/fcircle/index.html"/>
      <url>/social/fcircle/index.html</url>
      
        <content type="html"><![CDATA[<div id="app"></div><script>    let UserConfig = {        // 填写你的api地址        private_api_url: 'https://fcircle.fomal.cc/',        // 点击加载更多时，一次最多加载几篇文章，默认10        page_turning_number: 10,        // 头像加载失败时，默认头像地址        error_img: 'https://www.fomal.cc/assets/r1.jpg',        // 进入页面时第一次的排序规则        sort_rule: 'created'    }</script><script type="text/javascript" src="https://npm.elemecdn.com/imgscdn@1.1.39/fcircle/app.min.js"></script><script type="text/javascript" src="https://npm.elemecdn.com/imgscdn@1.1.39/fcircle/bundle.js"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>友人帐</title>
      <link href="/social/link/index.html"/>
      <url>/social/link/index.html</url>
      
        <content type="html"><![CDATA[<h2 id="本站友链添加方式：">本站友链添加方式：</h2><div class="tabs" id="link"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#link-1">🙋 butterfly-💭candy</button></li><li class="tab"><button type="button" data-href="#link-2">🥗Volantis</button></li><li class="tab"><button type="button" data-href="#link-3">🌴General</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="link-1"><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Fomalhaut🥝</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://www.fomal.cc/</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">https://www.fomal.cc/assets/head.jpg</span></span><br><span class="line">  <span class="attr">descr:</span> <span class="string">Future</span> <span class="string">is</span> <span class="string">now</span> <span class="string">🍭🍭🍭</span></span><br><span class="line">  <span class="attr">siteshot:</span> <span class="string">https://source.fomal.cc/siteshot/www.fomal.cn.jpg</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="link-2"><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Fomalhaut🥝&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;screenshot&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://source.fomal.cc/siteshot/www.fomal.cn.jpg&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://www.fomal.cc/&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;avatar&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://www.fomal.cc/assets/head.jpg&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Future is now 🍭🍭🍭&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Fomalhaut🥝&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="link-3"><table><thead><tr><th>名称</th><th>数值</th></tr></thead><tbody><tr><td>站点名称</td><td>Fomalhaut🥝</td></tr><tr><td>站点截图</td><td><a href="https://source.fomal.cc/siteshot/www.fomal.cn.jpg">https://source.fomal.cc/siteshot/www.fomal.cn.jpg</a></td></tr><tr><td>站点链接</td><td><a href="https://www.fomal.cc/">https://www.fomal.cc/</a></td></tr><tr><td>站长头像</td><td><a href="https://www.fomal.cc/assets/head.jpg">https://www.fomal.cc/assets/head.jpg</a></td></tr><tr><td>站点描述</td><td>Future is now🍭🍭🍭</td></tr><tr><td>站点关键词</td><td>Fomalhaut🥝,个人博客,代码</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="加入本站友链方式">加入本站友链方式</h2><p>参照以下格式留言即可</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="comment">#站点名称</span></span><br><span class="line">  <span class="attr">link:</span> <span class="comment">#站点链接</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="comment">#站长头像</span></span><br><span class="line">  <span class="attr">descr:</span> <span class="comment">#站点描述</span></span><br><span class="line">  <span class="attr">siteshot:</span> <span class="comment">#站点截图 </span></span><br></pre></td></tr></table></figure><p>站点截图可以自己提供，尺寸尽量不要大于 600*600，图片压缩后最好小于200KB。<br>未提供站点预览图的，本站会根据贵站链接调用以下 API 自动获取贵站的站点截图。<br>对于做了反扒措施的站点，API 获取的将是反扒页面，望知悉。<br>站点截图建议使用以下 API 获取以匹配本站样式<br>有部分朋友的截图体积过大影响加载速度，后面一律采用小体积截图代替望周知</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">https://image.thum.io/get/allowJPG/wait/20/width/600/crop/950/https://&lt;你的域名&gt;/</span><br></pre></td></tr></table></figure><div class="note primary flat"><p>🎉本站支持交换友链，在您提出申请之前，请将本站添加至友链<br>🥗为了保障本站用户，本站仅支持个人网站的友链申请<br>🍧申请本站友链需要拥有独立域名（非免费域名），建议开启全站HTTPS<br>🥫如果友情链接已经添加，请保持网站的正常访问，会定期清理僵尸网站<br>🍖网站有一定的实质性内容和主题，不能是空壳网站和练手网站<br>💕感谢您对本站的支持，如果您已经满足上述要求，请在下方表单提交友链申请~~~</p></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/css/bbtalk.css"/>
      <url>/static/css/bbtalk.css</url>
      
        <content type="html"><![CDATA[/* 首页轮播 */#bber-talk,#bber-talk a {    color: var(--font-color);}#bber-talk {    cursor: pointer;    width: 100%;    min-height: 50px;    background: var(--card-bg);    padding: 0.5rem 1rem;    border-radius: 14px;    display: flex;    align-items: center;    overflow: hidden;    font-weight: bold;}#bber-talk .item i {    margin-left: 5px;}#bber-talk>i {    font-size: 1.1rem;}#bber-talk .talk-list {    max-height: 32px;    font-size: 16px;    overflow: hidden;}#bber-talk .talk-list :hover {    color: #49b1f5 !important;    transition: all .2s ease-in-out;}#bber-talk .talk-list li {    list-style: none;    width: 100%;    white-space: nowrap;    text-overflow: ellipsis;    overflow: hidden;}#bber-talk .bber-icon {    line-height: 25px;    margin-left: 8px;    transition: 0.3s;}#bber-talk .pass {    -webkit-animation: 1s passing infinite;    animation: 1s passing infinite;}@-webkit-keyframes passing {    0% {        -webkit-transform: translateX(-50%);        transform: translateX(-50%);        opacity: 0;    }    50% {        -webkit-transform: translateX(0);        transform: translateX(0);        opacity: 1;    }    100% {        -webkit-transform: translateX(50%);        transform: translateX(50%);        opacity: 0;    }}@keyframes passing {    0% {        -webkit-transform: translateX(-50%);        transform: translateX(-50%);        opacity: 0;    }    50% {        -webkit-transform: translateX(0);        transform: translateX(0);        opacity: 1;    }    100% {        -webkit-transform: translateX(50%);        transform: translateX(50%);        opacity: 0;    }}/* 哔哔页面 */#bibi button {    cursor: pointer;    color: #fff;    border: 0;    margin: 20px auto;    border-radius: 0.3125rem;    display: block;    padding: 0 1rem;    height: 40px;    font-weight: 500;    text-align: center;    transition: all 0.5s ease-out;    background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);    background-size: 1000% 1000%;    animation: Gradient 60s linear infinite;    outline: 0;}#bibi .bb-info {    font-weight: 700;    font-size: 18px;}#bibi .bb-card {    padding: 10px 20px;    border-radius: 10px;    background: rgba(255, 255, 255, 0.1);    box-shadow: 0 3px 8px 6px rgba(7, 17, 27, 0.06);    overflow: hidden;    margin-top: 20px;    transition: all 0.25s;    user-select: none;}#bibi .bb-card:hover {    box-shadow: 0 5px 10px 8px #07111b29;    transform: translateY(-3px)}#bibi .card-header {    display: flex;    align-items: center;}#bibi .card-header .avatar {    width: 32px;    height: 32px;    border-radius: 50%;    margin-right: 10px;    border-radius: 20px;    overflow: hidden;}#bibi .card-header svg {    height: 20px;    width: 20px;    margin-left: 5px;}#bibi .card-header .card-time {    font-size: 12px;    text-shadow: #d9d9d9 0 0 1px, #fffffb 0 0 1px, #fffffb 0 0 2px;    margin-left: 10px;}#bibi .card-content {    padding: 10px 0;    white-space: pre-wrap;}#bibi .card-footer {    display: flex;    padding-bottom: 10px;}#bibi .card-footer .card-label {    border-radius: 5px;    padding: 0 5px;    font-weight: 550;    border-radius: 3px;    box-shadow: inset 0 -1px 0 rgb(27 31 35 / 12%);    font-size: 14px;    cursor: pointer;    user-select: none;    margin-right: 10px;}#article-container .card-content img {    margin: 0;}@media screen and (min-width: 768px) {    .card-content .fancybox,    .card-content video {        display: inline-block;        max-width: 40%;        margin-right: 10px;    }}@media screen and (max-width: 768px) {    .card-content .fancybox,    .card-content video {        display: inline-block;        max-width: 48%;        margin: 1%;    }}@keyframes Gradient {    0% {        background-position: 0 50%;    }    50% {        background-position: 100% 50%;    }    to {        background-position: 0 50%;    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/css/cat.css"/>
      <url>/static/css/cat.css</url>
      
        <content type="html"><![CDATA[/* 滚动条，我设置的不隐藏，为了可以到达任何地方 *//* body::-webkit-scrollbar {    width: 0;} */.neko {    width: 64px;    height: 64px;    background-image: url("https://bu.dusays.com/2022/07/20/62d812db74be9.png");    position: absolute;    right: 32px;    background-repeat: no-repeat;    background-size: contain;    transform: translateX(50%);    cursor: pointer;    font-family: var(--global-font);    font-weight: 600;    font-size: 16px;    color: var(--theme-color);    display: none;}.neko::after {    display: none;    width: 100px;    height: 100px;    background-image: url("https://bu.dusays.com/2022/07/20/62d812d95e6f5.png");    background-size: contain;    z-index: 9999;    position: absolute;    right: 50%;    text-align: center;    line-height: 106px;    top: -115%;}.neko.showMsg::after {    content: attr(data-msg);    display: block;    overflow: hidden;    text-overflow: ellipsis;}.neko:hover::after {    content: attr(data-msg);    display: block;    overflow: hidden;    text-overflow: ellipsis;}.neko.fontColor::after {    color: #333;}/** * @description: 滚动条样式  跟猫二选一 *//* @media screen and (max-width:992px) {    ::-webkit-scrollbar {        width: 8px !important;        height: 8px !important    }    ::-webkit-scrollbar-track {        border-radius: 2em;    }    ::-webkit-scrollbar-thumb {        background-color: rgb(255 255 255 / .3);        background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent);        border-radius: 2em    }    ::-webkit-scrollbar-corner {        background-color: transparent    }} */]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/css/heartbeat.min.css"/>
      <url>/static/css/heartbeat.min.css</url>
      
        <content type="html"><![CDATA[/** * Minified by jsDelivr using clean-css v5.3.1. * Original file: /gh/HCLonely/images@master/others/heartbeat.css * * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files */#heartbeat{color:red;animation:iconAnimate 1s ease-in-out infinite}@-moz-keyframes iconAnimate{0%,100%{transform:scale(1)}10%,30%{transform:scale(.9)}20%,40%,60%,80%{transform:scale(1.1)}50%,70%{transform:scale(1.1)}}@-webkit-keyframes iconAnimate{0%,100%{transform:scale(1)}10%,30%{transform:scale(.9)}20%,40%,60%,80%{transform:scale(1.1)}50%,70%{transform:scale(1.1)}}@-o-keyframes iconAnimate{0%,100%{transform:scale(1)}10%,30%{transform:scale(.9)}20%,40%,60%,80%{transform:scale(1.1)}50%,70%{transform:scale(1.1)}}@keyframes iconAnimate{0%,100%{transform:scale(1)}10%,30%{transform:scale(.9)}20%,40%,60%,80%{transform:scale(1.1)}50%,70%{transform:scale(1.1)}}/*# sourceMappingURL=/sm/7c97f3456d34ee6c17ca4a9141bef0f29c52d1ce9d85298b17f398a0de252965.map */]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/css/progress_bar.css"/>
      <url>/static/css/progress_bar.css</url>
      
        <content type="html"><![CDATA[.pace {    -webkit-pointer-events: none;    pointer-events: none;    -webkit-user-select: none;    -moz-user-select: none;    user-select: none;    z-index: 2000;    position: fixed;    margin: auto;    top: 4px;    left: 0;    right: 0;    height: 8px;    border-radius: 8px;    width: 7rem;    background: #eaecf2;    border: 1px #e3e8f7;    overflow: hidden}.pace-inactive .pace-progress {    opacity: 0;    transition: .3s ease-in}.pace .pace-progress {    -webkit-box-sizing: border-box;    -moz-box-sizing: border-box;    -ms-box-sizing: border-box;    -o-box-sizing: border-box;    box-sizing: border-box;    -webkit-transform: translate3d(0, 0, 0);    -moz-transform: translate3d(0, 0, 0);    -ms-transform: translate3d(0, 0, 0);    -o-transform: translate3d(0, 0, 0);    transform: translate3d(0, 0, 0);    max-width: 200px;    position: absolute;    z-index: 2000;    display: block;    top: 0;    right: 100%;    height: 100%;    width: 100%;    /* linear-gradient(to right, #3494e6, #ec6ead) */    background: linear-gradient(to right, #43cea2, #3866ca);    animation: gradient 2s ease infinite;    background-size: 200%}.pace.pace-inactive {    opacity: 0;    transition: .3s;    top: -8px}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/css/rightmenu.css"/>
      <url>/static/css/rightmenu.css</url>
      
        <content type="html"><![CDATA[/* rightMenu */#rightMenu{display: none;position: fixed;width: 160px;height: fit-content;top: 10%;left: 10%;background-color: var(--card-bg);border: 1px solid var(--font-color);border-radius: 8px;z-index: 100;}#rightMenu .rightMenu-group{padding: 7px 6px;}#rightMenu .rightMenu-group:not(:nth-last-child(1)){border-bottom: 1px solid var(--font-color);}#rightMenu .rightMenu-group.rightMenu-small{display: flex;justify-content: space-between;}#rightMenu .rightMenu-group .rightMenu-item{height: 30px;line-height: 30px;border-radius: 8px;transition: 0.3s;color: var(--font-color);}#rightMenu .rightMenu-group.rightMenu-line .rightMenu-item{display: flex;height: 40px;line-height: 40px;padding: 0 4px;}#rightMenu .rightMenu-group .rightMenu-item:hover{background-color: var(--theme-color);}#rightMenu .rightMenu-group .rightMenu-item i{display: inline-block;text-align: center;line-height: 30px;width: 30px;height: 30px;padding: 0 5px;}#rightMenu .rightMenu-group .rightMenu-item span{line-height: 30px;}#rightMenu .rightMenu-group.rightMenu-line .rightMenu-item *{height: 40px;line-height: 40px;}.rightMenu-group.hide{display: none;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/css/runtime.min.css"/>
      <url>/static/css/runtime.min.css</url>
      
        <content type="html"><![CDATA[div#runtime{width:180px;margin:auto;color:#fff;padding-inline:5px;border-radius:10px;background-color:rgba(0,0,0,.7)}#workboard{font-size:12px}[data-theme=dark] div#runtime{color:#28b4c8;box-shadow:0 0 5px rgba(28,69,218,.71);animation:flashlight 1s linear infinite alternate}@-moz-keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}@-webkit-keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}@-o-keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}@keyframes flashlight{from{box-shadow:0 0 5px #1478d2}to{box-shadow:0 0 2px #1478d2}}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/css/universe.css"/>
      <url>/static/css/universe.css</url>
      
        <content type="html"><![CDATA[#universe {    position: fixed;    margin: 0;    padding: 0;    border: 0;    outline: 0;    left: 0;    top: 0;    width: 100%;    height: 100%;    pointer-events: none;    /* 星空在底层避免干扰阅读 */    z-index: -2;}/* 手机端禁用 *//* @media screen and (max-width: 768px) {    #universe {        display: none;    }} *//* 白天模式切换消失 */[data-theme='light'] #universe{    display: none !important;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/51la.js"/>
      <url>/static/js/51la.js</url>
      
        <content type="html"><![CDATA[//51.1aLA.init({ id: "Jo8UvqwHbrzJqA4s", ck: "Jo8UvqwHbrzJqA4s", hashMode: true });//需要把上述内容换成你的id和ck//灵雀应用监控new LingQue.Monitor().init({ id: "Jo8XRSEK6pDzdc3e", sendSpaPv: true });//这里同样换成你的id]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/bbtalk.js"/>
      <url>/static/js/bbtalk.js</url>
      
        <content type="html"><![CDATA[let jsonUrl = 'https://kkapi.fomal.cc/api/ispeak?author=6319fedef46fae97dcfa5ee2' // 在这修改apidocument.getElementById('bber-talk').addEventListener('click', () => {    window.location.pathname = '/bb/' // 在这修改你的哔哔页面地址})bbtalk();function bbtalk() {    let data = JSON.parse(localStorage.getItem('bibi'));    let nowTime = Date.now();    let ls;    if (data == null || nowTime - data.time >= 1800000) { // 设置缓存时长，单位毫秒，默认30分钟，建议10分钟以上，不能为0，想不缓存自己改代码。        getData();        return    } else {        ls = JSON.parse(data.ls)    };    let bberHtml = ''    ls.forEach((item, i) => {        let br = /[\s\uFEFF\xA0]+/g;        item.content = item.content.replace(br, '')        let d = new Date(item.createdAt)        let date = d.getFullYear() + '/' + (d.getMonth() + 1) + '/' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds()        let dataTime = timeago.format(date, 'zh_CN');        let newdataTime = '<span class="datatime">' + dataTime + '</span>'        bberHtml += '<li class="item item-' + (i + 1) + '">' + newdataTime + '： ' + urlToLink(item.content) + '</li>'    });    document.getElementById("bber-talk").innerHTML += '<i style="margin-right: 10px;" class="fa-regular fa-message"></i><ul class="talk-list">' + bberHtml + '</ul><i class="fa-solid fa-angles-right pass bber-icon"></i>'}function getData() {    fetch(jsonUrl)        .then(res => res.json())        .then((data) => {            data = { time: Date.now(), ls: JSON.stringify(data.data.items) }            localStorage.setItem('bibi', JSON.stringify(data))        }).then(() => {            bbtalk();        }).catch(() => {            console.log('获取哔哔数据失败！');        });}function urlToLink(str) {    let re_forimg = /<img(.*?)src=[\"|\']?(.*?)[\"|\']?(.*?)>|!\[(.*?)\]\((.*?)\)/g;    str = str.replace(re_forimg, '<i class="fa-solid fa-image"></i>');    return str}function Roll() {    try {        let list_li = Array.prototype.slice.call(document.querySelectorAll('.talk-list li'));        let tmp = list_li[0];        list_li.splice(0, 1);        list_li.push(tmp);        let list = document.querySelector('ul.talk-list')        list_li.forEach((item) => {            list.appendChild(item)        });    } catch (error) { }};setInterval(Roll, 3000);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/bibi.js"/>
      <url>/static/js/bibi.js</url>
      
        <content type="html"><![CDATA[let svg = '<svg  viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" class="is-badge"><path  d="m512 268c0 17.9-4.3 34.5-12.9 49.7s-20.1 27.1-34.6 35.4c.4 2.7.6 6.9.6 12.6 0 27.1-9.1 50.1-27.1 69.1-18.1 19.1-39.9 28.6-65.4 28.6-11.4 0-22.3-2.1-32.6-6.3-8 16.4-19.5 29.6-34.6 39.7-15 10.2-31.5 15.2-49.4 15.2-18.3 0-34.9-4.9-49.7-14.9-14.9-9.9-26.3-23.2-34.3-40-10.3 4.2-21.1 6.3-32.6 6.3-25.5 0-47.4-9.5-65.7-28.6-18.3-19-27.4-42.1-27.4-69.1 0-3 .4-7.2 1.1-12.6-14.5-8.4-26-20.2-34.6-35.4-8.5-15.2-12.8-31.8-12.8-49.7 0-19 4.8-36.5 14.3-52.3s22.3-27.5 38.3-35.1c-4.2-11.4-6.3-22.9-6.3-34.3 0-27 9.1-50.1 27.4-69.1s40.2-28.6 65.7-28.6c11.4 0 22.3 2.1 32.6 6.3 8-16.4 19.5-29.6 34.6-39.7 15-10.1 31.5-15.2 49.4-15.2s34.4 5.1 49.4 15.1c15 10.1 26.6 23.3 34.6 39.7 10.3-4.2 21.1-6.3 32.6-6.3 25.5 0 47.3 9.5 65.4 28.6s27.1 42.1 27.1 69.1c0 12.6-1.9 24-5.7 34.3 16 7.6 28.8 19.3 38.3 35.1 9.5 15.9 14.3 33.4 14.3 52.4zm-266.9 77.1 105.7-158.3c2.7-4.2 3.5-8.8 2.6-13.7-1-4.9-3.5-8.8-7.7-11.4-4.2-2.7-8.8-3.6-13.7-2.9-5 .8-9 3.2-12 7.4l-93.1 140-42.9-42.8c-3.8-3.8-8.2-5.6-13.1-5.4-5 .2-9.3 2-13.1 5.4-3.4 3.4-5.1 7.7-5.1 12.9 0 5.1 1.7 9.4 5.1 12.9l58.9 58.9 2.9 2.3c3.4 2.3 6.9 3.4 10.3 3.4 6.7-.1 11.8-2.9 15.2-8.7z" fill="#1da1f2"></path></svg>'let total = 0let nowNum = 0let items = []let page = 1let Url = 'https://kkapi.fomal.cc/api/ispeak?author=6319fedef46fae97dcfa5ee2&page=' // 修改api，记得带参数pagewindow.addEventListener('DOMContentLoaded', () => {    getNew();});// 获取数据function getNew() {    let bibi = document.getElementById('bibi');    try {        bibi.removeChild(document.getElementById('more'))    } catch (error) { }    bibi.innerHTML += '<div id="loading"><img src="/assets/loading3.gif" alt="loading"></div>' // loading图片可以f12在我网站源码下载，也可以使用其他图片。    fetch(Url + page).then(res => res.json()).then((res) => {        total = res.data.total        items = res.data.items        nowNum += items.length        if (page == 1) {            document.querySelector('.bb-info').innerHTML = '<i class="far fa-comment-alt"></i> 我的唠叨(' + total + ')'        }        page += 1    }).then(() => {        bb();        if (nowNum < total) {            document.getElementById('bibi').innerHTML += '<button id="more" onclick="getNew()">再翻翻</button>'        }        document.getElementById('bibi').removeChild(document.getElementById('loading'))    })}// 渲染数据function bb() {    let bb = document.getElementById('bb-main')    items.forEach((item) => {        let time = item.createdAt.substring(0, 10);        let div = document.createElement('div')        item.content = contentFormat(item.content)        div.className = 'bb-card'        div.innerHTML = '<div class="card-header"><div class="avatar"><img class="nofancybox"src="' + item.author.avatar + '"></div><div class="name">' + item.author.nickName + '</div>' + svg + '<div class="card-time">' + time + '</div></div><div class="card-content">' + item.content + '</div><div class="card-footer"><div data-v-185689ea=""class="card-label"style="background: ' + item.tag.bgColor + '; color: white;">' + item.tag.name + '</div></div>'        bb.appendChild(div)    })}// content格式化function contentFormat(s) {    let br = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;    let re_forimg = /<img(.*?)src=[\"|\']?(.*?)[\"|\']?(.*?)>|!\[(.*?)\]\((.*?)\)/g;    let getImgUrl = /(http(.*).[jpg|png|gif])/g;    let ls = s.match(getImgUrl)    s = s.replace(re_forimg, '')    s = s.replace(br, '')    let html = '<br>'    if (ls) {        ls.forEach((e) => {            html += '<a href="' + e + '" target="_blank" data-fancybox="group" class="fancybox"><img src="' + e + '"></a>'        })    }    s += html    return s}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/bigEmoji.js"/>
      <url>/static/js/bigEmoji.js</url>
      
        <content type="html"><![CDATA[// 如果当前页有评论就执行函数if (document.getElementById('post-comment')) owoBig();// 表情放大function owoBig() {    let flag = 1, // 设置节流阀        owo_time = '', // 设置计时器        m = 3; // 设置放大倍数    // 创建盒子    let div = document.createElement('div'),        body = document.querySelector('body');    // 设置ID    div.id = 'owo-big';    // 插入盒子    body.appendChild(div)    // 构造observer    let observer = new MutationObserver(mutations => {        for (let i = 0; i < mutations.length; i++) {            let dom = mutations[i].addedNodes,                owo_body = '';            if (dom.length == 2 && dom[1].className == 'OwO-body') owo_body = dom[1];            // 如果需要在评论内容中启用此功能请解除下面的注释            // else if (dom.length == 1 && dom[0].className == 'tk-comment') owo_body = dom[0];            else continue;            // 禁用右键（手机端长按会出现右键菜单，为了体验给禁用掉）            if (document.body.clientWidth <= 768) owo_body.addEventListener('contextmenu', e => e.preventDefault());            // 鼠标移入            owo_body.onmouseover = (e) => {                if (flag && e.target.tagName == 'IMG') {                    flag = 0;                    // 移入300毫秒后显示盒子                    owo_time = setTimeout(() => {                        let height = e.path[0].clientHeight * m, // 盒子高                            width = e.path[0].clientWidth * m, // 盒子宽                            left = (e.x - e.offsetX) - (width - e.path[0].clientWidth) / 2, // 盒子与屏幕左边距离                            top = e.y - e.offsetY; // 盒子与屏幕顶部距离                        if ((left + width) > body.clientWidth) left -= ((left + width) - body.clientWidth + 10); // 右边缘检测，防止超出屏幕                        if (left < 0) left = 10; // 左边缘检测，防止超出屏幕                        // 设置盒子样式                        div.style.cssText = `display:flex; height:${height}px; width:${width}px; left:${left}px; top:${top}px;`;                        // 在盒子中插入图片                        div.innerHTML = `<img src="${e.target.src}">`                    }, 300);                }            };            // 鼠标移出隐藏盒子            owo_body.onmouseout = () => { div.style.display = 'none', flag = 1, clearTimeout(owo_time); }        }    })    observer.observe(document.getElementById('post-comment'), { subtree: true, childList: true }) // 监听的 元素 和 配置项}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/card_weibo.js"/>
      <url>/static/js/card_weibo.js</url>
      
        <content type="html"><![CDATA[fetch('https://weibo.fomal.cc/api').then(data => data.json()).then(data => {    let html = '<style>.weibo-new{background:#ff3852}.weibo-hot{background:#ff9406}.weibo-jyzy{background:#ffc000}.weibo-recommend{background:#00b7ee}.weibo-adrecommend{background:#febd22}.weibo-friend{background:#8fc21e}.weibo-boom{background:#bd0000}.weibo-topic{background:#ff6f49}.weibo-topic-ad{background:#4dadff}.weibo-boil{background:#f86400}#weibo-container{overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}#weibo-container::-webkit-scrollbar{display:none}.weibo-list-item{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:nowrap}.weibo-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:auto}.weibo-num{float:right}.weibo-hotness{display:inline-block;padding:0 6px;transform:scale(.8) translateX(-3px);color:#fff;border-radius:8px}</style>'    html += '<div class="weibo-list">'    let hotness = {        '爆': 'weibo-boom',        '热': 'weibo-hot',        '沸': 'weibo-boil',        '新': 'weibo-new',        '荐': 'weibo-recommend',        '音': 'weibo-jyzy',        '影': 'weibo-jyzy',        '剧': 'weibo-jyzy',        '综': 'weibo-jyzy'    }    for (let item of data) {        html += '<div class="weibo-list-item"><div class="weibo-hotness ' + hotness[(item.hot || '荐')] + '">' + (item.hot || '荐') + '</div>'            + '<span class="weibo-title"><a title="' + item.title + '"href="' + item.url + '" target="_blank" rel="external nofollow noreferrer" style="color:#a08ed5">' + item.title + '</a></span>'            + '<div class="weibo-num"><span>' + item.num + '</span></div></div>'    }    html += '</div>'    document.getElementById('weibo-container').innerHTML = html}).catch(function (error) {    console.log(error);});]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/cat.js"/>
      <url>/static/js/cat.js</url>
      
        <content type="html"><![CDATA[if (document.body.clientWidth > 992) {    function getBasicInfo() {        /* 窗口高度 */        var ViewH = $(window).height();        /* document高度 */        var DocH = $("body")[0].scrollHeight;        /* 滚动的高度 */        var ScrollTop = $(window).scrollTop();        /* 可滚动的高度 */        var S_V = DocH - ViewH;        var Band_H = ScrollTop / (DocH - ViewH) * 100;        return {            ViewH: ViewH,            DocH: DocH,            ScrollTop: ScrollTop,            Band_H: Band_H,            S_V: S_V        }    };    function show(basicInfo) {        if (basicInfo.ScrollTop > 0.001) {            $(".neko").css('display', 'block');        } else {            $(".neko").css('display', 'none');        }    }    (function ($) {        $.fn.nekoScroll = function (option) {            var defaultSetting = {                top: '0',                scroWidth: 6 + 'px',                z_index: 9999,                zoom: 0.9,                borderRadius: 5 + 'px',                right: 60 + 'px',                nekoImg: "https://bu.dusays.com/2022/07/20/62d812db74be9.png",                hoverMsg: "喵喵喵~",                color: "#6f42c1",                during: 500,                blog_body: "body",            };            var setting = $.extend(defaultSetting, option);            var getThis = this.prop("className") !== "" ? "." + this.prop("className") : this.prop("id") !== "" ? "#" +                this.prop("id") : this.prop("nodeName");            if ($(".neko").length == 0) {                this.after("<div class=\"neko\" id=" + setting.nekoname + " data-msg=\"" + setting.hoverMsg + "\"></div>");            }            let basicInfo = getBasicInfo();            $(getThis)                .css({                    'position': 'fixed',                    'width': setting.scroWidth,                    'top': setting.top,                    'height': basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 + 'px',                    'z-index': setting.z_index,                    'background-color': setting.bgcolor,                    "border-radius": setting.borderRadius,                    'right': setting.right,                    'background-image': 'url(' + setting.scImg + ')',                    'background-image': '-webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent)', 'border-radius': '2em',                    'background-size': 'contain'                });            $("#" + setting.nekoname)                .css({                    'position': 'fixed',                    'top': basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 - 50 + 'px',                    'z-index': setting.z_index * 10,                    'right': setting.right,                    'background-image': 'url(' + setting.nekoImg + ')',                });            show(getBasicInfo());            $(window)                .scroll(function () {                    let basicInfo = getBasicInfo();                    show(basicInfo);                    $(getThis)                        .css({                            'position': 'fixed',                            'width': setting.scroWidth,                            'top': setting.top,                            'height': basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 + 'px',                            'z-index': setting.z_index,                            'background-color': setting.bgcolor,                            "border-radius": setting.borderRadius,                            'right': setting.right,                            'background-image': 'url(' + setting.scImg + ')',                            'background-image': '-webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent)', 'border-radius': '2em',                            'background-size': 'contain'                        });                    $("#" + setting.nekoname)                        .css({                            'position': 'fixed',                            'top': basicInfo.Band_H * setting.zoom * basicInfo.ViewH * 0.01 - 50 + 'px',                            'z-index': setting.z_index * 10,                            'right': setting.right,                            'background-image': 'url(' + setting.nekoImg + ')',                        });                    if (basicInfo.ScrollTop == basicInfo.S_V) {                        $("#" + setting.nekoname)                            .addClass("showMsg")                    } else {                        $("#" + setting.nekoname)                            .removeClass("showMsg");                        $("#" + setting.nekoname)                            .attr("data-msg", setting.hoverMsg);                    }                });            this.click(function (e) {                btf.scrollToDest(0, 500)            });            $("#" + setting.nekoname)                .click(function () {                    btf.scrollToDest(0, 500)                });            return this;        }    })(jQuery);    $(document).ready(function () {        //部分自定义        $("#myscoll").nekoScroll({            bgcolor: 'rgb(0 0 0 / .5)', //背景颜色，没有绳子背景图片时有效            borderRadius: '2em',            zoom: 0.9        }        );        //自定义（去掉以下注释，并注释掉其他的查看效果）        /*        $("#myscoll").nekoScroll({            nekoname:'neko1', //nekoname，相当于id            nekoImg:'img/猫咪.png', //neko的背景图片            scImg:"img/绳1.png", //绳子的背景图片            bgcolor:'#1e90ff', //背景颜色，没有绳子背景图片时有效            zoom:0.9, //绳子长度的缩放值            hoverMsg:'你好~喵', //鼠标浮动到neko上方的对话框信息            right:'100px', //距离页面右边的距离            fontFamily:'楷体', //对话框字体            fontSize:'14px', //对话框字体的大小            color:'#1e90ff', //对话框字体颜色            scroWidth:'8px', //绳子的宽度            z_index:100, //不用解释了吧            during:1200, //从顶部到底部滑动的时长        });        */    })}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/census.js"/>
      <url>/static/js/census.js</url>
      
        <content type="html"><![CDATA[var start_date = '20220901' // 开始日期var date = new Date();var end_date = '' + date.getFullYear() + (date.getMonth() > 8 ? (date.getMonth() + 1) : ("0" + (date.getMonth() + 1))) + (date.getDate() > 9 ? date.getDate() : ("0" + date.getDate())); // 结束日期// 更新链接 http://openapi.baidu.com/oauth/2.0/token?grant_type=refresh_token&refresh_token={REFRESH_TOKEN}&client_id={CLIENT_ID}&client_secret={CLIENT_SECRET}// API Key：{ CLIENT_ID }// Secret Key：{ CLIENT_SECRET }// Refresh Token：{ REFRESH_TOKEN }// 要看API Key与Secret Key见 http://developer.baidu.com/console#app/27508680// "refresh_token":"122.2251d7b17c4a35a92e262368e434f5d1.YaF-79J7FFOkB9dJ5FJR4RBj5uvRltnLLmkS8lS.oFSu7A"var access_token = '121.bee046f7517bad938b8c84c57d06fb92.YQSDIpPaacugOCeQ63XuLQiGILUPWSo3S2lidEe.nS91cw' // accessTokenvar site_id = '18384478' // 网址 idvar dataUrl = 'https://baidu-tongji.fomal.cc/api?access_token=' + access_token + '&site_id=' + site_id// var dataUrl = 'https://baidu-tongji.fomal.cc/api?site_id=' + site_idvar metrics = 'pv_count' // 统计访问次数 PV 填写 'pv_count'，统计访客数 UV 填写 'visitor_count'，二选一var metricsName = (metrics === 'pv_count' ? '访问次数' : (metrics === 'visitor_count' ? '访客数' : ''))// 这里为了统一颜色选取的是“明暗模式”下的两种字体颜色，也可以自己定义var color = document.documentElement.getAttribute('data-theme') === 'light' ? '#4c4948' : 'rgba(255,255,255,0.7)'// 访问地图function mapChart() {    let script = document.createElement("script")    // let paramUrl = '&start_date=' + start_date + '&end_date=' + end_date + '&metrics=' + metrics + '&method=visit/district/a'; // 更换请求地址    let paramUrl = '&start_date=' + start_date + '&end_date=' + end_date + '&metrics=' + metrics + '&method=overview/getDistrictRpt';    fetch(dataUrl + paramUrl).then(data => data.json()).then(data => {        let mapName = data.result.items[0]        let mapValue = data.result.items[1]        let mapArr = []        let max = mapValue[0][0]        for (let i = 0; i < mapName.length; i++) {            // mapArr.push({ name: mapName[i][0].name, value: mapValue[i][0] })            mapArr.push({ name: mapName[i][0], value: mapValue[i][0] })        }        let mapArrJson = JSON.stringify(mapArr)        script.innerHTML = `      var mapChart = echarts.init(document.getElementById('map-chart'), 'light');      var mapOption = {        title: {          text: '网站访问来源地图',          x: 'center',          textStyle: {            color: '${color}'          }        },        tooltip: {          trigger: 'item'        },        visualMap: {          min: 0,          max: ${max},          left: 'left',          top: 'bottom',          text: ['高','低'],          color: ['#37a2da', '#92d0f9'],          textStyle: {            color: '${color}'          },          calculable: true        },        series: [{          name: '${metricsName}',          type: 'map',          mapType: 'china',          showLegendSymbol: false,          label: {            normal: {              show: false            },            emphasis: {              show: true,              color: '#617282'            }          },          itemStyle: {            normal: {              areaColor: 'rgb(230, 232, 234)',              borderColor: 'rgb(255, 255, 255)',              borderWidth: 1            },            emphasis: {              areaColor: 'gold'            }          },          data: ${mapArrJson}        }]      };      mapChart.setOption(mapOption);      window.addEventListener("resize", () => {         mapChart.resize();      });`        document.getElementById('map-chart').after(script);    }).catch(function (error) {        console.log(error);    });}// 访问趋势function trendsChart() {    let script = document.createElement("script")    let paramUrl = '&start_date=' + start_date + '&end_date=' + end_date + '&metrics=' + metrics + '&method=trend/time/a&gran=month'    fetch(dataUrl + paramUrl).then(data => data.json()).then(data => {        let monthArr = []        let monthValueArr = []        let monthName = data.result.items[0]        let monthValue = data.result.items[1]        for (let i = monthName.length - 1; i >= 0; i--) {            monthArr.push(monthName[i][0].substring(0, 7).replace('/', '-'))            monthValueArr.push(monthValue[i][0] !== '--' ? monthValue[i][0] : 0)        }        let monthArrJson = JSON.stringify(monthArr)        let monthValueArrJson = JSON.stringify(monthValueArr)        script.innerHTML = `      var trendsChart = echarts.init(document.getElementById('trends-chart'), 'light');      var trendsOption = {        title: {          text: '网站访问统计图',          x: 'center',          textStyle: {            color: '${color}'          }        },        tooltip: {          trigger: 'axis'        },        xAxis: {          name: '日期',          type: 'category',          boundaryGap: false,          nameTextStyle: {            color: '${color}'          },          axisTick: {            show: false          },          axisLabel: {            show: true,            color: '${color}'          },          axisLine: {            show: true,            lineStyle: {              color: '${color}'            }          },          data: ${monthArrJson}        },        yAxis: {          name: '${metricsName}',          type: 'value',          nameTextStyle: {            color: '${color}'          },          splitLine: {            show: false          },          axisTick: {            show: false          },          axisLabel: {            show: true,            color: '${color}'          },          axisLine: {            show: true,            lineStyle: {              color: '${color}'            }          }        },        series: [{          name: '${metricsName}',          type: 'line',          smooth: true,          lineStyle: {              width: 0          },          showSymbol: false,          itemStyle: {            opacity: 1,            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{              offset: 0,              color: 'rgba(128, 255, 165)'            },            {              offset: 1,              color: 'rgba(1, 191, 236)'            }])          },          areaStyle: {            opacity: 1,            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{              offset: 0,              color: 'rgba(128, 255, 165)'            }, {              offset: 1,              color: 'rgba(1, 191, 236)'            }])          },          data: ${monthValueArrJson},          markLine: {            data: [{              name: '平均值',              type: 'average',              label: {                color: '${color}'              }            }]          }        }]      };      trendsChart.setOption(trendsOption);      window.addEventListener("resize", () => {         trendsChart.resize();      });`        document.getElementById('trends-chart').after(script);    }).catch(function (error) {        console.log(error);    });}// 访问来源function sourcesChart() {    let script = document.createElement("script")    let paramUrl = '&start_date=' + start_date + '&end_date=' + end_date + '&metrics=' + metrics + '&method=source/all/a';    fetch(dataUrl + paramUrl).then(data => data.json()).then(data => {        let sourcesName = data.result.items[0]        let sourcesValue = data.result.items[1]        let sourcesArr = []        for (let i = 0; i < sourcesName.length; i++) {            sourcesArr.push({ name: sourcesName[i][0].name, value: sourcesValue[i][0] })        }        let sourcesArrJson = JSON.stringify(sourcesArr)        script.innerHTML = `      var sourcesChart = echarts.init(document.getElementById('sources-chart'), 'light');      var sourcesOption = {        title: {          text: '网站访问来源统计图',          x: 'center',          textStyle: {            color: '${color}'          }        },        legend: {          top: 'bottom',          textStyle: {            color: '${color}'          }        },        tooltip: {          trigger: 'item'        },        series: [{          name: '${metricsName}',          type: 'pie',          radius: [30, 80],          center: ['50%', '50%'],          roseType: 'area',          label: {            color: '${color}',            formatter: "{b} : {c} ({d}%)"          },          data: ${sourcesArrJson},          itemStyle: {            emphasis: {              shadowBlur: 10,              shadowOffsetX: 0,              shadowColor: 'rgba(255, 255, 255, 0.5)'            }          }        }]      };      sourcesChart.setOption(sourcesOption);      window.addEventListener("resize", () => {         sourcesChart.resize();      });`        document.getElementById('sources-chart').after(script);    }).catch(function (error) {        console.log(error);    });}function switchVisitChart() {    // 这里为了统一颜色选取的是“明暗模式”下的两种字体颜色，也可以自己定义    let color = document.documentElement.getAttribute('data-theme') === 'light' ? '#4c4948' : 'rgba(255,255,255,0.7)'    if (document.getElementById('map-chart') && mapOption) {        try {            let mapOptionNew = mapOption            mapOptionNew.title.textStyle.color = color            mapOptionNew.visualMap.textStyle.color = color            mapChart.setOption(mapOptionNew)        } catch (error) {            console.log(error)        }    }    if (document.getElementById('trends-chart') && trendsOption) {        try {            let trendsOptionNew = trendsOption            trendsOptionNew.title.textStyle.color = color            trendsOptionNew.xAxis.nameTextStyle.color = color            trendsOptionNew.yAxis.nameTextStyle.color = color            trendsOptionNew.xAxis.axisLabel.color = color            trendsOptionNew.yAxis.axisLabel.color = color            trendsOptionNew.xAxis.axisLine.lineStyle.color = color            trendsOptionNew.yAxis.axisLine.lineStyle.color = color            trendsOptionNew.series[0].markLine.data[0].label.color = color            trendsChart.setOption(trendsOptionNew)        } catch (error) {            console.log(error)        }    }    if (document.getElementById('sources-chart') && sourcesOption) {        try {            let sourcesOptionNew = sourcesOption            sourcesOptionNew.title.textStyle.color = color            sourcesOptionNew.legend.textStyle.color = color            sourcesOptionNew.series[0].label.color = color            sourcesChart.setOption(sourcesOptionNew)        } catch (error) {            console.log(error)        }    }}if (document.getElementById('map-chart')) mapChart()if (document.getElementById('trends-chart')) trendsChart()if (document.getElementById('sources-chart')) sourcesChart()document.getElementById("darkmode").addEventListener("click", function () { setTimeout(switchVisitChart, 100) })]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/console.js"/>
      <url>/static/js/console.js</url>
      
        <content type="html"><![CDATA[// 控制台输出字符画if (window.console) {    Function.prototype.makeMulti = function () {        let l = new String(this);        l = l.substring(l.indexOf("/*") + 3, l.lastIndexOf("*/"));        return l;    };    let string = function () {        /*  ______                    _ _                 _            |  ____|                  | | |               | |           | |__ ___  _ __ ___   __ _| | |__   __ _ _   _| |_  |  __/ _ \| '_ ` _ \ / _` | | '_ \ / _` | | | | __| | | | (_) | | | | | | (_| | | | | | (_| | |_| | |_  |_|  \___/|_| |_| |_|\__,_|_|_| |_|\__,_|\__,_|\__|                                                                    ───▄▀▀▀▄▄▄▄▄▄▄▀▀▀▄───                ───█▒▒░░░░░░░░░▒▒█───                ────█░░█░░░░░█░░█────                ─▄▄──█░░░▀█▀░░░█──▄▄─                █░░█─▀▄░░░░░░░▄▀─█░░█                                                            */    };    console.log(string.makeMulti());    console.log("欢迎访问%cFomalhaut🥝の Tiny Home", "color:#1fc7b6;font-weight:bold");}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/cursor.js"/>
      <url>/static/js/cursor.js</url>
      
        <content type="html"><![CDATA[var CURSOR;Math.lerp = (a, b, n) => (1 - n) * a + n * b;const getStyle2 = (el, attr) => {    try {        return window.getComputedStyle            ? window.getComputedStyle(el)[attr]            : el.currentStyle[attr];    } catch (e) {}    return "";};class Cursor {    constructor() {        this.pos = {curr: null, prev: null};        this.pt = [];        this.create();        this.init();        this.render();    }    move(left, top) {        this.cursor.style["left"] = `${left}px`;        this.cursor.style["top"] = `${top}px`;    }    create() {        if (!this.cursor) {            this.cursor = document.createElement("div");            this.cursor.id = "cursor";            this.cursor.classList.add("hidden");            document.body.append(this.cursor);        }        var el = document.getElementsByTagName('*');        for (let i = 0; i < el.length; i++)            if (getStyle2(el[i], "cursor") == "pointer")                this.pt.push(el[i].outerHTML);        document.body.appendChild((this.scr = document.createElement("style")));        this.scr.innerHTML = `* {cursor: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8' width='8px' height='8px'><circle cx='4' cy='4' r='4' opacity='.75' fill='cyan'/></svg>") 4 4, auto}`;    }    refresh() {        this.scr.remove();        this.cursor.classList.remove("hover");        this.cursor.classList.remove("active");        this.pos = {curr: null, prev: null};        this.pt = [];        this.create();        this.init();        this.render();    }    init() {        document.onmouseover  = e => this.pt.includes(e.target.outerHTML) && this.cursor.classList.add("hover");        document.onmouseout   = e => this.pt.includes(e.target.outerHTML) && this.cursor.classList.remove("hover");        document.onmousemove  = e => {(this.pos.curr == null) && this.move(e.clientX - 8, e.clientY - 8); this.pos.curr = {x: e.clientX - 8, y: e.clientY - 8}; this.cursor.classList.remove("hidden");};        document.onmouseenter = e => this.cursor.classList.remove("hidden");        document.onmouseleave = e => this.cursor.classList.add("hidden");        document.onmousedown  = e => this.cursor.classList.add("active");        document.onmouseup    = e => this.cursor.classList.remove("active");    }    render() {        if (this.pos.prev) {            this.pos.prev.x = Math.lerp(this.pos.prev.x, this.pos.curr.x, 0.15);            this.pos.prev.y = Math.lerp(this.pos.prev.y, this.pos.curr.y, 0.15);            this.move(this.pos.prev.x, this.pos.prev.y);        } else {            this.pos.prev = this.pos.curr;        }        requestAnimationFrame(() => this.render());    }}(() => {    CURSOR = new Cursor();    // 需要重新获取列表时，使用 CURSOR.refresh()})();]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/day.js"/>
      <url>/static/js/day.js</url>
      
        <content type="html"><![CDATA[var d = new Date();m = d.getMonth() + 1;dd = d.getDate();y = d.getFullYear();//cookie函数function randomNum(minNum, maxNum) {    switch (arguments.length) {        case 1:            return parseInt(Math.random() * minNum + 1, 10);            break;        case 2:            return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);            break;        default:            return 0;            break;    }}// 公祭日if (m == 9 && dd == 18) {    console.log("勿忘国耻，振兴中华！\n\n今天是1931年9月18日九一八事变" + (y - 1931).toString() + "周年纪念日！\n=================================================================")    document.getElementsByTagName("html")[0].setAttribute("style", "filter: grayscale(100%);");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("今天是1931年9月18日九一八事变" + (y - 1931).toString() + "周年纪念日。\n勿忘国耻，振兴中华！");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 7 && dd == 7) {    console.log("勿忘国耻，振兴中华！\n\n今天是1937年7月7日卢沟桥事变" + (y - 1937).toString() + "周年纪念日！\n=================================================================")    document.getElementsByTagName("html")[0].setAttribute("style", "filter: grayscale(100%);");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("今天是1937年7月7日卢沟桥事变" + (y - 1937).toString() + "周年纪念日。\n勿忘国耻，振兴中华！");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 12 && dd == 13) {    console.log("勿忘国耻，振兴中华！\n\n今天是1937年12月13日南京大屠杀" + (y - 1931).toString() + "周年纪念日！为遇难的无辜同胞们缅怀！\n=================================================================")    document.getElementsByTagName("html")[0].setAttribute("style", "filter: grayscale(100%);");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("今天是1937年12月13日南京大屠杀" + (y - 1937).toString() + "周年纪念日，希望你能停下来缅怀遇难的无辜同胞们。\n勿忘国耻，振兴中华！");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 8 && dd == 14) {    console.log("勿忘国耻，振兴中华！\n\n今天是8月14日世界慰安妇纪念日！\n=================================================================")    document.getElementsByTagName("html")[0].setAttribute("style", "filter: grayscale(100%);");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("今天是8月14日世界慰安妇纪念日，希望你能停下来了解一下来为历史作证，为曾经的无辜妇女发声。\n勿忘国耻，振兴中华！");        sessionStorage.setItem("isPopupWindow", "1");    }}// 节假日if (m == 10 && dd <= 5) {//国庆节    console.log("祖国" + (y - 1949).toString() + "岁生日快乐！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("祖国" + (y - 1949).toString() + "岁生日快乐！");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 8 && dd == 15) {//搞来玩的，鬼子投降    console.log("鬼子投降" + (y - 1945).toString() + "年了！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("鬼子投降" + (y - 1945).toString() + "年了！");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 1 && dd == 1) {//元旦节    console.log(y.toString() + "年元旦快乐！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire(y.toString() + "年元旦快乐！");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 3 && dd == 8) {//妇女节    console.log("各位女神们，妇女节快乐！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("各位女神们，妇女节快乐！");        sessionStorage.setItem("isPopupWindow", "1");    }}l = ["震惊！微软让Minecraft Java免费了！", "Minecraft竟然违背Mojang的原则发布2.0！", "非常抱歉，因为不可控原因，博客将于明天停止运营，再见", "好消息，日本没了！", "美国垮了，背后原因竟是时刻心心念念想着祖国的川普！", "微软垮了！"]console.log(m, dd);if (m == 4 && dd == 1) {//愚人节，随机谎话    console.log(l[randomNum(0, l.length - 1)]);    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire(l[randomNum(0, l.length - 1)]);        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 5 && dd == 1) {//劳动节    console.log("劳动节快乐！为助力各行各业发展辛勤工作的人们致敬！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("劳动节快乐！为助力各行各业发展辛勤工作的人们致敬！");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 5 && dd == 1) {//劳动节    console.log("劳动节快乐！为助力各行各业发展辛勤工作的人们致敬！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("劳动节快乐！为助力各行各业发展辛勤工作的人们致敬！");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 5 && dd == 4) {//青年节    console.log("为有思想政治觉悟，拥护中国共产党，追求无产阶级、共产主义、马克思主义的青年们致敬！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("为有思想政治觉悟，拥护中国共产党，追求无产阶级、共产主义、马克思主义的青年们致敬");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 6 && dd == 1) {//儿童节    console.log("各位小朋友们，儿童节快乐！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("各位小朋友们，儿童节快乐！");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 7 && dd == 1) {//建党节    console.log("中国共产党" + (y - 1921).toString() + "岁生日快乐");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("中国共产党" + (y - 1921).toString() + "岁生日快乐");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 8 && dd == 11) {//站长生日    console.log("祝站长" + (y - 1998).toString() + "岁生日快乐");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("祝站长" + (y - 1998).toString() + "岁生日快乐");        sessionStorage.setItem("isPopupWindow", "1");    }}if (m == 6 && dd == 30) {//小猫咪生日    console.log("祝小猫咪" + (y - 1999).toString() + "岁生日快乐");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("祝小猫咪" + (y - 1999).toString() + "岁生日快乐");        sessionStorage.setItem("isPopupWindow", "1");    }}//传统节日部分if (m == 4 && dd == 4 || (m == 4 && dd == 5)) {//清明节    console.log("清明安康");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("清明安康");        sessionStorage.setItem("isPopupWindow", "1");    }}var lunar = calendarFormatter.solar2lunar();//农历采用汉字计算，防止出现闰月导致问题if ((lunar["IMonthCn"] == "正月" && lunar["IDayCn"] == "初六") || (lunar["IMonthCn"] == "正月" && lunar["IDayCn"] == "初五") || (lunar["IMonthCn"] == "正月" && lunar["IDayCn"] == "初四") || (lunar["IMonthCn"] == "正月" && lunar["IDayCn"] == "初三") || (lunar["IMonthCn"] == "正月" && lunar["IDayCn"] == "初二") || (lunar["IMonthCn"] == "正月" && lunar["IDayCn"] == "初一") || (lunar["IMonthCn"] == "腊月" && lunar["IDayCn"] == "三十") || (lunar["IMonthCn"] == "腊月" && lunar["IDayCn"] == "廿九")) {    //春节，本来只有大年三十到初六，但是有时候除夕是大年二十九，所以也加上了    console.log(y.toString() + "年新年快乐！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire(y.toString() + "年新年快乐！");        sessionStorage.setItem("isPopupWindow", "1");    }}if ((lunar["IMonthCn"] == "正月" && lunar["IDayCn"] == "十五")) {    //元宵节    console.log("元宵节快乐！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("元宵节快乐！");        sessionStorage.setItem("isPopupWindow", "1");    }}if ((lunar["IMonthCn"] == "正月" && lunar["IDayCn"] == "十五")) {    //元宵节    console.log("元宵节快乐！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("元宵节快乐！");        sessionStorage.setItem("isPopupWindow", "1");    }}if ((lunar["IMonthCn"] == "五月" && lunar["IDayCn"] == "初五")) {    //端午节    console.log("端午节快乐！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("端午节快乐！");        sessionStorage.setItem("isPopupWindow", "1");    }}if ((lunar["IMonthCn"] == "七月" && lunar["IDayCn"] == "初七")) {    //七夕节    console.log("七夕节快乐！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("七夕节快乐！");        sessionStorage.setItem("isPopupWindow", "1");    }}if ((lunar["IMonthCn"] == "八月" && lunar["IDayCn"] == "十五")) {    //中秋节    console.log("中秋节快乐！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("中秋节快乐！");        sessionStorage.setItem("isPopupWindow", "1");    }}if ((lunar["IMonthCn"] == "九月" && lunar["IDayCn"] == "初九")) {    //重阳节    console.log("重阳节快乐！");    if (sessionStorage.getItem("isPopupWindow") != "1") {        Swal.fire("重阳节快乐！");        sessionStorage.setItem("isPopupWindow", "1");    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/f12.js"/>
      <url>/static/js/f12.js</url>
      
        <content type="html"><![CDATA[// 复制提醒document.addEventListener("copy", function (e) {    new Vue({        data: function () {            this.$notify({                title: "哎嘿！复制成功",                message: "若要转载最好保留原文链接哦，给你一个大大的赞！",                position: 'top- left',                offset: 50,                showClose: true,                type: "success"            });            return { visible: false }        }    })})/* 禁用F12按键并提醒 */// document.onkeydown = function () {//     if (window.event && window.event.keyCode == 123) {//         event.keyCode = 0;//         event.returnValue = false;//         new Vue({//             data: function () {//                 this.$notify({//                     title: "喂喂，小伙子你在干嘛！",//                     message: "你太坏了，这里可不允许查看源码哦！",//                     position: 'top-left',//                     offset: 50,//                     showClose: false,//                     type: "error"//                 });//                 return { visible: false }//             }//         })//         return false;//     }// };/* 可以用F12但是会提醒 */document.onkeydown = function () {    if (window.event && window.event.keyCode == 123) {        new Vue({            data: function () {                this.$notify({                    title: "喂喂，我看见你在扒源码了！",                    message: "小伙子，开发者模式打开后请遵循GPL协议！",                    position: 'top-left',                    offset: 50,                    showClose: true,                    type: "warning"                });            }        })    }};]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/fps.js"/>
      <url>/static/js/fps.js</url>
      
        <content type="html"><![CDATA[if (window.localStorage.getItem("fpson") == "1") {    var rAF = function () {        return (            window.requestAnimationFrame ||            window.webkitRequestAnimationFrame ||            function (callback) {                window.setTimeout(callback, 1000 / 60);            }        );    }();    var frame = 0;    var allFrameCount = 0;    var lastTime = Date.now();    var lastFameTime = Date.now();    var loop = function () {        var now = Date.now();        var fs = (now - lastFameTime);        var fps = Math.round(1000 / fs);        lastFameTime = now;        // 不置 0，在动画的开头及结尾记录此值的差值算出 FPS        allFrameCount++;        frame++;        if (now > 1000 + lastTime) {            var fps = Math.round((frame * 1000) / (now - lastTime));            if (fps <= 6) {                var kd = `<span style="color:#bd0000">卡成ppt</span>`            }            else if (fps <= 10) {                var kd = `<span style="color:red">电竞级帧率</span>`            }            else if (fps <= 14) {                var kd = `<span style="color:yellow">难受</span>`            }            else if (fps < 24) {                var kd = `<span style="color:orange">不太流畅</span>`            }            else if (fps <= 40) {                var kd = `<span style="color:green">不错！</span>`            }            else {                var kd = `<span style="color:#425aef">这才正常！</span>`            }            document.getElementById("fps").innerHTML = `FPS:${fps} ${kd}`;            frame = 0;            lastTime = now;        };        rAF(loop);    }    loop();}else { document.getElementById("fpson").style = "display:none!important" }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/grayscale.js"/>
      <url>/static/js/grayscale.js</url>
      
        <content type="html"><![CDATA[if (PublicSacrificeDay()) {    document.getElementsByTagName("html")[0].setAttribute("style", "filter:gray !important;filter:grayscale(100%);-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);");}function PublicSacrificeDay() {    var PSFarr = new Array("0403", "0404", "0405", "0406", "0414", "0512", "0707", "0807", "0814", "0909", "0918", "0930", "1025", "1213");    //2020年4月4日 新冠肺炎哀悼日，清明节    //2010年4月14日，青海玉树地震    //2008年5月12日，四川汶川地震    //1937年7月7日,七七事变 又称卢沟桥事变    //2010年8月7日，甘肃舟曲特大泥石流    //8月14日，世界慰安妇纪念日    //1976年9月9日，毛主席逝世    //1931年9月18日，九一八事变    //烈士纪念日为每年9月30日    //1950年10月25日，抗美援朝纪念日    //1937年12月13日，南京大屠杀    var currentdate = new Date();    var str = "";    var mm = currentdate.getMonth() + 1;    if (currentdate.getMonth() > 9) {        str += mm;    } else {        str += "0" + mm;    }    if (currentdate.getDate() > 9) {        str += currentdate.getDate();    } else {        str += "0" + currentdate.getDate();    }    if (PSFarr.indexOf(str) > -1) {        return 1;    } else {        return 0;    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/leaves.js"/>
      <url>/static/js/leaves.js</url>
      
        <content type="html"><![CDATA[var stop, staticx;var img = new Image();// 将引入的图片文件替换为你想要的即可img.src = "https://img.cdn.nesxc.com/upload/wordpress/202202251325420webp";function Sakura(x, y, s, r, fn) {    this.x = x;    this.y = y;    this.s = s;    this.r = r;    this.fn = fn}Sakura.prototype.draw = function (cxt) {    cxt.save();    var xc = 20 * this.s / 2;    cxt.translate(this.x, this.y);    cxt.rotate(this.r);    cxt.drawImage(img, 0, 0, 20 * this.s, 20 * this.s);    cxt.restore()};Sakura.prototype.update = function () {    this.x = this.fn.x(this.x, this.y);    this.y = this.fn.y(this.y, this.y);    this.r = this.fn.r(this.r);    if (this.x > window.innerWidth || this.x < 0 || this.y > window.innerHeight || this.y < 0) {        this.r = getRandom("fnr");        if (Math.random() > 0.4) {            this.x = getRandom("x");            this.y = 0;            this.s = getRandom("s");            this.r = getRandom("r")        } else {            this.x = window.innerWidth;            this.y = getRandom("y");            this.s = getRandom("s");            this.r = getRandom("r")        }    }};SakuraList = function () {    this.list = []};SakuraList.prototype.push = function (sakura) {    this.list.push(sakura)};SakuraList.prototype.update = function () {    for (var i = 0, len = this.list.length; i < len; i++) {        this.list[i].update()    }};SakuraList.prototype.draw = function (cxt) {    for (var i = 0, len = this.list.length; i < len; i++) {        this.list[i].draw(cxt)    }};SakuraList.prototype.get = function (i) {    return this.list[i]};SakuraList.prototype.size = function () {    return this.list.length};function getRandom(option) {    var ret, random;    switch (option) {        case "x":            ret = Math.random() * window.innerWidth;            break;        case "y":            ret = Math.random() * window.innerHeight;            break;        case "s":            ret = Math.random();            break;        case "r":            ret = Math.random() * 4;            break;        case "fnx":            random = -0.5 + Math.random() * 1;            ret = function (x, y) {                return x + 0.5 * random - 1.7            };            break;        case "fny":            random = 1.5 + Math.random() * 0.7;            ret = function (x, y) {                return y + random            };            break;        case "fnr":            random = Math.random() * 0.03;            ret = function (r) {                return r + random            };            break    }    return ret}function startSakura() {    requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;    var canvas = document.createElement("canvas"),        cxt;    staticx = true;    canvas.height = window.innerHeight;    canvas.width = window.innerWidth;    canvas.setAttribute("style", "position: fixed;left: 0;top: 0;pointer-events: none;");    canvas.setAttribute("id", "canvas_sakura");    document.getElementsByTagName("body")[0].appendChild(canvas);    cxt = canvas.getContext("2d");    var sakuraList = new SakuraList();    for (var i = 0; i < 50; i++) {        var sakura, randomX, randomY, randomS, randomR, randomFnx, randomFny;        randomX = getRandom("x");        randomY = getRandom("y");        randomR = getRandom("r");        randomS = getRandom("s");        randomFnx = getRandom("fnx");        randomFny = getRandom("fny");        randomFnR = getRandom("fnr");        sakura = new Sakura(randomX, randomY, randomS, randomR, {            x: randomFnx,            y: randomFny,            r: randomFnR        });        sakura.draw(cxt);        sakuraList.push(sakura)    }    stop = requestAnimationFrame(function () {        cxt.clearRect(0, 0, canvas.width, canvas.height);        sakuraList.update();        sakuraList.draw(cxt);        stop = requestAnimationFrame(arguments.callee)    })}window.onresize = function () {    var canvasSnow = document.getElementById("canvas_snow")};img.onload = function () {    startSakura()};function stopp() {    if (staticx) {        var child = document.getElementById("canvas_sakura");        child.parentNode.removeChild(child);        window.cancelAnimationFrame(stop);        staticx = false    } else {        startSakura()    }};]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/light.js"/>
      <url>/static/js/light.js</url>
      
        <content type="html"><![CDATA[// 霓虹灯效果var arr = ["#39c5bb", "rgb(241, 71, 71)", "rgb(241, 162, 71)", "rgb(241, 238, 71)", "rgb(179, 71, 241)", "#1edbff", "#ed709b", "#5636ed"];var idx = 0;function changeColor() {    document.getElementById("site-title").style.textShadow = arr[idx] + " 0 0 18px";    document.getElementById("site-name").style.textShadow = arr[idx] + " 0 0 18px";    idx++;    if (idx == 8) {        idx = 0;    }}window.setInterval(changeColor, 800);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/love.js"/>
      <url>/static/js/love.js</url>
      
        <content type="html"><![CDATA[// 相遇的函数function meet1() {    // 有年份的    var now = new Date().getTime();    var start = new Date("06/25/2020 00:00:00").getTime(); // 在一起的时间    var years = (now - start) / 1e3 / 60 / 60 / 24 / 365,        ynum = Math.floor(years);    var days = (now - start) / 1e3 / 60 / 60 / 24 - ynum * 365,        dnum = Math.floor(days),        hours = (now - start) / 1e3 / 60 / 60 - ynum * 365 * 24 - 24 * dnum,        hnum = Math.floor(hours);    1 == String(hnum).length && (hnum = "0" + hnum);    var minutes = (now - start) / 1e3 / 60 - ynum * 365 * 1440 - 1440 * dnum - 60 * hnum,        mnum = Math.floor(minutes);    1 == String(mnum).length && (mnum = "0" + mnum);    var seconds = (now - start) / 1e3 - ynum * 365 * 1440 * 60 - 86400 * dnum - 3600 * hnum - 60 * mnum,        snum = Math.round(seconds);    1 == String(snum).length && (snum = "0" + snum);    document.getElementById("contentAA").innerHTML =        `<font size=4><b>1. 认识小猫咪已经有 ${ynum} 年 ${dnum} 天 ${hnum} 小时 ${mnum} 分 ${snum} 秒 </b> <i id="heartbeat" class='fas fa-heartbeat' style='color:#2ce0e0'></i></font>`;}function meet2() {    // 没有年份的，只有天数    var now = new Date().getTime();    var start = new Date("06/25/2020 00:00:00").getTime(); // 在一起的时间    var days = (now - start) / 1e3 / 60 / 60 / 24,        dnum = Math.floor(days),        hours = (now - start) / 1e3 / 60 / 60 - 24 * dnum,        hnum = Math.floor(hours);    1 == String(hnum).length && (hnum = "0" + hnum);    var minutes = (now - start) / 1e3 / 60 - 1440 * dnum - 60 * hnum,        mnum = Math.floor(minutes);    1 == String(mnum).length && (mnum = "0" + mnum);    var seconds = (now - start) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,        snum = Math.round(seconds);    1 == String(snum).length && (snum = "0" + snum);    document.getElementById("contentAA").innerHTML =        `<font size=4><b>1. 认识小猫咪已经有 ${dnum} 天 ${hnum} 小时 ${mnum} 分 ${snum} 秒 </b> <i id="heartbeat" class='fas fa-heartbeat' style='color:#2ce0e0'></i></font>`;}// 在一起的函数function together1() {    // 有年份的    var now = new Date().getTime();    var start = new Date("09/14/2020 00:00:00").getTime(); // 在一起的时间    var years = (now - start) / 1e3 / 60 / 60 / 24 / 365,        ynum = Math.floor(years);    var days = (now - start) / 1e3 / 60 / 60 / 24 - ynum * 365,        dnum = Math.floor(days),        hours = (now - start) / 1e3 / 60 / 60 - ynum * 365 * 24 - 24 * dnum,        hnum = Math.floor(hours);    1 == String(hnum).length && (hnum = "0" + hnum);    var minutes = (now - start) / 1e3 / 60 - ynum * 365 * 1440 - 1440 * dnum - 60 * hnum,        mnum = Math.floor(minutes);    1 == String(mnum).length && (mnum = "0" + mnum);    var seconds = (now - start) / 1e3 - ynum * 365 * 1440 * 60 - 86400 * dnum - 3600 * hnum - 60 * mnum,        snum = Math.round(seconds);    1 == String(snum).length && (snum = "0" + snum);    document.getElementById("contentBB").innerHTML =        `<font size=4><b>2. 和小猫咪已经在一起 ${ynum} 年 ${dnum} 天 ${hnum} 小时 ${mnum} 分 ${snum} 秒 </b> <i id="heartbeat" class='fas fa-heartbeat' style='color:#e9d135'></i></font>`;}function together2() {    // 没有年份的，只有天数    var now = new Date().getTime();    var start = new Date("09/14/2020 00:00:00").getTime(); // 在一起的时间    var days = (now - start) / 1e3 / 60 / 60 / 24,        dnum = Math.floor(days),        hours = (now - start) / 1e3 / 60 / 60 - 24 * dnum,        hnum = Math.floor(hours);    1 == String(hnum).length && (hnum = "0" + hnum);    var minutes = (now - start) / 1e3 / 60 - 1440 * dnum - 60 * hnum,        mnum = Math.floor(minutes);    1 == String(mnum).length && (mnum = "0" + mnum);    var seconds = (now - start) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,        snum = Math.round(seconds);    1 == String(snum).length && (snum = "0" + snum);    document.getElementById("contentBB").innerHTML =        `<font size=4><b>2. 和小猫咪已经在一起 ${dnum} 天 ${hnum} 小时 ${mnum} 分 ${snum} 秒 </b> <i id="heartbeat" class='fas fa-heartbeat' style='color:#e9d135'></i></font>`;    }// 设置重复执行函数，周期1000mssetInterval(together2, 1000);setInterval(meet2, 1000);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/nav.js"/>
      <url>/static/js/nav.js</url>
      
        <content type="html"><![CDATA[//js有一个小问题：就是只要鼠标滚动不论哪里都会响应，即便你滚动的是子元素//2022.9.11 已修复，需要jq，请自行引入document.getElementById("name-container").setAttribute("style", "display:none");var position = $(window).scrollTop();$(window).scroll(function () {    var scroll = $(window).scrollTop();    if (scroll > position) {        document.getElementById("name-container").setAttribute("style", "");        document.getElementsByClassName("menus_items")[1].setAttribute("style", "display:none!important");    } else {        document.getElementsByClassName("menus_items")[1].setAttribute("style", "");        document.getElementById("name-container").setAttribute("style", "display:none");    }    position = scroll;});function scrollToTop() {    document.getElementsByClassName("menus_items")[1].setAttribute("style", "");    document.getElementById("name-container").setAttribute("style", "display:none");    btf.scrollToDest(0, 500);}//修复没有弄右键菜单的童鞋无法回顶部的问题document.getElementById("page-name").innerText = document.title.split(" | Fomalhaut🥝")[0];/*这里是去掉你的网站全局名称的设置，如果你不需要去掉，你可以写成：document.getElementById("page-name").innerText=document.title或者把你的网站的分隔符和全局网站名称加上去*/]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/random.js"/>
      <url>/static/js/random.js</url>
      
        <content type="html"><![CDATA[// 随便逛逛// 发现有时会和当前页面重复，加一个判断function randomPost() {    fetch('/baidusitemap.xml').then(res => res.text()).then(str => (new window.DOMParser()).parseFromString(str, "text/xml")).then(data => {        let ls = data.querySelectorAll('url loc');        while (true) {            let url = ls[Math.floor(Math.random() * ls.length)].innerHTML;            if (location.href == url) continue;            location.href = url;            return;        }    })}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/readPercent.js"/>
      <url>/static/js/readPercent.js</url>
      
        <content type="html"><![CDATA[window.onscroll = percent;// 执行函数// 页面百分比function percent() {    let a = document.documentElement.scrollTop, // 卷去高度        b = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight) - document.documentElement.clientHeight, // 整个网页高度 减去 可视高度        result = Math.round(a / b * 100), // 计算百分比        btn = document.querySelector("#go-up"); // 获取按钮    if (result < 95) { // 如果阅读进度小于95% 就显示百分比        btn.childNodes[0].style.display = 'none'        btn.childNodes[1].style.display = 'block'        btn.childNodes[1].innerHTML = result + '<span>%</span>';    } else { // 如果大于95%就显示回到顶部图标        btn.childNodes[1].style.display = 'none'        btn.childNodes[0].style.display = 'block'    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/rightmenu.js"/>
      <url>/static/js/rightmenu.js</url>
      
        <content type="html"><![CDATA[console.log(    "Codes uses GPL Licence")function insertAtCursor(myField, myValue) {    //IE 浏览器    if (document.selection) {        myField.focus();        sel = document.selection.createRange();        sel.text = myValue;        sel.select();    }    //FireFox、Chrome等    else if (myField.selectionStart || myField.selectionStart == '0') {        var startPos = myField.selectionStart;        var endPos = myField.selectionEnd;        // 保存滚动条        var restoreTop = myField.scrollTop;        myField.value = myField.value.substring(0, startPos) + myValue + myField.value.substring(endPos, myField.value.length);        if (restoreTop > 0) {            myField.scrollTop = restoreTop;        }        myField.focus();        myField.selectionStart = startPos + myValue.length;        myField.selectionEnd = startPos + myValue.length;    } else {        myField.value += myValue;        myField.focus();    }}let rmf = {};rmf.showRightMenu = function (isTrue, x = 0, y = 0) {    let $rightMenu = $('#rightMenu');    $rightMenu.css('top', x + 'px').css('left', y + 'px');    if (isTrue) {        $rightMenu.show();    } else {        $rightMenu.hide();    }}rmf.switchDarkMode = function () {    const nowMode = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'    if (nowMode === 'light') {        activateDarkMode()        saveToLocal.set('theme', 'dark', 2)        GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)    } else {        activateLightMode()        saveToLocal.set('theme', 'light', 2)        GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)    }    // handle some cases    typeof utterancesTheme === 'function' && utterancesTheme()    typeof FB === 'object' && window.loadFBComment()    window.DISQUS && document.getElementById('disqus_thread').children.length && setTimeout(() => window.disqusReset(), 200)};rmf.copyWordsLink = function () {    let url = window.location.href    let txa = document.createElement("textarea");    txa.value = url;    document.body.appendChild(txa)    txa.select();    document.execCommand("Copy");    document.body.removeChild(txa);    // Swal.fire("复制成功！");}rmf.switchReadMode = function () {    const $body = document.body    $body.classList.add('read-mode')    const newEle = document.createElement('button')    newEle.type = 'button'    newEle.className = 'fas fa-sign-out-alt exit-readmode'    $body.appendChild(newEle)    function clickFn() {        $body.classList.remove('read-mode')        newEle.remove()        newEle.removeEventListener('click', clickFn)    }    newEle.addEventListener('click', clickFn)}//复制选中文字rmf.copySelect = function () {    document.execCommand('Copy', false, null);    //这里可以写点东西提示一下 已复制}//回到顶部rmf.scrollToTop = function () {    btf.scrollToDest(0, 500);}rmf.translate = function () {    document.getElementById("translateLink").click();}// 右键菜单事件document.onkeydown = function (event) {    event = (event || window.event);    if (event.keyCode == 17) {        console.log("你知道的太多了");        return;    }}function popupMenu() {    //window.oncontextmenu=function(){return false;}    window.oncontextmenu = function (event) {        console.log(event.keyCode)        $('.rightMenu-group.hide').hide();        //如果有文字选中，则显示 文字选中相关的菜单项        if (document.getSelection().toString()) {            $('#menu-text').show();        }        if (document.getElementById('post')) {            $('#menu-post').show();        } else {            if (document.getElementById('page')) {                $('#menu-post').show();            }        }        var el = window.document.body;        el = event.target;        var a = /^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/        if (a.test(window.getSelection().toString())) {            $('#menu-too').show()        }        if (el.tagName == 'A') {            $('#menu-to').show()            rmf.open = function () {                location.href = el.href            }            rmf.openWithNewTab = function () {                window.open(el.href);            }            rmf.copyLink = function () {                let url = el.href                let txa = document.createElement("textarea");                txa.value = url;                document.body.appendChild(txa)                txa.select();                document.execCommand("Copy");                document.body.removeChild(txa);            }        }        if (el.tagName == 'IMG') {            $('#menu-img').show()            rmf.openWithNewTab = function () {                window.open(el.src);            }            rmf.click = function () {                el.click()            }            rmf.copyLink = function () {                let url = el.src                let txa = document.createElement("textarea");                txa.value = url;                document.body.appendChild(txa)                txa.select();                document.execCommand("Copy");                document.body.removeChild(txa);            }        } else if (el.tagName == "TEXTAREA" || el.tagName == "INPUT") {            $('#menu-paste').show();            rmf.paste = function () {                navigator.permissions                    .query({                        name: 'clipboard-read'                    })                    .then(result => {                        if (result.state == 'granted' || result.state == 'prompt') {                            //读取剪贴板                            navigator.clipboard.readText().then(text => {                                console.log(text)                                insertAtCursor(el, text)                            })                        } else {                            alert('请允许读取剪贴板！')                        }                    })            }        }        let pageX = event.clientX + 10;        let pageY = event.clientY;        let rmWidth = $('#rightMenu').width();        let rmHeight = $('#rightMenu').height();        if (pageX + rmWidth > window.innerWidth) {            pageX -= rmWidth + 10;        }        if (pageY + rmHeight > window.innerHeight) {            pageY -= pageY + rmHeight - window.innerHeight;        }        rmf.showRightMenu(true, pageY, pageX);        return false;    };    window.addEventListener('click', function () {        rmf.showRightMenu(false);    });}if (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))) {    popupMenu()}const box = document.documentElementfunction addLongtabListener(target, callback) {    let timer = 0 // 初始化timer    target.ontouchstart = () => {        timer = 0 // 重置timer        timer = setTimeout(() => {            callback();            timer = 0        }, 380) // 超时器能成功执行，说明是长按    }    target.ontouchmove = () => {        clearTimeout(timer) // 如果来到这里，说明是滑动        timer = 0    }    target.ontouchend = () => { // 到这里如果timer有值，说明此触摸时间不足380ms，是点击        if (timer) {            clearTimeout(timer)        }    }}addLongtabListener(box, popupMenu)]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/runtime.js"/>
      <url>/static/js/runtime.js</url>
      
        <content type="html"><![CDATA[var now = new Date();function createtime() {  // 当前时间  now.setTime(now.getTime() + 1000);  var start = new Date("08/01/2022 00:00:00"); // 旅行者1号开始计算的时间  var dis = Math.trunc(23400000000 + ((now - start) / 1000) * 17); // 距离=秒数*速度 记住转换毫秒  var unit = (dis / 149600000).toFixed(6);  // 天文单位  // 网站诞生时间  var grt = new Date("08/09/2022 00:00:00");  var days = (now - grt) / 1e3 / 60 / 60 / 24,    dnum = Math.floor(days),    hours = (now - grt) / 1e3 / 60 / 60 - 24 * dnum,    hnum = Math.floor(hours);  1 == String(hnum).length && (hnum = "0" + hnum);  var minutes = (now - grt) / 1e3 / 60 - 1440 * dnum - 60 * hnum,    mnum = Math.floor(minutes);  1 == String(mnum).length && (mnum = "0" + mnum);  var seconds = (now - grt) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,    snum = Math.round(seconds);  1 == String(snum).length && (snum = "0" + snum);  let currentTimeHtml = "";  (currentTimeHtml =    hnum < 18 && hnum >= 9    ? `<img class='boardsign' src='https://img.shields.io/badge/F小屋-上班摸鱼中-6adea8?style=social&logo=cakephp' title='距离月入25k也就还差一个大佬带我~'><span class='textTip'> <br> <b>本站居然运行了 ${dnum} 天</span><span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </b></span> <i id="heartbeat" class='fas fa-heartbeat' style='color:red'></i> <br> <b>旅行者 1 号当前距离地球 ${dis} 千米，约为 ${unit} 个天文单位 🚀</b> <br> <b><font size=2px>再看看那个光点，它就在这里，这是家园，这是我们 ——— 你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生✨</font></b> `    : `<img class='boardsign' src='https://img.shields.io/badge/F小屋-打烊休息啦-6adea8?style=social&logo=coffeescript' title='下班了就该开开心心的玩耍，嘿嘿~'><span class='textTip'> <br> <b>本站居然运行了 ${dnum} 天</span><span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </b></span> <i id="heartbeat" class='fas fa-heartbeat' style='color:red'></i> <br> <b>旅行者 1 号当前距离地球 ${dis} 千米，约为 ${unit} 个天文单位 🚀</b> <br> <b><font size=2px>再看看那个光点，它就在这里，这是家园，这是我们 ——— 你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生✨</font></b> `),    document.getElementById("workboard") &&      (document.getElementById("workboard").innerHTML = currentTimeHtml);}// 设置重复执行函数，周期1000mssetInterval(() => {  createtime();}, 1000);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/sun_moon.js"/>
      <url>/static/js/sun_moon.js</url>
      
        <content type="html"><![CDATA[function switchNightMode() {    document.querySelector('body').insertAdjacentHTML('beforeend', '<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>'),        setTimeout(function () {            document.querySelector('body').classList.contains('DarkMode') ? (document.querySelector('body').classList.remove('DarkMode'), localStorage.setItem('isDark', '0'), document.getElementById('modeicon').setAttribute('xlink:href', '#icon-moon')) : (document.querySelector('body').classList.add('DarkMode'), localStorage.setItem('isDark', '1'), document.getElementById('modeicon').setAttribute('xlink:href', '#icon-sun')),                setTimeout(function () {                    document.getElementsByClassName('Cuteen_DarkSky')[0].style.transition = 'opacity 3s';                    document.getElementsByClassName('Cuteen_DarkSky')[0].style.opacity = '0';                    setTimeout(function () {                        document.getElementsByClassName('Cuteen_DarkSky')[0].remove();                    }, 1e3);                }, 2e3)        })    const nowMode = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'    if (nowMode === 'light') {        activateDarkMode()        saveToLocal.set('theme', 'dark', 2)        GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)        document.getElementById('modeicon').setAttribute('xlink:href', '#icon-sun')    } else {        activateLightMode()        saveToLocal.set('theme', 'light', 2)        document.querySelector('body').classList.add('DarkMode'), document.getElementById('modeicon').setAttribute('xlink:href', '#icon-moon')    }    // handle some cases    typeof utterancesTheme === 'function' && utterancesTheme()    typeof FB === 'object' && window.loadFBComment()    window.DISQUS && document.getElementById('disqus_thread').children.length && setTimeout(() => window.disqusReset(), 200)}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/title.js"/>
      <url>/static/js/title.js</url>
      
        <content type="html"><![CDATA[//动态标题var OriginTitile = document.title;var titleTime;document.addEventListener('visibilitychange', function () {  if (document.hidden) {    //离开当前页面时标签显示内容    document.title = '看不见我🙈~看不见我🙈~';    clearTimeout(titleTime);  } else {    //返回当前页面时标签显示内容    document.title = ' ( ๑•̀ㅂ•́) ✧被发现了～';    //两秒后变回正常标题    titleTime = setTimeout(function () {      document.title = OriginTitile;    }, 2000);  }});]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/universe.js"/>
      <url>/static/js/universe.js</url>
      
        <content type="html"><![CDATA[function dark() {    window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;    var n, e, i, h, t = .05,        s = document.getElementById("universe"),        o = !0,        a = "180,184,240",        r = "226,225,142",        d = "226,225,224",        c = [];    function f() {        n = window.innerWidth, e = window.innerHeight, i = .216 * n, s.setAttribute("width", n), s.setAttribute("height", e)    }    function u() {        h.clearRect(0, 0, n, e);        for (var t = c.length, i = 0; i < t; i++) {            var s = c[i];            s.move(), s.fadeIn(), s.fadeOut(), s.draw()        }    }    function y() {        this.reset = function () {            this.giant = m(3), this.comet = !this.giant && !o && m(10), this.x = l(0, n - 10), this.y = l(0, e), this.r = l(1.1, 2.6), this.dx = l(t, 6 * t) + (this.comet + 1 - 1) * t * l(50, 120) + 2 * t, this.dy = -l(t, 6 * t) - (this.comet + 1 - 1) * t * l(50, 120), this.fadingOut = null, this.fadingIn = !0, this.opacity = 0, this.opacityTresh = l(.2, 1 - .4 * (this.comet + 1 - 1)), this.do = l(5e-4, .002) + .001 * (this.comet + 1 - 1)        }, this.fadeIn = function () {            this.fadingIn && (this.fadingIn = !(this.opacity > this.opacityTresh), this.opacity += this.do)        }, this.fadeOut = function () {            this.fadingOut && (this.fadingOut = !(this.opacity < 0), this.opacity -= this.do / 2, (this.x > n || this.y < 0) && (this.fadingOut = !1, this.reset()))        }, this.draw = function () {            if (h.beginPath(), this.giant) h.fillStyle = "rgba(" + a + "," + this.opacity + ")", h.arc(this.x, this.y, 2, 0, 2 * Math.PI, !1); else if (this.comet) {                h.fillStyle = "rgba(" + d + "," + this.opacity + ")", h.arc(this.x, this.y, 1.5, 0, 2 * Math.PI, !1); for (var t = 0; t < 30; t++)h.fillStyle = "rgba(" + d + "," + (this.opacity - this.opacity / 20 * t) + ")", h.rect(this.x - this.dx / 4 * t, this.y - this.dy / 4 * t - 2, 2, 2), h.fill()            } else h.fillStyle = "rgba(" + r + "," + this.opacity + ")", h.rect(this.x, this.y, this.r, this.r);            h.closePath(), h.fill()        }, this.move = function () {            this.x += this.dx, this.y += this.dy, !1 === this.fadingOut && this.reset(), (this.x > n - n / 4 || this.y < 0) && (this.fadingOut = !0)        }, setTimeout(function () {            o = !1        }, 50)    }    function m(t) {        return Math.floor(1e3 * Math.random()) + 1 < 10 * t    }    function l(t, i) {        return Math.random() * (i - t) + t    }    f(), window.addEventListener("resize", f, !1), function () {        h = s.getContext("2d");        for (var t = 0; t < i; t++) c[t] = new y, c[t].reset();        u()    }(), function t() {        document.getElementsByTagName('html')[0].getAttribute('data-theme') == 'dark' && u(), window.requestAnimationFrame(t)    }()};dark()]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/welcome.js"/>
      <url>/static/js/welcome.js</url>
      
        <content type="html"><![CDATA[function welcome() {    let welcome_text = '欢迎光顾小站~'    if (document.referrer !== '') {        let referrer = document.referrer.split("/")[2];        welcome_text = "欢迎您，来自" + referrer.toUpperCase() + "的用户！";        if (referrer.toUpperCase() == document.domain.toUpperCase()) return;    }    swal({        title: "♪(^∇^)",        text: welcome_text + '\n🛸主域名：fomal.cc\n🚀备用域名1：blog.fomal.cc\n🛵备用域名2：aa.fomal.cc\n🚁备用域名3：bb.fomal.cc',        imageUrl: "/assets/咖啡.png",        timer: 8000,        showConfirmButton: true    });}$(document).ready(() => {    welcome()})]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/winbox.bundle.min.js"/>
      <url>/static/js/winbox.bundle.min.js</url>
      
        <content type="html"><![CDATA[/** * WinBox.js v0.2.6 (Bundle) * Copyright 2022 Nextapps GmbH * Author: Thomas Wilkerling * Licence: Apache-2.0 * https://github.com/nextapps-de/winbox */(function(){'use strict';var f,ba=document.createElement("style");ba.innerHTML="@keyframes wb-fade-in{0%{opacity:0}to{opacity:.85}}.winbox{position:fixed;left:0;top:0;background:#0050ff;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:width .3s,height .3s,left .3s,top .3s;transition-timing-function:cubic-bezier(.3,1,.3,1);contain:layout size;text-align:left;touch-action:none}.wb-body,.wb-header{position:absolute;left:0}.wb-header{top:0;width:100%;height:35px;line-height:35px;color:#fff;overflow:hidden;z-index:1}.wb-body{top:35px;right:0;bottom:0;overflow:auto;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;will-change:contents;background:#fff;margin-top:0!important;contain:strict;z-index:0}.wb-control *,.wb-icon{background-repeat:no-repeat}body>.wb-body{position:relative;display:inline-block;visibility:hidden;contain:none}.wb-drag{height:100%;padding-left:10px;cursor:move}.wb-title{font-family:Arial,sans-serif;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wb-icon{display:none;width:20px;height:100%;margin:-1px 8px 0-3px;float:left;background-size:100%;background-position:center}.wb-e,.wb-w{width:10px;top:0}.wb-n,.wb-s{left:0;height:10px;position:absolute}.wb-n{top:-5px;right:0;cursor:n-resize;z-index:2}.wb-e{position:absolute;right:-5px;bottom:0;cursor:w-resize;z-index:2}.wb-s{bottom:-5px;right:0;cursor:n-resize;z-index:2}.wb-nw,.wb-sw,.wb-w{left:-5px}.wb-w{position:absolute;bottom:0;cursor:w-resize;z-index:2}.wb-ne,.wb-nw,.wb-sw{width:15px;height:15px;z-index:2;position:absolute}.wb-nw{top:-5px;cursor:nw-resize}.wb-ne,.wb-sw{cursor:ne-resize}.wb-ne{top:-5px;right:-5px}.wb-se,.wb-sw{bottom:-5px}.wb-se{position:absolute;right:-5px;width:15px;height:15px;cursor:nw-resize;z-index:2}.wb-control{float:right;height:100%;max-width:100%;text-align:center}.wb-control *{display:inline-block;width:30px;height:100%;max-width:100%;background-position:center;cursor:pointer}.no-close .wb-close,.no-full .wb-full,.no-header .wb-header,.no-max .wb-max,.no-min .wb-min,.no-resize .wb-body~div,.wb-body .wb-hide,.wb-show,.winbox.hide,.winbox.min .wb-body>*,.winbox.min .wb-full,.winbox.min .wb-min,.winbox.modal .wb-full,.winbox.modal .wb-max,.winbox.modal .wb-min{display:none}.winbox.max .wb-drag,.winbox.min .wb-drag{cursor:default}.wb-min{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOCAwaDdhMSAxIDAgMCAxIDAgMkgxYTEgMSAwIDAgMSAwLTJoN3oiLz48L3N2Zz4=);background-size:14px auto;background-position:center calc(50% + 6px)}.wb-max{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCA5NiA5NiI+PHBhdGggZD0iTTIwIDcxLjMxMUMxNS4zNCA2OS42NyAxMiA2NS4yMyAxMiA2MFYyMGMwLTYuNjMgNS4zNy0xMiAxMi0xMmg0MGM1LjIzIDAgOS42NyAzLjM0IDExLjMxMSA4SDI0Yy0yLjIxIDAtNCAxLjc5LTQgNHY1MS4zMTF6Ii8+PHBhdGggZD0iTTkyIDc2VjM2YzAtNi42My01LjM3LTEyLTEyLTEySDQwYy02LjYzIDAtMTIgNS4zNy0xMiAxMnY0MGMwIDYuNjMgNS4zNyAxMiAxMiAxMmg0MGM2LjYzIDAgMTItNS4zNyAxMi0xMnptLTUyIDRjLTIuMjEgMC00LTEuNzktNC00VjM2YzAtMi4yMSAxLjc5LTQgNC00aDQwYzIuMjEgMCA0IDEuNzkgNCA0djQwYzAgMi4yMS0xLjc5IDQtNCA0SDQweiIvPjwvc3ZnPg==);background-size:17px auto}.wb-close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xIC0xIDE4IDE4Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMS42MTMuMjEuMDk0LjA4M0w4IDYuNTg1IDE0LjI5My4yOTNsLjA5NC0uMDgzYTEgMSAwIDAgMSAxLjQwMyAxLjQwM2wtLjA4My4wOTRMOS40MTUgOGw2LjI5MiA2LjI5M2ExIDEgMCAwIDEtMS4zMiAxLjQ5N2wtLjA5NC0uMDgzTDggOS40MTVsLTYuMjkzIDYuMjkyLS4wOTQuMDgzQTEgMSAwIDAgMSAuMjEgMTQuMzg3bC4wODMtLjA5NEw2LjU4NSA4IC4yOTMgMS43MDdBMSAxIDAgMCAxIDEuNjEzLjIxeiIvPjwvc3ZnPg==);background-size:15px auto;background-position:5px center}.wb-full{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48L3N2Zz4=);background-size:16px auto}.winbox.max .wb-body~div,.winbox.min .wb-body~div,.winbox.modal .wb-body~div,.winbox.modal .wb-drag,body.wb-lock iframe{pointer-events:none}.winbox.max{box-shadow:none}.winbox.max .wb-body{margin:0!important}.winbox iframe{position:absolute;width:100%;height:100%;border:0}body.wb-lock .winbox{will-change:left,top,width,height;transition:none}.winbox.modal:before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:inherit;border-radius:inherit}.winbox.modal:after{content:'';position:absolute;top:-50vh;left:-50vw;right:-50vw;bottom:-50vh;background:#0d1117;animation:wb-fade-in .2s ease-out forwards;z-index:-1}.no-animation{transition:none}.no-shadow{box-shadow:none}.no-header .wb-body{top:0}.no-move:not(.min) .wb-title{pointer-events:none}.wb-body .wb-show{display:revert}";var k=document.getElementsByTagName("head")[0];k.firstChild?k.insertBefore(ba,k.firstChild):k.appendChild(ba);var ca=document.createElement("div");ca.innerHTML="<div class=wb-header><div class=wb-control><span class=wb-min></span><span class=wb-max></span><span class=wb-full></span><span class=wb-close></span></div><div class=wb-drag><div class=wb-icon></div><div class=wb-title></div></div></div><div class=wb-body></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>";function m(a,b,c,e){a&&a.addEventListener(b,c,e||!1)}function p(a,b,c){var e=window;e&&e.removeEventListener(a,b,c||!1)}function r(a){a.stopPropagation();a.cancelable&&a.preventDefault()}function w(a,b,c){c=""+c;a["_s_"+b]!==c&&(a.style.setProperty(b,c),a["_s_"+b]=c)};var x=[],y={capture:!0,passive:!0},z,da=0,A=10,J,K,L,fa,P,Q;function V(a,b){if(!(this instanceof V))return new V(a);z||ha();var c;if(a){if(b){var e=a;a=b}if("string"===typeof a)e=a;else{var d=a.id;var g=a.index;var l=a.root;var F=a.template;e=e||a.title;var t=a.icon;var R=a.mount;var h=a.html;var B=a.url;var n=a.width;var q=a.height;var C=a.minwidth;var D=a.minheight;var u=a.maxwidth;var v=a.maxheight;var E=a.autosize;var G=a.min;var H=a.max;var I=a.hidden;var ea=a.modal;var Y=a.x||(ea?"center":0);var Z=a.y||(ea?"center":0);var M=a.top;var N=a.left;var S=a.bottom;var T=a.right;var ja=a.background;var O=a.border;var U=a.header;var aa=a["class"];var na=a.onclose;var oa=a.onfocus;var pa=a.onblur;var qa=a.onmove;var ra=a.onresize;var sa=a.onfullscreen;var ta=a.onmaximize;var ua=a.onminimize;var va=a.onrestore;var wa=a.onhide;var xa=a.onshow;var ya=a.onload}}this.g=(F||ca).cloneNode(!0);this.g.id=this.id=d||"winbox-"+ ++da;this.g.className="winbox"+(aa?" "+("string"===typeof aa?aa:aa.join(" ")):"")+(ea?" modal":"");this.g.winbox=this;this.window=this.g;this.body=this.g.getElementsByClassName("wb-body")[0];this.h=U||35;ja&&this.setBackground(ja);O?w(this.body,"margin",O+(isNaN(O)?"":"px")):O=0;U&&(b=this.g.getElementsByClassName("wb-header")[0],w(b,"height",U+"px"),w(b,"line-height",U+"px"),w(this.body,"top",U+"px"));e&&this.setTitle(e);t&&this.setIcon(t);R?this.mount(R):h?this.body.innerHTML=h:B&&this.setUrl(B,ya);M=M?W(M,Q):0;S=S?W(S,Q):0;N=N?W(N,P):0;T=T?W(T,P):0;e=P-N-T;t=Q-M-S;u=u?W(u,e):e;v=v?W(v,t):t;C=C?W(C,u):150;D=D?W(D,v):this.h;E?((l||z).appendChild(this.body),n=Math.max(Math.min(this.body.clientWidth+2*O+1,u),C),q=Math.max(Math.min(this.body.clientHeight+this.h+O+1,v),D),this.g.appendChild(this.body)):(n=n?W(n,u):Math.max(u/2,C)|0,q=q?W(q,v):Math.max(v/2,D)|0);Y=Y?W(Y,e,n):N;Z=Z?W(Z,t,q):M;this.x=Y;this.y=Z;this.width=n;this.height=q;this.o=C;this.m=D;this.l=u;this.j=v;this.top=M;this.right=T;this.bottom=S;this.left=N;this.index=g;this.focused=this.hidden=this.full=this.max=this.min=!1;this.onclose=na;this.onfocus=oa;this.onblur=pa;this.onmove=qa;this.onresize=ra;this.onfullscreen=sa;this.onmaximize=ta;this.onminimize=ua;this.onrestore=va;this.onhide=wa;this.onshow=xa;H?this.maximize():G?this.minimize():this.resize().move();if(I)this.hide();else if(this.focus(),g||0===g)this.index=g,w(this.g,"z-index",g),g>A&&(A=g);ia(this);(l||z).appendChild(this.g);(c=a.oncreate)&&c.call(this,a)}V["new"]=function(a){return new V(a)};function W(a,b,c){"string"===typeof a&&("center"===a?a=(b-c)/2|0:"right"===a||"bottom"===a?a=b-c:(c=parseFloat(a),a="%"===(""+c!==a&&a.substring((""+c).length))?b/100*c|0:c));return a}function ha(){z=document.body;z[L="requestFullscreen"]||z[L="msRequestFullscreen"]||z[L="webkitRequestFullscreen"]||z[L="mozRequestFullscreen"]||(L="");fa=L&&L.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit");m(window,"resize",function(){ka();la()});ka()}function ia(a){X(a,"drag");X(a,"n");X(a,"s");X(a,"w");X(a,"e");X(a,"nw");X(a,"ne");X(a,"se");X(a,"sw");m(a.g.getElementsByClassName("wb-min")[0],"click",function(b){r(b);a.min?a.focus().restore():a.blur().minimize()});m(a.g.getElementsByClassName("wb-max")[0],"click",function(){a.max?a.restore():a.maximize()});L?m(a.g.getElementsByClassName("wb-full")[0],"click",function(){a.fullscreen()}):a.addClass("no-full");m(a.g.getElementsByClassName("wb-close")[0],"click",function(b){r(b);a.close()||(a=null)});m(a.g,"click",function(){a.focus()})}function ma(a){x.splice(x.indexOf(a),1);la();a.removeClass("min");a.min=!1;a.g.title=""}function la(){for(var a=x.length,b={},c={},e=0,d;e<a;e++)d=x[e],d=(d.left||d.right)+":"+(d.top||d.bottom),c[d]?c[d]++:(b[d]=0,c[d]=1);e=0;for(var g,l;e<a;e++)d=x[e],g=(d.left||d.right)+":"+(d.top||d.bottom),l=Math.min((P-d.left-d.right)/c[g],250),d.resize(l+1|0,d.h,!0).move(d.left+b[g]*l|0,Q-d.bottom-d.h,!0),b[g]++}function X(a,b){function c(h){r(h);a.focus();if("drag"===b){if(a.min){a.restore();return}var B=Date.now(),n=B-R;R=B;if(300>n){a.max?a.restore():a.maximize();return}}a.max||a.min||(z.classList.add("wb-lock"),(l=h.touches)&&(l=l[0])?(h=l,m(window,"touchmove",e,y),m(window,"touchend",d,y)):(m(window,"mousemove",e),m(window,"mouseup",d)),F=h.pageX,t=h.pageY)}function e(h){r(h);l&&(h=h.touches[0]);var B=h.pageX;h=h.pageY;var n=B-F,q=h-t,C=a.width,D=a.height,u=a.x,v=a.y,E;if("drag"===b){a.x+=n;a.y+=q;var G=E=1}else{if("e"===b||"se"===b||"ne"===b){a.width+=n;var H=1}else if("w"===b||"sw"===b||"nw"===b)a.x+=n,a.width-=n,G=H=1;if("s"===b||"se"===b||"sw"===b){a.height+=q;var I=1}else if("n"===b||"ne"===b||"nw"===b)a.y+=q,a.height-=q,E=I=1}H&&(a.width=Math.max(Math.min(a.width,a.l,P-a.x-a.right),a.o),H=a.width!==C);I&&(a.height=Math.max(Math.min(a.height,a.j,Q-a.y-a.bottom),a.m),I=a.height!==D);(H||I)&&a.resize();G&&(a.x=Math.max(Math.min(a.x,P-a.width-a.right),a.left),G=a.x!==u);E&&(a.y=Math.max(Math.min(a.y,Q-a.height-a.bottom),a.top),E=a.y!==v);(G||E)&&a.move();if(H||G)F=B;if(I||E)t=h}function d(h){r(h);z.classList.remove("wb-lock");l?(p("touchmove",e,y),p("touchend",d,y)):(p("mousemove",e),p("mouseup",d))}var g=a.g.getElementsByClassName("wb-"+b)[0];if(g){var l,F,t,R=0;m(g,"mousedown",c);m(g,"touchstart",c,y)}}function ka(){var a=document.documentElement;P=a.clientWidth;Q=a.clientHeight}f=V.prototype;f.mount=function(a){this.unmount();a.i||(a.i=a.parentNode);this.body.textContent="";this.body.appendChild(a);return this};f.unmount=function(a){var b=this.body.firstChild;if(b){var c=a||b.i;c&&c.appendChild(b);b.i=a}return this};f.setTitle=function(a){var b=this.g.getElementsByClassName("wb-title")[0];a=this.title=a;var c=b.firstChild;c?c.nodeValue=a:b.textContent=a;return this};f.setIcon=function(a){var b=this.g.getElementsByClassName("wb-icon")[0];w(b,"background-image","url("+a+")");w(b,"display","inline-block");return this};f.setBackground=function(a){w(this.g,"background",a);return this};f.setUrl=function(a,b){var c=this.body.firstChild;c&&"iframe"===c.tagName.toLowerCase()?c.src=a:(this.body.innerHTML='<iframe src="'+a+'"></iframe>',b&&(this.body.firstChild.onload=b));return this};f.focus=function(a){if(!1===a)return this.blur();K!==this&&this.g&&(K&&K.blur(),w(this.g,"z-index",++A),this.index=A,this.addClass("focus"),K=this,this.focused=!0,this.onfocus&&this.onfocus());return this};f.blur=function(a){if(!1===a)return this.focus();K===this&&(this.removeClass("focus"),this.focused=!1,this.onblur&&this.onblur(),K=null);return this};f.hide=function(a){if(!1===a)return this.show();if(!this.hidden)return this.onhide&&this.onhide(),this.hidden=!0,this.addClass("hide")};f.show=function(a){if(!1===a)return this.hide();if(this.hidden)return this.onshow&&this.onshow(),this.hidden=!1,this.removeClass("hide")};f.minimize=function(a){if(!1===a)return this.restore();J&&za();this.max&&(this.removeClass("max"),this.max=!1);this.min||(x.push(this),la(),this.g.title=this.title,this.addClass("min"),this.min=!0,this.onminimize&&this.onminimize());return this};f.restore=function(){J&&za();this.min&&(ma(this),this.resize().move(),this.onrestore&&this.onrestore());this.max&&(this.max=!1,this.removeClass("max").resize().move(),this.onrestore&&this.onrestore());return this};f.maximize=function(a){if(!1===a)return this.restore();J&&za();this.min&&ma(this);this.max||(this.addClass("max").resize(P-this.left-this.right,Q-this.top-this.bottom,!0).move(this.left,this.top,!0),this.max=!0,this.onmaximize&&this.onmaximize());return this};f.fullscreen=function(a){this.min&&(ma(this),this.resize().move());if(!J||!za())this.body[L](),J=this,this.full=!0,this.onfullscreen&&this.onfullscreen();else if(!1===a)return this.restore();return this};function za(){J.full=!1;if(document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)return document[fa](),!0}f.close=function(a){if(this.onclose&&this.onclose(a))return!0;this.min&&ma(this);this.unmount();this.g.remove();this.g.textContent="";this.g=this.body=this.g.winbox=null;K===this&&(K=null)};f.move=function(a,b,c){a||0===a?c||(this.x=a?a=W(a,P-this.left-this.right,this.width):0,this.y=b?b=W(b,Q-this.top-this.bottom,this.height):0):(a=this.x,b=this.y);w(this.g,"left",a+"px");w(this.g,"top",b+"px");this.onmove&&this.onmove(a,b);return this};f.resize=function(a,b,c){a||0===a?c||(this.width=a?a=W(a,this.l):0,this.height=b?b=W(b,this.j):0,a=Math.max(a,this.o),b=Math.max(b,this.m)):(a=this.width,b=this.height);w(this.g,"width",a+"px");w(this.g,"height",b+"px");this.onresize&&this.onresize(a,b);return this};f.addControl=function(a){var b=a["class"],c=a.image,e=a.click;a=a.index;var d=document.createElement("span"),g=this.g.getElementsByClassName("wb-control")[0],l=this;b&&(d.className=b);c&&w(d,"background-image","url("+c+")");e&&(d.onclick=function(F){e.call(this,F,l)});g.insertBefore(d,g.childNodes[a||0]);return this};f.removeControl=function(a){(a=this.g.getElementsByClassName(a)[0])&&a.remove();return this};f.addClass=function(a){this.g.classList.add(a);return this};f.removeClass=function(a){this.g.classList.remove(a);return this};f.toggleClass=function(a){return this.g.classList.contains(a)?this.removeClass(a):this.addClass(a)};window.WinBox=V;}).call(this);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/index.html"/>
      <url>/box/Gallery/photo/index.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_1.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_2.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_3.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_4.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_5.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_6.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_7.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_8.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_9.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_10.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_11.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_12.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px">&nbsp <b>1</b> &nbsp<a href="/box/Gallery/photo/p2.html"><mark class="hl-label blue">&nbsp<b>2</b>&nbsp</mark> </a>&nbsp<a href="/box/Gallery/photo/p3.html"><mark class="hl-label blue">&nbsp<b>3</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p10.html"/>
      <url>/box/Gallery/photo/p10.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_109.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_110.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_111.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_112.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_113.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_114.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_115.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_116.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_117.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_118.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_119.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_120.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p8.html"><mark class="hl-label blue">&nbsp<b>9</b>&nbsp</mark> </a>&nbsp&nbsp <b>10</b> &nbsp<a href="/box/Gallery/photo/p11.html"><mark class="hl-label blue">&nbsp<b>11</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p11.html"/>
      <url>/box/Gallery/photo/p11.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_121.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_122.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_123.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_124.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_125.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_126.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_127.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_128.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_129.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_130.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_131.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_132.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p10.html"><mark class="hl-label blue">&nbsp<b>10</b>&nbsp</mark> </a>&nbsp&nbsp <b>11</b> &nbsp<a href="/box/Gallery/photo/p12.html"><mark class="hl-label blue">&nbsp<b>12</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p12.html"/>
      <url>/box/Gallery/photo/p12.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_133.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_134.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_135.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_136.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_137.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_138.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_139.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_140.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_141.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_142.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_143.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_144.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p11.html"><mark class="hl-label blue">&nbsp<b>11</b>&nbsp</mark> </a>&nbsp&nbsp <b>12</b> &nbsp<a href="/box/Gallery/photo/p13.html"><mark class="hl-label blue">&nbsp<b>13</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p13.html"/>
      <url>/box/Gallery/photo/p13.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_145.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_146.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_147.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_148.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_149.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_150.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_151.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_152.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_153.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_154.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_155.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_156.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p12.html"><mark class="hl-label blue">&nbsp<b>12</b>&nbsp</mark> </a>&nbsp&nbsp <b>13</b> &nbsp<a href="/box/Gallery/photo/p14.html"><mark class="hl-label blue">&nbsp<b>14</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p14.html"/>
      <url>/box/Gallery/photo/p14.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_157.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_158.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_159.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_160.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_161.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_162.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_163.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_164.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_165.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_166.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_167.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_168.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p13.html"><mark class="hl-label blue">&nbsp<b>13</b>&nbsp</mark> </a>&nbsp&nbsp <b>14</b> &nbsp<a href="/box/Gallery/photo/p15.html"><mark class="hl-label blue">&nbsp<b>15</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p15.html"/>
      <url>/box/Gallery/photo/p15.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_169.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_170.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_171.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_172.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_173.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_174.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_175.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_176.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_177.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_178.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_179.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_180.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p14.html"><mark class="hl-label blue">&nbsp<b>14</b>&nbsp</mark> </a>&nbsp&nbsp <b>15</b> &nbsp<a href="/box/Gallery/photo/p16.html"><mark class="hl-label blue">&nbsp<b>16</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p16.html"/>
      <url>/box/Gallery/photo/p16.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_181.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_182.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_183.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_184.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_185.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_186.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_187.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_188.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_189.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_190.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_191.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_192.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p15.html"><mark class="hl-label blue">&nbsp<b>15</b>&nbsp</mark> </a>&nbsp&nbsp <b>16</b> &nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p17.html"/>
      <url>/box/Gallery/photo/p17.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_193.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_194.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_195.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_196.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_197.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_198.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_199.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_200.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_201.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_page_cover.webp" alt="p10"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p15.html"><mark class="hl-label blue">&nbsp<b>15</b>&nbsp</mark> </a>&nbsp<a href="/box/Gallery/photo/p16.html"><mark class="hl-label blue">&nbsp<b>16</b>&nbsp</mark> </a>&nbsp&nbsp <b>17</b> &nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p2.html"/>
      <url>/box/Gallery/photo/p2.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_13.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_14.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_15.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_16.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_17.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_18.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_19.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_20.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_21.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_22.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_23.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_24.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp&nbsp <b>2</b> &nbsp<a href="/box/Gallery/photo/p3.html"><mark class="hl-label blue">&nbsp<b>3</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p3.html"/>
      <url>/box/Gallery/photo/p3.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_25.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_26.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_27.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_28.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_29.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_30.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_31.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_32.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_33.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_34.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_35.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_36.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<a href="/box/Gallery/photo/p2.html"><mark class="hl-label blue">&nbsp<b>2</b>&nbsp</mark> </a>&nbsp&nbsp <b>3</b> &nbsp<a href="/box/Gallery/photo/p4.html"><mark class="hl-label blue">&nbsp<b>4</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p4.html"/>
      <url>/box/Gallery/photo/p4.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_37.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_38.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_39.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_40.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_41.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_42.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_43.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_44.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_45.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_46.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_47.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_48.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p3.html"><mark class="hl-label blue">&nbsp<b>3</b>&nbsp</mark> </a>&nbsp&nbsp <b>4</b> &nbsp<a href="/box/Gallery/photo/p5.html"><mark class="hl-label blue">&nbsp<b>5</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p5.html"/>
      <url>/box/Gallery/photo/p5.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_49.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_50.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_51.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_52.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_53.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_54.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_55.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_56.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_57.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_58.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_59.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_60.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p4.html"><mark class="hl-label blue">&nbsp<b>4</b>&nbsp</mark> </a>&nbsp&nbsp <b>5</b> &nbsp<a href="/box/Gallery/photo/p6.html"><mark class="hl-label blue">&nbsp<b>6</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p6.html"/>
      <url>/box/Gallery/photo/p6.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_61.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_62.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_63.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_64.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_65.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_66.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_67.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_68.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_69.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_70.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_71.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_72.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p5.html"><mark class="hl-label blue">&nbsp<b>5</b>&nbsp</mark> </a>&nbsp&nbsp <b>6</b> &nbsp<a href="/box/Gallery/photo/p7.html"><mark class="hl-label blue">&nbsp<b>7</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p7.html"/>
      <url>/box/Gallery/photo/p7.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_73.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_74.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_75.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_76.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_77.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_78.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_79.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_80.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_81.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_82.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_83.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_84.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p6.html"><mark class="hl-label blue">&nbsp<b>6</b>&nbsp</mark> </a>&nbsp&nbsp <b>7</b> &nbsp<a href="/box/Gallery/photo/p8.html"><mark class="hl-label blue">&nbsp<b>8</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p8.html"/>
      <url>/box/Gallery/photo/p8.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_85.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_86.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_87.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_88.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_89.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_90.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_91.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_92.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_93.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_94.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_95.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_96.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p7.html"><mark class="hl-label blue">&nbsp<b>7</b>&nbsp</mark> </a>&nbsp&nbsp <b>8</b> &nbsp<a href="/box/Gallery/photo/p9.html"><mark class="hl-label blue">&nbsp<b>9</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>一些好看的图片</title>
      <link href="/box/Gallery/photo/p9.html"/>
      <url>/box/Gallery/photo/p9.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🛵返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/default_cover_97.webp" alt="p1"><br><img src="https://source.fomal.cc/img/default_cover_98.webp" alt="p2"><br><img src="https://source.fomal.cc/img/default_cover_99.webp" alt="p3"><br><img src="https://source.fomal.cc/img/default_cover_100.webp" alt="p4"><br><img src="https://source.fomal.cc/img/default_cover_101.webp" alt="p5"><br><img src="https://source.fomal.cc/img/default_cover_102.webp" alt="p6"><br><img src="https://source.fomal.cc/img/default_cover_103.webp" alt="p7"><br><img src="https://source.fomal.cc/img/default_cover_104.webp" alt="p8"><br><img src="https://source.fomal.cc/img/default_cover_105.webp" alt="p9"><br><img src="https://source.fomal.cc/img/default_cover_106.webp" alt="p10"><br><img src="https://source.fomal.cc/img/default_cover_107.webp" alt="p11"><br><img src="https://source.fomal.cc/img/default_cover_108.webp" alt="p12"></p>          </div><br><center><font font-family="ZhuZiAWan_light" size="4px"><a href="/box/Gallery/photo/index.html"><mark class="hl-label blue">&nbsp<b>1</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b><a href="/box/Gallery/photo/p8.html"><mark class="hl-label blue">&nbsp<b>8</b>&nbsp</mark> </a>&nbsp&nbsp <b>9</b> &nbsp<a href="/box/Gallery/photo/p10.html"><mark class="hl-label blue">&nbsp<b>10</b>&nbsp</mark> </a>&nbsp<b>&nbsp ... &nbsp</b></a>&nbsp<a href="/box/Gallery/photo/p17.html"><mark class="hl-label blue">&nbsp<b>17</b>&nbsp</mark> </a>&nbsp</font></center><br><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>收藏的一些好看壁纸</title>
      <link href="/box/Gallery/wallpaper/index.html"/>
      <url>/box/Gallery/wallpaper/index.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🚙返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><center><font font-family="ZhuZiAWan_light" size="5px"><b>&nbsp 二次元壁纸 &nbsp</b><a href="/box/Gallery/wallpaper/p2.html"><mark class="hl-label blue">&nbsp<b>风景壁纸</b>&nbsp</mark> </a>&nbsp<a href="/box/Gallery/wallpaper/p3.html"><mark class="hl-label blue">&nbsp<b>萌宠壁纸</b>&nbsp</mark> </a>&nbsp<a href="/box/Gallery/wallpaper/p4.html"><mark class="hl-label blue">&nbsp<b>手机壁纸</b>&nbsp</mark> </a>&nbsp</font></center><br><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/dm1.webp" alt="p1"><br><img src="https://source.fomal.cc/img/dm2.webp" alt="p2"><br><img src="https://source.fomal.cc/img/dm3.webp" alt="p3"><br><img src="https://source.fomal.cc/img/dm4.webp" alt="p4"><br><img src="https://source.fomal.cc/img/dm5.webp" alt="p5"><br><img src="https://source.fomal.cc/img/dm6.webp" alt="p6"><br><img src="https://source.fomal.cc/img/dm7.webp" alt="p7"><br><img src="https://source.fomal.cc/img/dm8.webp" alt="p8"><br><img src="https://source.fomal.cc/img/dm9.webp" alt="p9"><br><img src="https://source.fomal.cc/img/dm10.webp" alt="p10"><br><img src="https://source.fomal.cc/img/dm11.webp" alt="p11"><br><img src="https://source.fomal.cc/img/dm12.webp" alt="p12"><br><img src="https://source.fomal.cc/img/dm13.webp" alt="p13"><br><img src="https://source.fomal.cc/img/home_bg.webp" alt="p14"><br><img src="https://source.fomal.cc/img/dark_mode.webp" alt="p15"><br><img src="https://source.fomal.cc/img/movie.webp" alt="p16"><br><img src="https://source.fomal.cc/img/music.webp" alt="p17"><br><img src="https://source.fomal.cc/img/pic1.webp" alt="p18"><br><img src="https://source.fomal.cc/img/yuanshen1.webp" alt="p19"><br><img src="https://source.fomal.cc/img/wallpaper_cover.webp" alt="p20"></p>          </div><span class='p blue center h4'>到底啦~</span><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>收藏的一些好看壁纸</title>
      <link href="/box/Gallery/wallpaper/p2.html"/>
      <url>/box/Gallery/wallpaper/p2.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🚙返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><center><font font-family="ZhuZiAWan_light" size="5px"><a href="/box/Gallery/wallpaper/index.html"><mark class="hl-label blue">&nbsp<b>二次元壁纸</b>&nbsp</mark> </a>&nbsp<b>&nbsp 风景壁纸 &nbsp</b><a href="/box/Gallery/wallpaper/p3.html"><mark class="hl-label blue">&nbsp<b>萌宠壁纸</b>&nbsp</mark> </a>&nbsp<a href="/box/Gallery/wallpaper/p4.html"><mark class="hl-label blue">&nbsp<b>手机壁纸</b>&nbsp</mark> </a>&nbsp</font></center><br><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/fj1.webp" alt="p1"><br><img src="https://source.fomal.cc/img/fj2.webp" alt="p2"><br><img src="https://source.fomal.cc/img/fj3.webp" alt="p3"><br><img src="https://source.fomal.cc/img/fj4.webp" alt="p4"><br><img src="https://source.fomal.cc/img/fj5.webp" alt="p5"><br><img src="https://source.fomal.cc/img/fj6.webp" alt="p6"><br><img src="https://source.fomal.cc/img/fj7.webp" alt="p7"><br><img src="https://source.fomal.cc/img/fj8.webp" alt="p8"></p>          </div><span class='p blue center h4'>到底啦~</span><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>收藏的一些好看壁纸</title>
      <link href="/box/Gallery/wallpaper/p3.html"/>
      <url>/box/Gallery/wallpaper/p3.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🚙返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><center><font font-family="ZhuZiAWan_light" size="5px"><a href="/box/Gallery/wallpaper/index.html"><mark class="hl-label blue">&nbsp<b>二次元壁纸</b>&nbsp</mark> </a>&nbsp<a href="/box/Gallery/wallpaper/p2.html"><mark class="hl-label blue">&nbsp<b>风景壁纸</b>&nbsp</mark> </a>&nbsp<b>&nbsp 萌宠壁纸 &nbsp</b><a href="/box/Gallery/wallpaper/p4.html"><mark class="hl-label blue">&nbsp<b>手机壁纸</b>&nbsp</mark> </a>&nbsp</font></center><br><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/mc1.webp" alt="p1"><br><img src="https://source.fomal.cc/img/mc2.webp" alt="p2"><br><img src="https://source.fomal.cc/img/mc3.webp" alt="p3"><br><img src="https://source.fomal.cc/img/mc4.webp" alt="p4"><br><img src="https://source.fomal.cc/img/mc5.webp" alt="p5"><br><img src="https://source.fomal.cc/img/mc6.webp" alt="p6"><br><img src="https://source.fomal.cc/img/mc7.webp" alt="p7"><br><img src="https://source.fomal.cc/img/mc8.webp" alt="p8"></p>          </div><span class='p blue center h4'>到底啦~</span><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>收藏的一些好看壁纸</title>
      <link href="/box/Gallery/wallpaper/p4.html"/>
      <url>/box/Gallery/wallpaper/p4.html</url>
      
        <content type="html"><![CDATA[<p><a href="/box/Gallery"><font size=5><mark class="hl-label green">🚙返回画廊大厅</mark> </font></a></p><div class="tip info"><p>本网站只是搬运工，图片均来自互联网，如有侵权请联系删除，站长不会以此获取任何利益!</p></div><center><font font-family="ZhuZiAWan_light" size="5px"><a href="/box/Gallery/wallpaper/index.html"><mark class="hl-label blue">&nbsp<b>二次元壁纸</b>&nbsp</mark> </a>&nbsp<a href="/box/Gallery/wallpaper/p2.html"><mark class="hl-label blue">&nbsp<b>风景壁纸</b>&nbsp</mark> </a>&nbsp<a href="/box/Gallery/wallpaper/p3.html"><mark class="hl-label blue">&nbsp<b>萌宠壁纸</b>&nbsp</mark> </a>&nbsp<b>&nbsp 手机壁纸 &nbsp</b></font></center><br><div class="fj-gallery"><p><img src="https://source.fomal.cc/img/mb1.webp" alt="p1"><br><img src="https://source.fomal.cc/img/mb2.webp" alt="p2"><br><img src="https://source.fomal.cc/img/mb3.webp" alt="p3"><br><img src="https://source.fomal.cc/img/mb4.webp" alt="p4"></p><!-- ![p5]( https://source.fomal.cc/img/mb5.webp )  --><p><img src="https://source.fomal.cc/img/mb6.webp" alt="p6"><br><img src="https://source.fomal.cc/img/mb7.webp" alt="p7"><br><img src="https://source.fomal.cc/img/mb8.webp" alt="p8"><br><img src="https://source.fomal.cc/img/mb9.webp" alt="p9"><br><img src="https://source.fomal.cc/img/mb10.webp" alt="p10"><br><img src="https://source.fomal.cc/img/mb11.webp" alt="p11"><br><img src="https://source.fomal.cc/img/mb12.webp" alt="p12"><br><img src="https://source.fomal.cc/img/mb13.webp" alt="p13"><br><img src="https://source.fomal.cc/img/mb14.webp" alt="p14"><br><img src="https://source.fomal.cc/img/mb15.webp" alt="p15"><br><img src="https://source.fomal.cc/img/mb16.webp" alt="p16"><br><img src="https://source.fomal.cc/img/mb17.webp" alt="p17"><br><img src="https://source.fomal.cc/img/mb18.webp" alt="p18"><br><img src="https://source.fomal.cc/img/mb19.webp" alt="p19"></p>          </div><span class='p blue center h4'>到底啦~</span><br>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/css/font-awesome.min.css"/>
      <url>/static/css/font-awesome.min.css</url>
      
        <content type="html"><![CDATA[/*! *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License) */@font-face{font-family:'FontAwesome';src:url('../fonts/fontawesome-webfont.eot?v=4.7.0');src:url('../fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'),url('../fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'),url('../fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'),url('../fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'),url('../fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');font-weight:normal;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";-webkit-transform:scale(-1, 1);-ms-transform:scale(-1, 1);transform:scale(-1, 1)}.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";-webkit-transform:scale(1, -1);-ms-transform:scale(1, -1);transform:scale(1, -1)}:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-flip-horizontal,:root .fa-flip-vertical{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\f000"}.fa-music:before{content:"\f001"}.fa-search:before{content:"\f002"}.fa-envelope-o:before{content:"\f003"}.fa-heart:before{content:"\f004"}.fa-star:before{content:"\f005"}.fa-star-o:before{content:"\f006"}.fa-user:before{content:"\f007"}.fa-film:before{content:"\f008"}.fa-th-large:before{content:"\f009"}.fa-th:before{content:"\f00a"}.fa-th-list:before{content:"\f00b"}.fa-check:before{content:"\f00c"}.fa-remove:before,.fa-close:before,.fa-times:before{content:"\f00d"}.fa-search-plus:before{content:"\f00e"}.fa-search-minus:before{content:"\f010"}.fa-power-off:before{content:"\f011"}.fa-signal:before{content:"\f012"}.fa-gear:before,.fa-cog:before{content:"\f013"}.fa-trash-o:before{content:"\f014"}.fa-home:before{content:"\f015"}.fa-file-o:before{content:"\f016"}.fa-clock-o:before{content:"\f017"}.fa-road:before{content:"\f018"}.fa-download:before{content:"\f019"}.fa-arrow-circle-o-down:before{content:"\f01a"}.fa-arrow-circle-o-up:before{content:"\f01b"}.fa-inbox:before{content:"\f01c"}.fa-play-circle-o:before{content:"\f01d"}.fa-rotate-right:before,.fa-repeat:before{content:"\f01e"}.fa-refresh:before{content:"\f021"}.fa-list-alt:before{content:"\f022"}.fa-lock:before{content:"\f023"}.fa-flag:before{content:"\f024"}.fa-headphones:before{content:"\f025"}.fa-volume-off:before{content:"\f026"}.fa-volume-down:before{content:"\f027"}.fa-volume-up:before{content:"\f028"}.fa-qrcode:before{content:"\f029"}.fa-barcode:before{content:"\f02a"}.fa-tag:before{content:"\f02b"}.fa-tags:before{content:"\f02c"}.fa-book:before{content:"\f02d"}.fa-bookmark:before{content:"\f02e"}.fa-print:before{content:"\f02f"}.fa-camera:before{content:"\f030"}.fa-font:before{content:"\f031"}.fa-bold:before{content:"\f032"}.fa-italic:before{content:"\f033"}.fa-text-height:before{content:"\f034"}.fa-text-width:before{content:"\f035"}.fa-align-left:before{content:"\f036"}.fa-align-center:before{content:"\f037"}.fa-align-right:before{content:"\f038"}.fa-align-justify:before{content:"\f039"}.fa-list:before{content:"\f03a"}.fa-dedent:before,.fa-outdent:before{content:"\f03b"}.fa-indent:before{content:"\f03c"}.fa-video-camera:before{content:"\f03d"}.fa-photo:before,.fa-image:before,.fa-picture-o:before{content:"\f03e"}.fa-pencil:before{content:"\f040"}.fa-map-marker:before{content:"\f041"}.fa-adjust:before{content:"\f042"}.fa-tint:before{content:"\f043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\f044"}.fa-share-square-o:before{content:"\f045"}.fa-check-square-o:before{content:"\f046"}.fa-arrows:before{content:"\f047"}.fa-step-backward:before{content:"\f048"}.fa-fast-backward:before{content:"\f049"}.fa-backward:before{content:"\f04a"}.fa-play:before{content:"\f04b"}.fa-pause:before{content:"\f04c"}.fa-stop:before{content:"\f04d"}.fa-forward:before{content:"\f04e"}.fa-fast-forward:before{content:"\f050"}.fa-step-forward:before{content:"\f051"}.fa-eject:before{content:"\f052"}.fa-chevron-left:before{content:"\f053"}.fa-chevron-right:before{content:"\f054"}.fa-plus-circle:before{content:"\f055"}.fa-minus-circle:before{content:"\f056"}.fa-times-circle:before{content:"\f057"}.fa-check-circle:before{content:"\f058"}.fa-question-circle:before{content:"\f059"}.fa-info-circle:before{content:"\f05a"}.fa-crosshairs:before{content:"\f05b"}.fa-times-circle-o:before{content:"\f05c"}.fa-check-circle-o:before{content:"\f05d"}.fa-ban:before{content:"\f05e"}.fa-arrow-left:before{content:"\f060"}.fa-arrow-right:before{content:"\f061"}.fa-arrow-up:before{content:"\f062"}.fa-arrow-down:before{content:"\f063"}.fa-mail-forward:before,.fa-share:before{content:"\f064"}.fa-expand:before{content:"\f065"}.fa-compress:before{content:"\f066"}.fa-plus:before{content:"\f067"}.fa-minus:before{content:"\f068"}.fa-asterisk:before{content:"\f069"}.fa-exclamation-circle:before{content:"\f06a"}.fa-gift:before{content:"\f06b"}.fa-leaf:before{content:"\f06c"}.fa-fire:before{content:"\f06d"}.fa-eye:before{content:"\f06e"}.fa-eye-slash:before{content:"\f070"}.fa-warning:before,.fa-exclamation-triangle:before{content:"\f071"}.fa-plane:before{content:"\f072"}.fa-calendar:before{content:"\f073"}.fa-random:before{content:"\f074"}.fa-comment:before{content:"\f075"}.fa-magnet:before{content:"\f076"}.fa-chevron-up:before{content:"\f077"}.fa-chevron-down:before{content:"\f078"}.fa-retweet:before{content:"\f079"}.fa-shopping-cart:before{content:"\f07a"}.fa-folder:before{content:"\f07b"}.fa-folder-open:before{content:"\f07c"}.fa-arrows-v:before{content:"\f07d"}.fa-arrows-h:before{content:"\f07e"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\f080"}.fa-twitter-square:before{content:"\f081"}.fa-facebook-square:before{content:"\f082"}.fa-camera-retro:before{content:"\f083"}.fa-key:before{content:"\f084"}.fa-gears:before,.fa-cogs:before{content:"\f085"}.fa-comments:before{content:"\f086"}.fa-thumbs-o-up:before{content:"\f087"}.fa-thumbs-o-down:before{content:"\f088"}.fa-star-half:before{content:"\f089"}.fa-heart-o:before{content:"\f08a"}.fa-sign-out:before{content:"\f08b"}.fa-linkedin-square:before{content:"\f08c"}.fa-thumb-tack:before{content:"\f08d"}.fa-external-link:before{content:"\f08e"}.fa-sign-in:before{content:"\f090"}.fa-trophy:before{content:"\f091"}.fa-github-square:before{content:"\f092"}.fa-upload:before{content:"\f093"}.fa-lemon-o:before{content:"\f094"}.fa-phone:before{content:"\f095"}.fa-square-o:before{content:"\f096"}.fa-bookmark-o:before{content:"\f097"}.fa-phone-square:before{content:"\f098"}.fa-twitter:before{content:"\f099"}.fa-facebook-f:before,.fa-facebook:before{content:"\f09a"}.fa-github:before{content:"\f09b"}.fa-unlock:before{content:"\f09c"}.fa-credit-card:before{content:"\f09d"}.fa-feed:before,.fa-rss:before{content:"\f09e"}.fa-hdd-o:before{content:"\f0a0"}.fa-bullhorn:before{content:"\f0a1"}.fa-bell:before{content:"\f0f3"}.fa-certificate:before{content:"\f0a3"}.fa-hand-o-right:before{content:"\f0a4"}.fa-hand-o-left:before{content:"\f0a5"}.fa-hand-o-up:before{content:"\f0a6"}.fa-hand-o-down:before{content:"\f0a7"}.fa-arrow-circle-left:before{content:"\f0a8"}.fa-arrow-circle-right:before{content:"\f0a9"}.fa-arrow-circle-up:before{content:"\f0aa"}.fa-arrow-circle-down:before{content:"\f0ab"}.fa-globe:before{content:"\f0ac"}.fa-wrench:before{content:"\f0ad"}.fa-tasks:before{content:"\f0ae"}.fa-filter:before{content:"\f0b0"}.fa-briefcase:before{content:"\f0b1"}.fa-arrows-alt:before{content:"\f0b2"}.fa-group:before,.fa-users:before{content:"\f0c0"}.fa-chain:before,.fa-link:before{content:"\f0c1"}.fa-cloud:before{content:"\f0c2"}.fa-flask:before{content:"\f0c3"}.fa-cut:before,.fa-scissors:before{content:"\f0c4"}.fa-copy:before,.fa-files-o:before{content:"\f0c5"}.fa-paperclip:before{content:"\f0c6"}.fa-save:before,.fa-floppy-o:before{content:"\f0c7"}.fa-square:before{content:"\f0c8"}.fa-navicon:before,.fa-reorder:before,.fa-bars:before{content:"\f0c9"}.fa-list-ul:before{content:"\f0ca"}.fa-list-ol:before{content:"\f0cb"}.fa-strikethrough:before{content:"\f0cc"}.fa-underline:before{content:"\f0cd"}.fa-table:before{content:"\f0ce"}.fa-magic:before{content:"\f0d0"}.fa-truck:before{content:"\f0d1"}.fa-pinterest:before{content:"\f0d2"}.fa-pinterest-square:before{content:"\f0d3"}.fa-google-plus-square:before{content:"\f0d4"}.fa-google-plus:before{content:"\f0d5"}.fa-money:before{content:"\f0d6"}.fa-caret-down:before{content:"\f0d7"}.fa-caret-up:before{content:"\f0d8"}.fa-caret-left:before{content:"\f0d9"}.fa-caret-right:before{content:"\f0da"}.fa-columns:before{content:"\f0db"}.fa-unsorted:before,.fa-sort:before{content:"\f0dc"}.fa-sort-down:before,.fa-sort-desc:before{content:"\f0dd"}.fa-sort-up:before,.fa-sort-asc:before{content:"\f0de"}.fa-envelope:before{content:"\f0e0"}.fa-linkedin:before{content:"\f0e1"}.fa-rotate-left:before,.fa-undo:before{content:"\f0e2"}.fa-legal:before,.fa-gavel:before{content:"\f0e3"}.fa-dashboard:before,.fa-tachometer:before{content:"\f0e4"}.fa-comment-o:before{content:"\f0e5"}.fa-comments-o:before{content:"\f0e6"}.fa-flash:before,.fa-bolt:before{content:"\f0e7"}.fa-sitemap:before{content:"\f0e8"}.fa-umbrella:before{content:"\f0e9"}.fa-paste:before,.fa-clipboard:before{content:"\f0ea"}.fa-lightbulb-o:before{content:"\f0eb"}.fa-exchange:before{content:"\f0ec"}.fa-cloud-download:before{content:"\f0ed"}.fa-cloud-upload:before{content:"\f0ee"}.fa-user-md:before{content:"\f0f0"}.fa-stethoscope:before{content:"\f0f1"}.fa-suitcase:before{content:"\f0f2"}.fa-bell-o:before{content:"\f0a2"}.fa-coffee:before{content:"\f0f4"}.fa-cutlery:before{content:"\f0f5"}.fa-file-text-o:before{content:"\f0f6"}.fa-building-o:before{content:"\f0f7"}.fa-hospital-o:before{content:"\f0f8"}.fa-ambulance:before{content:"\f0f9"}.fa-medkit:before{content:"\f0fa"}.fa-fighter-jet:before{content:"\f0fb"}.fa-beer:before{content:"\f0fc"}.fa-h-square:before{content:"\f0fd"}.fa-plus-square:before{content:"\f0fe"}.fa-angle-double-left:before{content:"\f100"}.fa-angle-double-right:before{content:"\f101"}.fa-angle-double-up:before{content:"\f102"}.fa-angle-double-down:before{content:"\f103"}.fa-angle-left:before{content:"\f104"}.fa-angle-right:before{content:"\f105"}.fa-angle-up:before{content:"\f106"}.fa-angle-down:before{content:"\f107"}.fa-desktop:before{content:"\f108"}.fa-laptop:before{content:"\f109"}.fa-tablet:before{content:"\f10a"}.fa-mobile-phone:before,.fa-mobile:before{content:"\f10b"}.fa-circle-o:before{content:"\f10c"}.fa-quote-left:before{content:"\f10d"}.fa-quote-right:before{content:"\f10e"}.fa-spinner:before{content:"\f110"}.fa-circle:before{content:"\f111"}.fa-mail-reply:before,.fa-reply:before{content:"\f112"}.fa-github-alt:before{content:"\f113"}.fa-folder-o:before{content:"\f114"}.fa-folder-open-o:before{content:"\f115"}.fa-smile-o:before{content:"\f118"}.fa-frown-o:before{content:"\f119"}.fa-meh-o:before{content:"\f11a"}.fa-gamepad:before{content:"\f11b"}.fa-keyboard-o:before{content:"\f11c"}.fa-flag-o:before{content:"\f11d"}.fa-flag-checkered:before{content:"\f11e"}.fa-terminal:before{content:"\f120"}.fa-code:before{content:"\f121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\f122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\f123"}.fa-location-arrow:before{content:"\f124"}.fa-crop:before{content:"\f125"}.fa-code-fork:before{content:"\f126"}.fa-unlink:before,.fa-chain-broken:before{content:"\f127"}.fa-question:before{content:"\f128"}.fa-info:before{content:"\f129"}.fa-exclamation:before{content:"\f12a"}.fa-superscript:before{content:"\f12b"}.fa-subscript:before{content:"\f12c"}.fa-eraser:before{content:"\f12d"}.fa-puzzle-piece:before{content:"\f12e"}.fa-microphone:before{content:"\f130"}.fa-microphone-slash:before{content:"\f131"}.fa-shield:before{content:"\f132"}.fa-calendar-o:before{content:"\f133"}.fa-fire-extinguisher:before{content:"\f134"}.fa-rocket:before{content:"\f135"}.fa-maxcdn:before{content:"\f136"}.fa-chevron-circle-left:before{content:"\f137"}.fa-chevron-circle-right:before{content:"\f138"}.fa-chevron-circle-up:before{content:"\f139"}.fa-chevron-circle-down:before{content:"\f13a"}.fa-html5:before{content:"\f13b"}.fa-css3:before{content:"\f13c"}.fa-anchor:before{content:"\f13d"}.fa-unlock-alt:before{content:"\f13e"}.fa-bullseye:before{content:"\f140"}.fa-ellipsis-h:before{content:"\f141"}.fa-ellipsis-v:before{content:"\f142"}.fa-rss-square:before{content:"\f143"}.fa-play-circle:before{content:"\f144"}.fa-ticket:before{content:"\f145"}.fa-minus-square:before{content:"\f146"}.fa-minus-square-o:before{content:"\f147"}.fa-level-up:before{content:"\f148"}.fa-level-down:before{content:"\f149"}.fa-check-square:before{content:"\f14a"}.fa-pencil-square:before{content:"\f14b"}.fa-external-link-square:before{content:"\f14c"}.fa-share-square:before{content:"\f14d"}.fa-compass:before{content:"\f14e"}.fa-toggle-down:before,.fa-caret-square-o-down:before{content:"\f150"}.fa-toggle-up:before,.fa-caret-square-o-up:before{content:"\f151"}.fa-toggle-right:before,.fa-caret-square-o-right:before{content:"\f152"}.fa-euro:before,.fa-eur:before{content:"\f153"}.fa-gbp:before{content:"\f154"}.fa-dollar:before,.fa-usd:before{content:"\f155"}.fa-rupee:before,.fa-inr:before{content:"\f156"}.fa-cny:before,.fa-rmb:before,.fa-yen:before,.fa-jpy:before{content:"\f157"}.fa-ruble:before,.fa-rouble:before,.fa-rub:before{content:"\f158"}.fa-won:before,.fa-krw:before{content:"\f159"}.fa-bitcoin:before,.fa-btc:before{content:"\f15a"}.fa-file:before{content:"\f15b"}.fa-file-text:before{content:"\f15c"}.fa-sort-alpha-asc:before{content:"\f15d"}.fa-sort-alpha-desc:before{content:"\f15e"}.fa-sort-amount-asc:before{content:"\f160"}.fa-sort-amount-desc:before{content:"\f161"}.fa-sort-numeric-asc:before{content:"\f162"}.fa-sort-numeric-desc:before{content:"\f163"}.fa-thumbs-up:before{content:"\f164"}.fa-thumbs-down:before{content:"\f165"}.fa-youtube-square:before{content:"\f166"}.fa-youtube:before{content:"\f167"}.fa-xing:before{content:"\f168"}.fa-xing-square:before{content:"\f169"}.fa-youtube-play:before{content:"\f16a"}.fa-dropbox:before{content:"\f16b"}.fa-stack-overflow:before{content:"\f16c"}.fa-instagram:before{content:"\f16d"}.fa-flickr:before{content:"\f16e"}.fa-adn:before{content:"\f170"}.fa-bitbucket:before{content:"\f171"}.fa-bitbucket-square:before{content:"\f172"}.fa-tumblr:before{content:"\f173"}.fa-tumblr-square:before{content:"\f174"}.fa-long-arrow-down:before{content:"\f175"}.fa-long-arrow-up:before{content:"\f176"}.fa-long-arrow-left:before{content:"\f177"}.fa-long-arrow-right:before{content:"\f178"}.fa-apple:before{content:"\f179"}.fa-windows:before{content:"\f17a"}.fa-android:before{content:"\f17b"}.fa-linux:before{content:"\f17c"}.fa-dribbble:before{content:"\f17d"}.fa-skype:before{content:"\f17e"}.fa-foursquare:before{content:"\f180"}.fa-trello:before{content:"\f181"}.fa-female:before{content:"\f182"}.fa-male:before{content:"\f183"}.fa-gittip:before,.fa-gratipay:before{content:"\f184"}.fa-sun-o:before{content:"\f185"}.fa-moon-o:before{content:"\f186"}.fa-archive:before{content:"\f187"}.fa-bug:before{content:"\f188"}.fa-vk:before{content:"\f189"}.fa-weibo:before{content:"\f18a"}.fa-renren:before{content:"\f18b"}.fa-pagelines:before{content:"\f18c"}.fa-stack-exchange:before{content:"\f18d"}.fa-arrow-circle-o-right:before{content:"\f18e"}.fa-arrow-circle-o-left:before{content:"\f190"}.fa-toggle-left:before,.fa-caret-square-o-left:before{content:"\f191"}.fa-dot-circle-o:before{content:"\f192"}.fa-wheelchair:before{content:"\f193"}.fa-vimeo-square:before{content:"\f194"}.fa-turkish-lira:before,.fa-try:before{content:"\f195"}.fa-plus-square-o:before{content:"\f196"}.fa-space-shuttle:before{content:"\f197"}.fa-slack:before{content:"\f198"}.fa-envelope-square:before{content:"\f199"}.fa-wordpress:before{content:"\f19a"}.fa-openid:before{content:"\f19b"}.fa-institution:before,.fa-bank:before,.fa-university:before{content:"\f19c"}.fa-mortar-board:before,.fa-graduation-cap:before{content:"\f19d"}.fa-yahoo:before{content:"\f19e"}.fa-google:before{content:"\f1a0"}.fa-reddit:before{content:"\f1a1"}.fa-reddit-square:before{content:"\f1a2"}.fa-stumbleupon-circle:before{content:"\f1a3"}.fa-stumbleupon:before{content:"\f1a4"}.fa-delicious:before{content:"\f1a5"}.fa-digg:before{content:"\f1a6"}.fa-pied-piper-pp:before{content:"\f1a7"}.fa-pied-piper-alt:before{content:"\f1a8"}.fa-drupal:before{content:"\f1a9"}.fa-joomla:before{content:"\f1aa"}.fa-language:before{content:"\f1ab"}.fa-fax:before{content:"\f1ac"}.fa-building:before{content:"\f1ad"}.fa-child:before{content:"\f1ae"}.fa-paw:before{content:"\f1b0"}.fa-spoon:before{content:"\f1b1"}.fa-cube:before{content:"\f1b2"}.fa-cubes:before{content:"\f1b3"}.fa-behance:before{content:"\f1b4"}.fa-behance-square:before{content:"\f1b5"}.fa-steam:before{content:"\f1b6"}.fa-steam-square:before{content:"\f1b7"}.fa-recycle:before{content:"\f1b8"}.fa-automobile:before,.fa-car:before{content:"\f1b9"}.fa-cab:before,.fa-taxi:before{content:"\f1ba"}.fa-tree:before{content:"\f1bb"}.fa-spotify:before{content:"\f1bc"}.fa-deviantart:before{content:"\f1bd"}.fa-soundcloud:before{content:"\f1be"}.fa-database:before{content:"\f1c0"}.fa-file-pdf-o:before{content:"\f1c1"}.fa-file-word-o:before{content:"\f1c2"}.fa-file-excel-o:before{content:"\f1c3"}.fa-file-powerpoint-o:before{content:"\f1c4"}.fa-file-photo-o:before,.fa-file-picture-o:before,.fa-file-image-o:before{content:"\f1c5"}.fa-file-zip-o:before,.fa-file-archive-o:before{content:"\f1c6"}.fa-file-sound-o:before,.fa-file-audio-o:before{content:"\f1c7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\f1c8"}.fa-file-code-o:before{content:"\f1c9"}.fa-vine:before{content:"\f1ca"}.fa-codepen:before{content:"\f1cb"}.fa-jsfiddle:before{content:"\f1cc"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-saver:before,.fa-support:before,.fa-life-ring:before{content:"\f1cd"}.fa-circle-o-notch:before{content:"\f1ce"}.fa-ra:before,.fa-resistance:before,.fa-rebel:before{content:"\f1d0"}.fa-ge:before,.fa-empire:before{content:"\f1d1"}.fa-git-square:before{content:"\f1d2"}.fa-git:before{content:"\f1d3"}.fa-y-combinator-square:before,.fa-yc-square:before,.fa-hacker-news:before{content:"\f1d4"}.fa-tencent-weibo:before{content:"\f1d5"}.fa-qq:before{content:"\f1d6"}.fa-wechat:before,.fa-weixin:before{content:"\f1d7"}.fa-send:before,.fa-paper-plane:before{content:"\f1d8"}.fa-send-o:before,.fa-paper-plane-o:before{content:"\f1d9"}.fa-history:before{content:"\f1da"}.fa-circle-thin:before{content:"\f1db"}.fa-header:before{content:"\f1dc"}.fa-paragraph:before{content:"\f1dd"}.fa-sliders:before{content:"\f1de"}.fa-share-alt:before{content:"\f1e0"}.fa-share-alt-square:before{content:"\f1e1"}.fa-bomb:before{content:"\f1e2"}.fa-soccer-ball-o:before,.fa-futbol-o:before{content:"\f1e3"}.fa-tty:before{content:"\f1e4"}.fa-binoculars:before{content:"\f1e5"}.fa-plug:before{content:"\f1e6"}.fa-slideshare:before{content:"\f1e7"}.fa-twitch:before{content:"\f1e8"}.fa-yelp:before{content:"\f1e9"}.fa-newspaper-o:before{content:"\f1ea"}.fa-wifi:before{content:"\f1eb"}.fa-calculator:before{content:"\f1ec"}.fa-paypal:before{content:"\f1ed"}.fa-google-wallet:before{content:"\f1ee"}.fa-cc-visa:before{content:"\f1f0"}.fa-cc-mastercard:before{content:"\f1f1"}.fa-cc-discover:before{content:"\f1f2"}.fa-cc-amex:before{content:"\f1f3"}.fa-cc-paypal:before{content:"\f1f4"}.fa-cc-stripe:before{content:"\f1f5"}.fa-bell-slash:before{content:"\f1f6"}.fa-bell-slash-o:before{content:"\f1f7"}.fa-trash:before{content:"\f1f8"}.fa-copyright:before{content:"\f1f9"}.fa-at:before{content:"\f1fa"}.fa-eyedropper:before{content:"\f1fb"}.fa-paint-brush:before{content:"\f1fc"}.fa-birthday-cake:before{content:"\f1fd"}.fa-area-chart:before{content:"\f1fe"}.fa-pie-chart:before{content:"\f200"}.fa-line-chart:before{content:"\f201"}.fa-lastfm:before{content:"\f202"}.fa-lastfm-square:before{content:"\f203"}.fa-toggle-off:before{content:"\f204"}.fa-toggle-on:before{content:"\f205"}.fa-bicycle:before{content:"\f206"}.fa-bus:before{content:"\f207"}.fa-ioxhost:before{content:"\f208"}.fa-angellist:before{content:"\f209"}.fa-cc:before{content:"\f20a"}.fa-shekel:before,.fa-sheqel:before,.fa-ils:before{content:"\f20b"}.fa-meanpath:before{content:"\f20c"}.fa-buysellads:before{content:"\f20d"}.fa-connectdevelop:before{content:"\f20e"}.fa-dashcube:before{content:"\f210"}.fa-forumbee:before{content:"\f211"}.fa-leanpub:before{content:"\f212"}.fa-sellsy:before{content:"\f213"}.fa-shirtsinbulk:before{content:"\f214"}.fa-simplybuilt:before{content:"\f215"}.fa-skyatlas:before{content:"\f216"}.fa-cart-plus:before{content:"\f217"}.fa-cart-arrow-down:before{content:"\f218"}.fa-diamond:before{content:"\f219"}.fa-ship:before{content:"\f21a"}.fa-user-secret:before{content:"\f21b"}.fa-motorcycle:before{content:"\f21c"}.fa-street-view:before{content:"\f21d"}.fa-heartbeat:before{content:"\f21e"}.fa-venus:before{content:"\f221"}.fa-mars:before{content:"\f222"}.fa-mercury:before{content:"\f223"}.fa-intersex:before,.fa-transgender:before{content:"\f224"}.fa-transgender-alt:before{content:"\f225"}.fa-venus-double:before{content:"\f226"}.fa-mars-double:before{content:"\f227"}.fa-venus-mars:before{content:"\f228"}.fa-mars-stroke:before{content:"\f229"}.fa-mars-stroke-v:before{content:"\f22a"}.fa-mars-stroke-h:before{content:"\f22b"}.fa-neuter:before{content:"\f22c"}.fa-genderless:before{content:"\f22d"}.fa-facebook-official:before{content:"\f230"}.fa-pinterest-p:before{content:"\f231"}.fa-whatsapp:before{content:"\f232"}.fa-server:before{content:"\f233"}.fa-user-plus:before{content:"\f234"}.fa-user-times:before{content:"\f235"}.fa-hotel:before,.fa-bed:before{content:"\f236"}.fa-viacoin:before{content:"\f237"}.fa-train:before{content:"\f238"}.fa-subway:before{content:"\f239"}.fa-medium:before{content:"\f23a"}.fa-yc:before,.fa-y-combinator:before{content:"\f23b"}.fa-optin-monster:before{content:"\f23c"}.fa-opencart:before{content:"\f23d"}.fa-expeditedssl:before{content:"\f23e"}.fa-battery-4:before,.fa-battery:before,.fa-battery-full:before{content:"\f240"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:"\f241"}.fa-battery-2:before,.fa-battery-half:before{content:"\f242"}.fa-battery-1:before,.fa-battery-quarter:before{content:"\f243"}.fa-battery-0:before,.fa-battery-empty:before{content:"\f244"}.fa-mouse-pointer:before{content:"\f245"}.fa-i-cursor:before{content:"\f246"}.fa-object-group:before{content:"\f247"}.fa-object-ungroup:before{content:"\f248"}.fa-sticky-note:before{content:"\f249"}.fa-sticky-note-o:before{content:"\f24a"}.fa-cc-jcb:before{content:"\f24b"}.fa-cc-diners-club:before{content:"\f24c"}.fa-clone:before{content:"\f24d"}.fa-balance-scale:before{content:"\f24e"}.fa-hourglass-o:before{content:"\f250"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:"\f251"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:"\f252"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:"\f253"}.fa-hourglass:before{content:"\f254"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:"\f255"}.fa-hand-stop-o:before,.fa-hand-paper-o:before{content:"\f256"}.fa-hand-scissors-o:before{content:"\f257"}.fa-hand-lizard-o:before{content:"\f258"}.fa-hand-spock-o:before{content:"\f259"}.fa-hand-pointer-o:before{content:"\f25a"}.fa-hand-peace-o:before{content:"\f25b"}.fa-trademark:before{content:"\f25c"}.fa-registered:before{content:"\f25d"}.fa-creative-commons:before{content:"\f25e"}.fa-gg:before{content:"\f260"}.fa-gg-circle:before{content:"\f261"}.fa-tripadvisor:before{content:"\f262"}.fa-odnoklassniki:before{content:"\f263"}.fa-odnoklassniki-square:before{content:"\f264"}.fa-get-pocket:before{content:"\f265"}.fa-wikipedia-w:before{content:"\f266"}.fa-safari:before{content:"\f267"}.fa-chrome:before{content:"\f268"}.fa-firefox:before{content:"\f269"}.fa-opera:before{content:"\f26a"}.fa-internet-explorer:before{content:"\f26b"}.fa-tv:before,.fa-television:before{content:"\f26c"}.fa-contao:before{content:"\f26d"}.fa-500px:before{content:"\f26e"}.fa-amazon:before{content:"\f270"}.fa-calendar-plus-o:before{content:"\f271"}.fa-calendar-minus-o:before{content:"\f272"}.fa-calendar-times-o:before{content:"\f273"}.fa-calendar-check-o:before{content:"\f274"}.fa-industry:before{content:"\f275"}.fa-map-pin:before{content:"\f276"}.fa-map-signs:before{content:"\f277"}.fa-map-o:before{content:"\f278"}.fa-map:before{content:"\f279"}.fa-commenting:before{content:"\f27a"}.fa-commenting-o:before{content:"\f27b"}.fa-houzz:before{content:"\f27c"}.fa-vimeo:before{content:"\f27d"}.fa-black-tie:before{content:"\f27e"}.fa-fonticons:before{content:"\f280"}.fa-reddit-alien:before{content:"\f281"}.fa-edge:before{content:"\f282"}.fa-credit-card-alt:before{content:"\f283"}.fa-codiepie:before{content:"\f284"}.fa-modx:before{content:"\f285"}.fa-fort-awesome:before{content:"\f286"}.fa-usb:before{content:"\f287"}.fa-product-hunt:before{content:"\f288"}.fa-mixcloud:before{content:"\f289"}.fa-scribd:before{content:"\f28a"}.fa-pause-circle:before{content:"\f28b"}.fa-pause-circle-o:before{content:"\f28c"}.fa-stop-circle:before{content:"\f28d"}.fa-stop-circle-o:before{content:"\f28e"}.fa-shopping-bag:before{content:"\f290"}.fa-shopping-basket:before{content:"\f291"}.fa-hashtag:before{content:"\f292"}.fa-bluetooth:before{content:"\f293"}.fa-bluetooth-b:before{content:"\f294"}.fa-percent:before{content:"\f295"}.fa-gitlab:before{content:"\f296"}.fa-wpbeginner:before{content:"\f297"}.fa-wpforms:before{content:"\f298"}.fa-envira:before{content:"\f299"}.fa-universal-access:before{content:"\f29a"}.fa-wheelchair-alt:before{content:"\f29b"}.fa-question-circle-o:before{content:"\f29c"}.fa-blind:before{content:"\f29d"}.fa-audio-description:before{content:"\f29e"}.fa-volume-control-phone:before{content:"\f2a0"}.fa-braille:before{content:"\f2a1"}.fa-assistive-listening-systems:before{content:"\f2a2"}.fa-asl-interpreting:before,.fa-american-sign-language-interpreting:before{content:"\f2a3"}.fa-deafness:before,.fa-hard-of-hearing:before,.fa-deaf:before{content:"\f2a4"}.fa-glide:before{content:"\f2a5"}.fa-glide-g:before{content:"\f2a6"}.fa-signing:before,.fa-sign-language:before{content:"\f2a7"}.fa-low-vision:before{content:"\f2a8"}.fa-viadeo:before{content:"\f2a9"}.fa-viadeo-square:before{content:"\f2aa"}.fa-snapchat:before{content:"\f2ab"}.fa-snapchat-ghost:before{content:"\f2ac"}.fa-snapchat-square:before{content:"\f2ad"}.fa-pied-piper:before{content:"\f2ae"}.fa-first-order:before{content:"\f2b0"}.fa-yoast:before{content:"\f2b1"}.fa-themeisle:before{content:"\f2b2"}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:"\f2b3"}.fa-fa:before,.fa-font-awesome:before{content:"\f2b4"}.fa-handshake-o:before{content:"\f2b5"}.fa-envelope-open:before{content:"\f2b6"}.fa-envelope-open-o:before{content:"\f2b7"}.fa-linode:before{content:"\f2b8"}.fa-address-book:before{content:"\f2b9"}.fa-address-book-o:before{content:"\f2ba"}.fa-vcard:before,.fa-address-card:before{content:"\f2bb"}.fa-vcard-o:before,.fa-address-card-o:before{content:"\f2bc"}.fa-user-circle:before{content:"\f2bd"}.fa-user-circle-o:before{content:"\f2be"}.fa-user-o:before{content:"\f2c0"}.fa-id-badge:before{content:"\f2c1"}.fa-drivers-license:before,.fa-id-card:before{content:"\f2c2"}.fa-drivers-license-o:before,.fa-id-card-o:before{content:"\f2c3"}.fa-quora:before{content:"\f2c4"}.fa-free-code-camp:before{content:"\f2c5"}.fa-telegram:before{content:"\f2c6"}.fa-thermometer-4:before,.fa-thermometer:before,.fa-thermometer-full:before{content:"\f2c7"}.fa-thermometer-3:before,.fa-thermometer-three-quarters:before{content:"\f2c8"}.fa-thermometer-2:before,.fa-thermometer-half:before{content:"\f2c9"}.fa-thermometer-1:before,.fa-thermometer-quarter:before{content:"\f2ca"}.fa-thermometer-0:before,.fa-thermometer-empty:before{content:"\f2cb"}.fa-shower:before{content:"\f2cc"}.fa-bathtub:before,.fa-s15:before,.fa-bath:before{content:"\f2cd"}.fa-podcast:before{content:"\f2ce"}.fa-window-maximize:before{content:"\f2d0"}.fa-window-minimize:before{content:"\f2d1"}.fa-window-restore:before{content:"\f2d2"}.fa-times-rectangle:before,.fa-window-close:before{content:"\f2d3"}.fa-times-rectangle-o:before,.fa-window-close-o:before{content:"\f2d4"}.fa-bandcamp:before{content:"\f2d5"}.fa-grav:before{content:"\f2d6"}.fa-etsy:before{content:"\f2d7"}.fa-imdb:before{content:"\f2d8"}.fa-ravelry:before{content:"\f2d9"}.fa-eercast:before{content:"\f2da"}.fa-microchip:before{content:"\f2db"}.fa-snowflake-o:before{content:"\f2dc"}.fa-superpowers:before{content:"\f2dd"}.fa-wpexplorer:before{content:"\f2de"}.fa-meetup:before{content:"\f2e0"}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/css/sweetalert.css"/>
      <url>/static/css/sweetalert.css</url>
      
        <content type="html"><![CDATA[.sweet-alert,.sweet-overlay {  position: fixed;  display: none;}body.stop-scrolling {  height: 100%;  overflow: hidden;}.sweet-overlay {  background-color: #000;  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";  background-color: rgba(0, 0, 0, 0.4);  left: 0;  right: 0;  top: 0;  bottom: 0;  z-index: 10000;}.sweet-alert {  background-color: rgb(203 225 229);  font-family: "ZhuZiAWan_light";  width: 420px;  padding: 17px;  border-radius: 10px;  text-align: center;  left: 50%;  top: 50%;  margin-left: -256px;  margin-top: -200px;  overflow: hidden;  z-index: 99999;}@media all and (max-width: 540px) {  .sweet-alert {    width: auto;    margin-left: 0;    margin-right: 0;    left: 15px;    right: 15px;  }}.sweet-alert h2 {  color: #575757;  font-size: 30px;  text-align: center;  font-weight: 600;  text-transform: none;  position: relative;  margin: 25px 0;  padding: 0;  line-height: 40px;  display: block;}.sweet-alert p {  color: #797979;  font-size: 16px;  font-weight: 300;  position: relative;  text-align: inherit;  float: none;  margin: 0;  padding: 0;  line-height: normal;}.sweet-alert fieldset {  border: none;  position: relative;}.sweet-alert .sa-error-container {  background-color: #f1f1f1;  margin-left: -17px;  margin-right: -17px;  overflow: hidden;  padding: 0 10px;  max-height: 0;  webkit-transition: padding 0.15s, max-height 0.15s;  transition: padding 0.15s, max-height 0.15s;}.sweet-alert .sa-error-container.show {  padding: 10px 0;  max-height: 100px;  webkit-transition: padding 0.2s, max-height 0.2s;  transition: padding 0.25s, max-height 0.25s;}.sweet-alert .sa-error-container .icon {  display: inline-block;  width: 24px;  height: 24px;  border-radius: 50%;  background-color: #ea7d7d;  color: #fff;  line-height: 24px;  text-align: center;  margin-right: 3px;}.sweet-alert .sa-error-container p {  display: inline-block;}.sweet-alert .sa-input-error {  position: absolute;  top: 29px;  right: 26px;  width: 20px;  height: 20px;  opacity: 0;  -webkit-transform: scale(0.5);  transform: scale(0.5);  -webkit-transform-origin: 50% 50%;  transform-origin: 50% 50%;  -webkit-transition: all 0.1s;  transition: all 0.1s;}.sweet-alert .sa-input-error::after,.sweet-alert .sa-input-error::before {  content: "";  width: 20px;  height: 6px;  background-color: #f06e57;  border-radius: 3px;  position: absolute;  top: 50%;  margin-top: -4px;  left: 50%;  margin-left: -9px;}.sweet-alert .sa-input-error::before {  -webkit-transform: rotate(-45deg);  transform: rotate(-45deg);}.sweet-alert .sa-input-error::after {  -webkit-transform: rotate(45deg);  transform: rotate(45deg);}.sweet-alert .sa-input-error.show {  opacity: 1;  -webkit-transform: scale(1);  transform: scale(1);}.sweet-alert input {  width: 100%;  box-sizing: border-box;  border-radius: 3px;  border: 1px solid #d7d7d7;  height: 43px;  margin-top: 10px;  margin-bottom: 17px;  font-size: 18px;  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06);  padding: 0 12px;  display: none;  -webkit-transition: all 0.3s;  transition: all 0.3s;}.sweet-alert input:focus {  outline: 0;  box-shadow: 0 0 3px #c4e6f5;  border: 1px solid #b4dbed;}.sweet-alert input:focus::-moz-placeholder {  transition: opacity 0.3s 30ms ease;  opacity: 0.5;}.sweet-alert input:focus:-ms-input-placeholder {  transition: opacity 0.3s 30ms ease;  opacity: 0.5;}.sweet-alert input:focus::-webkit-input-placeholder {  transition: opacity 0.3s 30ms ease;  opacity: 0.5;}.sweet-alert input::-moz-placeholder {  color: #bdbdbd;}.sweet-alert input:-ms-input-placeholder {  color: #bdbdbd;}.sweet-alert input::-webkit-input-placeholder {  color: #bdbdbd;}.sweet-alert.show-input input {  display: block;}.sweet-alert .sa-confirm-button-container {  display: inline-block;  position: relative;}.sweet-alert .sa-confirm-button-container .confirm {  display: inline-block;  background-color: rgb(43, 169, 227)!important;}.sweet-alert .la-ball-fall {  position: absolute;  left: 50%;  top: 50%;  margin-left: -27px;  margin-top: 4px;  opacity: 0;  visibility: hidden;}.sweet-alert button {  background-color: #8cd4f5;  color: #fff;  border: none;  box-shadow: none;  font-size: 17px;  font-weight: 500;  -webkit-border-radius: 4px;  border-radius: 5px;  padding: 10px 32px;  margin: 26px 5px 0;  cursor: pointer;}.sweet-alert button:focus {  outline: 0;  box-shadow: 0 0 2px rgba(128, 179, 235, 0.5),    inset 0 0 0 1px rgba(0, 0, 0, 0.05);}.sweet-alert button:hover {  background-color: #7ecff4;}.sweet-alert button:active {  background-color: #5dc2f1;}.sweet-alert button.cancel {  background-color: #c1c1c1;}.sweet-alert button.cancel:hover {  background-color: #b9b9b9;}.sweet-alert button.cancel:active {  background-color: #a8a8a8;}.sweet-alert button.cancel:focus {  box-shadow: rgba(197, 205, 211, 0.8) 0 0 2px,    rgba(0, 0, 0, 0.0470588) 0 0 0 1px inset !important;}.sweet-alert button[disabled] {  opacity: 0.6;  cursor: default;}.sweet-alert button.confirm[disabled] {  color: transparent;}.sweet-alert button.confirm[disabled] ~ .la-ball-fall {  opacity: 1;  visibility: visible;  transition-delay: 0s;}.sweet-alert button::-moz-focus-inner {  border: 0;}.sweet-alert[data-has-cancel-button="false"] button {  box-shadow: none !important;}.sweet-alert[data-has-confirm-button="false"][data-has-cancel-button="false"] {  padding-bottom: 10px;}.sweet-alert .sa-icon {  width: 80px;  height: 80px;  border: 4px solid gray;  -webkit-border-radius: 40px;  border-radius: 50%;  margin: 20px auto;  padding: 0;  position: relative;  box-sizing: content-box;}.sweet-alert .sa-icon.sa-error {  border-color: #f27474;}.sweet-alert .sa-icon.sa-error .sa-x-mark {  position: relative;  display: block;}.sweet-alert .sa-icon.sa-error .sa-line {  position: absolute;  height: 5px;  width: 47px;  background-color: #f27474;  display: block;  top: 37px;  border-radius: 2px;}.sweet-alert .sa-icon.sa-error .sa-line.sa-left {  -webkit-transform: rotate(45deg);  transform: rotate(45deg);  left: 17px;}.sweet-alert .sa-icon.sa-error .sa-line.sa-right {  -webkit-transform: rotate(-45deg);  transform: rotate(-45deg);  right: 16px;}.sweet-alert .sa-icon.sa-warning {  border-color: #f8bb86;}.sweet-alert .sa-icon.sa-warning .sa-body {  position: absolute;  width: 5px;  height: 47px;  left: 50%;  top: 10px;  -webkit-border-radius: 2px;  border-radius: 2px;  margin-left: -2px;  background-color: #f8bb86;}.sweet-alert .sa-icon.sa-warning .sa-dot {  position: absolute;  width: 7px;  height: 7px;  -webkit-border-radius: 50%;  border-radius: 50%;  margin-left: -3px;  left: 50%;  bottom: 10px;  background-color: #f8bb86;}.sweet-alert .sa-icon.sa-info::after,.sweet-alert .sa-icon.sa-info::before {  content: "";  background-color: #c9dae1;  position: absolute;}.sweet-alert .sa-icon.sa-info {  border-color: #c9dae1;}.sweet-alert .sa-icon.sa-info::before {  width: 5px;  height: 29px;  left: 50%;  bottom: 17px;  border-radius: 2px;  margin-left: -2px;}.sweet-alert .sa-icon.sa-info::after {  width: 7px;  height: 7px;  border-radius: 50%;  margin-left: -3px;  top: 19px;}.sweet-alert .sa-icon.sa-success {  border-color: #a5dc86;}.sweet-alert .sa-icon.sa-success::after,.sweet-alert .sa-icon.sa-success::before {  content: "";  position: absolute;  width: 60px;  height: 120px;  background: #fff;}.sweet-alert .sa-icon.sa-success::before {  -webkit-border-radius: 120px 0 0 120px;  border-radius: 120px 0 0 120px;  top: -7px;  left: -33px;  -webkit-transform: rotate(-45deg);  transform: rotate(-45deg);  -webkit-transform-origin: 60px 60px;  transform-origin: 60px 60px;}.sweet-alert .sa-icon.sa-success::after {  -webkit-border-radius: 0 120px 120px 0;  border-radius: 0 120px 120px 0;  top: -11px;  left: 30px;  -webkit-transform: rotate(-45deg);  transform: rotate(-45deg);  -webkit-transform-origin: 0 60px;  transform-origin: 0 60px;}.sweet-alert .sa-icon.sa-success .sa-placeholder {  width: 80px;  height: 80px;  border: 4px solid rgba(165, 220, 134, 0.2);  -webkit-border-radius: 40px;  border-radius: 50%;  box-sizing: content-box;  position: absolute;  left: -4px;  top: -4px;  z-index: 2;}.sweet-alert .sa-icon.sa-success .sa-fix {  width: 5px;  height: 90px;  background-color: #fff;  position: absolute;  left: 28px;  top: 8px;  z-index: 1;  -webkit-transform: rotate(-45deg);  transform: rotate(-45deg);}.sweet-alert .sa-icon.sa-success .sa-line {  height: 5px;  background-color: #a5dc86;  display: block;  border-radius: 2px;  position: absolute;  z-index: 2;}.sweet-alert .sa-icon.sa-success .sa-line.sa-tip {  width: 25px;  left: 14px;  top: 46px;  -webkit-transform: rotate(45deg);  transform: rotate(45deg);}.sweet-alert .sa-icon.sa-success .sa-line.sa-long {  width: 47px;  right: 8px;  top: 38px;  -webkit-transform: rotate(-45deg);  transform: rotate(-45deg);}.sweet-alert .sa-icon.sa-custom {  background-size: contain;  border-radius: 0;  border: none;  background-position: center center;  background-repeat: no-repeat;}@-webkit-keyframes showSweetAlert {  0% {    transform: scale(0.7);    -webkit-transform: scale(0.7);  }  45% {    transform: scale(1.05);    -webkit-transform: scale(1.05);  }  80% {    transform: scale(0.95);    -webkit-transform: scale(0.95);  }  100% {    transform: scale(1);    -webkit-transform: scale(1);  }}@keyframes showSweetAlert {  0% {    transform: scale(0.7);    -webkit-transform: scale(0.7);  }  45% {    transform: scale(1.05);    -webkit-transform: scale(1.05);  }  80% {    transform: scale(0.95);    -webkit-transform: scale(0.95);  }  100% {    transform: scale(1);    -webkit-transform: scale(1);  }}@-webkit-keyframes hideSweetAlert {  0% {    transform: scale(1);    -webkit-transform: scale(1);  }  100% {    transform: scale(0.5);    -webkit-transform: scale(0.5);  }}@keyframes hideSweetAlert {  0% {    transform: scale(1);    -webkit-transform: scale(1);  }  100% {    transform: scale(0.5);    -webkit-transform: scale(0.5);  }}@-webkit-keyframes slideFromTop {  0% {    top: 0;  }  100% {    top: 50%;  }}@keyframes slideFromTop {  0% {    top: 0;  }  100% {    top: 50%;  }}@-webkit-keyframes slideToTop {  0% {    top: 50%;  }  100% {    top: 0;  }}@keyframes slideToTop {  0% {    top: 50%;  }  100% {    top: 0;  }}@-webkit-keyframes slideFromBottom {  0% {    top: 70%;  }  100% {    top: 50%;  }}@keyframes slideFromBottom {  0% {    top: 70%;  }  100% {    top: 50%;  }}@-webkit-keyframes slideToBottom {  0% {    top: 50%;  }  100% {    top: 70%;  }}@keyframes slideToBottom {  0% {    top: 50%;  }  100% {    top: 70%;  }}.showSweetAlert[data-animation="pop"] {  -webkit-animation: showSweetAlert 0.3s;  animation: showSweetAlert 0.3s;}.showSweetAlert[data-animation="none"] {  -webkit-animation: none;  animation: none;}.showSweetAlert[data-animation="slide-from-top"] {  -webkit-animation: slideFromTop 0.3s;  animation: slideFromTop 0.3s;}.showSweetAlert[data-animation="slide-from-bottom"] {  -webkit-animation: slideFromBottom 0.3s;  animation: slideFromBottom 0.3s;}.hideSweetAlert[data-animation="pop"] {  -webkit-animation: hideSweetAlert 0.2s;  animation: hideSweetAlert 0.2s;}.hideSweetAlert[data-animation="none"] {  -webkit-animation: none;  animation: none;}.hideSweetAlert[data-animation="slide-from-top"] {  -webkit-animation: slideToTop 0.4s;  animation: slideToTop 0.4s;}.hideSweetAlert[data-animation="slide-from-bottom"] {  -webkit-animation: slideToBottom 0.3s;  animation: slideToBottom 0.3s;}@-webkit-keyframes animateSuccessTip {  0%,  54% {    width: 0;    left: 1px;    top: 19px;  }  70% {    width: 50px;    left: -8px;    top: 37px;  }  84% {    width: 17px;    left: 21px;    top: 48px;  }  100% {    width: 25px;    left: 14px;    top: 45px;  }}@keyframes animateSuccessTip {  0%,  54% {    width: 0;    left: 1px;    top: 19px;  }  70% {    width: 50px;    left: -8px;    top: 37px;  }  84% {    width: 17px;    left: 21px;    top: 48px;  }  100% {    width: 25px;    left: 14px;    top: 45px;  }}@-webkit-keyframes animateSuccessLong {  0%,  65% {    width: 0;    right: 46px;    top: 54px;  }  84% {    width: 55px;    right: 0;    top: 35px;  }  100% {    width: 47px;    right: 8px;    top: 38px;  }}@keyframes animateSuccessLong {  0%,  65% {    width: 0;    right: 46px;    top: 54px;  }  84% {    width: 55px;    right: 0;    top: 35px;  }  100% {    width: 47px;    right: 8px;    top: 38px;  }}@-webkit-keyframes rotatePlaceholder {  0%,  5% {    transform: rotate(-45deg);    -webkit-transform: rotate(-45deg);  }  100%,  12% {    transform: rotate(-405deg);    -webkit-transform: rotate(-405deg);  }}@keyframes rotatePlaceholder {  0%,  5% {    transform: rotate(-45deg);    -webkit-transform: rotate(-45deg);  }  100%,  12% {    transform: rotate(-405deg);    -webkit-transform: rotate(-405deg);  }}.animateSuccessTip {  -webkit-animation: animateSuccessTip 0.75s;  animation: animateSuccessTip 0.75s;}.animateSuccessLong {  -webkit-animation: animateSuccessLong 0.75s;  animation: animateSuccessLong 0.75s;}.sa-icon.sa-success.animate::after {  -webkit-animation: rotatePlaceholder 4.25s ease-in;  animation: rotatePlaceholder 4.25s ease-in;}@-webkit-keyframes animateErrorIcon {  0% {    transform: rotateX(100deg);    -webkit-transform: rotateX(100deg);    opacity: 0;  }  100% {    transform: rotateX(0);    -webkit-transform: rotateX(0);    opacity: 1;  }}@keyframes animateErrorIcon {  0% {    transform: rotateX(100deg);    -webkit-transform: rotateX(100deg);    opacity: 0;  }  100% {    transform: rotateX(0);    -webkit-transform: rotateX(0);    opacity: 1;  }}.animateErrorIcon {  -webkit-animation: animateErrorIcon 0.5s;  animation: animateErrorIcon 0.5s;}@-webkit-keyframes animateXMark {  0%,  50% {    transform: scale(0.4);    -webkit-transform: scale(0.4);    margin-top: 26px;    opacity: 0;  }  80% {    transform: scale(1.15);    -webkit-transform: scale(1.15);    margin-top: -6px;  }  100% {    transform: scale(1);    -webkit-transform: scale(1);    margin-top: 0;    opacity: 1;  }}@keyframes animateXMark {  0%,  50% {    transform: scale(0.4);    -webkit-transform: scale(0.4);    margin-top: 26px;    opacity: 0;  }  80% {    transform: scale(1.15);    -webkit-transform: scale(1.15);    margin-top: -6px;  }  100% {    transform: scale(1);    -webkit-transform: scale(1);    margin-top: 0;    opacity: 1;  }}.animateXMark {  -webkit-animation: animateXMark 0.5s;  animation: animateXMark 0.5s;}@-webkit-keyframes pulseWarning {  0% {    border-color: #f8d486;  }  100% {    border-color: #f8bb86;  }}@keyframes pulseWarning {  0% {    border-color: #f8d486;  }  100% {    border-color: #f8bb86;  }}.pulseWarning {  -webkit-animation: pulseWarning 0.75s infinite alternate;  animation: pulseWarning 0.75s infinite alternate;}@-webkit-keyframes pulseWarningIns {  0% {    background-color: #f8d486;  }  100% {    background-color: #f8bb86;  }}@keyframes pulseWarningIns {  0% {    background-color: #f8d486;  }  100% {    background-color: #f8bb86;  }}.pulseWarningIns {  -webkit-animation: pulseWarningIns 0.75s infinite alternate;  animation: pulseWarningIns 0.75s infinite alternate;}@-webkit-keyframes rotate-loading {  0% {    transform: rotate(0);  }  100% {    transform: rotate(360deg);  }}@keyframes rotate-loading {  0% {    transform: rotate(0);  }  100% {    transform: rotate(360deg);  }}.sweet-alert .sa-icon.sa-error .sa-line.sa-left {  -ms-transform: rotate(45deg) \9;}.sweet-alert .sa-icon.sa-error .sa-line.sa-right {  -ms-transform: rotate(-45deg) \9;}.sweet-alert .sa-icon.sa-success {  border-color: transparent\9;}.sweet-alert .sa-icon.sa-success .sa-line.sa-tip {  -ms-transform: rotate(45deg) \9;}.sweet-alert .sa-icon.sa-success .sa-line.sa-long {  -ms-transform: rotate(-45deg) \9;} /*! * Load Awesome v1.1.0 (http://github.danielcardoso.net/load-awesome/) * Copyright 2015 Daniel Cardoso <@DanielCardoso> * Licensed under MIT */.la-ball-fall,.la-ball-fall > div {  position: relative;  -webkit-box-sizing: border-box;  -moz-box-sizing: border-box;  box-sizing: border-box;}.la-ball-fall {  display: block;  font-size: 0;  color: #fff;  width: 54px;  height: 18px;}.la-ball-fall.la-dark {  color: #333;}.la-ball-fall > div {  display: inline-block;  float: none;  background-color: currentColor;  border: 0 solid currentColor;  width: 10px;  height: 10px;  margin: 4px;  border-radius: 100%;  opacity: 0;  -webkit-animation: ball-fall 1s ease-in-out infinite;  -moz-animation: ball-fall 1s ease-in-out infinite;  -o-animation: ball-fall 1s ease-in-out infinite;  animation: ball-fall 1s ease-in-out infinite;}.la-ball-fall > div:nth-child(1) {  -webkit-animation-delay: -0.2s;  -moz-animation-delay: -0.2s;  -o-animation-delay: -0.2s;  animation-delay: -0.2s;}.la-ball-fall > div:nth-child(2) {  -webkit-animation-delay: -0.1s;  -moz-animation-delay: -0.1s;  -o-animation-delay: -0.1s;  animation-delay: -0.1s;}.la-ball-fall > div:nth-child(3) {  -webkit-animation-delay: 0s;  -moz-animation-delay: 0s;  -o-animation-delay: 0s;  animation-delay: 0s;}.la-ball-fall.la-sm {  width: 26px;  height: 8px;}.la-ball-fall.la-sm > div {  width: 4px;  height: 4px;  margin: 2px;}.la-ball-fall.la-2x {  width: 108px;  height: 36px;}.la-ball-fall.la-2x > div {  width: 20px;  height: 20px;  margin: 8px;}.la-ball-fall.la-3x {  width: 162px;  height: 54px;}.la-ball-fall.la-3x > div {  width: 30px;  height: 30px;  margin: 12px;}@-webkit-keyframes ball-fall {  0% {    opacity: 0;    -webkit-transform: translateY(-145%);    transform: translateY(-145%);  }  10%,  90% {    opacity: 0.5;  }  20%,  80% {    opacity: 1;    -webkit-transform: translateY(0);    transform: translateY(0);  }  100% {    opacity: 0;    -webkit-transform: translateY(145%);    transform: translateY(145%);  }}@-moz-keyframes ball-fall {  0% {    opacity: 0;    -moz-transform: translateY(-145%);    transform: translateY(-145%);  }  10%,  90% {    opacity: 0.5;  }  20%,  80% {    opacity: 1;    -moz-transform: translateY(0);    transform: translateY(0);  }  100% {    opacity: 0;    -moz-transform: translateY(145%);    transform: translateY(145%);  }}@-o-keyframes ball-fall {  0% {    opacity: 0;    -o-transform: translateY(-145%);    transform: translateY(-145%);  }  10%,  90% {    opacity: 0.5;  }  20%,  80% {    opacity: 1;    -o-transform: translateY(0);    transform: translateY(0);  }  100% {    opacity: 0;    -o-transform: translateY(145%);    transform: translateY(145%);  }}@keyframes ball-fall {  0% {    opacity: 0;    -webkit-transform: translateY(-145%);    -moz-transform: translateY(-145%);    -o-transform: translateY(-145%);    transform: translateY(-145%);  }  10%,  90% {    opacity: 0.5;  }  20%,  80% {    opacity: 1;    -webkit-transform: translateY(0);    -moz-transform: translateY(0);    -o-transform: translateY(0);    transform: translateY(0);  }  100% {    opacity: 0;    -webkit-transform: translateY(145%);    -moz-transform: translateY(145%);    -o-transform: translateY(145%);    transform: translateY(145%);  }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/lunar.js"/>
      <url>/static/js/lunar.js</url>
      
        <content type="html"><![CDATA[/*** @1900-2100区间内的公历、农历互转* @charset UTF-8* @Author  jiangjiazhi* @公历转农历：calendar.solar2lunar(1987,11,01); //[you can ignore params of prefix 0]* @农历转公历：calendar.lunar2solar(1987,09,10); //[you can ignore params of prefix 0]*//*** 农历1900-2100的润大小信息表* @Array Of Property* @return Hex*/var lunarInfo = [0x04bd8, 0x04ae0, 0x0a570, 0x054d5, 0x0d260, 0x0d950, 0x16554, 0x056a0, 0x09ad0, 0x055d2, // 1900-1909    0x04ae0, 0x0a5b6, 0x0a4d0, 0x0d250, 0x1d255, 0x0b540, 0x0d6a0, 0x0ada2, 0x095b0, 0x14977, // 1910-1919    0x04970, 0x0a4b0, 0x0b4b5, 0x06a50, 0x06d40, 0x1ab54, 0x02b60, 0x09570, 0x052f2, 0x04970, // 1920-1929    0x06566, 0x0d4a0, 0x0ea50, 0x06e95, 0x05ad0, 0x02b60, 0x186e3, 0x092e0, 0x1c8d7, 0x0c950, // 1930-1939    0x0d4a0, 0x1d8a6, 0x0b550, 0x056a0, 0x1a5b4, 0x025d0, 0x092d0, 0x0d2b2, 0x0a950, 0x0b557, // 1940-1949    0x06ca0, 0x0b550, 0x15355, 0x04da0, 0x0a5b0, 0x14573, 0x052b0, 0x0a9a8, 0x0e950, 0x06aa0, // 1950-1959    0x0aea6, 0x0ab50, 0x04b60, 0x0aae4, 0x0a570, 0x05260, 0x0f263, 0x0d950, 0x05b57, 0x056a0, // 1960-1969    0x096d0, 0x04dd5, 0x04ad0, 0x0a4d0, 0x0d4d4, 0x0d250, 0x0d558, 0x0b540, 0x0b6a0, 0x195a6, // 1970-1979    0x095b0, 0x049b0, 0x0a974, 0x0a4b0, 0x0b27a, 0x06a50, 0x06d40, 0x0af46, 0x0ab60, 0x09570, // 1980-1989    0x04af5, 0x04970, 0x064b0, 0x074a3, 0x0ea50, 0x06b58, 0x05ac0, 0x0ab60, 0x096d5, 0x092e0, // 1990-1999    0x0c960, 0x0d954, 0x0d4a0, 0x0da50, 0x07552, 0x056a0, 0x0abb7, 0x025d0, 0x092d0, 0x0cab5, // 2000-2009    0x0a950, 0x0b4a0, 0x0baa4, 0x0ad50, 0x055d9, 0x04ba0, 0x0a5b0, 0x15176, 0x052b0, 0x0a930, // 2010-2019    0x07954, 0x06aa0, 0x0ad50, 0x05b52, 0x04b60, 0x0a6e6, 0x0a4e0, 0x0d260, 0x0ea65, 0x0d530, // 2020-2029    0x05aa0, 0x076a3, 0x096d0, 0x04afb, 0x04ad0, 0x0a4d0, 0x1d0b6, 0x0d250, 0x0d520, 0x0dd45, // 2030-2039    0x0b5a0, 0x056d0, 0x055b2, 0x049b0, 0x0a577, 0x0a4b0, 0x0aa50, 0x1b255, 0x06d20, 0x0ada0, // 2040-2049    0x14b63, 0x09370, 0x049f8, 0x04970, 0x064b0, 0x168a6, 0x0ea50, 0x06b20, 0x1a6c4, 0x0aae0, // 2050-2059    0x0a2e0, 0x0d2e3, 0x0c960, 0x0d557, 0x0d4a0, 0x0da50, 0x05d55, 0x056a0, 0x0a6d0, 0x055d4, // 2060-2069    0x052d0, 0x0a9b8, 0x0a950, 0x0b4a0, 0x0b6a6, 0x0ad50, 0x055a0, 0x0aba4, 0x0a5b0, 0x052b0, // 2070-2079    0x0b273, 0x06930, 0x07337, 0x06aa0, 0x0ad50, 0x14b55, 0x04b60, 0x0a570, 0x054e4, 0x0d160, // 2080-2089    0x0e968, 0x0d520, 0x0daa0, 0x16aa6, 0x056d0, 0x04ae0, 0x0a9d4, 0x0a2d0, 0x0d150, 0x0f252, // 2090-2099    0x0d520] // 2100var solarMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]/*** 天干地支之天干速查表* @Array Of Property trans['甲','乙','丙','丁','戊','己','庚','辛','壬','癸']* @return Cn string*/var Gan = ['\u7532', '\u4e59', '\u4e19', '\u4e01', '\u620a', '\u5df1', '\u5e9a', '\u8f9b', '\u58ec', '\u7678']/*** 天干地支之地支速查表* @Array Of Property* @trans['子','丑','寅','卯','辰','巳','午','未','申','酉','戌','亥']* @return Cn string*/var Zhi = ['\u5b50', '\u4e11', '\u5bc5', '\u536f', '\u8fb0', '\u5df3', '\u5348', '\u672a', '\u7533', '\u9149', '\u620c', '\u4ea5']/*** 天干地支之地支速查表<=>生肖* @Array Of Property* @trans['鼠','牛','虎','兔','龙','蛇','马','羊','猴','鸡','狗','猪']* @return Cn string*/var Animals = ['\u9f20', '\u725b', '\u864e', '\u5154', '\u9f99', '\u86c7', '\u9a6c', '\u7f8a', '\u7334', '\u9e21', '\u72d7', '\u732a']/*** 24节气速查表* @Array Of Property* @trans['小寒','大寒','立春','雨水','惊蛰','春分','清明','谷雨','立夏','小满','芒种','夏至','小暑','大暑','立秋','处暑','白露','秋分','寒露','霜降','立冬','小雪','大雪','冬至']* @return Cn string*/var solarTerm = ['\u5c0f\u5bd2', '\u5927\u5bd2', '\u7acb\u6625', '\u96e8\u6c34', '\u60ca\u86f0', '\u6625\u5206', '\u6e05\u660e', '\u8c37\u96e8', '\u7acb\u590f', '\u5c0f\u6ee1', '\u8292\u79cd', '\u590f\u81f3', '\u5c0f\u6691', '\u5927\u6691', '\u7acb\u79cb', '\u5904\u6691', '\u767d\u9732', '\u79cb\u5206', '\u5bd2\u9732', '\u971c\u964d', '\u7acb\u51ac', '\u5c0f\u96ea', '\u5927\u96ea', '\u51ac\u81f3']/*** 1900-2100各年的24节气日期速查表* @Array Of Property* @return 0x string For splice*/var sTermInfo = ['9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf97c3598082c95f8c965cc920f',    '97bd0b06bdb0722c965ce1cfcc920f', 'b027097bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',    '97bcf97c359801ec95f8c965cc920f', '97bd0b06bdb0722c965ce1cfcc920f', 'b027097bd097c36b0b6fc9274c91aa',    '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f', '97bd0b06bdb0722c965ce1cfcc920f',    'b027097bd097c36b0b6fc9274c91aa', '9778397bd19801ec9210c965cc920e', '97b6b97bd19801ec95f8c965cc920f',    '97bd09801d98082c95f8e1cfcc920f', '97bd097bd097c36b0b6fc9210c8dc2', '9778397bd197c36c9210c9274c91aa',    '97b6b97bd19801ec95f8c965cc920e', '97bd09801d98082c95f8e1cfcc920f', '97bd097bd097c36b0b6fc9210c8dc2',    '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec95f8c965cc920e', '97bcf97c3598082c95f8e1cfcc920f',    '97bd097bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec9210c965cc920e',    '97bcf97c3598082c95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',    '97b6b97bd19801ec9210c965cc920e', '97bcf97c3598082c95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722',    '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f',    '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',    '97bcf97c359801ec95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',    '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f', '97bd097bd07f595b0b6fc920fb0722',    '9778397bd097c36b0b6fc9210c8dc2', '9778397bd19801ec9210c9274c920e', '97b6b97bd19801ec95f8c965cc920f',    '97bd07f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c920e',    '97b6b97bd19801ec95f8c965cc920f', '97bd07f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2',    '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bd07f1487f595b0b0bc920fb0722',    '7f0e397bd097c36b0b6fc9210c8dc2', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',    '97bcf7f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',    '97b6b97bd19801ec9210c965cc920e', '97bcf7f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',    '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf7f1487f531b0b0bb0b6fb0722',    '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',    '97bcf7f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',    '97b6b97bd19801ec9210c9274c920e', '97bcf7f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',    '9778397bd097c36b0b6fc9210c91aa', '97b6b97bd197c36c9210c9274c920e', '97bcf7f0e47f531b0b0bb0b6fb0722',    '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c920e',    '97b6b7f0e47f531b0723b0b6fb0722', '7f0e37f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2',    '9778397bd097c36b0b70c9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721', '7f0e37f1487f595b0b0bb0b6fb0722',    '7f0e397bd097c35b0b6fc9210c8dc2', '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721',    '7f0e27f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',    '97b6b7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',    '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',    '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721',    '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9274c91aa',    '97b6b7f0e47f531b0723b0787b0721', '7f0e27f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',    '9778397bd097c36b0b6fc9210c91aa', '97b6b7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',    '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9210c8dc2', '977837f0e37f149b0723b0787b0721',    '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f5307f595b0b0bc920fb0722', '7f0e397bd097c35b0b6fc9210c8dc2',    '977837f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e37f1487f595b0b0bb0b6fb0722',    '7f0e397bd097c35b0b6fc9210c8dc2', '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',    '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '977837f0e37f14998082b0787b06bd',    '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',    '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',    '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',    '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14998082b0787b06bd',    '7f07e7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',    '977837f0e37f14998082b0723b06bd', '7f07e7f0e37f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',    '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b0721',    '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f1487f595b0b0bb0b6fb0722', '7f0e37f0e37f14898082b0723b02d5',    '7ec967f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f1487f531b0b0bb0b6fb0722',    '7f0e37f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',    '7f0e37f1487f531b0b0bb0b6fb0722', '7f0e37f0e37f14898082b072297c35', '7ec967f0e37f14998082b0787b06bd',    '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e37f0e37f14898082b072297c35',    '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',    '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f149b0723b0787b0721',    '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14998082b0723b06bd',    '7f07e7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722', '7f0e37f0e366aa89801eb072297c35',    '7ec967f0e37f14998082b0723b06bd', '7f07e7f0e37f14998083b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',    '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14898082b0723b02d5', '7f07e7f0e37f14998082b0787b0721',    '7f07e7f0e47f531b0723b0b6fb0722', '7f0e36665b66aa89801e9808297c35', '665f67f0e37f14898082b0723b02d5',    '7ec967f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0722', '7f0e36665b66a449801e9808297c35',    '665f67f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',    '7f0e36665b66a449801e9808297c35', '665f67f0e37f14898082b072297c35', '7ec967f0e37f14998082b0787b06bd',    '7f07e7f0e47f531b0723b0b6fb0721', '7f0e26665b66a449801e9808297c35', '665f67f0e37f1489801eb072297c35',    '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722']/** * 数字转中文速查表* @Array Of Property* @trans ['日','一','二','三','四','五','六','七','八','九','十']* @return Cn string */var nStr1 = ['\u65e5', '\u4e00', '\u4e8c', '\u4e09', '\u56db', '\u4e94', '\u516d', '\u4e03', '\u516b', '\u4e5d', '\u5341']/*** 日期转农历称呼速查表* @Array Of Property* @trans ['初','十','廿','卅']* @return Cn string*/var nStr2 = ['\u521d', '\u5341', '\u5eff', '\u5345']/*** 月份转农历称呼速查表* @Array Of Property* @trans ['正','一','二','三','四','五','六','七','八','九','十','冬','腊']* @return Cn string*/var nStr3 = ['\u6b63', '\u4e8c', '\u4e09', '\u56db', '\u4e94', '\u516d', '\u4e03', '\u516b', '\u4e5d', '\u5341', '\u51ac', '\u814a']/*** 返回农历y年一整年的总天数* @param lunar Year * @return Number* @eg:var count = calendar.lYearDays(1987) ;//count=387*/function lYearDays(y) {    var i    var sum = 348    for (i = 0x8000; i > 0x8; i >>= 1) { sum += (lunarInfo[y - 1900] & i) ? 1 : 0 }    return (sum + leapDays(y))}/*** 返回农历y年闰月是哪个月；若y年没有闰月 则返回0* @param lunar Year* @return Number (0-12) * @eg:var leapMonth = calendar.leapMonth(1987) ;//leapMonth=6*/function leapMonth(y) { // 闰字编码 \u95f0    return (lunarInfo[y - 1900] & 0xf)}/*** 返回农历y年闰月的天数 若该年没有闰月则返回0* @param lunar Year* @return Number (0、29、30)* @eg:var leapMonthDay = calendar.leapDays(1987) ;//leapMonthDay=29*/function leapDays(y) {    if (leapMonth(y)) {        return ((lunarInfo[y - 1900] & 0x10000) ? 30 : 29)    }    return (0)}/*** 返回农历y年m月（非闰月）的总天数，计算m为闰月时的天数请使用leapDays方法* @param lunar Year* @return Number (-1、29、30) * @eg:var MonthDay = calendar.monthDays(1987,9) ;//MonthDay=29*/function monthDays(y, m) {    if (m > 12 || m < 1) { return -1 }// 月份参数从1至12，参数错误返回-1    return ((lunarInfo[y - 1900] & (0x10000 >> m)) ? 30 : 29)}/*** 返回公历(!)y年m月的天数* @param solar Year* @return Number (-1、28、29、30、31)* @eg:var solarMonthDay = calendar.leapDays(1987) ;//solarMonthDay=30*/function solarDays(y, m) {    if (m > 12 || m < 1) { return -1 } // 若参数错误 返回-1    var ms = m - 1    if (ms === 1) { // 2月份的闰平规律测算后确认返回28或29        return (((y % 4 === 0) && (y % 100 !== 0) || (y % 400 === 0)) ? 29 : 28)    } else {        return (solarMonth[ms])    }}/*** 农历年份转换为干支纪年* @param  lYear 农历年的年份数* @return Cn string*/function toGanZhiYear(lYear) {    var ganKey = (lYear - 3) % 10    var zhiKey = (lYear - 3) % 12    if (ganKey === 0) ganKey = 10 // 如果余数为0则为最后一个天干    if (zhiKey === 0) zhiKey = 12 // 如果余数为0则为最后一个地支    return Gan[ganKey - 1] + Zhi[zhiKey - 1]}/*** 公历月、日判断所属星座* @param  cMonth [description]* @param  cDay [description]* @return Cn string*/function toAstro(cMonth, cDay) {    var s = '\u9b54\u7faf\u6c34\u74f6\u53cc\u9c7c\u767d\u7f8a\u91d1\u725b\u53cc\u5b50\u5de8\u87f9\u72ee\u5b50\u5904\u5973\u5929\u79e4\u5929\u874e\u5c04\u624b\u9b54\u7faf'    var arr = [20, 19, 21, 21, 21, 22, 23, 23, 23, 23, 22, 22]    return s.substr(cMonth * 2 - (cDay < arr[cMonth - 1] ? 2 : 0), 2) + '\u5ea7' // 座}/*** 传入offset偏移量返回干支* @param offset 相对甲子的偏移量* @return Cn string*/function toGanZhi(offset) {    return Gan[offset % 10] + Zhi[offset % 12]}/*** 传入公历(!)y年获得该年第n个节气的公历日期* @param y公历年(1900-2100)；n二十四节气中的第几个节气(1~24)；从n=1(小寒)算起* @return day Number* @eg:var _24 = calendar.getTerm(1987,3) ;//_24=4;意即1987年2月4日立春*/function getTerm(y, n) {    if (y < 1900 || y > 2100) { return -1 }    if (n < 1 || n > 24) { return -1 }    var _table = sTermInfo[y - 1900]    var _info = [        parseInt('0x' + _table.substr(0, 5)).toString(),        parseInt('0x' + _table.substr(5, 5)).toString(),        parseInt('0x' + _table.substr(10, 5)).toString(),        parseInt('0x' + _table.substr(15, 5)).toString(),        parseInt('0x' + _table.substr(20, 5)).toString(),        parseInt('0x' + _table.substr(25, 5)).toString()    ]    var _calday = [        _info[0].substr(0, 1),        _info[0].substr(1, 2),        _info[0].substr(3, 1),        _info[0].substr(4, 2),        _info[1].substr(0, 1),        _info[1].substr(1, 2),        _info[1].substr(3, 1),        _info[1].substr(4, 2),        _info[2].substr(0, 1),        _info[2].substr(1, 2),        _info[2].substr(3, 1),        _info[2].substr(4, 2),        _info[3].substr(0, 1),        _info[3].substr(1, 2),        _info[3].substr(3, 1),        _info[3].substr(4, 2),        _info[4].substr(0, 1),        _info[4].substr(1, 2),        _info[4].substr(3, 1),        _info[4].substr(4, 2),        _info[5].substr(0, 1),        _info[5].substr(1, 2),        _info[5].substr(3, 1),        _info[5].substr(4, 2)    ]    return parseInt(_calday[n - 1])}/*** 传入农历数字月份返回汉语通俗表示法* @param lunar month* @return Cn string* @eg:var cnMonth = calendar.toChinaMonth(12) ;//cnMonth='腊月'*/function toChinaMonth(m) { // 月 => \u6708    if (m > 12 || m < 1) { return -1 } // 若参数错误 返回-1    var s = nStr3[m - 1]    s += '\u6708' // 加上月字    return s}/*** 传入农历日期数字返回汉字表示法* @param lunar day* @return Cn string* @eg:var cnDay = calendar.toChinaDay(21) ;//cnMonth='廿一'*/function toChinaDay(d) { // 日 => \u65e5    var s    switch (d) {        case 10:            s = '\u521d\u5341'            break        case 20:            s = '\u4e8c\u5341'            break        case 30:            s = '\u4e09\u5341'            break        default:            s = nStr2[Math.floor(d / 10)]            s += nStr1[d % 10]    }    return (s)}/*** 年份转生肖[!仅能大致转换] => 精确划分生肖分界线是“立春”* @param y year* @return Cn string* @eg:var animal = calendar.getAnimal(1987) ;//animal='兔'*/function getAnimal(y) {    return Animals[(y - 4) % 12]}/*** 传入阳历年月日获得详细的公历、农历object信息 <=>JSON* @param y  solar year* @param m  solar month* @param d  solar day* @return JSON object* @eg:console.log(calendar.solar2lunar(1987,11,01));*/function solar2lunar(y, m, d) { // 参数区间1900.1.31~2100.12.31    // 年份限定、上限    if (y < 1900 || y > 2100) {        return -1 // undefined转换为数字变为NaN    }    // 公历传参最下限    if (y === 1900 && m === 1 && d < 31) {        return -1    }    // 未传参  获得当天    var objDate = null    if (!y) {        objDate = new Date()    } else {        objDate = new Date(y, parseInt(m) - 1, d)    }    var i    var leap = 0    var temp = 0    // 修正ymd参数    y = objDate.getFullYear()    m = objDate.getMonth() + 1    d = objDate.getDate()    var offset = (Date.UTC(objDate.getFullYear(), objDate.getMonth(), objDate.getDate()) - Date.UTC(1900, 0, 31)) / 86400000    for (i = 1900; i < 2101 && offset > 0; i++) {        temp = lYearDays(i)        offset -= temp    }    if (offset < 0) {        offset += temp; i--    }    // 是否今天    var isTodayObj = new Date()    var isToday = false    if (isTodayObj.getFullYear() === y && isTodayObj.getMonth() + 1 === m && isTodayObj.getDate() === d) {        isToday = true    }    // 星期几    var nWeek = objDate.getDay()    var cWeek = nStr1[nWeek]    // 数字表示周几顺应天朝周一开始的惯例    if (nWeek === 0) {        nWeek = 7    }    // 农历年    var year = i    leap = leapMonth(i) // 闰哪个月    var isLeap = false    // 效验闰月    for (i = 1; i < 13 && offset > 0; i++) {        // 闰月        if (leap > 0 && i === (leap + 1) && isLeap === false) {            --i            isLeap = true; temp = leapDays(year) // 计算农历闰月天数        } else {            temp = monthDays(year, i)// 计算农历普通月天数        }        // 解除闰月        if (isLeap === true && i === (leap + 1)) { isLeap = false }        offset -= temp    }    // 闰月导致数组下标重叠取反    if (offset === 0 && leap > 0 && i === leap + 1) {        if (isLeap) {            isLeap = false        } else {            isLeap = true; --i        }    }    if (offset < 0) {        offset += temp; --i    }    // 农历月    var month = i    // 农历日    var day = offset + 1    // 天干地支处理    var sm = m - 1    var gzY = toGanZhiYear(year)    // 当月的两个节气    // bugfix-2017-7-24 11:03:38 use lunar Year Param `y` Not `year`    var firstNode = getTerm(y, (m * 2 - 1)) // 返回当月「节」为几日开始    var secondNode = getTerm(y, (m * 2)) // 返回当月「节」为几日开始    // 依据12节气修正干支月    var gzM = toGanZhi((y - 1900) * 12 + m + 11)    if (d >= firstNode) {        gzM = toGanZhi((y - 1900) * 12 + m + 12)    }    // 传入的日期的节气与否    var isTerm = false    var Term = null    if (firstNode === d) {        isTerm = true        Term = solarTerm[m * 2 - 2]    }    if (secondNode === d) {        isTerm = true        Term = solarTerm[m * 2 - 1]    }    // 日柱 当月一日与 1900/1/1 相差天数    var dayCyclical = Date.UTC(y, sm, 1, 0, 0, 0, 0) / 86400000 + 25567 + 10    var gzD = toGanZhi(dayCyclical + d - 1)    // 该日期所属的星座    var astro = toAstro(m, d)    return { 'lYear': year, 'lMonth': month, 'lDay': day, 'Animal': getAnimal(year), 'IMonthCn': (isLeap ? '\u95f0' : '') + toChinaMonth(month), 'IDayCn': toChinaDay(day), 'cYear': y, 'cMonth': m, 'cDay': d, 'gzYear': gzY, 'gzMonth': gzM, 'gzDay': gzD, 'isToday': isToday, 'isLeap': isLeap, 'nWeek': nWeek, 'ncWeek': '\u661f\u671f' + cWeek, 'isTerm': isTerm, 'Term': Term, 'astro': astro }}var calendarFormatter = {    // 传入阳历年月日获得详细的公历、农历object信息 <=>JSON    solar2lunar: function (y, m, d) { // 参数区间1900.1.31~2100.12.31        return solar2lunar(y, m, d)    },    /**    * 传入农历年月日以及传入的月份是否闰月获得详细的公历、农历object信息 <=>JSON    * @param y  lunar year    * @param m  lunar month    * @param d  lunar day    * @param isLeapMonth  lunar month is leap or not.[如果是农历闰月第四个参数赋值true即可]    * @return JSON object    * @eg:console.log(calendar.lunar2solar(1987,9,10));    */    lunar2solar: function (y, m, d, isLeapMonth) { // 参数区间1900.1.31~2100.12.1        isLeapMonth = !!isLeapMonth        if (isLeapMonth && (leapMonth !== m)) { return -1 }// 传参要求计算该闰月公历 但该年得出的闰月与传参的月份并不同        if (y === 2100 && m === 12 && d > 1 || y === 1900 && m === 1 && d < 31) { return -1 } // 超出了最大极限值        var day = monthDays(y, m)        var _day = day        // bugFix 2016-9-25        // if month is leap, _day use leapDays method        if (isLeapMonth) {            _day = leapDays(y, m)        }        if (y < 1900 || y > 2100 || d > _day) { return -1 }// 参数合法性效验        // 计算农历的时间差        var offset = 0        for (var i = 1900; i < y; i++) {            offset += lYearDays(i)        }        var leap = 0        var isAdd = false        for (i = 1; i < m; i++) {            leap = leapMonth(y)            if (!isAdd) { // 处理闰月                if (leap <= i && leap > 0) {                    offset += leapDays(y); isAdd = true                }            }            offset += monthDays(y, i)        }        // 转换闰月农历 需补充该年闰月的前一个月的时差        if (isLeapMonth) { offset += day }        // 1900年农历正月一日的公历时间为1900年1月30日0时0分0秒(该时间也是本农历的最开始起始点)        var stmap = Date.UTC(1900, 1, 30, 0, 0, 0)        var calObj = new Date((offset + d - 31) * 86400000 + stmap)        var cY = calObj.getUTCFullYear()        var cM = calObj.getUTCMonth() + 1        var cD = calObj.getUTCDate()        return solar2lunar(cY, cM, cD)    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/meihua.js"/>
      <url>/static/js/meihua.js</url>
      
        <content type="html"><![CDATA[// 设置字体if (localStorage.getItem("font") == undefined) {  localStorage.setItem("font", "HYTMR")}setFont(localStorage.getItem("font"))function setFont(n) {  localStorage.setItem("font", n)  if (n == "main") {    document.body.style.fontFamily = "-apple-system, Consolas_1, BlinkMacSystemFont, 'Segoe UI' , 'Helvetica Neue' , Lato, Roboto, 'PingFang SC' , 'Microsoft JhengHei' , 'Microsoft YaHei' , sans-serif"    document.documentElement.style.setProperty('--global-font', '-apple-system')  }  else {    document.body.style.fontFamily = "var(--global-font),-apple-system, IBM Plex Mono ,monosapce,'微软雅黑', sans-serif"    document.documentElement.style.setProperty('--global-font', n)  }}// 设置主题色if (localStorage.getItem("themeColor") == undefined) {  localStorage.setItem("themeColor", "green");}setColor(localStorage.getItem("themeColor"));function setColor(c) {  document.getElementById("themeColor").innerText = `:root{--theme-color:var(--color-${c})!important}`;  localStorage.setItem("themeColor", c);}// 控制星空背景特效开关// 默认开启星空背景if (localStorage.getItem("universe") == undefined) {  localStorage.setItem("universe", "block");}setUniverse2(localStorage.getItem("universe"));function setUniverse2(c) {  document.getElementById("universe").style.display = c;  localStorage.setItem("universe", c);}function setUniverse() {  if (document.getElementById("universeSet").checked) {    setUniverse2("block");  } else {    setUniverse2("none");  }}// 帧率监测开关if (localStorage.getItem("fpson") == undefined) {  localStorage.setItem("fpson", "0");}function fpssw() {  if (document.getElementById("fpson").checked) {    localStorage.setItem("fpson", "1");  } else {    localStorage.setItem("fpson", "0");  }}// 侧边栏开关if (localStorage.getItem("rs") == undefined) {  localStorage.setItem("rs", "block");}if (localStorage.getItem("rs") == "block") {  document.getElementById("rightSide").innerText = `:root{--rightside-display: block}`;} else {  document.getElementById("rightSide").innerText = `:root{--rightside-display: none}`;}function toggleRightside() {  // 先设置localStorage变量  if (document.getElementById("rightSideSet").checked) {    localStorage.setItem("rs", "block");    document.getElementById("rightSide").innerText = `:root{--rightside-display: block}`;  } else {    localStorage.setItem("rs", "none");    document.getElementById("rightSide").innerText = `:root{--rightside-display: none}`;  }}// 透明度调节滑块if (localStorage.getItem("trans") == undefined) {  localStorage.setItem("trans", "92%");}if (localStorage.getItem("newValue") == undefined) {  localStorage.setItem("newValue", 92);}var curValue = localStorage.getItem("newValue");var curTrans = localStorage.getItem("trans"); // 当前透明度var curMini = curValue * 0.95;document.getElementById("transPercent").innerText = `:root{--trans-light: rgba(255, 255, 255, ${curTrans}) !important; --trans-dark: rgba(25, 25, 25, ${curTrans}) !important} `;function setTrans() {  var elem = document.getElementById("transSet");  var newValue = elem.value;  var target = document.querySelector('.transValue');  target.innerHTML = "透明度 (0%-100%): " + newValue + "%";  localStorage.setItem("trans", newValue + "%");  localStorage.setItem("newValue", newValue);  curValue = newValue;  curMini = curValue * 0.95;  var max = elem.getAttribute("max");  curTrans = (95 / max * newValue) + "%";  document.querySelector('#rang_trans').style.width = curTrans;  document.getElementById("transPercent").innerText = `:root{--trans-light: rgba(255, 255, 255, ${curTrans}) !important; --trans-dark: rgba(25, 25, 25, ${curTrans}) !important} `;};// 模糊度调节滑块if (localStorage.getItem("blurRad") == undefined) {  localStorage.setItem("blurRad", 15);}var curBlur = localStorage.getItem("blurRad"); // 当前模糊半径var miniBlur = curBlur * 2 * 0.95;document.getElementById("blurNum").innerText = `:root{--blur-num: blur(${curBlur}px) saturate(150%) !important`;function setBlurNum() {  var elem = document.getElementById("blurSet");  var newBlur = elem.value;  var target = document.querySelector('.blurValue');  target.innerHTML = "模糊半径 (开启模糊效果才有效 0px-50px): " + newBlur + "px";  localStorage.setItem("blurRad", newBlur);  curBlur = newBlur;  miniBlur = curBlur * 2 * 0.95;  var max = elem.getAttribute("max");  var curWidth = (95 / max * newBlur) + "%";  document.querySelector('#rang_blur').style.width = curWidth;  document.getElementById("blurNum").innerText = `:root{--blur-num: blur(${curBlur}px) saturate(150%) !important`;};// 模糊效果开关if (localStorage.getItem("blur") == undefined) {  localStorage.setItem("blur", 0);}if (localStorage.getItem("blur") == 0) {  document.getElementById("settingStyle").innerText = `:root{--backdrop-filter: none}`;} else {  document.getElementById("settingStyle").innerText = `:root{--backdrop-filter: var(--blur-num)}`;}function setBlur() {  if (document.getElementById("blur").checked) {    localStorage.setItem("blur", 1);    document.getElementById("settingStyle").innerText = `:root{--backdrop-filter: var(--blur-num)}`;  } else {    localStorage.setItem("blur", 0);    document.getElementById("settingStyle").innerText = `:root{--backdrop-filter: none}`;  }}// 更换背景(采用原来Leonus的代码)// 存数据// name：命名 data：数据function saveData(name, data) {  localStorage.setItem(name, JSON.stringify({ time: Date.now(), data: data }));}// 取数据// name：命名 time：过期时长,单位分钟,如传入30,即加载数据时如果超出30分钟返回0,否则返回数据function loadData(name, time) {  let d = JSON.parse(localStorage.getItem(name));  // 过期或有错误返回 0 否则返回数据  if (d) {    let t = Date.now() - d.time;    if (t < time * 60 * 1000 && t > -1) return d.data;  }  return 0;}// 上面两个函数如果你有其他需要存取数据的功能，也可以直接使用// 读取背景try {  let data = loadData("blogbg", 1440);  if (data) changeBg(data, 1);  else localStorage.removeItem("blogbg");} catch (error) {  localStorage.removeItem("blogbg");}// 切换背景函数// 此处的flag是为了每次读取时都重新存储一次,导致过期时间不稳定// 如果flag为0则存储,即设置背景. 为1则不存储,即每次加载自动读取背景.function changeBg(s, flag) {  let bg = document.getElementById("web_bg");  if (s.charAt(0) == "#") {    bg.style.backgroundColor = s;    bg.style.backgroundImage = "none";  } else {    bg.style.backgroundImage = s  };  if (!flag) {    saveData("blogbg", s);  }}// 切换链接对应的背景(加入了检验)function getPicture() {  let bg = document.getElementById("web_bg");  checkImgExists(document.getElementById("pic-link").value).then(() => {    // 有效的图片链接    var link = "url(" + document.getElementById("pic-link").value + ")";    bg.style.backgroundImage = link;    saveData("blogbg", link); // 存储背景    // 提示切换成功    new Vue({      data: function () {        this.$notify({          title: "提示",          message: "切换自定义背景成功！",          position: 'top-left',          offset: 50,          showClose: true,          type: "success"        });      }    })  }).catch(() => {    // 无效的图片链接，提示无效    new Vue({      data: function () {        this.$notify({          title: "提示",          message: "请输入有效的图片链接！",          position: 'top-left',          offset: 50,          showClose: true,          type: "warning"        });      }    })  })}// 判断图片链接是否可用function checkImgExists(imgurl) {  return new Promise(function (resolve, reject) {    var ImgObj = new Image();    ImgObj.src = imgurl;    ImgObj.onload = function (res) {      resolve(res);    }    ImgObj.onerror = function (err) {      reject(err)    }  })}// 解决开启Pjax的问题// function whenDOMReady() {//   try {//     let data = loadData('blogbg', 1440)//     if (data) changeBg_noWindow(data, 0)//     else localStorage.removeItem('blogbg');//   } catch (error) { localStorage.removeItem('blogbg'); }// }// whenDOMReady()// document.addEventListener("pjax:success", whenDOMReady)// 无弹窗提醒更换背景// function changeBg_noWindow(s, flag) {//   let bg = document.getElementById("web_bg");//   if (s.charAt(0) == "#") {//     bg.style.backgroundColor = s;//     bg.style.backgroundImage = "none";//   } else bg.style.backgroundImage = s;//   if (!flag) {//     saveData("blogbg", s);//   }// }// 以下为2.0新增内容// 创建窗口var winbox = "";function createWinbox() {  let div = document.createElement("div");  document.body.appendChild(div);  winbox = WinBox({    id: "meihuaBox",    index: 999,    title: "美化设置",    x: "left",    y: "center",    minwidth: "300px",    height: "60%",    // "#76c8f1"    background: 'var(--theme-color)',    onmaximize: () => {      div.innerHTML = `<style>body::-webkit-scrollbar {display: none;} div#meihuaBox {width: 100% !important;}</style>`;    },    onrestore: () => {      div.innerHTML = "";    },  });  winResize();  window.addEventListener("resize", winResize);  // 每一类我放了一个演示，直接往下复制粘贴 a标签 就可以，需要注意的是 函数里面的链接 冒号前面需要添加反斜杠\进行转义  winbox.body.innerHTML = `<div class="settings" style="display: block;"><div id="article-container" style="padding:12px;"><br><center><p><button onclick="reset()" style="background:linear-gradient(to right, #114357, #f29492);display:block;width:40%;padding: 15px 0;border-radius:6px;color:white;"><i class="fa-solid fa-arrows-rotate"></i>点这里恢复默认设置</button></p></center><h2>一、显示偏好</h2><div class="transValue" style="font-weight:bold;padding-left:10px">透明度 (0%-100%): ${curValue}%</div><div class="range">  <input id="transSet" type="range" min="0" max="100" step="1" value="${curValue}" oninput="setTrans()">  <p class="rang_width" id="rang_trans" style="width:${curMini}%"></p></div><div class="blurValue" style="font-weight:bold;padding-left:10px">模糊半径 (开启模糊效果才有效 0px-50px): ${curBlur} px</div><div class="range">  <input id="blurSet" type="range" min="0" max="50" step="1" value="${curBlur}" oninput="setBlurNum()">  <p class="rang_width" id="rang_blur" style="width:${miniBlur}%"></p></div><div class="content" style="display:flex">  <div class="content-text" style="font-weight:bold; padding-left:10px">星空特效 (夜间模式) </div><input type="checkbox" id="universeSet" onclick="setUniverse()">  <div class="content-text" style="font-weight:bold; padding-left:20px">帧率监测 (<a href="javascript:window.location.reload()">刷新</a>生效) </div><input type="checkbox" id="fpson" onclick="fpssw()"></div><div class="content" style="display:flex">    <div class="content-text" style="font-weight:bold; padding-left:10px">模糊效果 (可能会卡) </div><input type="checkbox" id="blur" onclick="setBlur()">      <div class="content-text" style="font-weight:bold; padding-left:20px">侧边栏 (默认开) </div><input type="checkbox" id="rightSideSet" onclick="toggleRightside()"></div><h2>二、字体设置</h2><div class="note warning simple"><p>注意：非商免字体未经授权只能个人使用。本站为完全非商业、非盈利性质的网站，平时用于个人学习交流，站长不会由此获利一分钱，如涉及侵权请联系站长删除，谢谢！ —— 致版权方</p></div><p id="swfs"><a class="swf" href="javascript:;" rel="noopener external nofollow" style="font-family:'ZhuZiAWan'!important;color:black" onclick="setFont('ZhuZiAWan_light')">筑紫A丸ゴシック</a><a class="swf" href="javascript:;" rel="noopener external nofollow" style="font-family:'HYTMR'!important;color:black" onclick="setFont('HYTMR')">汉仪唐美人</a><a class="swf" href="javascript:;" rel="noopener external nofollow" style="font-family:'LXGW'!important;color:black" onclick="setFont('LXGW')">霞鹜文楷</a><a class="swf" href="javascript:;" rel="noopener external nofollow" style="font-family:'TTQHB'!important;color:black" onclick="setFont('TTQHB')">甜甜圈海报</a><a class="swf" href="javascript:;" rel="noopener external nofollow" style="font-family:'YSHST'!important;color:black" onclick="setFont('YSHST')">优设好身体</a><a class="swf" href="javascript:;" rel="noopener external nofollow" style="font-family:'MiSans'!important;color:black" onclick="setFont('MiSans')">MiSans</a><a class="swf" href="javascript:;" rel="noopener external nofollow" style="font-family:-apple-system, IBM Plex Mono ,monosapce,'微软雅黑', sans-serif;!important;color:black" onclick="setFont('main')">系统默认</a></p><h2>三、主题色设置</h2><div class="content" style="display:flex"><input type="radio" id="red" name="colors" value=" "        onclick="setColor('red')"><input type="radio" id="orange" name="colors" value=" "        onclick="setColor('orange')"><input type="radio" id="yellow" name="colors" value=" "        onclick="setColor('yellow')"><input type="radio" id="green" name="colors" value=" "        onclick="setColor('green')"><input type="radio" id="blue" name="colors" value=" "        onclick="setColor('blue')"><input type="radio" id="heoblue" name="colors" value=" "        onclick="setColor('heoblue')"><input type="radio" id="darkblue" name="colors" value=" "        onclick="setColor('darkblue')"><input type="radio" id="purple" name="colors" value=" "        onclick="setColor('purple')"><input type="radio" id="pink" name="colors" value=" "        onclick="setColor('pink')" checked="checked"><input type="radio" id="black" name="colors" value=" "        onclick="setColor('black')"><input type="radio" id="blackgray" name="colors" value=" "        onclick="setColor('blackgray')"></div><h2>四、背景设置</h2><center><button onclick="resetBg()" style="background:var(--theme-color);display:block;width:20%;padding: 15px 0;border-radius:6px;color:white;"><i class="fa-solid fa-arrows-rotate"></i>点这里恢复默认背景</button></center><h3>1.二次元</h3><details class="folding-tag" blue><summary> 查看二次元背景 </summary>              <div class='content'>              <div class="bgbox"><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/home_bg.webp)" class="imgbox" onclick="changeBg('url(https\://source.fomal.cc/img/home_bg.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/dark_mode.webp)" class="imgbox" onclick="changeBg('url(https\://source.fomal.cc/img/dark_mode.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/dm2.webp)" class="imgbox" onclick="changeBg('url(https\://source.fomal.cc/img/dm2.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/dm14.webp)" class="imgbox" onclick="changeBg('url(https\://source.fomal.cc/img/dm14.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/dm8.webp)" class="imgbox" onclick="changeBg('url(https\://source.fomal.cc/img/dm8.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/dm9.webp)" class="imgbox" onclick="changeBg('url(https\://source.fomal.cc/img/dm9.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/dm11.webp)" class="imgbox" onclick="changeBg('url(https\://source.fomal.cc/img/dm11.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/dm12.webp)" class="imgbox" onclick="changeBg('url(https\://source.fomal.cc/img/dm12.webp)')"></a></div>              </div>            </details><h3>2.风景</h3><details class="folding-tag" blue><summary> 查看风景背景 </summary>              <div class='content'>              <div class="bgbox"><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/fj1.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/fj1.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/fj2.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/fj2.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/fj3.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/fj3.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/fj4.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/fj4.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/fj5.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/fj5.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/fj6.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/fj6.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/fj7.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/fj7.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/fj8.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/fj8.webp)')"></a></div>              </div>            </details><h3>3.萌宠</h3><details class="folding-tag" blue><summary> 查看萌宠背景 </summary>              <div class='content'>              <div class="bgbox"><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mc1.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/mc1.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mc2.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/mc2.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mc3.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/mc3.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mc4.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/mc4.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mc5.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/mc5.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mc6.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/mc6.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mc7.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/mc7.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mc8.webp)" class="imgbox" onclick="changeBg('url(https://source.fomal.cc/img/mc8.webp)')"></a></div>              </div>            </details><h3>4.渐变色</h3><details class="folding-tag" blue><summary> 查看渐变色背景 </summary>              <div class='content'>              <div class="bgbox"><a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #544a7d, #ffd452)" onclick="changeBg('linear-gradient(to right, #544a7d, #ffd452)')"></a><a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to bottom, #7f7fd5, #86a8e7, #91eae4)" onclick="changeBg('linear-gradient(to bottom, #7f7fd5, #86a8e7, #91eae4)')"></a><a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to left, #654ea3, #eaafc8)" onclick="changeBg('linear-gradient(to left, #654ea3, #eaafc8)')"></a><a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to top, #feac5e, #c779d0, #4bc0c8)" onclick="changeBg('linear-gradient(to top, #feac5e, #c779d0, #4bc0c8)')"></a><a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to top, #d3959b, #bfe6ba)" onclick="changeBg('linear-gradient(to top, #d3959b, #bfe6ba)')"></a><a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to top, #8360c3, #2ebf91)" onclick="changeBg('linear-gradient(to top, #8360c3, #2ebf91)')"></a><a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to top, #108dc7, #ef8e38)" onclick="changeBg('linear-gradient(to top, #108dc7, #ef8e38)')"></a><a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to top, #355c7d, #6c5b7b, #c06c84)" onclick="changeBg('linear-gradient(to top, #355c7d, #6c5b7b, #c06c84)')"></a></div>              </div>            </details><h3>5.纯色</h3><details class="folding-tag" blue><summary> 查看纯色背景 </summary>              <div class='content'>              <div class="bgbox"><a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #7D9D9C" onclick="changeBg('#7D9D9C')"></a> <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #ecb1b1" onclick="changeBg('#ecb1b1')"></a> <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #d3ebac" onclick="changeBg('#d3ebac')"></a> <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #ace9ce" onclick="changeBg('#ace9ce')"></a><a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #c1ebea" onclick="changeBg('#c1ebea')"></a> <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #dee7f1" onclick="changeBg('#dee7f1')"></a> <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #e9e3f2" onclick="changeBg('#e9e3f2')"></a> <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #f7eff5" onclick="changeBg('#f7eff5')"></a>  </div>              </div>            </details><h3>6.适配手机</h3><details class="folding-tag" blue><summary> 查看适配手机的背景 </summary>              <div class='content'>              <div class="bgbox"><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mb4.webp)" class="pimgbox" onclick="changeBg('url(https\://source.fomal.cc/img/mb4.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mb5.webp)" class="pimgbox" onclick="changeBg('url(https\://source.fomal.cc/img/mb5.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mb6.webp)" class="pimgbox" onclick="changeBg('url(https\://source.fomal.cc/img/mb6.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mb7.webp)" class="pimgbox" onclick="changeBg('url(https\://source.fomal.cc/img/mb7.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mb8.webp)" class="pimgbox" onclick="changeBg('url(https\://source.fomal.cc/img/mb8.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mb9.webp)" class="pimgbox" onclick="changeBg('url(https\://source.fomal.cc/img/mb9.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mb16.webp)" class="pimgbox" onclick="changeBg('url(https\://source.fomal.cc/img/mb16.webp)')"></a><a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://source.fomal.cc/img/mb19.webp)" class="pimgbox" onclick="changeBg('url(https\://source.fomal.cc/img/mb19.webp)')"></a></div>              </div>            </details><h3>7.自定义背景</h3><details class="folding-tag" blue><summary> 设置自定义背景 </summary>              <div class='content'>              <p><center><input type="text" id="pic-link" size="70%" maxlength="1000" style="padding: 5px 5px 5px 5px;border-radius:6px;line-height:2;" placeholder="请输入有效的图片链接，如 https://source.fomal.cc/img/home_bg.webp"></center></p><p><center><button type="button" onclick="getPicture()" style="background:var(--theme-color);width:20%;padding: 5px 0px 5px 0px;border-radius:6px;color:white;line-height:2.5;">🌈切换链接背景</button></center></p>              </div>            </details><br></div></div>`;  // 打开小窗时候初始化  $("#" + localStorage.getItem("themeColor")).attr("checked", true);  if (localStorage.getItem("blur") == 1) {    document.getElementById("blur").checked = true;  } else {    document.getElementById("blur").checked = false;  }  if (localStorage.getItem("universe") == "block") {    document.getElementById("universeSet").checked = true;  } else if (localStorage.getItem("universe") == "none") {    document.getElementById("universeSet").checked = false;  }  if (localStorage.getItem("fpson") == "1") {    document.getElementById("fpson").checked = true;  } else {    document.getElementById("fpson").checked = false;  }  if (localStorage.getItem("rs") == "block") {    document.getElementById("rightSideSet").checked = true;  } else if (localStorage.getItem("rs") == "none") {    document.getElementById("rightSideSet").checked = false;  }}// 恢复默认背景function resetBg() {  localStorage.removeItem('blogbg');  location.reload();}// 恢复默认设置并刷新页面function reset() {  localStorage.clear()  window.location.reload()}// 适应窗口大小function winResize() {  var offsetWid = document.documentElement.clientWidth;  if (offsetWid <= 768) {    winbox.resize(offsetWid * 0.95 + "px", "90%").move("center", "center");  } else {    winbox.resize(offsetWid * 0.6 + "px", "70%").move("center", "center");  }}// 切换状态，窗口已创建则控制窗口显示和隐藏，没窗口则创建窗口function toggleWinbox() {  if (document.querySelector("#meihuaBox")) {    winbox.toggleClass("hide");  } else {    createWinbox()  };}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/sweetalert.js"/>
      <url>/static/js/sweetalert.js</url>
      
        <content type="html"><![CDATA[!function (w, C, S) { "use strict"; !function o(a, r, s) { function l(n, e) { if (!r[n]) { if (!a[n]) { var t = "function" == typeof require && require; if (!e && t) return t(n, !0); if (i) return i(n, !0); e = new Error("Cannot find module '" + n + "'"); throw e.code = "MODULE_NOT_FOUND", e } t = r[n] = { exports: {} }; a[n][0].call(t.exports, function (e) { var t = a[n][1][e]; return l(t || e) }, t, t.exports, o, a, r, s) } return r[n].exports } for (var i = "function" == typeof require && require, e = 0; e < s.length; e++)l(s[e]); return l }({ 1: [function (e, t, n) { function o(e) { return e && e.__esModule ? e : { default: e } } Object.defineProperty(n, "__esModule", { value: !0 }); var c, d, a, f, p = e("./modules/handle-dom"), m = e("./modules/utils"), y = e("./modules/handle-swal-dom"), v = e("./modules/handle-click"), h = o(e("./modules/handle-key")), b = o(e("./modules/default-params")), g = o(e("./modules/set-params")); n.default = a = f = function () { var t = arguments[0]; function e(e) { return (t[e] === S ? b.default : t)[e] } if (p.addClass(C.body, "stop-scrolling"), y.resetInput(), t === S) return m.logStr("SweetAlert expects at least 1 attribute!"), !1; var n = m.extend({}, b.default); switch (typeof t) { case "string": n.title = t, n.text = arguments[1] || "", n.type = arguments[2] || ""; break; case "object": if (t.title === S) return m.logStr('Missing "title" argument!'), !1; for (var o in n.title = t.title, b.default) n[o] = e(o); n.confirmButtonText = n.showCancelButton ? "Confirm" : b.default.confirmButtonText, n.confirmButtonText = e("confirmButtonText"), n.doneFunction = arguments[1] || null; break; default: return m.logStr('Unexpected type of argument! Expected "string" or "object", got ' + typeof t), !1 }g.default(n), y.fixVerticalPosition(), y.openModal(arguments[1]); for (var a = y.getModal(), r = a.querySelectorAll("button"), s = ["onclick", "onmouseover", "onmouseout", "onmousedown", "onmouseup", "onfocus"], l = function (e) { return v.handleButton(e, n, a) }, i = 0; i < r.length; i++)for (var u = 0; u < s.length; u++)r[i][s[u]] = l; y.getOverlay().onclick = l, c = w.onkeydown; w.onkeydown = function (e) { return h.default(e, n, a) }, w.onfocus = function () { setTimeout(function () { d !== S && (d.focus(), d = S) }, 0) }, f.enableButtons() }, a.setDefaults = f.setDefaults = function (e) { if (!e) throw new Error("userParams is required"); if ("object" != typeof e) throw new Error("userParams has to be a object"); m.extend(b.default, e) }, a.close = f.close = function () { var t = y.getModal(), e = (p.fadeOut(y.getOverlay(), 5), p.fadeOut(t, 5), p.removeClass(t, "showSweetAlert"), p.addClass(t, "hideSweetAlert"), p.removeClass(t, "visible"), t.querySelector(".sa-icon.sa-success")), e = (p.removeClass(e, "animate"), p.removeClass(e.querySelector(".sa-tip"), "animateSuccessTip"), p.removeClass(e.querySelector(".sa-long"), "animateSuccessLong"), t.querySelector(".sa-icon.sa-error")), e = (p.removeClass(e, "animateErrorIcon"), p.removeClass(e.querySelector(".sa-x-mark"), "animateXMark"), t.querySelector(".sa-icon.sa-warning")); return p.removeClass(e, "pulseWarning"), p.removeClass(e.querySelector(".sa-body"), "pulseWarningIns"), p.removeClass(e.querySelector(".sa-dot"), "pulseWarningIns"), setTimeout(function () { var e = t.getAttribute("data-custom-class"); p.removeClass(t, e) }, 300), p.removeClass(C.body, "stop-scrolling"), w.onkeydown = c, w.previousActiveElement && w.previousActiveElement.focus(), d = S, clearTimeout(t.timeout), !0 }, a.showInputError = f.showInputError = function (e) { var t = y.getModal(), n = t.querySelector(".sa-input-error"), n = (p.addClass(n, "show"), t.querySelector(".sa-error-container")); p.addClass(n, "show"), n.querySelector("p").innerHTML = e, setTimeout(function () { a.enableButtons() }, 1), t.querySelector("input").focus() }, a.resetInputError = f.resetInputError = function (e) { if (e && 13 === e.keyCode) return !1; var e = y.getModal(), t = e.querySelector(".sa-input-error"), t = (p.removeClass(t, "show"), e.querySelector(".sa-error-container")); p.removeClass(t, "show") }, a.disableButtons = f.disableButtons = function (e) { var t = y.getModal(), n = t.querySelector("button.confirm"), t = t.querySelector("button.cancel"); n.disabled = !0, t.disabled = !0 }, a.enableButtons = f.enableButtons = function (e) { var t = y.getModal(), n = t.querySelector("button.confirm"), t = t.querySelector("button.cancel"); n.disabled = !1, t.disabled = !1 }, void 0 !== w ? w.sweetAlert = w.swal = a : m.logStr("SweetAlert is a frontend module!"), t.exports = n.default }, { "./modules/default-params": 2, "./modules/handle-click": 3, "./modules/handle-dom": 4, "./modules/handle-key": 5, "./modules/handle-swal-dom": 6, "./modules/set-params": 8, "./modules/utils": 9 }], 2: [function (e, t, n) { Object.defineProperty(n, "__esModule", { value: !0 }); n.default = { title: "", text: "", type: null, allowOutsideClick: !1, showConfirmButton: !0, showCancelButton: !1, closeOnConfirm: !0, closeOnCancel: !0, confirmButtonText: "好的我知道啦!🤣", confirmButtonColor: "#8CD4F5", cancelButtonText: "Cancel", imageUrl: null, imageSize: null, timer: null, customClass: "", html: !1, animation: !0, allowEscapeKey: !0, inputType: "text", inputPlaceholder: "", inputValue: "", showLoaderOnConfirm: !1 }, t.exports = n.default }, {}], 3: [function (e, t, n) { Object.defineProperty(n, "__esModule", { value: !0 }); function m(e, t) { var n = !0; h.hasClass(e, "show-input") && (n = (n = e.querySelector("input").value) || ""), t.doneFunction(n), t.closeOnConfirm && sweetAlert.close(), t.showLoaderOnConfirm && sweetAlert.disableButtons() } function y(e, t) { var n = String(t.doneFunction).replace(/\s/g, ""); "function(" === n.substring(0, 9) && ")" !== n.substring(9, 10) && t.doneFunction(!1), t.closeOnCancel && sweetAlert.close() } var v = e("./utils"), h = (e("./handle-swal-dom"), e("./handle-dom")); n.default = { handleButton: function (e, t, n) { var o, a, r, e = e || w.event, s = e.target || e.srcElement, l = -1 !== s.className.indexOf("confirm"), i = -1 !== s.className.indexOf("sweet-overlay"), u = h.hasClass(n, "visible"), c = t.doneFunction && "true" === n.getAttribute("data-has-done-function"); function d(e) { l && t.confirmButtonColor && (s.style.backgroundColor = e) } switch (l && t.confirmButtonColor && (o = t.confirmButtonColor, a = v.colorLuminance(o, -.04), r = v.colorLuminance(o, -.14)), e.type) { case "mouseover": d(a); break; case "mouseout": d(o); break; case "mousedown": d(r); break; case "mouseup": d(a); break; case "focus": var f = n.querySelector("button.confirm"), p = n.querySelector("button.cancel"); l ? p.style.boxShadow = "none" : f.style.boxShadow = "none"; break; case "click": p = n === s, f = h.isDescendant(n, s); if (!p && !f && u && !t.allowOutsideClick) break; l && c && u ? m(n, t) : c && u || i ? y(0, t) : h.isDescendant(n, s) && "BUTTON" === s.tagName && sweetAlert.close() } }, handleConfirm: m, handleCancel: y }, t.exports = n.default }, { "./handle-dom": 4, "./handle-swal-dom": 6, "./utils": 9 }], 4: [function (e, t, n) { Object.defineProperty(n, "__esModule", { value: !0 }); function o(e, t) { return new RegExp(" " + t + " ").test(" " + e.className + " ") } function a(e) { e.style.opacity = "", e.style.display = "block" } function r(e) { e.style.opacity = "", e.style.display = "none" } n.hasClass = o, n.addClass = function (e, t) { o(e, t) || (e.className += " " + t) }, n.removeClass = function (e, t) { var n = " " + e.className.replace(/[\t\r\n]/g, " ") + " "; if (o(e, t)) { for (; 0 <= n.indexOf(" " + t + " ");)n = n.replace(" " + t + " ", " "); e.className = n.replace(/^\s+|\s+$/g, "") } }, n.escapeHtml = function (e) { var t = C.createElement("div"); return t.appendChild(C.createTextNode(e)), t.innerHTML }, n._show = a, n.show = function (e) { if (e && !e.length) return a(e); for (var t = 0; t < e.length; ++t)a(e[t]) }, n._hide = r, n.hide = function (e) { if (e && !e.length) return r(e); for (var t = 0; t < e.length; ++t)r(e[t]) }, n.isDescendant = function (e, t) { for (var n = t.parentNode; null !== n;) { if (n === e) return !0; n = n.parentNode } return !1 }, n.getTopMargin = function (e) { e.style.left = "-9999px", e.style.display = "block"; var t = e.clientHeight, n = "undefined" != typeof getComputedStyle ? parseInt(getComputedStyle(e).getPropertyValue("padding-top"), 10) : parseInt(e.currentStyle.padding); return e.style.left = "", e.style.display = "none", "-" + parseInt((t + n) / 2) + "px" }, n.fadeIn = function (e, t) { var n, o, a; function r() { return a.apply(this, arguments) } +e.style.opacity < 1 && (t = t || 16, e.style.opacity = 0, e.style.display = "block", n = +new Date, a = function () { e.style.opacity = +e.style.opacity + (new Date - n) / 100, n = +new Date, +e.style.opacity < 1 && setTimeout(o, t) }, r.toString = function () { return a.toString() }, (o = r)()), e.style.display = "block" }, n.fadeOut = function (e, t) { t = t || 16, e.style.opacity = 1; var n, o = +new Date, a = (n = function () { e.style.opacity = +e.style.opacity - (new Date - o) / 100, o = +new Date, 0 < +e.style.opacity ? setTimeout(a, t) : e.style.display = "none" }, r.toString = function () { return n.toString() }, r); function r() { return n.apply(this, arguments) } a() }, n.fireClick = function (e) { var t; "function" == typeof MouseEvent ? (t = new MouseEvent("click", { view: w, bubbles: !1, cancelable: !0 }), e.dispatchEvent(t)) : C.createEvent ? ((t = C.createEvent("MouseEvents")).initEvent("click", !1, !1), e.dispatchEvent(t)) : C.createEventObject ? e.fireEvent("onclick") : "function" == typeof e.onclick && e.onclick() }, n.stopEventPropagation = function (e) { "function" == typeof e.stopPropagation ? (e.stopPropagation(), e.preventDefault()) : w.event && w.event.hasOwnProperty("cancelBubble") && (w.event.cancelBubble = !0) } }, {}], 5: [function (e, t, n) { Object.defineProperty(n, "__esModule", { value: !0 }); var c = e("./handle-dom"), d = e("./handle-swal-dom"); n.default = function (e, t, n) { var e = e || w.event, o = e.keyCode || e.which, a = n.querySelector("button.confirm"), r = n.querySelector("button.cancel"), s = n.querySelectorAll("button[tabindex]"); if (-1 !== [9, 13, 32, 27].indexOf(o)) { for (var l = e.target || e.srcElement, i = -1, u = 0; u < s.length; u++)if (l === s[u]) { i = u; break } 9 === o ? (l = -1 === i ? a : i === s.length - 1 ? s[0] : s[i + 1], c.stopEventPropagation(e), l.focus(), t.confirmButtonColor && d.setFocusStyle(l, t.confirmButtonColor)) : 13 === o ? "INPUT" === l.tagName && (l = a).focus() : 27 === o && !0 === t.allowEscapeKey && c.fireClick(l = r, e) } }, t.exports = n.default }, { "./handle-dom": 4, "./handle-swal-dom": 6 }], 6: [function (e, t, n) { function o(e) { return e && e.__esModule ? e : { default: e } } function a() { var e = C.createElement("div"); for (e.innerHTML = u.default; e.firstChild;)C.body.appendChild(e.firstChild) } Object.defineProperty(n, "__esModule", { value: !0 }); var r, s = e("./utils"), l = e("./handle-dom"), i = o(e("./default-params")), u = o(e("./injected-html")), c = (r = function () { var e = C.querySelector(".sweet-alert"); return e || (a(), e = c()), e }, d.toString = function () { return r.toString() }, d); function d() { return r.apply(this, arguments) } function f() { var e = c(); if (e) return e.querySelector("input") } function p() { return C.querySelector(".sweet-overlay") } function m(e) { if (e && 13 === e.keyCode) return !1; var t = (e = c()).querySelector(".sa-input-error"), t = (l.removeClass(t, "show"), e.querySelector(".sa-error-container")); l.removeClass(t, "show") } n.sweetAlertInitialize = a, n.getModal = c, n.getOverlay = p, n.getInput = f, n.setFocusStyle = function (e, t) { t = s.hexToRgb(t); e.style.boxShadow = "0 0 2px rgba(" + t + ", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)" }, n.openModal = function (e) { var t = c(); l.fadeIn(p(), 10), l.show(t), l.addClass(t, "showSweetAlert"), l.removeClass(t, "hideSweetAlert"), w.previousActiveElement = C.activeElement; t.querySelector("button.confirm").focus(), setTimeout(function () { l.addClass(t, "visible") }, 500); var n, o = t.getAttribute("data-timer"); "null" !== o && "" !== o && (n = e, t.timeout = setTimeout(function () { (n ? "true" === t.getAttribute("data-has-done-function") : null) ? n(null) : sweetAlert.close() }, o)) }, n.resetInput = function () { var e = c(), t = f(); l.removeClass(e, "show-input"), t.value = i.default.inputValue, t.setAttribute("type", i.default.inputType), t.setAttribute("placeholder", i.default.inputPlaceholder), m() }, n.resetInputError = m, n.fixVerticalPosition = function () { c().style.marginTop = l.getTopMargin(c()) } }, { "./default-params": 2, "./handle-dom": 4, "./injected-html": 7, "./utils": 9 }], 7: [function (e, t, n) { Object.defineProperty(n, "__esModule", { value: !0 }); n.default = '<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>', t.exports = n.default }, {}], 8: [function (e, t, n) { Object.defineProperty(n, "__esModule", { value: !0 }); var u = e("./utils"), c = e("./handle-swal-dom"), d = e("./handle-dom"), f = ["error", "warning", "info", "success", "input", "prompt"]; n.default = function (a) { var e, t, r = c.getModal(), n = r.querySelector("h2"), o = r.querySelector("p"), s = r.querySelector("button.cancel"), l = r.querySelector("button.confirm"); if (n.innerHTML = a.html ? a.title : d.escapeHtml(a.title).split("\n").join("<br>"), o.innerHTML = a.html ? a.text : d.escapeHtml(a.text || "").split("\n").join("<br>"), a.text && d.show(o), a.customClass ? (d.addClass(r, a.customClass), r.setAttribute("data-custom-class", a.customClass)) : (n = r.getAttribute("data-custom-class"), d.removeClass(r, n), r.setAttribute("data-custom-class", "")), d.hide(r.querySelectorAll(".sa-icon")), a.type && !u.isIE8()) { var o = function () { for (var e = !1, t = 0; t < f.length; t++)if (a.type === f[t]) { e = !0; break } if (!e) return logStr("Unknown alert type: " + a.type), { v: !1 }; var n = S, o = (-1 !== ["success", "error", "warning", "info"].indexOf(a.type) && (n = r.querySelector(".sa-icon.sa-" + a.type), d.show(n)), c.getInput()); switch (a.type) { case "success": d.addClass(n, "animate"), d.addClass(n.querySelector(".sa-tip"), "animateSuccessTip"), d.addClass(n.querySelector(".sa-long"), "animateSuccessLong"); break; case "error": d.addClass(n, "animateErrorIcon"), d.addClass(n.querySelector(".sa-x-mark"), "animateXMark"); break; case "warning": d.addClass(n, "pulseWarning"), d.addClass(n.querySelector(".sa-body"), "pulseWarningIns"), d.addClass(n.querySelector(".sa-dot"), "pulseWarningIns"); break; case "input": case "prompt": o.setAttribute("type", a.inputType), o.value = a.inputValue, o.setAttribute("placeholder", a.inputPlaceholder), d.addClass(r, "show-input"), setTimeout(function () { o.focus(), o.addEventListener("keyup", swal.resetInputError) }, 400) } }(); if ("object" == typeof o) return o.v } a.imageUrl && ((n = r.querySelector(".sa-icon.sa-custom")).style.backgroundImage = "url(" + a.imageUrl + ")", d.show(n), e = o = 80, a.imageSize && (i = (t = a.imageSize.toString().split("x"))[0], t = t[1], i && t ? (o = i, e = t) : logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got " + a.imageSize)), n.setAttribute("style", n.getAttribute("style") + "width:" + o + "px; height:" + e + "px")), r.setAttribute("data-has-cancel-button", a.showCancelButton), a.showCancelButton ? s.style.display = "inline-block" : d.hide(s), r.setAttribute("data-has-confirm-button", a.showConfirmButton), a.showConfirmButton ? l.style.display = "inline-block" : d.hide(l), a.cancelButtonText && (s.innerHTML = d.escapeHtml(a.cancelButtonText)), a.confirmButtonText && (l.innerHTML = d.escapeHtml(a.confirmButtonText)), a.confirmButtonColor && (l.style.backgroundColor = a.confirmButtonColor, l.style.borderLeftColor = a.confirmLoadingButtonColor, l.style.borderRightColor = a.confirmLoadingButtonColor, c.setFocusStyle(l, a.confirmButtonColor)), r.setAttribute("data-allow-outside-click", a.allowOutsideClick); var i = !!a.doneFunction; r.setAttribute("data-has-done-function", i), a.animation ? "string" == typeof a.animation ? r.setAttribute("data-animation", a.animation) : r.setAttribute("data-animation", "pop") : r.setAttribute("data-animation", "none"), r.setAttribute("data-timer", a.timer) }, t.exports = n.default }, { "./handle-dom": 4, "./handle-swal-dom": 6, "./utils": 9 }], 9: [function (e, t, n) { Object.defineProperty(n, "__esModule", { value: !0 }); n.extend = function (e, t) { for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]); return e }, n.hexToRgb = function (e) { e = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e); return e ? parseInt(e[1], 16) + ", " + parseInt(e[2], 16) + ", " + parseInt(e[3], 16) : null }, n.isIE8 = function () { return w.attachEvent && !w.addEventListener }, n.logStr = function (e) { w.console && w.console.log("SweetAlert: " + e) }, n.colorLuminance = function (e, t) { (e = String(e).replace(/[^0-9a-f]/gi, "")).length < 6 && (e = e[0] + e[0] + e[1] + e[1] + e[2] + e[2]), t = t || 0; for (var n, o = "#", a = 0; a < 3; a++)n = parseInt(e.substr(2 * a, 2), 16), o += ("00" + (n = Math.round(Math.min(Math.max(0, n + n * t), 255)).toString(16))).substr(n.length); return o } }, {}] }, {}, [1]), "function" == typeof define && define.amd ? define(function () { return sweetAlert }) : "undefined" != typeof module && module.exports && (module.exports = sweetAlert) }(window, document);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/css/custom.css"/>
      <url>/static/css/custom.css</url>
      
        <content type="html"><![CDATA[/* 全局颜色 */:root {  --hl-bg: #282c34;  --loading-color: rgba(207, 246, 247, 0.92);  --border-color: #c9c9c9;  --color-red: rgb(241, 71, 71);  --color-orange: rgb(241, 162, 71);  --color-yellow: rgb(241, 238, 71);  --color-purple: rgb(179, 71, 241);  --color-blue: #6cf;  --color-gray: #e2e2e2;  --color-green: #39c5bb;  --color-whitegray: #f1f1f1;  --color-pink: #ed709b;  --color-black: black;  --color-darkblue: #61649f;  --color-heoblue: #425aef;  --btn-bg: var(--theme-color);  --scrollbar-color: var(--theme-color);  /* 菜单栏悬浮颜色 */  --text-bg-hover: rgba(73, 205, 245, 0.7);}/* #article-container pre,#article-container code {  font-family: Consolas;} *//* 滚动条样式 */::-webkit-scrollbar {  width: 8px;  height: 8px;}::-webkit-scrollbar-track {  background-color: rgba(73, 177, 245, 0.2);  border-radius: 2em;}::-webkit-scrollbar-thumb {  background-color: var(--theme-color);  background-image: -webkit-linear-gradient(    45deg,    rgba(255, 255, 255, 0.4) 25%,    transparent 25%,    transparent 50%,    rgba(255, 255, 255, 0.4) 50%,    rgba(255, 255, 255, 0.4) 75%,    transparent 75%,    transparent  );  border-radius: 2em;}::-webkit-scrollbar-corner {  background-color: transparent;}::-moz-selection {  color: #fff;  background-color: var(--theme-color);}/* 字体引入 */@font-face {  font-family: YSHST;  src: url(https://source.fomal.cc/fonts/优设好身体.woff2);  font-display: swap;}@font-face {  font-family: MiSans;  src: url(https://source.fomal.cc/fonts/MiSans.woff2);  font-display: swap;}@font-face {  font-family: HYTMR;  src: url(https://source.fomal.cc/fonts/HYTangMeiRen55W.woff2);  font-display: swap;}@font-face {  font-family: LXGW;  src: url(https://source.fomal.cc/fonts/霞鹜文楷.woff2);  font-display: swap;}@font-face {  font-family: TTQHB;  src: url(https://source.fomal.cc/fonts/甜甜圈海报字体.woff2);  font-display: swap;}@font-face {  font-family: Consolas_1;  src: url(https://source.fomal.cc/fonts/Consolas.woff2);  font-display: swap;}@font-face {  font-family: ZhuZiAWan_light;  /* UNPKG源 https://unpkg.com/fomalhaut1998_picgodemo@latest/fonts/ZhuZiAWan_light.woff2 */  /* UNPKG源 https://unpkg.com/fomalhaut1998_picgodemo/fonts/筑紫A丸by宁静之雨.woff2 */  /* 4EVERLAND源 https://font.fomal.cc/fonts/筑紫A丸by宁静之雨.woff2 */  /* Vercel源 https://source.fomal.cc/fonts/筑紫A丸by宁静之雨.woff2 */  /* https://source.fomal.cc/fonts/ZhuZiAWan2.woff2 */  /* 网盾星球:https://cdn.netdun.net/x/cdn/ZhuZiAWan2.woff2 */  src: url(https://source.fomal.cc/fonts/ZhuZiAWan2.woff2);  font-display: swap;}/* 代码斜体显示 *//* .code {  font-style: italic;} *//* 特定部件字体调用 */div#menus {  /* font-family: var(--global-font); */  font-weight: bold !important;}h1#site-title {  /* font-family: var(--global-font); */  font-size: 3em !important;  font-weight: bold !important;}a.article-title,a.blog-slider__title,a.categoryBar-list-link,h1.post-title {  /* font-family: var(--global-font); */  font-weight: bold !important;}.iconfont {  font-family: "iconfont" !important;  font-size: 3em;  /* 可以定义图标大小 */  font-style: normal;  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.icon-zhongbiao::before {  color: #f7c768;}/* 解决artitalk的图标问题 */#uploadSource > svg {  width: 1.19em;  height: 1.5em;}/* 滚动显示的标题居中 */center#name-container {  position: absolute !important;  width: fit-content !important;  left: 42% !important;  /* transform: translateX(-50%) !important; */  /* transform: translateY(-100%) !important; */}@media screen and (max-width: 768px) {  center#name-container {    display: none;  }}/* 去掉蓝色条 *//* #nav *::after{    background-color: transparent!important;} *//* 一级菜单居中 */#nav .menus_items {  /* 这个带不带都可以，本来就是inline */  /* display: inline;  */  position: absolute !important;  width: fit-content !important;  left: 50% !important;  transform: translateX(-50%) !important;}/* 子菜单横向展示 */#nav .menus_items .menus_item:hover .menus_item_child {  display: flex !important;}/* 这里的2是代表导航栏的第二个元素，即有子菜单的元素，可以按自己需求修改 */.menus_items .menus_item:nth-child(2) .menus_item_child {  left: -125px;}.menus_items .menus_item:nth-child(3) .menus_item_child {  left: -85px;}.menus_items .menus_item:nth-child(4) .menus_item_child {  left: -85px;}.menus_items .menus_item:nth-child(5) .menus_item_child {  left: -100px;}.menus_items .menus_item:nth-child(6) .menus_item_child {  left: -115px;}.menus_items .menus_item:nth-child(7) .menus_item_child {  left: -88px;}/*top-img黑色透明玻璃效果移除，不建议加，除非你执着于完全一图流或者背景图对比色明显 *//* #page-header:not(.not-top-img):before {  background-color: transparent !important;} *//* 分类卡片圆角 */li.categoryBar-list-item {  border-radius: 20px !important;}/* 置顶滚动圆角 */.blog-slider__img img {  border-radius: 20px !important;}/* 首页文章卡片 */#recent-posts > .recent-post-item {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);  border-radius: 25px;}/* 首页侧栏卡片 */#aside-content .card-widget {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);  border-radius: 18px;  transition: 0.3s;}/* 文章页面正文背景 */div#post {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);}/* 分页页面 */div#page {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);}/* 归档页面 */div#archive {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);}/* 标签页面 */div#tag {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);}/* 分类页面 */div#category {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);}/* 导航栏亚克力效果 */#page-header.nav-fixed #nav {  background: rgba(255, 255, 255, 0.75);  backdrop-filter: var(--backdrop-filter);}[data-theme="dark"] #page-header.nav-fixed #nav {  background: rgba(0, 0, 0, 0.7) !important;}/* 夜间模式遮罩 */[data-theme="dark"] #recent-posts > .recent-post-item {  background: var(--trans-dark);}[data-theme="dark"] #aside-content .card-widget {  background: var(--trans-dark);}[data-theme="dark"] #aside-content > .card-widget.card-info {  background: var(--trans-dark);}[data-theme="dark"] div#post {  background: var(--trans-dark);}[data-theme="dark"] div#tag {  background: var(--trans-dark);}[data-theme="dark"] div#archive {  background: var(--trans-dark);}[data-theme="dark"] div#page {  background: var(--trans-dark);}[data-theme="dark"] div#category {  background: var(--trans-dark);}/* 夜间模式页脚页头遮罩透明 */[data-theme="dark"] #footer::before {  background: transparent !important;}[data-theme="dark"] #page-header::before {  background: transparent !important;}/* 阅读模式 */.read-mode #aside-content .card-widget {  background: rgba(158, 204, 171, 0.5) !important;}.read-mode div#post {  background: rgba(158, 204, 171, 0.5) !important;}/* 夜间模式下的阅读模式 */[data-theme="dark"] .read-mode #aside-content .card-widget {  background: rgba(25, 25, 25, 0.9) !important;  color: #ffffff;}[data-theme="dark"] .read-mode div#post {  background: rgba(25, 25, 25, 0.9) !important;  color: #ffffff;}/* 页脚透明 */#footer {  background: transparent !important;}/* 头图透明 */#page-header {  background: transparent !important;}/* 评论框  */.vwrap {  box-shadow: 2px 2px 5px #bbb;  background: rgba(255, 255, 255, 0.3);  border-radius: 8px;  padding: 30px;  margin: 30px 0px 30px 0px;}/* 设置评论框 */.vcard {  box-shadow: 2px 2px 5px #bbb;  background: rgba(255, 255, 255, 0.3);  border-radius: 8px;  padding: 30px;  margin: 30px 0px 0px 0px;}/* md网站下划线 */#article-container a:hover {  text-decoration: none !important;}#article-container #hpp_talk p img {  display: inline;}/* 代码框主题 */#article-container figure.highlight {  border-radius: 10px;}/* 全局默认鼠标 */body,html {  cursor: pointer, auto !important;}/* 悬停图片时的鼠标指针 */img {  cursor: pointer, auto !important;}/* 选择链接标签时的鼠标指针 */a:hover {  cursor: pointer, auto;}/* 选中输入框时的鼠标指针 */input:hover {  cursor: pointer, auto;}/* 悬停按钮时的鼠标指针 */button:hover {  cursor: pointer, auto;}/* 悬停列表标签时的鼠标指针 */i:hover {  cursor: pointer, auto;}/* 悬停页脚链接标签（例如页脚徽标）时的鼠标指针 */#footer-wrap a:hover {  cursor: pointer, auto;}/* 悬停页码时的鼠标指针 */#pagination .page-number:hover {  cursor: pointer, auto;}/* 悬停菜单栏时的鼠标指针 */#nav .site-page:hover {  cursor: pointer, auto;}/* 代码复制栏鼠标 */#article-container .highlight-tools .copy-button {  cursor: pointer, auto;}/* 鼠标样式 */#cursor {  position: fixed;  width: 16px;  height: 16px;  /*  */  background: var(--theme-color);  border-radius: 8px;  opacity: 0.25;  z-index: 10086;  pointer-events: none;  transition: 0.2s ease-in-out;  transition-property: background, opacity, transform;}#cursor.hidden {  opacity: 0;}#cursor.hover {  opacity: 0.1;  transform: scale(2.5);  -webkit-transform: scale(2.5);  -moz-transform: scale(2.5);  -ms-transform: scale(2.5);  -o-transform: scale(2.5);}#cursor.active {  opacity: 0.5;  transform: scale(0.5);  -webkit-transform: scale(0.5);  -moz-transform: scale(0.5);  -ms-transform: scale(0.5);  -o-transform: scale(0.5);}/* 避免图标冲突 */svg.icon {  /* 这里定义svg.icon，避免和Butterfly自带的note标签冲突 */  width: 1.18em;  height: 1.18em;  /* width和height定义图标的默认宽度和高度*/  vertical-align: -0.15em;  fill: currentColor;  overflow: hidden;}/* twikoo评论美化 *//* 自定义twikoo评论输入框高度 */#twikoo .el-textarea textarea {  min-height: 120px !important;  background-size: 90px;}/* 自定义表情优化 */#twikoo .OwO-body {  max-width: 100% !important;}#twikoo .OwO .OwO-body .OwO-items:nth-child(3),#twikoo .OwO .OwO-body .OwO-items:nth-child(4) {  max-height: 270px !important;}.OwO .OwO-body .OwO-items-image .OwO-item {  max-width: calc(12% - 8px);}#twikoo .OwO-items li[title|="Menhera"] img,#twikoo .OwO-items li[title|="Snow"] img {  width: 100% !important;}.tk-comment .vemoji[alt|="Menhera"],.tk-comment .tk-owo-emotion[alt*="Menhera"],.tk-comment .vemoji[alt|="Snow"],.tk-comment .tk-owo-emotion[alt*="Snow"] {  max-width: 150px !important;  max-height: 150px !important;  width: 150px;  margin: 8px 1px;  display: block !important;}@media screen and (max-width: 768px) {  .tk-comment .vemoji[alt|="Menhera"],  .tk-comment .tk-owo-emotion[alt*="Menhera"],  .tk-comment .vemoji[alt|="Snow"],  .tk-comment .tk-owo-emotion[alt*="Snow"] {    max-width: calc(100% - 30px) !important;    max-height: calc(100% - 30px) !important;  }  .OwO .OwO-body .OwO-items-image .OwO-item[title*="Menhera"],  .OwO .OwO-body .OwO-items-image .OwO-item[title*="Snow"] {    max-width: calc(50% - 10px);    box-sizing: border-box;  }}/* 输入评论时自动隐藏输入框背景图片 *//* 纸飞机链接:https://npm.elemecdn.com/akilar-candyassets/image/zhifeiji.gif *//* .tk-input[data-v-619b4c52] .el-textarea__inner:focus {  background-image: none !important;} */.el-textarea__inner {  background-image: url(/assets/open.webp) !important;}.el-textarea__inner:focus {  background-image: url(/assets/close.webp) !important;}/* 调整楼中楼样式 ，整体左移，贴合气泡化效果 */.tk-replies {  left: -70px;  width: calc(100% + 70px);}/* 头像宽度调整 rem单位与全局字体大小挂钩，需配合自己情况调整大小以保证头像显示完整*/.tk-replies .tk-avatar {  width: 2.5rem !important;  height: 2.5rem !important;}.tk-replies .tk-avatar img {  width: 2.5rem !important;  height: 2.5rem !important;}/* 回复框左移，避免窄屏时出框 */.tk-comments-container .tk-submit {  position: relative;  left: -70px;}/* 评论块气泡化修改 */.tk-content {  /* linear-gradient(to bottom, #2193b0, #6dd5ed); */  background: linear-gradient(    to top,    #4568dc,    #b06ab3  ); /*默认模式访客气泡配色*/  padding: 10px;  color: #fff; /*默认模式访客气泡字体配色*/  border-radius: 10px;  font-size: 16px !important;  width: fit-content;  max-width: 100%;  position: relative !important;  overflow: visible !important;  max-height: none !important;}/* 修复图片出框 */.tk-content img {  max-width: 100% !important;}/* 修复过长文本出框 */.tk-content pre {  white-space: pre-wrap;  word-wrap: break-word;}.tk-content a {  color: #eeecaa; /*默认模式超链接配色*/}.tk-content::before {  content: "";  width: 0;  height: 0;  position: absolute;  top: 20px;  left: -13px;  border-top: 2px solid transparent;  border-bottom: 20px solid transparent;  border-right: 15px solid transparent; /*默认模式访客气泡小三角配色*/  border-left: 0px solid transparent;}.tk-master .tk-content {  background: linear-gradient(    to top,    #43cea2,    #185a9d  ); /*默认模式博主气泡配色*/  color: #fff; /*默认模式博主气泡字体配色*/  width: fit-content;  max-width: 100%;}.tk-master .tk-content a {  color: #eeecaa;}.tk-master .tk-content::before {  content: "";  width: 0;  height: 0;  position: absolute;  top: 20px;  left: -13px;  border-top: 2px solid transparent;  border-bottom: 20px solid transparent;  border-right: 15px solid transparent; /*默认模式博主气泡小三角配色*/  border-left: 0px solid transparent;}.tk-row[data-v-d82ce9a0] {  max-width: 100%;  width: fit-content;}.tk-avatar {  border-radius: 50%;  margin-top: 10px;}/* 夜间模式配色，具体比照上方默认模式class */[data-theme="dark"] .tk-content {  background: #000;  color: #fff;}[data-theme="dark"] .tk-content a {  color: #dfa036;}[data-theme="dark"] .tk-content::before {  border-right: 15px solid #000;}[data-theme="dark"] .tk-master .tk-content {  background: #000;  color: #fff;}[data-theme="dark"] .tk-master .tk-content a {  color: #dfa036;}[data-theme="dark"] .tk-master .tk-content::before {  border-top: 2px solid transparent;  border-bottom: 20px solid transparent;  border-right: 15px solid #000;  border-left: 0px solid transparent;}/* 自适应内容 */@media screen and (min-width: 1024px) {  /* 设置宽度上限，避免挤压博主头像 */  .tk-content {    max-width: 75%;    width: fit-content;  }  .tk-master .tk-content {    width: 75%;  }  .tk-master .tk-content::before {    left: 100%;    border-left: 15px solid transparent;    border-right: 0px solid transparent;  }  .tk-master .tk-avatar {    position: relative;    left: calc(75% + 70px);  }  .tk-master .tk-row[data-v-d82ce9a0] {    position: relative;    top: 0px;    left: calc(75% - 230px);  }  [data-theme="dark"] .tk-master .tk-content::before {    border-left: 15px solid #000;    border-right: 0px solid transparent;  }}/* 设备名称常态隐藏，悬停评论时显示 */.tk-extras {  opacity: 0;  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";  filter: alpha(opacity=0);}.tk-content:hover + .tk-extras {  -webkit-animation: tk-extras-fadeIn 0.5s linear;  -moz-animation: tk-extras-fadeIn 0.5s linear;  -o-animation: tk-extras-fadeIn 0.5s linear;  -ms-animation: tk-extras-fadeIn 0.5s linear;  animation: tk-extras-fadeIn 0.5s linear;  -webkit-animation-fill-mode: forwards;  -moz-animation-fill-mode: forwards;  -o-animation-fill-mode: forwards;  -ms-animation-fill-mode: forwards;  animation-fill-mode: forwards;}@-moz-keyframes tk-extras-fadeIn {  from {    opacity: 0;    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";    filter: alpha(opacity=0);  }  to {    opacity: 1;    -ms-filter: none;    filter: none;  }}@-webkit-keyframes tk-extras-fadeIn {  from {    opacity: 0;    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";    filter: alpha(opacity=0);  }  to {    opacity: 1;    -ms-filter: none;    filter: none;  }}@-o-keyframes tk-extras-fadeIn {  from {    opacity: 0;    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";    filter: alpha(opacity=0);  }  to {    opacity: 1;    -ms-filter: none;    filter: none;  }}@keyframes tk-extras-fadeIn {  from {    opacity: 0;    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";    filter: alpha(opacity=0);  }  to {    opacity: 1;    -ms-filter: none;    filter: none;  }}/* 文章页H1-H6图标样式效果 *//* 控制风车转动速度 */h1::before,h2::before,h3::before,h4::before,h5::before,h6::before {  -webkit-animation: ccc 4s linear infinite;  animation: ccc 4s linear infinite;}/* 控制风车转动方向 -1turn 为逆时针转动，1turn 为顺时针转动，相同数字部分记得统一修改 */@-webkit-keyframes ccc {  0% {    -webkit-transform: rotate(0deg);    transform: rotate(0deg);  }  to {    -webkit-transform: rotate(-1turn);    transform: rotate(-1turn);  }}@keyframes ccc {  0% {    -webkit-transform: rotate(0deg);    transform: rotate(0deg);  }  to {    -webkit-transform: rotate(-1turn);    transform: rotate(-1turn);  }}/* 设置风车颜色 */#content-inner.layout h1::before {  color: #ef50a8;  margin-left: -1.55rem;  font-size: 1.3rem;  margin-top: -0.23rem;}#content-inner.layout h2::before {  color: #fb7061;  margin-left: -1.35rem;  font-size: 1.1rem;  margin-top: -0.12rem;}#content-inner.layout h3::before {  color: #ffbf00;  margin-left: -1.22rem;  font-size: 0.95rem;  margin-top: -0.09rem;}#content-inner.layout h4::before {  color: #a9e000;  margin-left: -1.05rem;  font-size: 0.8rem;  margin-top: -0.09rem;}#content-inner.layout h5::before {  color: #57c850;  margin-left: -0.9rem;  font-size: 0.7rem;  margin-top: 0rem;}#content-inner.layout h6::before {  color: #5ec1e0;  margin-left: -0.9rem;  font-size: 0.66rem;  margin-top: 0rem;}/* s设置风车hover动效 */#content-inner.layout h1:hover,#content-inner.layout h2:hover,#content-inner.layout h3:hover,#content-inner.layout h4:hover,#content-inner.layout h5:hover,#content-inner.layout h6:hover {  color: var(--theme-color);}#content-inner.layout h1:hover::before,#content-inner.layout h2:hover::before,#content-inner.layout h3:hover::before,#content-inner.layout h4:hover::before,#content-inner.layout h5:hover::before,#content-inner.layout h6:hover::before {  color: var(--theme-color);  -webkit-animation: ccc 6s linear infinite;  animation: ccc 6s linear infinite;}/*哔哩哔哩视频适配*/.aspect-ratio {  position: relative;  width: 90%;  height: auto;  padding-bottom: 75%;  margin: 3% auto;  text-align: center;}.aspect-ratio iframe {  position: absolute;  width: 100%;  height: 86%;  left: 0;  top: 0;}/* 图片模糊渐变清晰 *//*10s为加载动画的时间，1为加载动画的次数，ease-in-out为动画效果*/#page-header,#web_bg {  -webkit-animation: imgblur 4s 1 ease-in-out;  animation: imgblur 4s 1 ease-in-out;}@keyframes imgblur {  0% {    filter: blur(5px);  }  100% {    filter: blur(0px);  }}/*适配使用-webkit内核的浏览器 */@-webkit-keyframes imgblur {  0% {    -webkit-filter: blur(5px);  }  100% {    -webkit-filter: blur(0px);  }}/* 全局宽度 参考:https://yisous.xyz/posts/d1fc759/ */.layout {  max-width: 1400px;}/* 侧边卡片栏宽度 */.aside-content {  max-width: 312px;  min-width: 300px;}/* 平板尺寸自适应(不启用侧边栏宽度限制) */@media screen and (max-width: 900px) {  .aside-content {    max-width: none !important;  }}/* 除了首页以外其他页面隐藏卡片，并采用宽屏显示 */#archive,#page,#category,#tag {  width: 100%;}.page:not(.page.home) .aside-content {  display: none;}/* 友链一行显示更多 */.site-card {  width: calc(100% / 5 - 16px) !important;}/* 适应宽度不同的设备 */@media screen and (max-width: 1000px) {  .site-card {    width: calc(100% / 3 - 16px) !important;  }}/* Gallery一行显示更多 */.gallery-group {  width: calc(33% - 8px) !important;}/* 适应宽度不同的设备 */@media screen and (max-width: 1000px) {  .gallery-group {    width: calc(50% - 8px) !important;  }}/* 标题增强 */#site-name::before {  opacity: 0;  background-color: var(--theme-color) !important;  border-radius: 8px;  -webkit-border-radius: 8px;  -moz-border-radius: 8px;  -ms-border-radius: 8px;  -o-border-radius: 8px;  transition: 0.3s;  -webkit-transition: 0.3s;  -moz-transition: 0.3s;  -ms-transition: 0.3s;  -o-transition: 0.3s;  position: absolute;  top: 0 !important;  right: 0 !important;  width: 100%;  height: 100%;  content: "\f015";  box-shadow: 0 0 5px var(--theme-color);  font-family: "Font Awesome 6 Free";  text-align: center;  color: white;  line-height: 34px; /*如果有溢出或者垂直不居中的现象微调一下这个参数*/  font-size: 18px; /*根据个人喜好*/}#site-name:hover::before {  opacity: 1;  scale: 1.03;}#site-name {  position: relative;  font-size: 24px; /*一定要把字体调大点，否则效果惨不忍睹！*/}/* 关于页面统计信息 */#statistic {  font-size: 18px;  padding: 20px;  border-radius: 12px;  width: 100%;  color: var(--font-color);  background-color: #eef7fa;}div#statistic .content {  display: flex;  flex-wrap: wrap;  justify-content: space-between;}div#statistic a {  text-decoration: none;}#statistic .content div {  display: inline-block;}#statistic div span {  font-size: 14px;  line-height: 1.3;  display: block;}#statistic div .num {  letter-spacing: 1px;  font-weight: bold;  font-size: 2rem;  margin-bottom: 0.8rem;  white-space: nowrap;}/* 阅读百分比 *//* 返回顶部 */button#go-up #percent {  display: none;  font-weight: bold;  font-size: 15px !important;}button#go-up span {  font-size: 12px !important;  margin-right: -1px;}/* 鼠标滑动到按钮上时显示返回顶部图标 */button#go-up:hover i {  display: block !important;}button#go-up:hover #percent {  display: none !important;}#rightside > div > a,#rightside > div > button {  display: flex;  align-items: center;  justify-content: center;  width: 38px;  height: 38px;  font-size: 18px;  border-radius: 6px;}/* 评论表情放大显示 */#owo-big {  position: fixed;  align-items: center;  background-color: rgb(255, 255, 255);  border: 1px #aaa solid;  border-radius: 10px;  z-index: 9999;  display: none;  transform: translate(0, -105%);  overflow: hidden;  animation: owoIn 0.3s cubic-bezier(0.42, 0, 0.3, 1.11);}[data-theme="dark"] #owo-big {  background-color: #4a4a4a;}#owo-big img {  width: 100%;}/* 动画效果代码由 Heo：https://blog.zhheo.com/ 提供 */@keyframes owoIn {  0% {    transform: translate(0, -95%);    opacity: 0;  }  100% {    transform: translate(0, -105%);    opacity: 1;  }}/* 评论区输入提示 *//* 设置文字内容 :nth-child(1)的作用是选择第几个 */.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(1):before {  content: "输入QQ号会自动获取昵称和头像🐧";}.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(2):before {  content: "收到回复将会发送到您的邮箱📧";}.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(3):before {  content: "可以通过昵称访问您的网站🔗";}/* 当用户点击输入框时显示 */.el-input.el-input--small.el-input-group.el-input-group--prepend:focus-within::before,.el-input.el-input--small.el-input-group.el-input-group--prepend:focus-within::after {  display: block;}/* 主内容区 */.el-input.el-input--small.el-input-group.el-input-group--prepend::before {  /* 先隐藏起来 */  display: none;  /* 绝对定位 */  position: absolute;  /* 向上移动60像素 */  top: -60px;  /* 文字强制不换行，防止left:50%导致的文字换行 */  white-space: nowrap;  /* 圆角 */  border-radius: 10px;  /* 距离左边50% */  left: 50%;  /* 然后再向左边挪动自身的一半，即可实现居中 */  transform: translate(-50%);  /* 填充 */  padding: 14px 18px;  background: #444;  color: #fff;}/* 小角标 */.el-input.el-input--small.el-input-group.el-input-group--prepend::after {  display: none;  content: "";  position: absolute;  /* 内容大小（宽高）为0且边框大小不为0的情况下，每一条边（4个边）都是一个三角形，组成一个正方形。    我们先将所有边框透明，再给其中的一条边添加颜色就可以实现小三角图标 */  border: 12px solid transparent;  border-top-color: #444;  left: 50%;  transform: translate(-50%, -48px);}/* 切换背景 *//* 由于全屏会出bug，所以直接给他隐藏 */.winbox {  border-radius: 12px;  overflow: hidden;}.wb-body {  background-color: #e5f1f5;}.wb-full {  display: none;}.wb-min {  background-position: center;}[data-theme="dark"] .wb-body,[data-theme="dark"] #changeBgBox {  background: #333 !important;}.bgbox {  display: flex;  flex-wrap: wrap;  justify-content: space-between;}.pimgbox,.imgbox,.box {  width: 166px;  margin: 10px;  background-size: cover;}.pimgbox,.imgbox {  border-radius: 10px;  overflow: hidden;}.pimgbox {  height: 240px;}.imgbox {  height: 95px;}.box {  height: 100px;}@media screen and (max-width: 768px) {  /* 背景 */  .pimgbox,  .imgbox,  .box {    height: 73px;    width: 135px;  }  .pimgbox {    height: 205px;  }  /* 2.0新增内容 */  .wb-min {    display: none;  }  #changeBgBox .wb-body::-webkit-scrollbar {    display: none;  }}/* 应用监控夜间模式适配 id要# class是直接来就行*/[data-theme="dark"] #statistic {  background-color: #2b2929;}/* 侧边栏个人信息卡片动态渐变色 */#aside-content > .card-widget.card-info {  background: linear-gradient(    -45deg,    #e8d8b9,    #eccec5,    #a3e9eb,    #bdbdf0,    #eec1ea  );  box-shadow: 0 0 5px rgb(66, 68, 68);  position: relative;  background-size: 400% 400%;  -webkit-animation: Gradient 10s ease infinite;  -moz-animation: Gradient 10s ease infinite;  animation: Gradient 10s ease infinite !important;}@-webkit-keyframes Gradient {  0% {    background-position: 0% 50%;  }  50% {    background-position: 100% 50%;  }  100% {    background-position: 0% 50%;  }}@-moz-keyframes Gradient {  0% {    background-position: 0% 50%;  }  50% {    background-position: 100% 50%;  }  100% {    background-position: 0% 50%;  }}@keyframes Gradient {  0% {    background-position: 0% 50%;  }  50% {    background-position: 100% 50%;  }  100% {    background-position: 0% 50%;  }}/* 个人信息Follow me按钮 */#aside-content > .card-widget.card-info > #card-info-btn {  background-color: #3eb8be;  border-radius: 8px;}/* Aplayer字体 */#article-container .aplayer {  font-family: var(--global-font) !important;}/* 背景图片链接输入框暗黑模式placeholder适配 */[data-theme="dark"] input#pic-link::-webkit-input-placeholder {  color: rgb(80, 80, 80);}/* heo 加载动画头像 */.loading-img {  background: url(/assets/head.jpg) no-repeat center center;  background-size: cover;}/* heo 夜间模式加载背景色 */[data-theme="dark"] {  --loading-color: rgba(25, 25, 25, 0.92) !important;}/* 删掉首页那个home图标 */i.fa-fw.icon-home::before {  display: none;}/* 顶栏常驻 */.nav-fixed #nav {  transform: translateY(58px) !important;  -webkit-transform: translateY(58px) !important;  -moz-transform: translateY(58px) !important;  -ms-transform: translateY(58px) !important;  -o-transform: translateY(58px) !important;}#nav {  transition: none !important;  -webkit-transition: none !important;  -moz-transition: none !important;  -ms-transition: none !important;  -o-transition: none !important;}/* 导航栏显示标题 */#page-name::before {  font-size: 18px;  position: absolute;  width: 100%;  height: 100%;  border-radius: 8px;  color: white !important;  top: 0;  left: 0;  content: "回到顶部";  background-color: var(--theme-color);  transition: all 0.3s;  -webkit-transition: all 0.3s;  -moz-transition: all 0.3s;  -ms-transition: all 0.3s;  -o-transition: all 0.3s;  opacity: 0;  box-shadow: 0 0 3px var(--theme-color);  line-height: 45px; /*如果垂直位置不居中可以微调此值，也可以删了*/}#page-name:hover:before {  opacity: 1;}#name-container {  transition: all 0.3s;  -webkit-transition: all 0.3s;  -moz-transition: all 0.3s;  -ms-transition: all 0.3s;  -o-transition: all 0.3s;}#name-container:hover {  scale: 1.03;}#page-name {  position: relative;  padding: 10px 30px; /*如果文字间隔不合理可以微调修改，第二个是水平方向的padding，第一个是垂直的*/}/* 调节字体显示栏目 */#swfs {  display: flex;  flex-wrap: wrap;}.swf {  padding: 10px;  font-size: 20px;  background-color: white;  border: 2px solid var(--border-color);  border-radius: 10px;  margin: 10px;}/* 主题色选择 */input[name="colors"] {  margin-right: 15px;  min-width: 1rem;  height: 1rem;  appearance: none;  -webkit-appearance: none;  border-radius: 50%;}#red {  border: 3px solid var(--color-red);}#orange {  border: 3px solid var(--color-orange);}#yellow {  border: 3px solid var(--color-yellow);}#green {  border: 3px solid var(--color-green);}#blue {  border: 3px solid var(--color-blue);}#purple {  border: 3px solid var(--color-purple);}#pink {  border: 3px solid var(--color-pink);}#heoblue {  border: 3px solid var(--color-heoblue);}#darkblue {  border: 3px solid var(--color-darkblue);}#black {  border: 3px solid var(--color-black);}#blackgray {  border: 3px solid var(--color-blackgray);}#purple:checked {  box-shadow: 0 0 0 2px #fff inset;  border-radius: 50%;  border: 3px solid var(--color-purple);  background-color: var(--color-purple);}#red:checked {  box-shadow: 0 0 0 2px #fff inset;  border-radius: 50%;  border: 3px solid var(--color-red);  background-color: var(--color-red);}#orange:checked {  box-shadow: 0 0 0 2px #fff inset;  border-radius: 50%;  border: 3px solid var(--color-orange);  background-color: var(--color-orange);}#yellow:checked {  box-shadow: 0 0 0 2px #fff inset;  border-radius: 50%;  border: 3px solid var(--color-yellow);  background-color: var(--color-yellow);}#green:checked {  box-shadow: 0 0 0 2px #fff inset;  border-radius: 50%;  border: 3px solid var(--color-green);  background-color: var(--color-green);}#blue:checked {  box-shadow: 0 0 0 2px #fff inset;  border-radius: 50%;  border: 3px solid var(--color-blue);  background-color: var(--color-blue);}#pink:checked {  box-shadow: 0 0 0 2px #fff inset;  border-radius: 50%;  border: 3px solid var(--color-pink);  background-color: var(--color-pink);}#heoblue:checked {  box-shadow: 0 0 0 2px #fff inset;  border-radius: 50%;  border: 3px solid var(--color-heoblue);  background-color: var(--color-heoblue);}#darkblue:checked {  box-shadow: 0 0 0 2px #fff inset;  border-radius: 50%;  border: 3px solid var(--color-darkblue);  background-color: var(--color-darkblue);}#black:checked {  box-shadow: 0 0 0 2px #fff inset;  border-radius: 50%;  border: 3px solid var(--color-black);  background-color: var(--color-black);}#blackgray:checked {  box-shadow: 0 0 0 2px #fff inset;  border-radius: 50%;  border: 3px solid var(--color-blackgray);  background-color: var(--color-blackgray);}/* 主题色适配覆盖区域 */.category-lists ul li:before {  border: 0.215em solid var(--theme-color);}a:hover {  color: var(--theme-color);}blockquote {  border-left: 3px solid var(--theme-color);}#article-container .highlight-tools .copy-button:hover {  color: var(--theme-color);}.error404 #error-wrap .error-content .error-img img {  background-color: var(--theme-color);}.article-sort-title:before {  border: 5px solid var(--theme-color);}.article-sort-item:before {  order: 3px solid var(--theme-color);}.article-sort-item.year:hover:before {  border-color: var(--theme-color);}.article-sort-item-title:hover {  color: var(--theme-color);}.category-lists .category-list a:hover {  color: var(--theme-color);}#recent-posts > .recent-post-item > .recent-post-info > .article-title:hover {  color: var(--theme-color);}#recent-posts  > .recent-post-item  > .recent-post-info  > .article-meta-wrap  a:hover {  color: var(--theme-color);}.tag-cloud-list a:hover {  color: var(--theme-color) !important;}#aside-content .card-tag-cloud a:hover {  color: var(--theme-color) !important;}#aside-content .aside-list > .aside-list-item .content > .comment:hover {  color: var(--theme-color);}#aside-content #card-toc .toc-content .toc-link:hover {  color: var(--theme-color);}*::selection {  background: var(--theme-color);}#aside-content #card-toc .toc-content .toc-link.active {  background: var(--theme-color);}.site-data > a:hover div {  color: var(--theme-color) !important;}#post-comment .comment-head #comment-switch .first-comment {  color: var(--theme-color);}#post-comment .comment-head #comment-switch .switch-btn {  background-color: var(--theme-color);}#page-header.nav-fixed #nav #toggle-menu:hover {  color: var(--theme-color);}#post-info #post-meta a:hover {  color: var(--theme-color);}#pagination .page-number.current {  background: var(--theme-color);}#article-container h1:hover:before,#article-container h2:hover:before,#article-container h3:hover:before,#article-container h4:hover:before,#article-container h5:hover:before,#article-container h6:hover:before {  color: var(--theme-color);}#article-container li::marker {  color: var(--theme-color);}#post .tag_share .post-meta__tags {  border: 1px solid var(--theme-color);  color: var(--theme-color);}#post .tag_share .post-meta__tags:hover {  background: var(--theme-color);}#post .post-copyright .post-copyright-meta {  color: var(--theme-color);}#post .post-copyright-cc-info {  color: var(--theme-color);}#waline-wrap {  --waline-theme-color: var(--theme-color);}.hide-inline > .hide-button,.hide-block > .hide-button {  background: var(--theme-color);}#article-container .tabs > .nav-tabs > .tab.active button {  border-top: 2px solid var(--theme-color);}#article-container .timeline {  border-left: 2px solid var(--timeline-color, var(--theme-color));}#article-container .timeline .timeline-item:hover .item-circle:before {  border-color: var(--timeline-color, var(--theme-color));}#article-container  .timeline  .timeline-item.headline  .timeline-item-title  .item-circle:before {  border: 4px solid var(--timeline-color, var(--theme-color));}.search-dialog .search-nav {  color: var(--theme-color);}.search-dialog .search-nav .search-close-button:hover {  color: var(--theme-color);}#local-search .search-dialog .local-search-box input {  border: 2px solid var(--theme-color);}#local-search .search-dialog .local-search__hit-item:before {  border: 3px solid var(--theme-color);}#local-search .search-dialog .local-search__hit-item a:hover {  color: var(--theme-color);}#nav *::after {  background-color: var(--theme-color) !important;}/* 开关按钮 */.settings input[type="checkbox"] {  width: 38px;  height: 20px;  position: relative;  border: 1px solid #000000;  background-color: #fdfdfd;  border-radius: 12px;  background-clip: content-box;  display: inline-block;  -webkit-appearance: none;  user-select: none;  outline: none;  transform: translateY(5px);}.settings input[type="checkbox"]:before {  content: "";  width: 12px;  height: 12px;  position: absolute;  top: 3px;  left: 5px;  border-radius: 10px;  background-color: #000;}.settings input[type="checkbox"]:checked {  background-color: var(--theme-color);  border-color: var(--theme-color);}.settings input[type="checkbox"]:checked:before {  left: 19px;  background-color: white !important;}.settings input[type="checkbox"] {  transition: border background-color box-shadow;}.settings input[type="checkbox"]:before {  transition: left 0.2s;}.settings input[type="checkbox"]:checked {  background-color: var(--theme-color);}.settings input[type="checkbox"]:checked:before {  transition: left 0.2s;}.settings input[type="checkbox"]:checked:hover {  opacity: 0.8;}.settings input[type="checkbox"]:active {  background-color: #666666 !important;  border-color: #666666 !important;}.settings input[type="checkbox"]:active::before {  background-color: white !important;}.content-text {  margin-right: 5px;}/* 手机侧边菜单栏 */#sidebar #sidebar-menus {  background: #dff1ed;  border-radius: 15px;}/* 手机菜单栏渐变色适配暗黑模式 */[data-theme="dark"] #sidebar #sidebar-menus {  background: rgba(25, 25, 25, 0.95) !important;}/* 帧率检测 */#fps {  position: fixed;  left: 10px;  bottom: 10px;  z-index: 1919810;}[data-theme="light"] #fps {  background-color: rgba(255, 255, 255, 0.85);  backdrop-filter: var(--backdrop-filter);  padding: 4px;  border-radius: 4px;}[data-theme="dark"] #fps {  background-color: rgba(0, 0, 0, 0.72);  backdrop-filter: var(--backdrop-filter);  padding: 4px;  border-radius: 4px;}/* 侧边栏开关 */div#rightside {  display: var(--rightside-display);}/* 标签圆角 */.hl-label {  border-radius: 8px;}/* 透明度和模糊半径滑块 */input[type="range"] {  display: block;  -webkit-appearance: none;  background-color: #bdc3c7;  width: 100%;  height: 5px;  border-radius: 3px;  margin: 0 auto;  outline: 0;}input[type="range"]::-webkit-slider-thumb {  -webkit-appearance: none;  background-color: var(--theme-color);  width: 18px;  height: 18px;  border-radius: 50%;  border: 1px solid white;  cursor: pointer;  transition: 0.3s ease-in-out;}.range {  position: relative;  width: 300px;  margin: 20px 0px 32px 10px;}.rang_width {  position: absolute;  top: 0px;  left: 0px;  background: var(--theme-color);  height: 5px;  border-radius: 2px 0 0 2px;}/* 翻页按钮居中 */#pagination {  width: 100%;  margin: auto;}/* 菜单栏发光字 */#nav .site-page {  text-shadow: var(--theme-color) 0 0 5px !important;}#nav .menus_items .menus_item .menus_item_child li a {  text-shadow: var(--theme-color) 0 0 5px !important;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/static/js/iconfont.js"/>
      <url>/static/js/iconfont.js</url>
      
        <content type="html"><![CDATA[!function(c){var l,h,t,e,a,i='<svg><symbol id="icon-dog" viewBox="0 0 1024 1024"><path d="M894.814316 904.434526l83.240421-183.134315-13.824-13.204211c-0.485053-0.458105-45.648842-47.589053-47.939369-185.263158-0.134737-7.922526-0.134737-33.953684-0.134736-55.996631-30.693053 15.306105-70.090105 19.887158-106.09179 19.887157-92.752842 0-163.624421-23.983158-210.647579-71.275789a192.512 192.512 0 0 1-27.944421-36.513684H377.263158v377.263158c342.662737 0 403.105684 51.092211 494.592 128.377263 7.922526 6.682947 15.521684 13.312 22.959158 19.86021z" fill="#85C3DE" ></path><path d="M326.063158 282.947368c0 34.250105-13.231158 44.463158-29.642105 44.463158s-29.642105-10.213053-29.642106-44.463158c0-34.223158 13.231158-44.463158 29.642106-44.463157s29.642105 10.24 29.642105 44.463157zM269.473684 430.295579v311.646316L190.275368 916.210526h59.203369L323.368421 753.637053V377.263158h-26.947368c-119.403789 0-172.732632-53.382737-185.505685-107.789474h35.624421c51.092211 0 68.581053-15.764211 120.535579-62.544842 12.773053-11.506526 28.079158-25.276632 47.023158-41.741474l18.351158-15.952842-69.658947-99.139368-44.085895 30.989474 41.768421 59.472842c-11.183158 9.862737-20.884211 18.593684-29.480421 26.327579C180.736 212.156632 176.235789 215.578947 146.539789 215.578947H53.894737v26.947369c0 88.710737 66.910316 178.149053 215.578947 187.769263z m216.710737-161.414737c2.290526 71.733895 28.698947 136.326737 75.048421 182.918737C618.711579 509.628632 702.437053 538.947368 810.091789 538.947368c18.593684 0 36.190316-1.158737 52.628211-3.449263 3.745684 111.265684 33.630316 170.334316 51.496421 196.015158l-38.507789 84.722526C782.174316 742.049684 688.774737 700.631579 377.263158 700.631579v53.894737c34.277053 0 65.697684 0.512 94.639158 1.509052L374.595368 970.105263h59.203369l96.013474-211.240421c66.182737 4.338526 117.005474 11.829895 157.911578 22.016L626.229895 916.210526h59.176421l54.16421-119.134315c47.616 18.405053 79.737263 42.091789 113.125053 69.739789L805.753263 970.105263h59.203369l113.071157-248.778105-13.824-13.204211c-0.485053-0.458105-45.648842-47.589053-47.939368-185.263158C985.168842 498.553263 1024 447.811368 1024 377.263158c0-95.205053-66.506105-161.684211-161.684211-161.684211v53.894737c65.482105 0 107.789474 42.307368 107.789474 107.789474 0 89.088-87.013053 107.789474-160.013474 107.789474-92.752842 0-163.624421-23.983158-210.647578-71.27579-30.315789-30.504421-45.891368-65.832421-53.35579-98.735158 11.210105 6.952421 22.932211 13.338947 35.274105 19.186527l23.04-48.720843c-92.106105-43.654737-148.992-128.646737-219.243789-243.981473l-46.026105 28.05221c49.448421 81.246316 92.968421 148.506947 147.051789 199.302737z" fill="#231F20" ></path></symbol><symbol id="icon-boar" viewBox="0 0 1024 1024"><path d="M732.079158 377.263158c-107.789474 0-186.421895 31.393684-281.869474 126.841263L180.331789 773.982316C257.724632 807.909053 348.725895 808.421053 485.052632 808.421053h96.013473c55.834947-34.411789 133.551158-53.894737 227.354948-53.894737h121.344L970.105263 680.555789V572.631579c0-94.315789-130.236632-195.368421-238.026105-195.368421z" fill="#FFBDD8" ></path><path d="M808.421053 700.631579v53.894737c-196.446316 0-323.368421 84.641684-323.368421 215.578947h-53.894737c0-163.705263 148.075789-269.473684 377.263158-269.473684z m-323.368421 107.789474v-53.894737c-158.342737 0-245.598316 0-319.649685-49.367579L158.612211 700.631579H80.842105c-21.692632 0-26.624-14.821053-26.947368-26.947368v-82.620632c84.156632-11.183158 161.684211-74.913684 161.68421-186.853053V215.578947H161.684211v161.684211H134.736842c-66.964211 0-134.736842 37.025684-134.736842 107.789474h53.894737c0-42.630737 52.870737-53.894737 80.842105-53.894737h24.629895C147.132632 504.912842 85.153684 538.947368 26.947368 538.947368H0v134.736843c0 32.498526 21.530947 80.842105 80.842105 80.842105h61.682527c32.687158 20.506947 67.125895 33.145263 105.957052 41.013895A232.879158 232.879158 0 0 0 215.578947 916.210526h53.894737c0-41.930105 14.012632-80.303158 39.424-112.505263C358.885053 808.151579 415.959579 808.421053 485.052632 808.421053z m-72.946527-342.420211L323.368421 554.738526V431.157895h-53.894737v253.682526l180.736-180.736-38.103579-38.103579zM323.368421 161.684211h-53.894737v190.032842a769.536 769.536 0 0 1 53.894737-49.098106V161.684211z m323.368421-53.894737c-72.623158 0-146.809263 23.336421-215.578947 58.637473V107.789474h-53.894737v154.138947C458.832842 205.392842 555.331368 161.684211 646.736842 161.684211c148.587789 0 269.473684 120.885895 269.473684 269.473684v235.654737L809.579789 862.315789h61.359158L970.105263 680.555789V431.157895c0-178.310737-145.057684-323.368421-323.368421-323.368421z" fill="#231F20" ></path></symbol><symbol id="icon-ox" viewBox="0 0 1025 1024"><path d="M540.294737 754.526316h215.578947c20.210526 0 35.112421 1.374316 53.894737 4.581052 91.863579 15.656421 145.354105 67.691789 161.684211 86.069895V916.210526h53.894736V635.580632l-7.895579-7.895579c-9.269895-9.269895-36.513684-49.232842-44.032-196.527158H540.294737a161.684211 161.684211 0 0 0-161.684211 161.68421v131.098948c43.304421 20.210526 97.28 30.585263 161.684211 30.585263z" fill="#FFAF6E" ></path><path d="M1025.347368 635.580632V916.210526h-53.894736v-71.033263c-16.330105-18.405053-69.820632-70.413474-161.684211-86.069895V916.210526h-53.894737v-161.68421h-107.789473v215.578947h-53.894737V700.631579h161.68421c100.998737 0 172.570947 38.669474 215.578948 71.868632v-115.738948c-33.684211-43.627789-51.712-137.458526-53.706106-279.498105H701.978947c-76.934737 0-127.218526-26.219789-175.804631-51.550316a1556.048842 1556.048842 0 0 0-26.839579-13.743158c-26.839579 26.004211-66.209684 44.921263-115.738948 55.511579 24.441263 22.986105 60.874105 52.116211 106.469053 72.838737l-22.312421 49.044211c-76.584421-34.816-129.589895-88.926316-150.824421-113.125053-10.644211 0.619789-21.477053 1.024-32.687158 1.024a473.734737 473.734737 0 0 1-123.365053-15.952842l-93.022315 186.314105 68.581052 53.86779C167.882105 579.557053 237.891368 538.947368 324.715789 538.947368v53.894737c-95.986526 0-170.361263 62.490947-171.088842 63.137684l-16.78821 14.282106-136.838737-107.358316 109.729684-219.809684C46.430316 314.448842 1.347368 267.371789 1.347368 199.868632 1.347368 89.815579 121.586526 53.894737 163.031579 53.894737v53.894737c-14.120421 0-107.789474 17.165474-107.789474 92.079158C55.242105 290.465684 192.188632 323.368421 284.240842 323.368421c67.907368 0 122.421895-12.988632 157.696-35.624421-42.711579-14.336-95.097263-23.120842-169.337263-18.324211l-3.503158-53.786947c95.878737-6.117053 160.148211 8.515368 211.429053 28.833684C484.244211 235.439158 486.4 225.818947 486.4 215.578947c0-48.855579-57.829053-76.288-58.394947-76.557473l22.393263-49.017263C454.063158 91.648 540.294737 131.826526 540.294737 215.578947c0 18.566737-3.422316 35.84-9.997474 51.631158 7.060211 3.584 13.985684 7.168 20.776421 10.698106C597.854316 302.322526 638.248421 323.368421 701.978947 323.368421h269.473685v26.947368c0 214.689684 35.220211 266.590316 45.999157 277.369264l7.895579 7.895579z m-729.384421 25.141894l-98.789052 118.541474 86.797473 137.835789 45.594948-28.725894-65.913263-104.690527 37.052631-44.43621C358.642526 785.192421 439.080421 808.421053 540.294737 808.421053v-53.894737c-99.893895 0-175.077053-24.549053-223.474526-72.946527l-20.857264-20.857263z" fill="#231F20" ></path></symbol><symbol id="icon-goat" viewBox="0 0 1024 1024"><path d="M548.378947 646.736842a952.32 952.32 0 0 1 140.90779-161.68421H107.789474c0 107.600842 0 107.600842-63.649685 169.283368l-13.069473 12.665263L66.721684 754.526316h417.172211c20.345263-41.472 43.654737-77.446737 64.485052-107.789474z" fill="#F7C768" ></path><path d="M608.256 144.734316C555.762526 115.577263 506.098526 107.789474 485.052632 107.789474V53.894737c32.579368 0 91.270737 11.452632 149.369263 43.735579 75.290947 41.822316 130.694737 94.531368 171.385263 150.878316C755.873684 288.013474 697.101474 323.368421 646.736842 323.368421h-107.789474v-53.894737h107.789474c20.506947 0 48.424421-11.210105 80.437895-31.285895a471.04 471.04 0 0 0-118.918737-93.453473zM832.673684 342.231579c-16.384 0-29.642105 10.24-29.642105 44.463158 0 34.250105 13.231158 44.463158 29.642105 44.463158s29.642105-10.213053 29.642105-44.463158c0-34.223158-13.231158-44.463158-29.642105-44.463158zM1024 619.789474C1024 347.109053 901.066105 122.448842 686.753684 3.395368l-26.165895 47.104C914.324211 191.461053 964.688842 440.400842 969.647158 592.842105h-84.506947c-17.92-35.624421-45.352421-69.12-87.013053-101.995789l-16.788211-13.285053-16.734315 13.392842c-66.128842 52.897684-134.629053 127.083789-187.311158 209.677474H102.965895l-8.272842-20.318316C159.043368 617.013895 161.684211 603.109053 161.684211 485.052632v-53.894737h485.052631v-53.894737H161.684211c0-80.384 14.309053-110.026105 66.586947-137.916632l-25.384421-47.535158C123.365053 234.226526 107.789474 291.920842 107.789474 377.263158v107.789474c0 107.600842 0 107.600842-63.649685 169.283368l-13.069473 12.665263L110.618947 862.315789h58.206316l-43.897263-107.789473h103.477895l43.897263 107.789473h58.206316l-43.897263-107.789473h259.47621C508.981895 824.939789 485.052632 899.152842 485.052632 970.105263h53.894736c0-68.688842 27.270737-144.060632 68.958316-215.578947H687.157895c7.410526 0 13.473684 6.063158 13.473684 13.473684V862.315789h53.894737v-94.315789c0-37.160421-30.208-67.368421-67.368421-67.368421h-44.65179c40.771368-58.017684 89.438316-111.427368 138.913684-153.626947C841.512421 600.037053 862.315789 655.225263 862.315789 754.526316h53.894737c0-38.912-2.748632-74.482526-11.102315-107.789474H1024v-26.947368z" fill="#231F20" ></path></symbol><symbol id="icon-dragon" viewBox="0 0 1024 1024"><path d="M366.376421 344.441263l152.980211-152.98021c43.142737-43.142737 141.204211-9.216 270.201263 115.738947-15.225263 9.835789-25.114947 15.818105-44.13979 32.256s-38.076632 35.489684-59.418947 56.832c-4.203789 4.203789-51.173053 53.221053-78.740211 82.027789-10.805895-12.126316-22.743579-24.171789-34.654315-36.082526L493.136842 362.792421l-54.218105 54.218105-72.542316-72.569263zM862.315789 512c0 46.834526-45.352421 80.842105-107.789473 80.842105-108.948211 0-189.359158-28.806737-267.129263-56.697263C414.100211 509.871158 344.872421 485.052632 258.182737 485.052632 80.788211 485.052632 0 588.126316 0 683.897263h53.894737C73.216 659.779368 135.302737 646.736842 177.340632 646.736842c77.338947 0 223.124211 23.282526 291.893894 47.912421C547.462737 722.701474 615.989895 754.526316 734.315789 754.526316 862.315789 754.526316 916.210526 670.315789 916.210526 512h-53.894737z" fill="#FF8787" ></path><path d="M552.421053 1024c-69.766737 0-113.825684-13.958737-156.402527-27.459368-54.487579-17.273263-110.807579-35.004632-232.421052-26.516211l-3.826527-53.733053c131.718737-9.458526 195.934316 10.967579 252.52379 28.887579 42.226526 13.365895 78.686316 24.926316 140.126316 24.926316 92.752842 0 148.210526-57.936842 148.210526-113.960421 0-16.949895-5.524211-101.618526-114.634105-101.618526-64.970105 0-112.747789 23.336421-163.328 48.02021C365.325474 830.571789 300.301474 862.315789 204.288 862.315789 85.908211 862.315789 0 787.294316 0 683.897263 0 588.126316 80.788211 485.052632 258.182737 485.052632c86.689684 0 155.917474 24.818526 229.214316 51.09221 45.810526 16.410947 92.564211 33.172211 145.488842 44.166737 9.000421-7.033263 13.850947-16.276211 13.850947-26.758737 0-37.187368-37.672421-74.859789-74.13221-111.265684l-3.287579-3.287579 38.103579-38.103579 3.260631 3.287579C652.853895 446.275368 700.631579 494.026105 700.631579 553.552842c0 12.719158-2.802526 24.926316-7.976421 36.109474A594.997895 594.997895 0 0 0 754.526316 592.842105c62.437053 0 107.789474-34.007579 107.789473-80.842105 0-58.853053-52.870737-110.268632-108.840421-164.702316l-8.057263-7.841684c-19.024842 16.437895-38.076632 35.489684-59.418947 56.832l-38.103579-38.103579c74.805895-74.832842 134.898526-134.898526 268.314947-141.931789V55.619368c-63.407158 7.787789-120.993684 39.424-121.667368 39.801264l-15.818105 8.811789-14.120421-11.344842C731.701895 66.452211 709.712842 53.894737 673.684211 53.894737c-41.418105 0-74.347789 25.869474-109.190737 53.301895-26.624 20.911158-54.137263 42.549895-86.851369 53.194105L469.342316 161.684211h-69.093053l-105.525895 105.525894-38.103579-38.130526L324.015158 161.684211H161.684211V107.789474h303.104c22.231579-8.272842 43.708632-25.168842 66.398315-42.981053C569.829053 34.438737 613.618526 0 673.684211 0c48.909474 0 81.408 17.946947 110.888421 40.097684C813.702737 26.300632 877.729684 0 943.157895 0h26.947368v323.368421h-53.894737v-53.167158c-54.164211 3.098947-92.914526 15.845053-127.002947 36.675369l1.832421 1.778526C852.587789 368.505263 916.210526 430.376421 916.210526 512c0 60.928-43.708632 109.945263-107.789473 127.622737V700.631579h53.894736v-53.894737h53.894737v53.894737h53.894737v53.894737h-53.894737v53.894737h-53.894737v-53.894737h-53.894736c-29.722947 0-53.894737-24.171789-53.894737-53.894737v-53.894737c-118.325895 0-207.063579-31.797895-285.318737-59.877053C400.437895 562.229895 335.494737 538.947368 258.182737 538.947368 117.059368 538.947368 53.894737 611.732211 53.894737 683.897263 53.894737 757.221053 115.738947 808.421053 204.288 808.421053c11.910737 0 23.228632-0.538947 34.034526-1.536C248.454737 796.321684 269.473684 770.640842 269.473684 739.166316c0-33.118316-43.088842-70.979368-58.152421-81.596632l30.935579-44.139789c8.299789 5.793684 81.111579 58.664421 81.111579 125.736421 0 19.429053-4.527158 37.052632-10.994526 52.304842 30.773895-10.051368 58.314105-23.498105 86.662737-37.349053C452.877474 727.848421 508.577684 700.631579 585.997474 700.631579 702.410105 700.631579 754.526316 778.725053 754.526316 856.144842 754.526316 938.657684 678.912 1024 552.421053 1024z m-21.180632-623.104L493.136842 362.792421l137.889684-137.889684 38.103579 38.103579-137.889684 137.889684z m-126.760421-18.351158l-38.103579-38.103579 152.980211-152.98021 38.103579 38.103579-152.980211 152.98021z m282.004211-218.624c15.494737-9.754947 43.331368-31.447579 43.331368-31.447579-25.734737-27.809684-49.556211-33.333895-67.368421-29.07621-19.240421 4.608-37.753263 24.602947-37.753263 24.602947s42.253474 22.447158 61.790316 35.920842z" fill="#231F20" ></path></symbol><symbol id="icon-horse" viewBox="0 0 1024 1024"><path d="M776.003368 646.736842c16.599579-99.947789 43.439158-181.086316 83.213474-256.538947l6.817684-12.934737H269.473684c-36.756211 0-53.894737 54.945684-53.894737 92.05221 0 46.753684 6.656 77.527579 70.278737 176.074106l84.533895 128.269473L498.876632 646.736842h277.126736z" fill="#FFAF6E" ></path><path d="M1024 0v404.210526c0 33.333895 0 134.736842-92.079158 134.736842h-13.824l-78.362947-109.056c-22.743579 49.906526-40.340211 103.046737-53.490527 162.950737h115.092211C937.310316 592.842105 970.105263 625.637053 970.105263 661.638737c0 60.631579-69.389474 154.300632-77.312 164.75621l-43.008-32.471579C875.466105 759.861895 916.210526 693.813895 916.210526 661.638737c0-5.982316-8.919579-14.901895-14.901894-14.901895h-125.332211C761.128421 736.121263 754.526316 840.569263 754.526316 970.105263h-53.894737c0-283.971368 31.097263-453.605053 110.888421-605.049263l20.318316-38.534737 112.801684 156.995369c14.443789-4.419368 25.465263-20.938105 25.465263-79.306106V0h53.894737z m-161.684211 161.684211h53.894737V0h-53.894737v80.842105c-17.381053-14.955789-38.184421-26.947368-80.842105-26.947368h-134.736842v53.894737h134.736842c37.672421 0 80.842105 40.906105 80.842105 53.894737z m-107.789473 0h-215.578948v53.894736h161.684211l53.894737-53.894736zM300.894316 766.544842L400.680421 916.210526h64.754526l-95.043368-142.551579L498.876632 646.736842h167.855157a1212.631579 1212.631579 0 0 1 9.431579-53.894737h-199.383579l-175.885473 173.702737z m109.97221-184.400842l-37.861052-38.319158-132.419369 130.802526C173.729684 571.095579 161.684211 529.812211 161.684211 469.315368 161.684211 398.578526 199.464421 323.368421 269.473684 323.368421h323.368421l53.894737-53.894737H269.473684c-6.709895 0-13.258105 0.565895-19.698526 1.482105C234.927158 249.451789 204.638316 215.578947 160.633263 215.578947 65.967158 215.578947 0 349.291789 0 469.315368c0 70.170947 16.141474 136.650105 49.232842 202.671158L6.197895 723.833263l41.472 34.41179 66.128842-79.737264-8.704-16.033684C83.105684 622.133895 53.894737 558.214737 53.894737 469.315368 53.894737 368.451368 106.765474 269.473684 160.633263 269.473684c13.231158 0 25.815579 9.889684 35.43579 20.533895C142.874947 321.967158 107.789474 388.500211 107.789474 469.315368c0 78.201263 19.698526 130.937263 93.642105 243.981474l-55.296 54.622316L280.899368 970.105263h64.754527l-130.048-195.072 195.260631-192.889263z" fill="#231F20" ></path></symbol><symbol id="icon-monkey" viewBox="0 0 1024 1024"><path d="M757.733053 485.052632H565.894737a80.842105 80.842105 0 0 0-80.842105 80.842105v215.578947c0 40.96 43.546947 99.678316 77.446736 139.210105C596.426105 960.215579 603.055158 970.105263 603.055158 970.105263H754.526316s15.144421-18.674526 45.891368-58.071579S862.315789 809.984 862.315789 717.608421c0-89.573053-47.993263-166.346105-104.582736-232.555789z" fill="#C3D686" ></path><path d="M538.947368 1024h-53.894736c0-32.794947 25.869474-87.417263 77.446736-103.316211C528.599579 881.152 485.052632 822.433684 485.052632 781.473684c0-44.570947 36.271158-80.842105 80.842105-80.842105h80.842105v53.894737h-80.842105a26.947368 26.947368 0 0 0-26.947369 26.947368c0 19.725474 36.675368 77.473684 92.133053 134.736842h88.602947c20.210526-14.147368 88.737684-71.464421 88.737685-198.602105 0-108.382316-93.237895-202.967579-168.151579-278.986105-49.502316-50.202947-88.576-89.842526-98.735158-128.61979-11.749053-44.732632-21.584842-112.586105-26.327579-148.318315H377.263158c-45.136842 0-89.519158 8.434526-121.802105 53.894736H431.157895v53.894737c-97.28 0-107.789474 113.071158-107.789474 161.684211v53.894737h53.894737v161.68421h-53.894737v-107.789474h-26.947368c-170.253474 0-188.631579-94.234947-188.631579-134.736842 0-31.043368 35.220211-72.326737 55.727158-93.722947 2.694737-14.686316 5.847579-28.348632 9.431579-41.013895H161.684211V215.578947h31.528421C239.642947 120.993684 317.224421 107.789474 377.263158 107.789474h185.640421l2.802526 23.794526c0.134737 1.050947 12.719158 106.657684 27.944421 164.756211 6.494316 24.872421 44.624842 63.514947 84.965053 104.448C760.481684 483.813053 862.315789 587.129263 862.315789 717.608421c0 92.375579-31.124211 155.028211-61.898105 194.425263C904.919579 892.146526 970.105263 803.004632 970.105263 673.684211c0-91.405474-42.819368-154.381474-84.237474-215.255579C847.791158 402.458947 808.421053 344.576 808.421053 269.473684c0-119.349895 87.093895-161.684211 161.68421-161.68421v53.894737c-32.417684 0-107.789474 10.509474-107.789474 107.789473 0 58.502737 31.555368 104.933053 68.096 158.639158C974.282105 492.597895 1024 565.679158 1024 673.684211c0 177.286737-108.301474 296.421053-269.473684 296.421052h-161.684211c-37.672421 0-53.894737 40.906105-53.894737 53.894737zM229.214316 269.473684a384.808421 384.808421 0 0 0-14.012632 58.341053l-1.401263 8.488421-6.090105 6.117053c-22.878316 22.932211-44.813474 52.601263-46.026105 62.275368 0 56.805053 53.76 75.264 107.789473 79.386947V431.157895c0-58.691368 13.473684-119.619368 46.511158-161.684211h-86.770526zM323.368421 1024h-53.894737c0-32.794947 25.869474-87.417263 77.446737-103.316211C313.020632 881.152 269.473684 822.433684 269.473684 781.473684c0-44.570947 36.271158-80.842105 80.842105-80.842105h45.16379A188.847158 188.847158 0 0 1 565.894737 592.842105h134.736842v53.894737h-134.736842c-74.293895 0-134.736842 60.442947-134.736842 134.736842v26.516211l-53.894737 0.377263V781.473684c0-9.162105 0.646737-18.135579 1.913263-26.947368H350.315789c-14.848 0-26.947368 12.072421-26.947368 26.947368 0 19.725474 36.675368 77.473684 92.133053 134.736842H431.157895v53.894737h-53.894737c-37.672421 0-53.894737 40.906105-53.894737 53.894737z" fill="#231F20" ></path></symbol><symbol id="icon-rabbit" viewBox="0 0 1024 1024"><path d="M680.96 488.744421a1666.667789 1666.667789 0 0 0-54.433684-23.95621c-16.006737 12.234105-33.899789 20.264421-60.631579 20.264421h-80.842105c-36.810105 0-83.644632 30.396632-104.394106 67.772631-42.819368 77.123368-53.409684 117.813895-11.021473 201.701053C397.096421 808.879158 431.157895 876.409263 431.157895 970.105263h338.539789l68.338527-138.859789c20.129684-40.96 24.252632-73.701053 24.252631-110.349474 0.026947-57.397895-25.061053-159.717053-181.328842-232.151579z" fill="#FFBDD8" ></path><path d="M862.315789 720.896c0 36.621474-4.122947 69.389474-24.252631 110.349474L769.697684 970.105263H485.052632v-53.894737h48.370526C507.877053 880.074105 485.052632 833.509053 485.052632 781.473684c0-59.418947 24.171789-113.313684 63.218526-152.360421l38.103579 38.103579A161.091368 161.091368 0 0 0 538.947368 781.473684c0 54.784 35.381895 104.043789 63.514948 134.736842h133.712842l53.490526-108.759579c15.710316-31.851789 18.755368-55.834947 18.755369-86.554947 0-80.976842-63.434105-150.096842-178.607158-195.503158-17.542737 8.138105-38.292211 13.554526-63.919158 13.554526h-80.842105c-13.958737 0-43.924211 15.979789-57.290106 40.016843l-47.104-26.165895C401.408 515.449263 448.242526 485.052632 485.052632 485.052632h80.842105c37.268211 0 57.478737-15.440842 79.090526-36.45979C625.367579 336.195368 549.753263 269.473684 485.052632 269.473684h-107.789474a21.288421 21.288421 0 0 0-5.955369 2.021053A683.762526 683.762526 0 0 0 302.187789 194.021053c-35.84-34.223158-61.763368-58.933895-94.908631-79.440842A42.442105 42.442105 0 0 0 185.478737 107.789474a22.824421 22.824421 0 0 0-17.381053 7.194947c-10.913684 11.425684-6.063158 28.240842 1.428211 39.181474 21.989053 32.121263 47.912421 56.858947 83.752421 91.109052 20.614737 19.671579 49.259789 43.169684 77.392842 63.08379C281.007158 367.400421 215.578947 484.432842 215.578947 592.842105c0 74.482526 24.791579 124.065684 51.065264 176.586106C294.534737 825.209263 323.368421 882.903579 323.368421 970.105263h-53.894737c0-74.482526-24.791579-124.065684-51.065263-176.586105C190.517895 737.738105 161.684211 680.043789 161.684211 592.842105c0-90.866526 42.226526-197.685895 93.453473-274.485894a803.759158 803.759158 0 0 1-39.046737-34.115369C177.852632 247.754105 150.231579 221.399579 125.035789 184.616421c-24.441263-35.759158-22.797474-78.686316 4.069053-106.819368 26.300632-27.567158 70.898526-31.043368 106.522947-9.000421 37.941895 23.444211 65.562947 49.798737 103.774316 86.258526 9.970526 9.512421 33.037474 32.309895 56.93979 60.550737h68.634947c-27.621053-37.780211-60.416-72.730947-88.522105-99.543579-28.833684-27.540211-54.730105-52.116211-84.533895-74.024421L326.305684 0.296421c31.232 23.228632 57.802105 48.532211 87.309474 76.719158 53.840842 51.388632 94.450526 100.594526 121.74821 146.83621 82.836211 26.650947 150.042947 116.870737 165.025685 230.750316l1.724631 13.177263-9.404631 9.404632c-3.772632 3.772632-7.706947 7.653053-11.802948 11.587368C837.227789 561.178947 862.315789 663.498105 862.315789 720.896zM309.463579 754.526316c3.934316 8.057263 7.895579 16.087579 11.991579 24.144842C348.887579 832.970105 377.263158 889.128421 377.263158 970.105263h53.894737c0-93.696-34.061474-161.226105-61.520842-215.578947h-60.173474z m597.90821 53.894737c-3.422316 9.404632-7.814737 19.806316-13.770105 31.959579L829.790316 970.105263h60.065684l52.143158-105.957052c10.778947-21.935158 17.515789-40.016842 21.90821-55.727158h-56.535579zM514.694737 390.736842c0-34.223158-13.231158-44.463158-29.642105-44.463158s-29.642105 10.24-29.642106 44.463158c0 34.250105 13.231158 44.463158 29.642106 44.463158s29.642105-10.213053 29.642105-44.463158z" fill="#231F20" ></path></symbol><symbol id="icon-rat" viewBox="0 0 1024 1024"><path d="M727.659789 431.157895c-132.581053 0-220.348632 47.454316-285.803789 154.354526-19.779368 32.309895-15.845053 76.503579-9.404632 96.579368 3.260632 10.159158 7.760842 18.647579 12.422737 25.546106C464.761263 737.010526 499.927579 754.526316 538.947368 754.526316h66.829474c1.158737 17.893053-1.967158 34.762105-15.144421 53.975579-12.692211 18.539789-37.807158 40.151579-56.32 54.810947 25.249684-0.673684 52.709053-0.997053 83.240421-0.997053C877.487158 862.315789 970.105263 711.922526 970.105263 571.176421 936.421053 512 882.364632 431.157895 727.659789 431.157895z" fill="#85C3DE" ></path><path d="M210.432 1012.897684l-43.573895-31.690105c106.954105-147.051789 185.317053-171.196632 423.828211-172.705684 21.396211-31.258947 16.249263-56.266105 9.377684-89.70779-3.557053-17.138526-7.221895-34.842947-7.221895-54.433684 0-68.958316 25.330526-104.636632 63.407158-136.973474l34.896842 41.040842c-29.453474 25.061053-44.409263 46.780632-44.409263 95.932632 0 14.093474 2.937263 28.402526 6.063158 43.546947 5.901474 28.510316 12.8 62.032842-1.131789 99.462737 166.373053-10.24 264.542316-96.902737 264.542315-236.193684C916.210526 418.330947 827.580632 323.368421 684.921263 323.368421c-83.644632 0-153.303579 29.696-174.187789 39.612632a224.875789 224.875789 0 0 1-20.533895 31.339789l-41.741474-34.115368 20.884211 17.057684-20.911158-16.976842C448.781474 359.828211 485.052632 314.287158 485.052632 262.736842c0-34.816-8.946526-60.766316-26.570106-77.069474-17.515789-16.249263-44.786526-24.602947-81.219368-24.953263V323.368421h-53.894737V109.783579l24.872421-1.913263c64.700632-4.931368 114.095158 7.895579 146.863158 38.238316C524.207158 173.056 538.947368 212.291368 538.947368 262.736842c0 11.102316-1.131789 21.908211-3.072 32.202105 37.268211-12.584421 89.842526-25.465263 149.045895-25.465263C858.165895 269.473684 970.105263 387.907368 970.105263 571.176421 970.105263 711.922526 877.487158 862.315789 617.552842 862.315789c-258.667789 0-311.942737 19.698526-407.120842 150.581895z m19.105684-256.835368c-12.045474 0-24.387368-0.565895-37.025684-1.64379l-22.096842-1.859368-2.425263-22.016C167.747368 728.144842 161.684211 672.444632 161.684211 631.026526c0-103.585684 21.450105-178.903579 53.894736-259.045052V107.789474h53.894737v274.782315l-2.021052 4.904422C235.439158 465.758316 215.578947 533.800421 215.578947 631.026526c0 22.878316 2.101895 51.442526 3.826527 70.979369 99.678316 2.802526 172.813474-35.408842 222.450526-116.493474l48.020211 24.090947c-11.237053 28.133053-11.371789 51.577263-0.377264 67.853474 9.701053 14.282105 28.645053 23.174737 49.448421 23.174737v53.894737c-39.019789 0-74.186105-17.515789-94.073263-46.888421a100.244211 100.244211 0 0 1-12.422737-25.546106c-53.221053 49.178947-121.128421 73.943579-202.913684 73.970527zM379.957895 525.473684c0-34.223158-13.231158-44.463158-29.642106-44.463158s-29.642105 10.24-29.642105 44.463158c0 34.250105 13.231158 44.463158 29.642105 44.463158s29.642105-10.213053 29.642106-44.463158z" fill="#231F20" ></path></symbol><symbol id="icon-rooster" viewBox="0 0 1024 1024"><path d="M891.688421 506.421895C877.244632 455.033263 862.315789 401.893053 862.315789 323.368421V116.224l-323.368421 195.745684V323.368421c0 78.524632 14.928842 131.664842 29.372632 183.053474 12.611368 44.894316 24.522105 87.282526 24.522105 140.314947 0 101.618526-77.931789 176.693895-168.286316 203.991579l5.416422 11.587368h215.578947c24.333474 0 43.385263-0.242526 58.556631-2.128842C811.52 846.821053 916.210526 764.550737 916.210526 646.736842c0-53.032421-11.910737-95.420632-24.522105-140.314947z" fill="#FF8787" ></path><path d="M673.684211 354.357895c-16.384 0-29.642105-10.213053-29.642106-44.463158 0-34.223158 13.231158-44.463158 29.642106-44.463158s29.642105 10.24 29.642105 44.463158c0 34.250105-13.258105 44.463158-29.642105 44.463158zM540.106105 970.105263l-50.58021-107.789474h156.05221l50.607158 107.789474h59.553684l-51.60421-109.918316C811.52 846.821053 916.210526 764.550737 916.210526 646.736842c0-53.032421-11.910737-95.420632-24.522105-140.314947C877.244632 455.033263 862.315789 401.893053 862.315789 323.368421V107.789474c0-59.445895-48.343579-107.789474-107.789473-107.789474a107.924211 107.924211 0 0 0-107.789474 106.172632 100.890947 100.890947 0 0 0-24.117895-3.314527 88.710737 88.710737 0 0 0-88.602947 88.602948c0 20.668632 5.227789 39.720421 10.671158 53.921684l-99.489684 59.688421 93.749894 14.470737V377.263158c0 14.416842-5.901474 21.692632-33.360842 49.152l-11.129263 11.129263C398.228211 326.521263 324.985263 269.473684 215.740632 269.473684 96.768 269.473684 0 366.241684 0 485.214316V646.736842h53.894737v-161.522526A162.007579 162.007579 0 0 1 215.740632 323.368421c82.081684 0 140.422737 36.244211 240.64 152.252632l-38.615579 38.615579C367.804632 461.285053 323.098947 431.157895 259.584 431.157895A151.983158 151.983158 0 0 0 107.789474 582.952421V754.526316h53.894737v-171.573895A98.007579 98.007579 0 0 1 259.584 485.052632c46.322526 0 79.629474 20.911158 137.027368 86.016l18.970948 21.530947 128.080842-128.080842C572.200421 435.981474 592.842105 415.366737 592.842105 377.263158v-97.926737l23.309474-14.120421-13.662316-23.04c-0.161684-0.242526-14.578526-24.899368-14.578526-50.688 0-19.132632 15.575579-34.708211 34.70821-34.708211 5.093053 0 26.785684 3.179789 39.558737 18.647579l26.327579 46.026106 39.774316-24.090948-20.372211-49.367579C704.754526 140.449684 700.631579 117.517474 700.631579 107.789474c0-29.722947 24.171789-53.894737 53.894737-53.894737s53.894737 24.171789 53.894737 53.894737v215.578947c0 85.935158 16.680421 145.300211 31.366736 197.632C851.887158 564.008421 862.315789 601.141895 862.315789 646.736842c0 95.285895-99.408842 161.684211-188.631578 161.684211h-209.461895l-68.419369-145.704421C375.242105 618.954105 338.108632 592.842105 296.448 592.842105A80.976842 80.976842 0 0 0 215.578947 673.711158V862.315789h53.894737v-188.604631c0-14.874947 12.099368-26.974316 26.974316-26.974316 20.533895 0 38.965895 14.147368 50.553263 38.858105L480.579368 970.105263h59.526737z" fill="#231F20" ></path></symbol><symbol id="icon-snake" viewBox="0 0 1024 1024"><path d="M107.789474 790.474105c0-72.434526 67.880421-91.513263 121.451789-91.513263 74.401684 0 153.815579 34.438737 237.891369 70.925474 50.580211 21.935158 104.609684 45.325474 162.250105 63.083789-52.412632 44.786526-118.784 74.347789-195.152842 83.078737-143.171368 16.357053-326.440421 7.006316-326.440421-125.574737zM377.263158 215.578947c-15.575579 0-30.288842 3.449263-43.654737 9.377685A250.691368 250.691368 0 0 0 323.368421 296.421053c0 115.550316 76.422737 169.391158 137.83579 212.614736 8.138105 5.712842 16.141474 11.371789 23.848421 17.057685V323.368421a107.789474 107.789474 0 0 0-107.789474-107.789474z" fill="#C3D686" ></path><path d="M671.528421 788.857263c44.328421 11.964632 89.626947 19.563789 136.892632 19.56379 89.168842 0 161.684211-60.442947 161.68421-134.736842s-72.515368-134.736842-161.68421-134.736843c-19.078737 0-37.025684 1.509053-54.218106 4.015158-0.754526-101.402947-38.211368-172.355368-79.413894-219.648L673.684211 323.368421a1749.962105 1749.962105 0 0 1-79.036632-1.751579c45.702737 35.866947 108.705684 107.870316 105.984 232.367158 0 0.431158-0.080842 0.808421-0.10779 1.239579-34.923789 10.994526-66.155789 26.731789-95.097263 45.190737a163.085474 163.085474 0 0 0-15.845052-42.388211c-21.557895-39.639579-60.065684-66.775579-97.360842-93.022316C433.098105 423.343158 377.263158 384 377.263158 296.421053c0-130.290526 108.274526-188.631579 215.578947-188.631579 64.134737 0 132.715789 12.045474 214.366316 37.807158C802.330947 180.250947 780.099368 209.381053 700.631579 214.635789V161.684211h-53.894737v53.679157c-63.272421-1.024-104.528842-5.200842-104.986947-5.254736l-5.578106 53.598315C538.408421 263.949474 592.357053 269.473684 673.684211 269.473684c125.170526 0 188.631579-48.128 188.631578-143.063579V106.981053l-18.432-6.144C747.789474 68.823579 668.025263 53.894737 592.842105 53.894737c-158.666105 0-269.473684 99.732211-269.473684 242.526316 0 115.550316 76.422737 169.391158 137.83579 212.614736 33.684211 23.713684 65.509053 46.106947 81.003789 74.698106 9.539368 17.542737 13.285053 33.414737 12.341895 47.750737 21.153684 9.108211 42.118737 17.839158 62.949052 25.977263C671.151158 620.193684 729.977263 592.842105 808.421053 592.842105c59.445895 0 107.789474 36.271158 107.789473 80.842106s-48.343579 80.842105-107.789473 80.842105c-105.472 0-203.237053-42.388211-297.768421-83.429053-94.800842-41.094737-184.346947-79.952842-281.411369-79.952842C122.718316 591.171368 53.894737 644.715789 53.894737 727.578947c0 79.063579 67.098947 136.434526 159.555368 136.434527 142.174316 0 230.426947-66.883368 306.79579-129.886316 31.420632 13.419789 62.787368 26.058105 94.450526 37.133474-47.077053 49.637053-110.969263 82.566737-186.610526 91.270736l5.066105 53.625264c93.453474-7.006316 143.144421 9.350737 195.718737 26.543157 46.457263 15.225263 94.127158 30.854737 169.822316 30.854737 19.994947 0 41.957053-1.077895 66.344421-3.557052l-5.416421-53.625263c-105.283368 10.778947-158.100211-6.548211-213.935158-24.872422-22.150737-7.275789-44.624842-14.632421-70.305684-20.345263a334.848 334.848 0 0 0 96.14821-82.297263z m-458.078316 21.261474C162.573474 810.118737 107.789474 784.276211 107.789474 727.578947c0-60.847158 62.733474-82.539789 121.451789-82.539789 77.850947 0 154.731789 30.288842 235.250526 64.943158-66.263579 52.924632-139.722105 100.136421-251.041684 100.136421z" fill="#231F20" ></path></symbol><symbol id="icon-tiger" viewBox="0 0 1024 1024"><path d="M431.157895 162.250105V134.736842c0-41.552842-39.289263-80.842105-80.842106-80.842105-28.833684 0-57.128421 4.661895-58.314105 4.850526L269.473684 62.490947v83.887158C144.788211 223.824842 89.222737 346.839579 66.991158 431.157895h266.051368c240.747789 0 415.851789 107.789474 415.85179 269.473684-14.848-25.114947-43.924211-53.894737-88.68379-53.894737-67.988211 0-121.263158 71.033263-121.263158 161.684211 0 66.802526 30.477474 119.888842 60.712421 156.16 12.638316 15.171368 36.055579 37.726316 59.014737 58.88 5.066105 0.107789 9.781895 0.538947 15.009685 0.538947 219.297684 0 350.315789-191.811368 350.315789-377.263158C1024 327.545263 679.855158 172.813474 431.157895 162.250105z" fill="#F7C768" ></path><path d="M673.684211 1024c-114.768842 0-188.820211-33.333895-254.167579-62.787368-53.625263-24.144842-99.974737-45.002105-161.28-45.002106-40.448 0-83.590737 23.255579-103.639579 45.16379l-39.747369-36.432842C142.497684 894.787368 199.168 862.315789 258.236632 862.315789c68.392421 0 119.861895 21.288421 172.921263 45.056V673.684211c0-35.166316-17.542737-64.107789-30.639158-80.815158-15.198316 9.835789-32.067368 18.890105-50.741895 26.947368l-21.342316-49.475368C469.800421 509.413053 485.052632 377.317053 485.052632 323.368421V221.642105A597.827368 597.827368 0 0 0 404.210526 215.578947h-26.947368V134.736842c0-12.099368-14.848-26.947368-26.947369-26.947368-9.377684 0-18.836211 0.592842-26.947368 1.347368V269.473684h-53.894737V211.671579c-136.030316 102.912-158.450526 266.886737-161.306947 295.882105 9.135158 9.108211 38.992842 25.061053 71.976421 38.669474l38.103579-59.365053 12.449684-1.589894C321.212632 473.653895 377.263158 392.192 377.263158 323.368421h53.894737c0 88.333474-68.796632 192.242526-180.870737 213.342316l-48.397474 75.398737-20.291368-7.437474C53.894737 557.756632 53.894737 523.317895 53.894737 512c0-50.041263 37.025684-254.733474 215.578947-365.621895V62.490947l22.528-3.745684C293.187368 58.556632 321.482105 53.894737 350.315789 53.894737c41.552842 0 80.842105 39.289263 80.842106 80.842105v27.513263c248.697263 10.563368 592.842105 165.295158 592.842105 484.486737 0 185.451789-131.018105 377.263158-350.315789 377.263158z m-13.473685-323.368421c-36.513684 0-67.368421 49.367579-67.368421 107.789474 0 85.746526 68.096 145.084632 89.465263 161.549473 91.540211-2.533053 164.378947-45.487158 213.827369-107.654737H700.631579v-53.894736h230.238316c8.919579-17.273263 16.357053-35.354947 22.285473-53.894737h-239.885473l-6.467369-17.650527C706.290526 735.582316 692.439579 700.631579 660.210526 700.631579zM485.052632 931.112421c33.926737 14.066526 70.521263 26.597053 114.607157 33.468632C569.424842 928.309895 538.947368 875.223579 538.947368 808.421053c0-90.650947 53.274947-161.684211 121.263158-161.684211 44.759579 0 73.835789 28.779789 88.68379 53.894737h217.007158c2.775579-17.866105 4.203789-35.920842 4.203789-53.894737 0-38.938947-5.658947-74.752-15.925895-107.627789l-126.706526 126.679579-38.103579-38.103579L932.001684 485.052632a367.939368 367.939368 0 0 0-57.775158-81.596632l-154.543158 154.543158-38.103579-38.103579 153.573053-153.573053a537.869474 537.869474 0 0 0-82.593684-56.751158l-140.665263 140.638316-38.103579-38.103579 128.134737-128.134737A794.731789 794.731789 0 0 0 538.947368 231.046737V323.368421c0 50.149053-11.102316 156.698947-95.932631 236.328421 18.378105 23.417263 42.037895 63.407158 42.037895 113.987369v257.42821zM215.578947 431.157895v-53.894737c39.774316 0 53.894737-29.022316 53.894737-53.894737h53.894737c0 53.571368-37.025684 107.789474-107.789474 107.789474z" fill="#231F20" ></path></symbol></svg>',o=(o=document.getElementsByTagName("script"))[o.length-1].getAttribute("data-injectcss"),C=function(c,l){l.parentNode.insertBefore(c,l)};if(o&&!c.__iconfont__svg__cssinject__){c.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(c){console&&console.log(c)}}function v(){a||(a=!0,t())}function n(){try{e.documentElement.doScroll("left")}catch(c){return void setTimeout(n,50)}v()}l=function(){var c,l=document.createElement("div");l.innerHTML=i,i=null,(l=l.getElementsByTagName("svg")[0])&&(l.setAttribute("aria-hidden","true"),l.style.position="absolute",l.style.width=0,l.style.height=0,l.style.overflow="hidden",l=l,(c=document.body).firstChild?C(l,c.firstChild):c.appendChild(l))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(l,0):(h=function(){document.removeEventListener("DOMContentLoaded",h,!1),l()},document.addEventListener("DOMContentLoaded",h,!1)):document.attachEvent&&(t=l,e=c.document,a=!1,n(),e.onreadystatechange=function(){"complete"==e.readyState&&(e.onreadystatechange=null,v())})}(window);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/live2d-widget-master/live2d.min.js"/>
      <url>/live2d-widget-master/live2d.min.js</url>
      
        <content type="html"><![CDATA[! function(t) {function i(r) {if (e[r]) return e[r].exports;var o = e[r] = {i: r,l: !1,exports: {}};return t[r].call(o.exports, o, o.exports, i), o.l = !0, o.exports}var e = {};i.m = t, i.c = e, i.d = function(t, e, r) {i.o(t, e) || Object.defineProperty(t, e, {configurable: !1,enumerable: !0,get: r})}, i.n = function(t) {var e = t && t.__esModule ? function() {return t.default} : function() {return t};return i.d(e, "a", e), e}, i.o = function(t, i) {return Object.prototype.hasOwnProperty.call(t, i)}, i.p = "", i(i.s = 4)}([function(t, i, e) {"use strict";function r() {this.live2DModel = null, this.modelMatrix = null, this.eyeBlink = null, this.physics = null, this.pose =null, this.debugMode = !1, this.initialized = !1, this.updating = !1, this.alpha = 1, this.accAlpha = 0, this.lipSync = !1, this.lipSyncValue = 0, this.accelX = 0, this.accelY = 0, this.accelZ = 0, this.dragX = 0, this.dragY = 0, this.startTimeMSec = null, this.mainMotionManager =new h, this.expressionManager = new h, this.motions = {}, this.expressions = {}, this.isTexLoaded = !1}function o() {AMotion.prototype.constructor.call(this), this.paramList = new Array}function n() {this.id = "", this.type = -1, this.value = null}function s() {this.nextBlinkTime = null, this.stateStartTime = null, this.blinkIntervalMsec = null, this.eyeState = g.STATE_FIRST, this.blinkIntervalMsec = 4e3, this.closingMotionMsec = 100, this.closedMotionMsec =50, this.openingMotionMsec = 150, this.closeIfZero = !0, this.eyeID_L = "PARAM_EYE_L_OPEN", this.eyeID_R = "PARAM_EYE_R_OPEN"}function _() {this.tr = new Float32Array(16), this.identity()}function a(t, i) {_.prototype.constructor.call(this), this.width = t, this.height = i}function h() {MotionQueueManager.prototype.constructor.call(this), this.currentPriority = null, this.reservePriority =null, this.super = MotionQueueManager.prototype}function l() {this.physicsList = new Array, this.startTimeMSec = UtSystem.getUserTimeMSec()}function $() {this.lastTime = 0, this.lastModel = null, this.partsGroups = new Array}function u(t) {this.paramIndex = -1, this.partsIndex = -1, this.link = null, this.id = t}function p() {this.EPSILON = .01, this.faceTargetX = 0, this.faceTargetY = 0, this.faceX = 0, this.faceY = 0, this.faceVX = 0, this.faceVY = 0, this.lastTimeSec = 0}function f() {_.prototype.constructor.call(this), this.screenLeft = null, this.screenRight = null, this.screenTop =null, this.screenBottom = null, this.maxLeft = null, this.maxRight = null, this.maxTop = null, this.maxBottom = null, this.max = Number.MAX_VALUE, this.min = 0}function c() {}var d = 0;r.prototype.getModelMatrix = function() {return this.modelMatrix}, r.prototype.setAlpha = function(t) {t > .999 && (t = 1), t < .001 && (t = 0), this.alpha = t}, r.prototype.getAlpha = function() {return this.alpha}, r.prototype.isInitialized = function() {return this.initialized}, r.prototype.setInitialized = function(t) {this.initialized = t}, r.prototype.isUpdating = function() {return this.updating}, r.prototype.setUpdating = function(t) {this.updating = t}, r.prototype.getLive2DModel = function() {return this.live2DModel}, r.prototype.setLipSync = function(t) {this.lipSync = t}, r.prototype.setLipSyncValue = function(t) {this.lipSyncValue = t}, r.prototype.setAccel = function(t, i, e) {this.accelX = t, this.accelY = i, this.accelZ = e}, r.prototype.setDrag = function(t, i) {this.dragX = t, this.dragY = i}, r.prototype.getMainMotionManager = function() {return this.mainMotionManager}, r.prototype.getExpressionManager = function() {return this.expressionManager}, r.prototype.loadModelData = function(t, i) {var e = c.getPlatformManager();this.debugMode && e.log("Load model : " + t);var r = this;e.loadLive2DModel(t, function(t) {if (r.live2DModel = t, r.live2DModel.saveParam(), 0 != Live2D.getError())return void console.error("Error : Failed to loadModelData().");r.modelMatrix = new a(r.live2DModel.getCanvasWidth(), r.live2DModel.getCanvasHeight()),r.modelMatrix.setWidth(2), r.modelMatrix.setCenterPosition(0, 0), i(r.live2DModel)})}, r.prototype.loadTexture = function(t, i, e) {d++;var r = c.getPlatformManager();this.debugMode && r.log("Load Texture : " + i);var o = this;r.loadTexture(this.live2DModel, t, i, function() {d--, 0 == d && (o.isTexLoaded = !0), "function" == typeof e && e()})}, r.prototype.loadMotion = function(t, i, e) {var r = c.getPlatformManager();this.debugMode && r.log("Load Motion : " + i);var o = null,n = this;r.loadBytes(i, function(i) {o = Live2DMotion.loadMotion(i), null != t && (n.motions[t] = o), e(o)})}, r.prototype.loadExpression = function(t, i, e) {var r = c.getPlatformManager();this.debugMode && r.log("Load Expression : " + i);var n = this;r.loadBytes(i, function(i) {null != t && (n.expressions[t] = o.loadJson(i)), "function" == typeof e && e()})}, r.prototype.loadPose = function(t, i) {var e = c.getPlatformManager();this.debugMode && e.log("Load Pose : " + t);var r = this;try {e.loadBytes(t, function(t) {r.pose = $.load(t), "function" == typeof i && i()})} catch (t) {console.warn(t)}}, r.prototype.loadPhysics = function(t) {var i = c.getPlatformManager();this.debugMode && i.log("Load Physics : " + t);var e = this;try {i.loadBytes(t, function(t) {e.physics = l.load(t)})} catch (t) {console.warn(t)}}, r.prototype.hitTestSimple = function(t, i, e) {if (null === this.live2DModel) return !1;var r = this.live2DModel.getDrawDataIndex(t);if (r < 0) return !1;for (var o = this.live2DModel.getTransformedPoints(r), n = this.live2DModel.getCanvasWidth(), s = 0,_ = this.live2DModel.getCanvasHeight(), a = 0, h = 0; h < o.length; h += 2) {var l = o[h],$ = o[h + 1];l < n && (n = l), l > s && (s = l), $ < _ && (_ = $), $ > a && (a = $)}var u = this.modelMatrix.invertTransformX(i),p = this.modelMatrix.invertTransformY(e);return n <= u && u <= s && _ <= p && p <= a}, r.prototype.hitTestSimpleCustom = function(t, i, e, r) {return null !== this.live2DModel && (e >= t[0] && e <= i[0] && r <= t[1] && r >= i[1])}, o.prototype = new AMotion, o.EXPRESSION_DEFAULT = "DEFAULT", o.TYPE_SET = 0, o.TYPE_ADD = 1, o.TYPE_MULT = 2, o.loadJson = function(t) {var i = new o,e = c.getPlatformManager(),r = e.jsonParseFromBytes(t);if (i.setFadeIn(parseInt(r.fade_in) > 0 ? parseInt(r.fade_in) : 1e3), i.setFadeOut(parseInt(r.fade_out) > 0 ? parseInt(r.fade_out) : 1e3), null == r.params) return i;var s = r.params,_ = s.length;i.paramList = [];for (var a = 0; a < _; a++) {var h = s[a],l = h.id.toString(),$ = parseFloat(h.val),u = o.TYPE_ADD,p = null != h.calc ? h.calc.toString() : "add";if ((u = "add" === p ? o.TYPE_ADD : "mult" === p ? o.TYPE_MULT : "set" === p ? o.TYPE_SET : o.TYPE_ADD) == o.TYPE_ADD) {var f = null == h.def ? 0 : parseFloat(h.def);$ -= f} else if (u == o.TYPE_MULT) {var f = null == h.def ? 1 : parseFloat(h.def);0 == f && (f = 1), $ /= f}var d = new n;d.id = l, d.type = u, d.value = $, i.paramList.push(d)}return i}, o.prototype.updateParamExe = function(t, i, e, r) {for (var n = this.paramList.length - 1; n >= 0; --n) {var s = this.paramList[n];s.type == o.TYPE_ADD ? t.addToParamFloat(s.id, s.value, e) : s.type == o.TYPE_MULT ? t.multParamFloat(s.id, s.value, e) : s.type == o.TYPE_SET && t.setParamFloat(s.id, s.value,e)}}, s.prototype.calcNextBlink = function() {return UtSystem.getUserTimeMSec() + Math.random() * (2 * this.blinkIntervalMsec - 1)}, s.prototype.setInterval = function(t) {this.blinkIntervalMsec = t}, s.prototype.setEyeMotion = function(t, i, e) {this.closingMotionMsec = t, this.closedMotionMsec = i, this.openingMotionMsec = e}, s.prototype.updateParam = function(t) {var i, e = UtSystem.getUserTimeMSec(),r = 0;switch (this.eyeState) {case g.STATE_CLOSING:r = (e - this.stateStartTime) / this.closingMotionMsec, r >= 1 && (r = 1, this.eyeState = g.STATE_CLOSED, this.stateStartTime = e), i = 1 - r;break;case g.STATE_CLOSED:r = (e - this.stateStartTime) / this.closedMotionMsec, r >= 1 && (this.eyeState = g.STATE_OPENING, this.stateStartTime = e), i = 0;break;case g.STATE_OPENING:r = (e - this.stateStartTime) / this.openingMotionMsec, r >= 1 && (r = 1, this.eyeState = g.STATE_INTERVAL, this.nextBlinkTime = this.calcNextBlink()), i = r;break;case g.STATE_INTERVAL:this.nextBlinkTime < e && (this.eyeState = g.STATE_CLOSING, this.stateStartTime = e), i = 1;break;case g.STATE_FIRST:default:this.eyeState = g.STATE_INTERVAL, this.nextBlinkTime = this.calcNextBlink(), i = 1}this.closeIfZero || (i = -i), t.setParamFloat(this.eyeID_L, i), t.setParamFloat(this.eyeID_R, i)};var g = function() {};g.STATE_FIRST = "STATE_FIRST", g.STATE_INTERVAL = "STATE_INTERVAL", g.STATE_CLOSING = "STATE_CLOSING", g.STATE_CLOSED = "STATE_CLOSED", g.STATE_OPENING = "STATE_OPENING", _.mul = function(t, i, e) {var r, o, n, s = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];for (r = 0; r < 4; r++)for (o = 0; o < 4; o++)for (n = 0; n < 4; n++) s[r + 4 * o] += t[r + 4 * n] * i[n + 4 * o];for (r = 0; r < 16; r++) e[r] = s[r]}, _.prototype.identity = function() {for (var t = 0; t < 16; t++) this.tr[t] = t % 5 == 0 ? 1 : 0}, _.prototype.getArray = function() {return this.tr}, _.prototype.getCopyMatrix = function() {return new Float32Array(this.tr)}, _.prototype.setMatrix = function(t) {if (null != this.tr && this.tr.length == this.tr.length)for (var i = 0; i < 16; i++) this.tr[i] = t[i]}, _.prototype.getScaleX = function() {return this.tr[0]}, _.prototype.getScaleY = function() {return this.tr[5]}, _.prototype.transformX = function(t) {return this.tr[0] * t * 8 / 3 + this.tr[12]}, _.prototype.transformY = function(t) {return this.tr[5] * t * 8 / 3 + this.tr[13]}, _.prototype.invertTransformX = function(t) {return (t - this.tr[12]) / this.tr[0]}, _.prototype.invertTransformY = function(t) {return (t - this.tr[13]) / this.tr[5]}, _.prototype.multTranslate = function(t, i) {var e = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, t, i, 0, 1];_.mul(e, this.tr, this.tr)}, _.prototype.translate = function(t, i) {this.tr[12] = t, this.tr[13] = i}, _.prototype.translateX = function(t) {this.tr[12] = t}, _.prototype.translateY = function(t) {this.tr[13] = t}, _.prototype.multScale = function(t, i) {var e = [t, 0, 0, 0, 0, i, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];_.mul(e, this.tr, this.tr)}, _.prototype.scale = function(t, i) {this.tr[0] = t, this.tr[5] = i}, a.prototype = new _, a.prototype.setPosition = function(t, i) {this.translate(t, i)}, a.prototype.setCenterPosition = function(t, i) {var e = this.width * this.getScaleX(),r = this.height * this.getScaleY();this.translate(t - e / 2, i - r / 2)}, a.prototype.top = function(t) {this.setY(t)}, a.prototype.bottom = function(t) {var i = this.height * this.getScaleY();this.translateY(t - i)}, a.prototype.left = function(t) {this.setX(t)}, a.prototype.right = function(t) {var i = this.width * this.getScaleX();this.translateX(t - i)}, a.prototype.centerX = function(t) {var i = this.width * this.getScaleX();this.translateX(t - i / 2)}, a.prototype.centerY = function(t) {var i = this.height * this.getScaleY();this.translateY(t - i / 2)}, a.prototype.setX = function(t) {this.translateX(t)}, a.prototype.setY = function(t) {this.translateY(t)}, a.prototype.setHeight = function(t) {var i = t / this.height,e = -i;this.scale(i, e)}, a.prototype.setWidth = function(t) {var i = t / this.width,e = -i;this.scale(i, e)}, h.prototype = new MotionQueueManager, h.prototype.getCurrentPriority = function() {return this.currentPriority}, h.prototype.getReservePriority = function() {return this.reservePriority}, h.prototype.reserveMotion = function(t) {return !(this.reservePriority >= t) && (!(this.currentPriority >= t) && (this.reservePriority = t, !0))}, h.prototype.setReservePriority = function(t) {this.reservePriority = t}, h.prototype.updateParam = function(t) {var i = MotionQueueManager.prototype.updateParam.call(this, t);return this.isFinished() && (this.currentPriority = 0), i}, h.prototype.startMotionPrio = function(t, i) {return i == this.reservePriority && (this.reservePriority = 0), this.currentPriority = i, this.startMotion(t, !1)}, l.load = function(t) {for (var i = new l, e = c.getPlatformManager(), r = e.jsonParseFromBytes(t), o = r.physics_hair, n =o.length, s = 0; s < n; s++) {var _ = o[s],a = new PhysicsHair,h = _.setup,$ = parseFloat(h.length),u = parseFloat(h.regist),p = parseFloat(h.mass);a.setup($, u, p);for (var f = _.src, d = f.length, g = 0; g < d; g++) {var y = f[g],m = y.id,T = PhysicsHair.Src.SRC_TO_X,P = y.ptype;"x" === P ? T = PhysicsHair.Src.SRC_TO_X : "y" === P ? T = PhysicsHair.Src.SRC_TO_Y :"angle" === P ? T = PhysicsHair.Src.SRC_TO_G_ANGLE : UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src");var S = parseFloat(y.scale),v = parseFloat(y.weight);a.addSrcParam(T, m, S, v)}for (var L = _.targets, M = L.length, g = 0; g < M; g++) {var E = L[g],m = E.id,T = PhysicsHair.Target.TARGET_FROM_ANGLE,P = E.ptype;"angle" === P ? T = PhysicsHair.Target.TARGET_FROM_ANGLE : "angle_v" === P ? T = PhysicsHair.Target.TARGET_FROM_ANGLE_V : UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target");var S = parseFloat(E.scale),v = parseFloat(E.weight);a.addTargetParam(T, m, S, v)}i.physicsList.push(a)}return i}, l.prototype.updateParam = function(t) {for (var i = UtSystem.getUserTimeMSec() - this.startTimeMSec, e = 0; e < this.physicsList.length; e++) this.physicsList[e].update(t, i)}, $.load = function(t) {for (var i = new $, e = c.getPlatformManager(), r = e.jsonParseFromBytes(t), o = r.parts_visible,n = o.length, s = 0; s < n; s++) {for (var _ = o[s], a = _.group, h = a.length, l = new Array, p = 0; p < h; p++) {var f = a[p],d = new u(f.id);if (l[p] = d, null != f.link) {var g = f.link,y = g.length;d.link = new Array;for (var m = 0; m < y; m++) {var T = new u(g[m]);d.link.push(T)}}}i.partsGroups.push(l)}return i}, $.prototype.updateParam = function(t) {if (null != t) {t != this.lastModel && this.initParam(t), this.lastModel = t;var i = UtSystem.getUserTimeMSec(),e = 0 == this.lastTime ? 0 : (i - this.lastTime) / 1e3;this.lastTime = i, e < 0 && (e = 0);for (var r = 0; r < this.partsGroups.length; r++) this.normalizePartsOpacityGroup(t, this.partsGroups[r], e), this.copyOpacityOtherParts(t, this.partsGroups[r])}}, $.prototype.initParam = function(t) {if (null != t)for (var i = 0; i < this.partsGroups.length; i++)for (var e = this.partsGroups[i], r = 0; r < e.length; r++) {e[r].initIndex(t);var o = e[r].partsIndex,n = e[r].paramIndex;if (!(o < 0)) {var s = 0 != t.getParamFloat(n);if (t.setPartsOpacity(o, s ? 1 : 0), t.setParamFloat(n, s ? 1 : 0), null != e[r].link)for (var _ = 0; _ < e[r].link.length; _++) e[r].link[_].initIndex(t)}}}, $.prototype.normalizePartsOpacityGroup = function(t, i, e) {for (var r = -1, o = 1, n = 0; n < i.length; n++) {var s = i[n].partsIndex,_ = i[n].paramIndex;if (!(s < 0) && 0 != t.getParamFloat(_)) {if (r >= 0) break;r = n, o = t.getPartsOpacity(s), o += e / .5, o > 1 && (o = 1)}}r < 0 && (r = 0, o = 1);for (var n = 0; n < i.length; n++) {var s = i[n].partsIndex;if (!(s < 0))if (r == n) t.setPartsOpacity(s, o);else {var a, h = t.getPartsOpacity(s);a = o < .5 ? -.5 * o / .5 + 1 : .5 * (1 - o) / .5;var l = (1 - a) * (1 - o);l > .15 && (a = 1 - .15 / (1 - o)), h > a && (h = a), t.setPartsOpacity(s, h)}}}, $.prototype.copyOpacityOtherParts = function(t, i) {for (var e = 0; e < i.length; e++) {var r = i[e];if (null != r.link && !(r.partsIndex < 0))for (var o = t.getPartsOpacity(r.partsIndex), n = 0; n < r.link.length; n++) {var s = r.link[n];s.partsIndex < 0 || t.setPartsOpacity(s.partsIndex, o)}}}, u.prototype.initIndex = function(t) {this.paramIndex = t.getParamIndex("VISIBLE:" + this.id), this.partsIndex = t.getPartsDataIndex(PartsDataID.getID(this.id)), t.setParamFloat(this.paramIndex, 1)}, p.FRAME_RATE = 30, p.prototype.setPoint = function(t, i) {this.faceTargetX = t, this.faceTargetY = i}, p.prototype.getX = function() {return this.faceX}, p.prototype.getY = function() {return this.faceY}, p.prototype.update = function() {var t = 40 / 7.5 / p.FRAME_RATE;if (0 == this.lastTimeSec) return void(this.lastTimeSec = UtSystem.getUserTimeMSec());var i = UtSystem.getUserTimeMSec(),e = (i - this.lastTimeSec) * p.FRAME_RATE / 1e3;this.lastTimeSec = i;var r = .15 * p.FRAME_RATE,o = e * t / r,n = this.faceTargetX - this.faceX,s = this.faceTargetY - this.faceY;if (!(Math.abs(n) <= this.EPSILON && Math.abs(s) <= this.EPSILON)) {var _ = Math.sqrt(n * n + s * s),a = t * n / _,h = t * s / _,l = a - this.faceVX,$ = h - this.faceVY,u = Math.sqrt(l * l + $ * $);(u < -o || u > o) && (l *= o / u, $ *= o / u, u = o), this.faceVX += l, this.faceVY += $;var f = .5 * (Math.sqrt(o * o + 16 * o * _ - 8 * o * _) - o),c = Math.sqrt(this.faceVX * this.faceVX + this.faceVY * this.faceVY);c > f && (this.faceVX *= f / c, this.faceVY *= f / c), this.faceX += this.faceVX, this.faceY +=this.faceVY}}, f.prototype = new _, f.prototype.getMaxScale = function() {return this.max}, f.prototype.getMinScale = function() {return this.min}, f.prototype.setMaxScale = function(t) {this.max = t}, f.prototype.setMinScale = function(t) {this.min = t}, f.prototype.isMaxScale = function() {return this.getScaleX() == this.max}, f.prototype.isMinScale = function() {return this.getScaleX() == this.min}, f.prototype.adjustTranslate = function(t, i) {this.tr[0] * this.maxLeft + (this.tr[12] + t) > this.screenLeft && (t = this.screenLeft - this.tr[0] * this.maxLeft - this.tr[12]), this.tr[0] * this.maxRight + (this.tr[12] + t) < this.screenRight && (t = this.screenRight - this.tr[0] * this.maxRight - this.tr[12]), this.tr[5] *this.maxTop + (this.tr[13] + i) < this.screenTop && (i = this.screenTop - this.tr[5] * this.maxTop - this.tr[13]), this.tr[5] * this.maxBottom + (this.tr[13] + i) > this.screenBottom && (i = this.screenBottom - this.tr[5] * this.maxBottom - this.tr[13]);var e = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, t, i, 0, 1];_.mul(e, this.tr, this.tr)}, f.prototype.adjustScale = function(t, i, e) {var r = e * this.tr[0];r < this.min ? this.tr[0] > 0 && (e = this.min / this.tr[0]) : r > this.max && this.tr[0] > 0 && (e = this.max / this.tr[0]);var o = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, t, i, 0, 1],n = [e, 0, 0, 0, 0, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],s = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, -t, -i, 0, 1];_.mul(s, this.tr, this.tr), _.mul(n, this.tr, this.tr), _.mul(o, this.tr, this.tr)}, f.prototype.setScreenRect = function(t, i, e, r) {this.screenLeft = t, this.screenRight = i, this.screenTop = r, this.screenBottom = e}, f.prototype.setMaxScreenRect = function(t, i, e, r) {this.maxLeft = t, this.maxRight = i, this.maxTop = r, this.maxBottom = e}, f.prototype.getScreenLeft = function() {return this.screenLeft}, f.prototype.getScreenRight = function() {return this.screenRight}, f.prototype.getScreenBottom = function() {return this.screenBottom}, f.prototype.getScreenTop = function() {return this.screenTop}, f.prototype.getMaxLeft = function() {return this.maxLeft}, f.prototype.getMaxRight = function() {return this.maxRight}, f.prototype.getMaxBottom = function() {return this.maxBottom}, f.prototype.getMaxTop = function() {return this.maxTop}, c.platformManager = null, c.getPlatformManager = function() {return c.platformManager}, c.setPlatformManager = function(t) {c.platformManager = t}, t.exports = {L2DTargetPoint: p,Live2DFramework: c,L2DViewMatrix: f,L2DPose: $,L2DPartsParam: u,L2DPhysics: l,L2DMotionManager: h,L2DModelMatrix: a,L2DMatrix44: _,EYE_STATE: g,L2DEyeBlink: s,L2DExpressionParam: n,L2DExpressionMotion: o,L2DBaseModel: r}}, function(t, i, e) {"use strict";var r = {DEBUG_LOG: !1,DEBUG_MOUSE_LOG: !1,DEBUG_DRAW_HIT_AREA: !1,DEBUG_DRAW_ALPHA_MODEL: !1,VIEW_MAX_SCALE: 2,VIEW_MIN_SCALE: .8,VIEW_LOGICAL_LEFT: -1,VIEW_LOGICAL_RIGHT: 1,VIEW_LOGICAL_MAX_LEFT: -2,VIEW_LOGICAL_MAX_RIGHT: 2,VIEW_LOGICAL_MAX_BOTTOM: -2,VIEW_LOGICAL_MAX_TOP: 2,PRIORITY_NONE: 0,PRIORITY_IDLE: 1,PRIORITY_SLEEPY: 2,PRIORITY_NORMAL: 3,PRIORITY_FORCE: 4,MOTION_GROUP_IDLE: "idle",MOTION_GROUP_SLEEPY: "sleepy",MOTION_GROUP_TAP_BODY: "tap_body",MOTION_GROUP_FLICK_HEAD: "flick_head",MOTION_GROUP_PINCH_IN: "pinch_in",MOTION_GROUP_PINCH_OUT: "pinch_out",MOTION_GROUP_SHAKE: "shake",HIT_AREA_HEAD: "head",HIT_AREA_BODY: "body"};t.exports = r}, function(t, i, e) {"use strict";function r(t) {n = t}function o() {return n}Object.defineProperty(i, "__esModule", {value: !0}), i.setContext = r, i.getContext = o;var n = void 0}, function(t, i, e) {"use strict";function r() {}r.matrixStack = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], r.depth = 0, r.currentMatrix = [1, 0, 0,0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], r.tmp = new Array(16), r.reset = function() {this.depth = 0}, r.loadIdentity = function() {for (var t = 0; t < 16; t++) this.currentMatrix[t] = t % 5 == 0 ? 1 : 0}, r.push = function() {var t = (this.depth, 16 * (this.depth + 1));this.matrixStack.length < t + 16 && (this.matrixStack.length = t + 16);for (var i = 0; i < 16; i++) this.matrixStack[t + i] = this.currentMatrix[i];this.depth++}, r.pop = function() {--this.depth < 0 && (myError("Invalid matrix stack."), this.depth = 0);for (var t = 16 * this.depth, i = 0; i < 16; i++) this.currentMatrix[i] = this.matrixStack[t + i]}, r.getMatrix = function() {return this.currentMatrix}, r.multMatrix = function(t) {var i, e, r;for (i = 0; i < 16; i++) this.tmp[i] = 0;for (i = 0; i < 4; i++)for (e = 0; e < 4; e++)for (r = 0; r < 4; r++) this.tmp[i + 4 * e] += this.currentMatrix[i + 4 * r] * t[r + 4 * e];for (i = 0; i < 16; i++) this.currentMatrix[i] = this.tmp[i]}, t.exports = r}, function(t, i, e) {t.exports = e(5)}, function(t, i, e) {"use strict";function r(t) {return t && t.__esModule ? t : {default: t}}function o(t) {C = document.getElementById(t), C.addEventListener && (window.addEventListener("click", g), window.addEventListener("mousedown", g), window.addEventListener("mousemove", g), window.addEventListener("mouseup", g), document.addEventListener("mouseout", g), window.addEventListener("touchstart", y), window.addEventListener("touchend", y), window.addEventListener("touchmove", y))}function n(t) {var i = C.width,e = C.height;N = new M.L2DTargetPoint;var r = e / i,o = w.default.VIEW_LOGICAL_LEFT,n = w.default.VIEW_LOGICAL_RIGHT,_ = -r,h = r;if (window.Live2D.captureFrame = !1, B = new M.L2DViewMatrix, B.setScreenRect(o, n, _, h), B.setMaxScreenRect(w.default.VIEW_LOGICAL_MAX_LEFT, w.default.VIEW_LOGICAL_MAX_RIGHT, w.default.VIEW_LOGICAL_MAX_BOTTOM, w.default.VIEW_LOGICAL_MAX_TOP), B.setMaxScale(w.default.VIEW_MAX_SCALE), B.setMinScale(w.default.VIEW_MIN_SCALE), U = new M.L2DMatrix44, U.multScale(1,i / e), G = new M.L2DMatrix44, G.multTranslate(-i / 2, -e / 2), G.multScale(2 / i, -2 / i), F =v(), (0, D.setContext)(F), !F) return console.error("Failed to create WebGL context."), void(window.WebGLRenderingContext && console.error("Your browser don't support WebGL, check https://get.webgl.org/ for futher information."));window.Live2D.setGL(F), F.clearColor(0, 0, 0, 0), a(t), s()}function s() {b || (b = !0, function t() {_();var i = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;if (window.Live2D.captureFrame) {window.Live2D.captureFrame = !1;var e = document.createElement("a");document.body.appendChild(e), e.setAttribute("type", "hidden"), e.href = C.toDataURL(),e.download = window.Live2D.captureName || "live2d.png", e.click()}i(t, C)}())}function _() {O.default.reset(), O.default.loadIdentity(), N.update(), R.setDrag(N.getX(), N.getY()), F.clear(F.COLOR_BUFFER_BIT), O.default.multMatrix(U.getArray()), O.default.multMatrix(B.getArray()), O.default.push();for (var t = 0; t < R.numModels(); t++) {var i = R.getModel(t);if (null == i) return;i.initialized && !i.updating && (i.update(), i.draw(F))}O.default.pop()}function a(t) {R.reloadFlg = !0, R.count++, R.changeModel(F, t)}function h(t, i) {return t.x * i.x + t.y * i.y}function l(t, i) {var e = Math.sqrt(t * t + i * i);return {x: t / e,y: i / e}}function $(t, i, e) {function r(t, i) {return 180 * Math.acos(h({x: 0,y: 1}, l(t, i))) / Math.PI}if (i.x < e.left + e.width && i.y < e.top + e.height && i.x > e.left && i.y > e.top) return i;var o = t.x - i.x,n = t.y - i.y,s = r(o, n);i.x < t.x && (s = 360 - s);var _ = 360 - r(e.left - t.x, -1 * (e.top - t.y)),a = 360 - r(e.left - t.x, -1 * (e.top + e.height - t.y)),$ = r(e.left + e.width - t.x, -1 * (e.top - t.y)),u = r(e.left + e.width - t.x, -1 * (e.top + e.height - t.y)),p = n / o,f = {};if (s < $) {var c = e.top - t.y,d = c / p;f = {y: t.y + c,x: t.x + d}} else if (s < u) {var g = e.left + e.width - t.x,y = g * p;f = {y: t.y + y,x: t.x + g}} else if (s < a) {var m = e.top + e.height - t.y,T = m / p;f = {y: t.y + m,x: t.x + T}} else if (s < _) {var P = t.x - e.left,S = P * p;f = {y: t.y - S,x: t.x - P}} else {var v = e.top - t.y,L = v / p;f = {y: t.y + v,x: t.x + L}}return f}function u(t) {Y = !0;var i = C.getBoundingClientRect(),e = P(t.clientX - i.left),r = S(t.clientY - i.top),o = $({x: i.left + i.width / 2,y: i.top + i.height * X}, {x: t.clientX,y: t.clientY}, i),n = m(o.x - i.left),s = T(o.y - i.top);w.default.DEBUG_MOUSE_LOG && console.log("onMouseMove device( x:" + t.clientX + " y:" + t.clientY +" ) view( x:" + n + " y:" + s + ")"), k = e, V = r, N.setPoint(n, s)}function p(t) {Y = !0;var i = C.getBoundingClientRect(),e = P(t.clientX - i.left),r = S(t.clientY - i.top),o = $({x: i.left + i.width / 2,y: i.top + i.height * X}, {x: t.clientX,y: t.clientY}, i),n = m(o.x - i.left),s = T(o.y - i.top);w.default.DEBUG_MOUSE_LOG && console.log("onMouseDown device( x:" + t.clientX + " y:" + t.clientY +" ) view( x:" + n + " y:" + s + ")"), k = e, V = r, R.tapEvent(n, s)}function f(t) {var i = C.getBoundingClientRect(),e = P(t.clientX - i.left),r = S(t.clientY - i.top),o = $({x: i.left + i.width / 2,y: i.top + i.height * X}, {x: t.clientX,y: t.clientY}, i),n = m(o.x - i.left),s = T(o.y - i.top);w.default.DEBUG_MOUSE_LOG && console.log("onMouseMove device( x:" + t.clientX + " y:" + t.clientY +" ) view( x:" + n + " y:" + s + ")"), Y && (k = e, V = r, N.setPoint(n, s))}function c() {Y && (Y = !1), N.setPoint(0, 0)}function d() {w.default.DEBUG_LOG && console.log("Set Session Storage."), sessionStorage.setItem("Sleepy", "1")}function g(t) {if ("mousewheel" == t.type);else if ("mousedown" == t.type) p(t);else if ("mousemove" == t.type) {var i = sessionStorage.getItem("Sleepy");"1" === i && sessionStorage.setItem("Sleepy", "0"), u(t)} else if ("mouseup" == t.type) {if ("button" in t && 0 != t.button) return} else if ("mouseout" == t.type) {w.default.DEBUG_LOG && console.log("Mouse out Window."), c();var e = sessionStorage.getItem("SleepyTimer");window.clearTimeout(e), e = window.setTimeout(d, 5e4), sessionStorage.setItem("SleepyTimer", e)}}function y(t) {var i = t.touches[0];"touchstart" == t.type ? 1 == t.touches.length && u(i) : "touchmove" == t.type ? f(i) : "touchend" == t.type && c()}function m(t) {var i = G.transformX(t);return B.invertTransformX(i)}function T(t) {var i = G.transformY(t);return B.invertTransformY(i)}function P(t) {return G.transformX(t)}function S(t) {return G.transformY(t)}function v() {for (var t = ["webgl", "experimental-webgl", "webkit-3d", "moz-webgl"], i = 0; i < t.length; i++) try {var e = C.getContext(t[i], {premultipliedAlpha: !0});if (e) return e} catch (t) {}return null}function L(t, i, e) {X = void 0 === e ? .5 : e, o(t), n(i)}e(6);var M = e(0),E = e(8),A = r(E),I = e(1),w = r(I),x = e(3),O = r(x),D = e(2),R = (window.navigator.platform.toLowerCase(), new A.default),b = !1,F = null,C = null,N = null,B = null,U = null,G = null,Y = !1,k = 0,V = 0,X = .5;window.loadlive2d = L}, function(t, i, e) {"use strict";(function(t) {! function() {function i() {At || (this._$MT = null, this._$5S = null, this._$NP = 0, i._$42++, this._$5S = new Y(this))}function e(t) {if (!At) {this.clipContextList = new Array, this.glcontext = t.gl, this.dp_webgl = t, this.curFrameNo = 0, this.firstError_clipInNotUpdate = !0, this.colorBuffer = 0, this.isInitGLFBFunc = !1, this.tmpBoundsOnModel = new S, at.glContext.length > at.frameBuffers.length && (this.curFrameNo = this.getMaskRenderTexture()), this.tmpModelToViewMatrix = new R, this.tmpMatrix2 = new R, this.tmpMatrixForMask =new R, this.tmpMatrixForDraw = new R, this.CHANNEL_COLORS = new Array;var i = new A;i = new A, i.r = 0, i.g = 0, i.b = 0, i.a = 1, this.CHANNEL_COLORS.push(i), i = new A, i.r = 1, i.g = 0, i.b = 0, i.a = 0, this.CHANNEL_COLORS.push(i), i = new A, i.r = 0,i.g = 1, i.b = 0, i.a = 0, this.CHANNEL_COLORS.push(i), i = new A, i.r = 0, i.g = 0,i.b = 1, i.a = 0, this.CHANNEL_COLORS.push(i);for (var e = 0; e < this.CHANNEL_COLORS.length; e++) this.dp_webgl.setChannelFlagAsColor(e, this.CHANNEL_COLORS[e])}}function r(t, i, e) {this.clipIDList = new Array, this.clipIDList = e, this.clippingMaskDrawIndexList =new Array;for (var r = 0; r < e.length; r++) this.clippingMaskDrawIndexList.push(i.getDrawDataIndex(e[r]));this.clippedDrawContextList = new Array, this.isUsing = !0, this.layoutChannelNo = 0, this.layoutBounds = new S, this.allClippedDrawRect = new S, this.matrixForMask =new Float32Array(16), this.matrixForDraw = new Float32Array(16), this.owner = t}function o(t, i) {this._$gP = t, this.drawDataIndex = i}function n() {At || (this.color = null)}function s() {At || (this._$dP = null, this._$eo = null, this._$V0 = null, this._$dP = 1e3, this._$eo =1e3, this._$V0 = 1, this._$a0())}function _() {}function a() {this._$r = null, this._$0S = null}function h() {At || (this.x = null, this.y = null, this.width = null, this.height = null)}function l(t) {At || et.prototype.constructor.call(this, t)}function $() {}function u(t) {At || et.prototype.constructor.call(this, t)}function p() {At || (this._$vo = null, this._$F2 = null, this._$ao = 400, this._$1S = 400, p._$42++)}function f() {At || (this.p1 = new c, this.p2 = new c, this._$Fo = 0, this._$Db = 0, this._$L2 = 0, this._$M2 = 0, this._$ks = 0, this._$9b = 0, this._$iP = 0, this._$iT = 0, this._$lL =new Array, this._$qP = new Array, this.setup(.3, .5, .1))}function c() {this._$p = 1, this.x = 0, this.y = 0, this.vx = 0, this.vy = 0, this.ax = 0, this.ay = 0,this.fx = 0, this.fy = 0, this._$s0 = 0, this._$70 = 0, this._$7L = 0, this._$HL = 0}function d(t, i, e) {this._$wL = null, this.scale = null, this._$V0 = null, this._$wL = t, this.scale = i, this._$V0 = e}function g(t, i, e, r) {d.prototype.constructor.call(this, i, e, r), this._$tL = null, this._$tL = t}function y(t, i, e) {this._$wL = null, this.scale = null, this._$V0 = null, this._$wL = t, this.scale = i, this._$V0 = e}function T(t, i, e, r) {y.prototype.constructor.call(this, i, e, r), this._$YP = null, this._$YP = t}function P() {At || (this._$fL = 0, this._$gL = 0, this._$B0 = 1, this._$z0 = 1, this._$qT = 0, this.reflectX = !1, this.reflectY = !1)}function S() {At || (this.x = null, this.y = null, this.width = null, this.height = null)}function v() {}function L() {At || (this.x = null, this.y = null)}function M() {At || (this._$gP = null, this._$dr = null, this._$GS = null, this._$qb = null, this._$Lb =null, this._$mS = null, this.clipID = null, this.clipIDList = new Array)}function E() {At || (this._$Eb = E._$ps, this._$lT = 1, this._$C0 = 1, this._$tT = 1, this._$WL = 1, this.culling = !1, this.matrix4x4 = new Float32Array(16), this.premultipliedAlpha = !1,this.anisotropy = 0, this.clippingProcess = E.CLIPPING_PROCESS_NONE, this.clipBufPre_clipContextMask = null, this.clipBufPre_clipContextDraw = null, this.CHANNEL_COLORS = new Array)}function A() {At || (this.a = 1, this.r = 1, this.g = 1, this.b = 1, this.scale = 1, this._$ho = 1, this.blendMode = at.L2D_COLOR_BLEND_MODE_MULT)}function I() {At || (this._$kP = null, this._$dr = null, this._$Ai = !0, this._$mS = null)}function w() {}function x() {At || (this._$VP = 0, this._$wL = null, this._$GP = null, this._$8o = x._$ds, this._$2r = -1, this._$O2 = 0, this._$ri = 0)}function O() {}function D() {At || (this._$Ob = null)}function R() {this.m = new Float32Array(16), this.identity()}function b(t) {At || et.prototype.constructor.call(this, t)}function F() {At || (this._$7 = 1, this._$f = 0, this._$H = 0, this._$g = 1, this._$k = 0, this._$w = 0,this._$hi = STATE_IDENTITY, this._$Z = _$pS)}function C() {At || (s.prototype.constructor.call(this), this.motions = new Array, this._$7r = null, this._$7r = C._$Co++, this._$D0 = 30, this._$yT = 0, this._$E = !0, this.loopFadeIn = !0, this._$AS = -1, _$a0())}function N() {this._$P = new Float32Array(100), this.size = 0}function B() {this._$4P = null, this._$I0 = null, this._$RP = null}function U() {}function G() {}function Y(t) {At || (this._$QT = !0, this._$co = -1, this._$qo = 0, this._$pb = new Array(Y._$is), this._$_2 = new Float32Array(Y._$is), this._$vr = new Float32Array(Y._$is), this._$Rr =new Float32Array(Y._$is), this._$Or = new Float32Array(Y._$is), this._$fs =new Float32Array(Y._$is), this._$Js = new Array(Y._$is), this._$3S = new Array, this._$aS = new Array, this._$Bo = null, this._$F2 = new Array, this._$db = new Array,this._$8b = new Array, this._$Hr = new Array, this._$Ws = null, this._$Vs = null,this._$Er = null, this._$Es = new Int16Array(U._$Qb), this._$ZP = new Float32Array(2 * U._$1r), this._$Ri = t, this._$b0 = Y._$HP++, this.clipManager = null, this.dp_webgl = null)}function k() {}function V() {At || (this._$12 = null, this._$bb = null, this._$_L = null, this._$jo = null, this._$iL =null, this._$0L = null, this._$Br = null, this._$Dr = null, this._$Cb = null, this._$mr = null, this._$_L = wt.STATE_FIRST, this._$Br = 4e3, this._$Dr = 100, this._$Cb = 50, this._$mr = 150, this._$jo = !0, this._$iL = "PARAM_EYE_L_OPEN", this._$0L = "PARAM_EYE_R_OPEN")}function X() {At || (E.prototype.constructor.call(this), this._$sb = new Int32Array(X._$As), this._$U2 =new Array, this.transform = null, this.gl = null, null == X._$NT && (X._$NT = X._$9r(256), X._$vS = X._$9r(256), X._$no = X._$vb(256)))}function z() {At || (I.prototype.constructor.call(this), this._$GS = null, this._$Y0 = null)}function H(t) {_t.prototype.constructor.call(this, t), this._$8r = I._$ur, this._$Yr = null, this._$Wr =null}function W() {At || (M.prototype.constructor.call(this), this._$gP = null, this._$dr = null, this._$GS =null, this._$qb = null, this._$Lb = null, this._$mS = null)}function j() {At || (this._$NL = null, this._$3S = null, this._$aS = null, j._$42++)}function q() {At || (i.prototype.constructor.call(this), this._$zo = new X)}function J() {At || (s.prototype.constructor.call(this), this.motions = new Array, this._$o2 = null, this._$7r = J._$Co++, this._$D0 = 30, this._$yT = 0, this._$E = !1, this.loopFadeIn = !0, this._$rr = -1, this._$eP = 0)}function Q(t, i) {return String.fromCharCode(t.getUint8(i))}function N() {this._$P = new Float32Array(100), this.size = 0}function B() {this._$4P = null, this._$I0 = null, this._$RP = null}function Z() {At || (I.prototype.constructor.call(this), this._$o = 0, this._$A = 0, this._$GS = null,this._$Eo = null)}function K(t) {_t.prototype.constructor.call(this, t), this._$8r = I._$ur, this._$Cr = null, this._$hr =null}function tt() {At || (this.visible = !0, this._$g0 = !1, this._$NL = null, this._$3S = null, this._$aS =null, tt._$42++)}function it(t) {this._$VS = null, this._$e0 = null, this._$e0 = t}function et(t) {At || (this.id = t)}function rt() {}function ot() {At || (this._$4S = null)}function nt(t, i) {this.canvas = t, this.context = i, this.viewport = new Array(0, 0, t.width, t.height), this._$6r = 1, this._$xP = 0, this._$3r = 1, this._$uP = 0, this._$Qo = -1, this.cacheImages = {}}function st() {At || (this._$TT = null, this._$LT = null, this._$FS = null, this._$wL = null)}function _t(t) {At || (this._$e0 = null, this._$IP = null, this._$JS = !1, this._$AT = !0, this._$e0 = t,this.totalScale = 1, this._$7s = 1, this.totalOpacity = 1)}function at() {}function ht() {}function lt(t) {At || (this._$ib = t)}function $t() {At || (W.prototype.constructor.call(this), this._$LP = -1, this._$d0 = 0, this._$Yo = 0,this._$JP = null, this._$5P = null, this._$BP = null, this._$Eo = null, this._$Qi =null, this._$6s = $t._$ms, this.culling = !0, this.gl_cacheImage = null, this.instanceNo = $t._$42++)}function ut(t) {Mt.prototype.constructor.call(this, t), this._$8r = W._$ur, this._$Cr = null, this._$hr =null}function pt() {At || (this.x = null, this.y = null)}function ft(t) {At || (i.prototype.constructor.call(this), this.drawParamWebGL = new mt(t), this.drawParamWebGL.setGL(at.getGL(t)))}function ct() {At || (this.motions = null, this._$eb = !1, this.motions = new Array)}function dt() {this._$w0 = null, this._$AT = !0, this._$9L = !1, this._$z2 = -1, this._$bs = -1, this._$Do = -1, this._$sr = null, this._$sr = dt._$Gs++}function gt() {this.m = new Array(1, 0, 0, 0, 1, 0, 0, 0, 1)}function yt(t) {At || et.prototype.constructor.call(this, t)}function mt(t) {At || (E.prototype.constructor.call(this), this.textures = new Array, this.transform = null,this.gl = null, this.glno = t, this.firstDraw = !0, this.anisotropyExt = null, this.maxAnisotropy = 0, this._$As = 32, this._$Gr = !1, this._$NT = null, this._$vS =null, this._$no = null, this.vertShader = null, this.fragShader = null, this.vertShaderOff = null, this.fragShaderOff = null)}function Tt(t, i, e) {return null == i && (i = t.createBuffer()), t.bindBuffer(t.ARRAY_BUFFER, i), t.bufferData(t.ARRAY_BUFFER, e, t.DYNAMIC_DRAW), i}function Pt(t, i, e) {return null == i && (i = t.createBuffer()), t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, i), t.bufferData(t.ELEMENT_ARRAY_BUFFER, e, t.DYNAMIC_DRAW), i}function St(t) {At || (this._$P = new Int8Array(8), this._$R0 = new DataView(this._$P.buffer), this._$3i =new Int8Array(1e3), this._$hL = 0, this._$v0 = 0, this._$S2 = 0, this._$Ko =new Array, this._$T = t, this._$F = 0)}function vt() {}function Lt() {}function Mt(t) {At || (this._$e0 = null, this._$IP = null, this._$Us = null, this._$7s = null, this._$IS = [!1], this._$VS = null, this._$AT = !0, this.baseOpacity = 1, this.clipBufPre_clipContext = null, this._$e0 = t)}function Et() {}var At = !0;i._$0s = 1, i._$4s = 2, i._$42 = 0, i._$62 = function(t, e) {try {if (e instanceof ArrayBuffer && (e = new DataView(e)), !(e instanceof DataView))throw new lt("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var r, o = new St(e),n = o._$ST(),s = o._$ST(),a = o._$ST();if (109 != n || 111 != s || 99 != a) throw new lt("_$gi _$C _$li , _$Q0 _$P0.");if (r = o._$ST(), o._$gr(r), r > G._$T7) {t._$NP |= i._$4s;throw new lt("_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : " + G._$T7 +" < _$f0 : " + r + " )@_$SS#loadModel()\n")}var h = o._$nP();if (r >= G._$s7) {var l = o._$9T(),$ = o._$9T();if (-30584 != l || -30584 != $) throw t._$NP |= i._$0s, new lt("_$gi _$C _$li , _$0 _$6 _$Ui.")}t._$KS(h);var u = t.getModelContext();u.setDrawParam(t.getDrawParam()), u.init()} catch (t) {_._$Rb(t)}}, i.prototype._$KS = function(t) {this._$MT = t}, i.prototype.getModelImpl = function() {return null == this._$MT && (this._$MT = new p, this._$MT._$zP()), this._$MT}, i.prototype.getCanvasWidth = function() {return null == this._$MT ? 0 : this._$MT.getCanvasWidth()}, i.prototype.getCanvasHeight = function() {return null == this._$MT ? 0 : this._$MT.getCanvasHeight()}, i.prototype.getParamFloat = function(t) {return "number" != typeof t && (t = this._$5S.getParamIndex(u.getID(t))), this._$5S.getParamFloat(t)}, i.prototype.setParamFloat = function(t, i, e) {"number" != typeof t && (t = this._$5S.getParamIndex(u.getID(t))), arguments.length <3 && (e = 1), this._$5S.setParamFloat(t, this._$5S.getParamFloat(t) * (1 - e) + i *e)}, i.prototype.addToParamFloat = function(t, i, e) {"number" != typeof t && (t = this._$5S.getParamIndex(u.getID(t))), arguments.length <3 && (e = 1), this._$5S.setParamFloat(t, this._$5S.getParamFloat(t) + i * e)}, i.prototype.multParamFloat = function(t, i, e) {"number" != typeof t && (t = this._$5S.getParamIndex(u.getID(t))), arguments.length <3 && (e = 1), this._$5S.setParamFloat(t, this._$5S.getParamFloat(t) * (1 + (i - 1) *e))}, i.prototype.getParamIndex = function(t) {return this._$5S.getParamIndex(u.getID(t))}, i.prototype.loadParam = function() {this._$5S.loadParam()}, i.prototype.saveParam = function() {this._$5S.saveParam()}, i.prototype.init = function() {this._$5S.init()}, i.prototype.update = function() {this._$5S.update()}, i.prototype._$Rs = function() {return _._$li("_$60 _$PT _$Rs()"), -1}, i.prototype._$Ds = function(t) {_._$li("_$60 _$PT _$SS#_$Ds() \n")}, i.prototype._$K2 = function() {}, i.prototype.draw = function() {}, i.prototype.getModelContext = function() {return this._$5S}, i.prototype._$s2 = function() {return this._$NP}, i.prototype._$P7 = function(t, i, e, r) {var o = -1,n = 0,s = this;if (0 != e)if (1 == t.length) {var _ = t[0],a = 0 != s.getParamFloat(_),h = i[0],l = s.getPartsOpacity(h),$ = e / r;a ? (l += $) > 1 && (l = 1) : (l -= $) < 0 && (l = 0), s.setPartsOpacity(h, l)} else {for (var u = 0; u < t.length; u++) {var _ = t[u],p = 0 != s.getParamFloat(_);if (p) {if (o >= 0) break;o = u;var h = i[u];n = s.getPartsOpacity(h), n += e / r, n > 1 && (n = 1)}}o < 0 && (console.log("No _$wi _$q0/ _$U default[%s]", t[0]), o = 0, n = 1, s.loadParam(), s.setParamFloat(t[o], n), s.saveParam());for (var u = 0; u < t.length; u++) {var h = i[u];if (o == u) s.setPartsOpacity(h, n);else {var f, c = s.getPartsOpacity(h);f = n < .5 ? -.5 * n / .5 + 1 : .5 * (1 - n) / .5;var d = (1 - f) * (1 - n);d > .15 && (f = 1 - .15 / (1 - n)), c > f && (c = f), s.setPartsOpacity(h, c)}}}elsefor (var u = 0; u < t.length; u++) {var _ = t[u],h = i[u],p = 0 != s.getParamFloat(_);s.setPartsOpacity(h, p ? 1 : 0)}}, i.prototype.setPartsOpacity = function(t, i) {"number" != typeof t && (t = this._$5S.getPartsDataIndex(l.getID(t))), this._$5S.setPartsOpacity(t, i)}, i.prototype.getPartsDataIndex = function(t) {return t instanceof l || (t = l.getID(t)), this._$5S.getPartsDataIndex(t)}, i.prototype.getPartsOpacity = function(t) {return "number" != typeof t && (t = this._$5S.getPartsDataIndex(l.getID(t))), t < 0 ?0 : this._$5S.getPartsOpacity(t)}, i.prototype.getDrawParam = function() {}, i.prototype.getDrawDataIndex = function(t) {return this._$5S.getDrawDataIndex(b.getID(t))}, i.prototype.getDrawData = function(t) {return this._$5S.getDrawData(t)}, i.prototype.getTransformedPoints = function(t) {var i = this._$5S._$C2(t);return i instanceof ut ? i.getTransformedPoints() : null}, i.prototype.getIndexArray = function(t) {if (t < 0 || t >= this._$5S._$aS.length) return null;var i = this._$5S._$aS[t];return null != i && i.getType() == W._$wb && i instanceof $t ? i.getIndexArray() : null}, e.CHANNEL_COUNT = 4, e.RENDER_TEXTURE_USE_MIPMAP = !1, e.NOT_USED_FRAME = -100, e.prototype._$L7 = function() {if (this.tmpModelToViewMatrix && (this.tmpModelToViewMatrix = null), this.tmpMatrix2 &&(this.tmpMatrix2 = null), this.tmpMatrixForMask && (this.tmpMatrixForMask = null),this.tmpMatrixForDraw && (this.tmpMatrixForDraw = null), this.tmpBoundsOnModel && (this.tmpBoundsOnModel = null), this.CHANNEL_COLORS) {for (var t = this.CHANNEL_COLORS.length - 1; t >= 0; --t) this.CHANNEL_COLORS.splice(t, 1);this.CHANNEL_COLORS = []}this.releaseShader()}, e.prototype.releaseShader = function() {for (var t = at.frameBuffers.length, i = 0; i < t; i++) this.gl.deleteFramebuffer(at.frameBuffers[i].framebuffer);at.frameBuffers = [], at.glContext = []}, e.prototype.init = function(t, i, e) {for (var o = 0; o < i.length; o++) {var n = i[o].getClipIDList();if (null != n) {var s = this.findSameClip(n);null == s && (s = new r(this, t, n), this.clipContextList.push(s));var _ = i[o].getDrawDataID(),a = t.getDrawDataIndex(_);s.addClippedDrawData(_, a);e[o].clipBufPre_clipContext = s}}}, e.prototype.getMaskRenderTexture = function() {var t = null;return t = this.dp_webgl.createFramebuffer(), at.frameBuffers[this.dp_webgl.glno] = t,this.dp_webgl.glno}, e.prototype.setupClip = function(t, i) {for (var e = 0, r = 0; r < this.clipContextList.length; r++) {var o = this.clipContextList[r];this.calcClippedDrawTotalBounds(t, o), o.isUsing && e++}if (e > 0) {var n = i.gl.getParameter(i.gl.FRAMEBUFFER_BINDING),s = new Array(4);s[0] = 0, s[1] = 0, s[2] = i.gl.canvas.width, s[3] = i.gl.canvas.height, i.gl.viewport(0, 0, at.clippingMaskBufferSize, at.clippingMaskBufferSize), this.setupLayoutBounds(e), i.gl.bindFramebuffer(i.gl.FRAMEBUFFER, at.frameBuffers[this.curFrameNo].framebuffer), i.gl.clearColor(0, 0, 0, 0), i.gl.clear(i.gl.COLOR_BUFFER_BIT);for (var r = 0; r < this.clipContextList.length; r++) {var o = this.clipContextList[r],_ = o.allClippedDrawRect,a = (o.layoutChannelNo, o.layoutBounds);this.tmpBoundsOnModel._$jL(_), this.tmpBoundsOnModel.expand(.05 * _.width, .05 *_.height);var h = a.width / this.tmpBoundsOnModel.width,l = a.height / this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(), this.tmpMatrix2.translate(-1, -1, 0), this.tmpMatrix2.scale(2, 2, 1), this.tmpMatrix2.translate(a.x, a.y, 0), this.tmpMatrix2.scale(h, l, 1), this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x, -this.tmpBoundsOnModel.y, 0), this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m), this.tmpMatrix2.identity(), this.tmpMatrix2.translate(a.x, a.y, 0), this.tmpMatrix2.scale(h, l, 1), this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x, -this.tmpBoundsOnModel.y, 0), this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for (var $ = this.tmpMatrixForMask.getArray(), u = 0; u < 16; u++) o.matrixForMask[u] = $[u];for (var p = this.tmpMatrixForDraw.getArray(), u = 0; u < 16; u++) o.matrixForDraw[u] = p[u];for (var f = o.clippingMaskDrawIndexList.length, c = 0; c < f; c++) {var d = o.clippingMaskDrawIndexList[c],g = t.getDrawData(d),y = t._$C2(d);i.setClipBufPre_clipContextForMask(o), g.draw(i, t, y)}}i.gl.bindFramebuffer(i.gl.FRAMEBUFFER, n), i.setClipBufPre_clipContextForMask(null),i.gl.viewport(s[0], s[1], s[2], s[3])}}, e.prototype.getColorBuffer = function() {return this.colorBuffer}, e.prototype.findSameClip = function(t) {for (var i = 0; i < this.clipContextList.length; i++) {var e = this.clipContextList[i],r = e.clipIDList.length;if (r == t.length) {for (var o = 0, n = 0; n < r; n++)for (var s = e.clipIDList[n], _ = 0; _ < r; _++)if (t[_] == s) {o++;break} if (o == r) return e}}return null}, e.prototype.calcClippedDrawTotalBounds = function(t, i) {for (var e = t._$Ri.getModelImpl().getCanvasWidth(), r = t._$Ri.getModelImpl().getCanvasHeight(), o = e > r ? e : r, n = o, s = o, _ = 0, a = 0, h = i.clippedDrawContextList.length, l = 0; l < h; l++) {var $ = i.clippedDrawContextList[l],u = $.drawDataIndex,p = t._$C2(u);if (p._$yo()) {for (var f = p.getTransformedPoints(), c = f.length, d = [], g = [], y = 0, m =U._$i2; m < c; m += U._$No) d[y] = f[m], g[y] = f[m + 1], y++;var T = Math.min.apply(null, d),P = Math.min.apply(null, g),S = Math.max.apply(null, d),v = Math.max.apply(null, g);T < n && (n = T), P < s && (s = P), S > _ && (_ = S), v > a && (a = v)}}if (n == o) i.allClippedDrawRect.x = 0, i.allClippedDrawRect.y = 0, i.allClippedDrawRect.width = 0, i.allClippedDrawRect.height = 0, i.isUsing = !1;else {var L = _ - n,M = a - s;i.allClippedDrawRect.x = n, i.allClippedDrawRect.y = s, i.allClippedDrawRect.width =L, i.allClippedDrawRect.height = M, i.isUsing = !0}}, e.prototype.setupLayoutBounds = function(t) {var i = t / e.CHANNEL_COUNT,r = t % e.CHANNEL_COUNT;i = ~~i, r = ~~r;for (var o = 0, n = 0; n < e.CHANNEL_COUNT; n++) {var s = i + (n < r ? 1 : 0);if (0 == s);else if (1 == s) {var a = this.clipContextList[o++];a.layoutChannelNo = n, a.layoutBounds.x = 0, a.layoutBounds.y = 0, a.layoutBounds.width = 1, a.layoutBounds.height = 1} else if (2 == s)for (var h = 0; h < s; h++) {var l = h % 2,$ = 0;l = ~~l;var a = this.clipContextList[o++];a.layoutChannelNo = n, a.layoutBounds.x = .5 * l, a.layoutBounds.y = 0, a.layoutBounds.width = .5, a.layoutBounds.height = 1} else if (s <= 4)for (var h = 0; h < s; h++) {var l = h % 2,$ = h / 2;l = ~~l, $ = ~~$;var a = this.clipContextList[o++];a.layoutChannelNo = n, a.layoutBounds.x = .5 * l, a.layoutBounds.y =.5 * $, a.layoutBounds.width = .5, a.layoutBounds.height = .5} else if (s <= 9)for (var h = 0; h < s; h++) {var l = h % 3,$ = h / 3;l = ~~l, $ = ~~$;var a = this.clipContextList[o++];a.layoutChannelNo = n, a.layoutBounds.x = l / 3, a.layoutBounds.y =$ / 3, a.layoutBounds.width = 1 / 3, a.layoutBounds.height = 1 /3} else _._$li("_$6 _$0P mask count : %d", s)}}, r.prototype.addClippedDrawData = function(t, i) {var e = new o(t, i);this.clippedDrawContextList.push(e)}, s._$JT = function(t, i, e) {var r = t / i,o = e / i,n = o,s = 1 - (1 - o) * (1 - o),_ = 1 - (1 - n) * (1 - n),a = 1 / 3 * (1 - o) * s + (n * (2 / 3) + 1 / 3 * (1 - n)) * (1 - s),h = (n + 2 / 3 * (1 - n)) * _ + (o * (1 / 3) + 2 / 3 * (1 - o)) * (1 - _),l = 1 - 3 * h + 3 * a - 0,$ = 3 * h - 6 * a + 0,u = 3 * a - 0;if (r <= 0) return 0;if (r >= 1) return 1;var p = r,f = p * p;return l * (p * f) + $ * f + u * p + 0}, s.prototype._$a0 = function() {}, s.prototype.setFadeIn = function(t) {this._$dP = t}, s.prototype.setFadeOut = function(t) {this._$eo = t}, s.prototype._$pT = function(t) {this._$V0 = t}, s.prototype.getFadeOut = function() {return this._$eo}, s.prototype._$4T = function() {return this._$eo}, s.prototype._$mT = function() {return this._$V0}, s.prototype.getDurationMSec = function() {return -1}, s.prototype.getLoopDurationMSec = function() {return -1}, s.prototype.updateParam = function(t, i) {if (i._$AT && !i._$9L) {var e = w.getUserTimeMSec();if (i._$z2 < 0) {i._$z2 = e, i._$bs = e;var r = this.getDurationMSec();i._$Do < 0 && (i._$Do = r <= 0 ? -1 : i._$z2 + r)}var o = this._$V0;o = o * (0 == this._$dP ? 1 : ht._$r2((e - i._$bs) / this._$dP)) * (0 == this._$eo || i._$Do < 0 ? 1 : ht._$r2((i._$Do - e) / this._$eo)), 0 <= o && o <=1 || console.log("### assert!! ### "), this.updateParamExe(t, e, o, i), i._$Do >0 && i._$Do < e && (i._$9L = !0)}}, s.prototype.updateParamExe = function(t, i, e, r) {}, _._$8s = 0, _._$fT = new Object, _.start = function(t) {var i = _._$fT[t];null == i && (i = new a, i._$r = t, _._$fT[t] = i), i._$0S = w.getSystemTimeMSec()}, _.dump = function(t) {var i = _._$fT[t];if (null != i) {var e = w.getSystemTimeMSec(),r = e - i._$0S;return console.log(t + " : " + r + "ms"), r}return -1}, _.end = function(t) {var i = _._$fT[t];if (null != i) {return w.getSystemTimeMSec() - i._$0S}return -1}, _._$li = function(t, i) {console.log("_$li : " + t + "\n", i)}, _._$Ji = function(t, i) {console.log(t, i)}, _._$dL = function(t, i) {console.log(t, i), console.log("\n")}, _._$KL = function(t, i) {for (var e = 0; e < i; e++) e % 16 == 0 && e > 0 ? console.log("\n") : e % 8 == 0 && e >0 && console.log("  "), console.log("%02X ", 255 & t[e]);console.log("\n")}, _._$nr = function(t, i, e) {console.log("%s\n", t);for (var r = i.length, o = 0; o < r; ++o) console.log("%5d", i[o]), console.log("%s\n",e), console.log(",");console.log("\n")}, _._$Rb = function(t) {console.log("dump exception : " + t), console.log("stack :: " + t.stack)}, h.prototype._$8P = function() {return .5 * (this.x + this.x + this.width)}, h.prototype._$6P = function() {return .5 * (this.y + this.y + this.height)}, h.prototype._$EL = function() {return this.x + this.width}, h.prototype._$5T = function() {return this.y + this.height}, h.prototype._$jL = function(t, i, e, r) {this.x = t, this.y = i, this.width = e, this.height = r}, h.prototype._$jL = function(t) {this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height}, l.prototype = new et, l._$tP = new Object, l._$27 = function() {l._$tP.clear()}, l.getID = function(t) {var i = l._$tP[t];return null == i && (i = new l(t), l._$tP[t] = i), i}, l.prototype._$3s = function() {return new l}, u.prototype = new et, u._$tP = new Object, u._$27 = function() {u._$tP.clear()}, u.getID = function(t) {var i = u._$tP[t];return null == i && (i = new u(t), u._$tP[t] = i), i}, u.prototype._$3s = function() {return new u}, p._$42 = 0, p.prototype._$zP = function() {null == this._$vo && (this._$vo = new ot), null == this._$F2 && (this._$F2 = new Array)}, p.prototype.getCanvasWidth = function() {return this._$ao}, p.prototype.getCanvasHeight = function() {return this._$1S}, p.prototype._$F0 = function(t) {this._$vo = t._$nP(), this._$F2 = t._$nP(), this._$ao = t._$6L(), this._$1S = t._$6L()}, p.prototype._$6S = function(t) {this._$F2.push(t)}, p.prototype._$Xr = function() {return this._$F2}, p.prototype._$E2 = function() {return this._$vo}, f.prototype.setup = function(t, i, e) {this._$ks = this._$Yb(), this.p2._$xT(), 3 == arguments.length && (this._$Fo = t, this._$L2 = i, this.p1._$p = e, this.p2._$p = e, this.p2.y = t, this.setup())}, f.prototype.getPhysicsPoint1 = function() {return this.p1}, f.prototype.getPhysicsPoint2 = function() {return this.p2}, f.prototype._$qr = function() {return this._$Db}, f.prototype._$pr = function(t) {this._$Db = t}, f.prototype._$5r = function() {return this._$M2}, f.prototype._$Cs = function() {return this._$9b}, f.prototype._$Yb = function() {return -180 * Math.atan2(this.p1.x - this.p2.x, -(this.p1.y - this.p2.y)) / Math.PI}, f.prototype.addSrcParam = function(t, i, e, r) {var o = new g(t, i, e, r);this._$lL.push(o)}, f.prototype.addTargetParam = function(t, i, e, r) {var o = new T(t, i, e, r);this._$qP.push(o)}, f.prototype.update = function(t, i) {if (0 == this._$iP) return this._$iP = this._$iT = i, void(this._$Fo = Math.sqrt((this.p1.x - this.p2.x) * (this.p1.x - this.p2.x) + (this.p1.y - this.p2.y) * (this.p1.y - this.p2.y)));var e = (i - this._$iT) / 1e3;if (0 != e) {for (var r = this._$lL.length - 1; r >= 0; --r) {this._$lL[r]._$oP(t, this)}this._$oo(t, e), this._$M2 = this._$Yb(), this._$9b = (this._$M2 - this._$ks) / e,this._$ks = this._$M2}for (var r = this._$qP.length - 1; r >= 0; --r) {this._$qP[r]._$YS(t, this)}this._$iT = i}, f.prototype._$oo = function(t, i) {i < .033 && (i = .033);var e = 1 / i;this.p1.vx = (this.p1.x - this.p1._$s0) * e, this.p1.vy = (this.p1.y - this.p1._$70) *e, this.p1.ax = (this.p1.vx - this.p1._$7L) * e, this.p1.ay = (this.p1.vy - this.p1._$HL) * e, this.p1.fx = this.p1.ax * this.p1._$p, this.p1.fy = this.p1.ay *this.p1._$p, this.p1._$xT();var r, o, n = -Math.atan2(this.p1.y - this.p2.y, this.p1.x - this.p2.x),s = Math.cos(n),_ = Math.sin(n),a = 9.8 * this.p2._$p,h = this._$Db * Lt._$bS,l = a * Math.cos(n - h);r = l * _, o = l * s;var $ = -this.p1.fx * _ * _,u = -this.p1.fy * _ * s,p = -this.p2.vx * this._$L2,f = -this.p2.vy * this._$L2;this.p2.fx = r + $ + p, this.p2.fy = o + u + f, this.p2.ax = this.p2.fx / this.p2._$p,this.p2.ay = this.p2.fy / this.p2._$p, this.p2.vx += this.p2.ax * i, this.p2.vy +=this.p2.ay * i, this.p2.x += this.p2.vx * i, this.p2.y += this.p2.vy * i;var c = Math.sqrt((this.p1.x - this.p2.x) * (this.p1.x - this.p2.x) + (this.p1.y - this.p2.y) * (this.p1.y - this.p2.y));this.p2.x = this.p1.x + this._$Fo * (this.p2.x - this.p1.x) / c, this.p2.y = this.p1.y +this._$Fo * (this.p2.y - this.p1.y) / c, this.p2.vx = (this.p2.x - this.p2._$s0) *e, this.p2.vy = (this.p2.y - this.p2._$70) * e, this.p2._$xT()}, c.prototype._$xT = function() {this._$s0 = this.x, this._$70 = this.y, this._$7L = this.vx, this._$HL = this.vy}, d.prototype._$oP = function(t, i) {}, g.prototype = new d, g.prototype._$oP = function(t,i) {var e = this.scale * t.getParamFloat(this._$wL),r = i.getPhysicsPoint1();switch (this._$tL) {default:case f.Src.SRC_TO_X:r.x = r.x + (e - r.x) * this._$V0;break;case f.Src.SRC_TO_Y:r.y = r.y + (e - r.y) * this._$V0;break;case f.Src.SRC_TO_G_ANGLE:var o = i._$qr();o += (e - o) * this._$V0, i._$pr(o)}}, y.prototype._$YS = function(t, i) {}, T.prototype = new y, T.prototype._$YS = function(t,i) {switch (this._$YP) {default:case f.Target.TARGET_FROM_ANGLE:t.setParamFloat(this._$wL, this.scale * i._$5r(), this._$V0);break;case f.Target.TARGET_FROM_ANGLE_V:t.setParamFloat(this._$wL, this.scale * i._$Cs(), this._$V0)}}, f.Src = function() {}, f.Src.SRC_TO_X = "SRC_TO_X", f.Src.SRC_TO_Y = "SRC_TO_Y", f.Src.SRC_TO_G_ANGLE = "SRC_TO_G_ANGLE", f.Target = function() {}, f.Target.TARGET_FROM_ANGLE ="TARGET_FROM_ANGLE", f.Target.TARGET_FROM_ANGLE_V = "TARGET_FROM_ANGLE_V", P.prototype.init = function(t) {this._$fL = t._$fL, this._$gL = t._$gL, this._$B0 = t._$B0, this._$z0 = t._$z0, this._$qT = t._$qT, this.reflectX = t.reflectX, this.reflectY = t.reflectY}, P.prototype._$F0 = function(t) {this._$fL = t._$_T(), this._$gL = t._$_T(), this._$B0 = t._$_T(), this._$z0 = t._$_T(),this._$qT = t._$_T(), t.getFormatVersion() >= G.LIVE2D_FORMAT_VERSION_V2_10_SDK2 &&(this.reflectX = t._$po(), this.reflectY = t._$po())}, P.prototype._$e = function() {};var It = function() {};It._$ni = function(t, i, e, r, o, n, s, _, a) {var h = s * n - _ * o;if (0 == h) return null;var l, $ = ((t - e) * n - (i - r) * o) / h;return l = 0 != o ? (t - e - $ * s) / o : (i - r - $ * _) / n, isNaN(l) && (l = (t - e -$ * s) / o, isNaN(l) && (l = (i - r - $ * _) / n), isNaN(l) && (console.log("a is NaN @UtVector#_$ni() "), console.log("v1x : " + o), console.log("v1x != 0 ? " + (0 != o)))), null == a ? new Array(l, $) : (a[0] = l, a[1] = $,a)}, S.prototype._$8P = function() {return this.x + .5 * this.width}, S.prototype._$6P = function() {return this.y + .5 * this.height}, S.prototype._$EL = function() {return this.x + this.width}, S.prototype._$5T = function() {return this.y + this.height}, S.prototype._$jL = function(t, i, e, r) {this.x = t, this.y = i, this.width = e, this.height = r}, S.prototype._$jL = function(t) {this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height}, S.prototype.contains = function(t, i) {return this.x <= this.x && this.y <= this.y && this.x <= this.x + this.width && this.y <= this.y + this.height}, S.prototype.expand = function(t, i) {this.x -= t, this.y -= i, this.width += 2 * t, this.height += 2 * i}, v._$Z2 = function(t, i, e, r) {var o = i._$Q2(t, e),n = t._$vs(),s = t._$Tr();if (i._$zr(n, s, o), o <= 0) return r[n[0]];if (1 == o) {var _ = r[n[0]],a = r[n[1]],h = s[0];return _ + (a - _) * h | 0}if (2 == o) {var _ = r[n[0]],a = r[n[1]],l = r[n[2]],$ = r[n[3]],h = s[0],u = s[1],p = _ + (a - _) * h | 0,f = l + ($ - l) * h | 0;return p + (f - p) * u | 0}if (3 == o) {var c = r[n[0]],d = r[n[1]],g = r[n[2]],y = r[n[3]],m = r[n[4]],T = r[n[5]],P = r[n[6]],S = r[n[7]],h = s[0],u = s[1],v = s[2],_ = c + (d - c) * h | 0,a = g + (y - g) * h | 0,l = m + (T - m) * h | 0,$ = P + (S - P) * h | 0,p = _ + (a - _) * u | 0,f = l + ($ - l) * u | 0;return p + (f - p) * v | 0}if (4 == o) {var L = r[n[0]],M = r[n[1]],E = r[n[2]],A = r[n[3]],I = r[n[4]],w = r[n[5]],x = r[n[6]],O = r[n[7]],D = r[n[8]],R = r[n[9]],b = r[n[10]],F = r[n[11]],C = r[n[12]],N = r[n[13]],B = r[n[14]],U = r[n[15]],h = s[0],u = s[1],v = s[2],G = s[3],c = L + (M - L) * h | 0,d = E + (A - E) * h | 0,g = I + (w - I) * h | 0,y = x + (O - x) * h | 0,m = D + (R - D) * h | 0,T = b + (F - b) * h | 0,P = C + (N - C) * h | 0,S = B + (U - B) * h | 0,_ = c + (d - c) * u | 0,a = g + (y - g) * u | 0,l = m + (T - m) * u | 0,$ = P + (S - P) * u | 0,p = _ + (a - _) * v | 0,f = l + ($ - l) * v | 0;return p + (f - p) * G | 0}for (var Y = 1 << o, k = new Float32Array(Y), V = 0; V < Y; V++) {for (var X = V, z = 1, H = 0; H < o; H++) z *= X % 2 == 0 ? 1 - s[H] : s[H], X /= 2;k[V] = z}for (var W = new Float32Array(Y), j = 0; j < Y; j++) W[j] = r[n[j]];for (var q = 0, j = 0; j < Y; j++) q += k[j] * W[j];return q + .5 | 0}, v._$br = function(t, i, e, r) {var o = i._$Q2(t, e),n = t._$vs(),s = t._$Tr();if (i._$zr(n, s, o), o <= 0) return r[n[0]];if (1 == o) {var _ = r[n[0]],a = r[n[1]],h = s[0];return _ + (a - _) * h}if (2 == o) {var _ = r[n[0]],a = r[n[1]],l = r[n[2]],$ = r[n[3]],h = s[0],u = s[1];return (1 - u) * (_ + (a - _) * h) + u * (l + ($ - l) * h)}if (3 == o) {var p = r[n[0]],f = r[n[1]],c = r[n[2]],d = r[n[3]],g = r[n[4]],y = r[n[5]],m = r[n[6]],T = r[n[7]],h = s[0],u = s[1],P = s[2];return (1 - P) * ((1 - u) * (p + (f - p) * h) + u * (c + (d - c) * h)) + P * ((1 -u) * (g + (y - g) * h) + u * (m + (T - m) * h))}if (4 == o) {var S = r[n[0]],v = r[n[1]],L = r[n[2]],M = r[n[3]],E = r[n[4]],A = r[n[5]],I = r[n[6]],w = r[n[7]],x = r[n[8]],O = r[n[9]],D = r[n[10]],R = r[n[11]],b = r[n[12]],F = r[n[13]],C = r[n[14]],N = r[n[15]],h = s[0],u = s[1],P = s[2],B = s[3];return (1 - B) * ((1 - P) * ((1 - u) * (S + (v - S) * h) + u * (L + (M - L) * h)) +P * ((1 - u) * (E + (A - E) * h) + u * (I + (w - I) * h))) + B * ((1 - P) *((1 - u) * (x + (O - x) * h) + u * (D + (R - D) * h)) + P * ((1 - u) * (b +(F - b) * h) + u * (C + (N - C) * h)))}for (var U = 1 << o, G = new Float32Array(U), Y = 0; Y < U; Y++) {for (var k = Y, V = 1, X = 0; X < o; X++) V *= k % 2 == 0 ? 1 - s[X] : s[X], k /= 2;G[Y] = V}for (var z = new Float32Array(U), H = 0; H < U; H++) z[H] = r[n[H]];for (var W = 0, H = 0; H < U; H++) W += G[H] * z[H];return W}, v._$Vr = function(t, i, e, r, o, n, s, _) {var a = i._$Q2(t, e),h = t._$vs(),l = t._$Tr();i._$zr(h, l, a);var $ = 2 * r,u = s;if (a <= 0) {var p = h[0],f = o[p];if (2 == _ && 0 == s) w._$jT(f, 0, n, 0, $);elsefor (var c = 0; c < $;) n[u] = f[c++], n[u + 1] = f[c++], u += _} else if (1 == a)for (var f = o[h[0]], d = o[h[1]], g = l[0], y = 1 - g, c = 0; c < $;) n[u] = f[c] *y + d[c] * g, ++c, n[u + 1] = f[c] * y + d[c] * g, ++c, u += _;else if (2 == a)for (var f = o[h[0]], d = o[h[1]], m = o[h[2]], T = o[h[3]], g = l[0], P = l[1], y =1 - g, S = 1 - P, v = S * y, L = S * g, M = P * y, E = P * g, c = 0; c < $;)n[u] = v * f[c] + L * d[c] + M * m[c] + E * T[c], ++c, n[u + 1] = v * f[c] + L *d[c] + M * m[c] + E * T[c], ++c, u += _;else if (3 == a)for (var A = o[h[0]], I = o[h[1]], x = o[h[2]], O = o[h[3]], D = o[h[4]], R = o[h[5]], b = o[h[6]], F = o[h[7]], g = l[0], P = l[1], C = l[2], y = 1 - g,S = 1 - P, N = 1 - C, B = N * S * y, U = N * S * g, G = N * P * y, Y = N *P * g, k = C * S * y, V = C * S * g, X = C * P * y, z = C * P * g, c =0; c < $;) n[u] = B * A[c] + U * I[c] + G * x[c] + Y * O[c] + k * D[c] + V *R[c] + X * b[c] + z * F[c], ++c, n[u + 1] = B * A[c] + U * I[c] + G * x[c] + Y *O[c] + k * D[c] + V * R[c] + X * b[c] + z * F[c], ++c, u += _;else if (4 == a)for (var H = o[h[0]], W = o[h[1]], j = o[h[2]], q = o[h[3]], J = o[h[4]], Q = o[h[5]], Z = o[h[6]], K = o[h[7]], tt = o[h[8]], it = o[h[9]], et = o[h[10]], rt = o[h[11]], ot = o[h[12]], nt = o[h[13]], st = o[h[14]], _t = o[h[15]], g = l[0], P = l[1], C = l[2], at = l[3], y = 1 - g, S = 1 - P, N =1 - C, ht = 1 - at, lt = ht * N * S * y, $t = ht * N * S * g, ut = ht * N *P * y, pt = ht * N * P * g, ft = ht * C * S * y, ct = ht * C * S * g, dt =ht * C * P * y, gt = ht * C * P * g, yt = at * N * S * y, mt = at * N * S *g, Tt = at * N * P * y, Pt = at * N * P * g, St = at * C * S * y, vt = at *C * S * g, Lt = at * C * P * y, Mt = at * C * P * g, c = 0; c < $;) n[u] =lt * H[c] + $t * W[c] + ut * j[c] + pt * q[c] + ft * J[c] + ct * Q[c] + dt * Z[c] + gt * K[c] + yt * tt[c] + mt * it[c] + Tt * et[c] + Pt * rt[c] + St *ot[c] + vt * nt[c] + Lt * st[c] + Mt * _t[c], ++c, n[u + 1] = lt * H[c] + $t *W[c] + ut * j[c] + pt * q[c] + ft * J[c] + ct * Q[c] + dt * Z[c] + gt * K[c] +yt * tt[c] + mt * it[c] + Tt * et[c] + Pt * rt[c] + St * ot[c] + vt * nt[c] +Lt * st[c] + Mt * _t[c], ++c, u += _;else {for (var Et = 1 << a, At = new Float32Array(Et), It = 0; It < Et; It++) {for (var wt = It, xt = 1, Ot = 0; Ot < a; Ot++) xt *= wt % 2 == 0 ? 1 - l[Ot] :l[Ot], wt /= 2;At[It] = xt}for (var Dt = new Float32Array(Et), Rt = 0; Rt < Et; Rt++) Dt[Rt] = o[h[Rt]];for (var c = 0; c < $;) {for (var bt = 0, Ft = 0, Ct = c + 1, Rt = 0; Rt < Et; Rt++) bt += At[Rt] * Dt[Rt][c], Ft += At[Rt] * Dt[Rt][Ct];c += 2, n[u] = bt, n[u + 1] = Ft, u += _}}}, L.prototype._$HT = function(t, i) {this.x = t, this.y = i}, L.prototype._$HT = function(t) {this.x = t.x, this.y = t.y}, M._$ur = -2, M._$ES = 500, M._$wb = 2, M._$8S = 3, M._$52 = M._$ES, M._$R2 = M._$ES, M._$or = function() {return M._$52}, M._$Pr = function() {return M._$R2}, M.prototype.convertClipIDForV2_11 = function(t) {var i = [];return null == t ? null : 0 == t.length ? null : /,/.test(t) ? i = t.id.split(",") : (i.push(t.id), i)}, M.prototype._$F0 = function(t) {this._$gP = t._$nP(), this._$dr = t._$nP(), this._$GS = t._$nP(), this._$qb = t._$6L(),this._$Lb = t._$cS(), this._$mS = t._$Tb(), t.getFormatVersion() >= G._$T7 ? (this.clipID = t._$nP(), this.clipIDList = this.convertClipIDForV2_11(this.clipID)) :this.clipIDList = [], this._$MS(this._$Lb)}, M.prototype.getClipIDList = function() {return this.clipIDList}, M.prototype.init = function(t) {}, M.prototype._$Nr = function(t, i) {if (i._$IS[0] = !1, i._$Us = v._$Z2(t, this._$GS, i._$IS, this._$Lb), at._$Zs);else if (i._$IS[0]) return;i._$7s = v._$br(t, this._$GS, i._$IS, this._$mS)}, M.prototype._$2b = function(t, i) {}, M.prototype.getDrawDataID = function() {return this._$gP}, M.prototype._$j2 = function(t) {this._$gP = t}, M.prototype.getOpacity = function(t, i) {return i._$7s}, M.prototype._$zS = function(t, i) {return i._$Us}, M.prototype._$MS = function(t) {for (var i = t.length - 1; i >= 0; --i) {var e = t[i];e < M._$52 ? M._$52 = e : e > M._$R2 && (M._$R2 = e)}}, M.prototype.getTargetBaseDataID = function() {return this._$dr}, M.prototype._$gs = function(t) {this._$dr = t}, M.prototype._$32 = function() {return null != this._$dr && this._$dr != yt._$2o()}, M.prototype.preDraw = function(t, i, e) {}, M.prototype.draw = function(t, i, e) {}, M.prototype.getType = function() {}, M.prototype._$B2 = function(t, i, e) {}, E._$ps = 32, E.CLIPPING_PROCESS_NONE = 0, E.CLIPPING_PROCESS_OVERWRITE_ALPHA = 1, E.CLIPPING_PROCESS_MULTIPLY_ALPHA = 2, E.CLIPPING_PROCESS_DRAW = 3, E.CLIPPING_PROCESS_CLEAR_ALPHA = 4, E.prototype.setChannelFlagAsColor = function(t, i) {this.CHANNEL_COLORS[t] = i}, E.prototype.getChannelFlagAsColor = function(t) {return this.CHANNEL_COLORS[t]}, E.prototype._$ZT = function() {}, E.prototype._$Uo = function(t, i, e, r, o, n, s) {}, E.prototype._$Rs = function() {return -1}, E.prototype._$Ds = function(t) {}, E.prototype.setBaseColor = function(t, i, e, r) {t < 0 ? t = 0 : t > 1 && (t = 1), i < 0 ? i = 0 : i > 1 && (i = 1), e < 0 ? e = 0 : e >1 && (e = 1), r < 0 ? r = 0 : r > 1 && (r = 1), this._$lT = t, this._$C0 = i, this._$tT = e, this._$WL = r}, E.prototype._$WP = function(t) {this.culling = t}, E.prototype.setMatrix = function(t) {for (var i = 0; i < 16; i++) this.matrix4x4[i] = t[i]}, E.prototype._$IT = function() {return this.matrix4x4}, E.prototype.setPremultipliedAlpha = function(t) {this.premultipliedAlpha = t}, E.prototype.isPremultipliedAlpha = function() {return this.premultipliedAlpha}, E.prototype.setAnisotropy = function(t) {this.anisotropy = t}, E.prototype.getAnisotropy = function() {return this.anisotropy}, E.prototype.getClippingProcess = function() {return this.clippingProcess}, E.prototype.setClippingProcess = function(t) {this.clippingProcess = t}, E.prototype.setClipBufPre_clipContextForMask = function(t) {this.clipBufPre_clipContextMask = t}, E.prototype.getClipBufPre_clipContextMask = function() {return this.clipBufPre_clipContextMask}, E.prototype.setClipBufPre_clipContextForDraw = function(t) {this.clipBufPre_clipContextDraw = t}, E.prototype.getClipBufPre_clipContextDraw = function() {return this.clipBufPre_clipContextDraw}, I._$ur = -2, I._$c2 = 1, I._$_b = 2, I.prototype._$F0 = function(t) {this._$kP = t._$nP(), this._$dr = t._$nP()}, I.prototype.readV2_opacity = function(t) {t.getFormatVersion() >= G.LIVE2D_FORMAT_VERSION_V2_10_SDK2 && (this._$mS = t._$Tb())}, I.prototype.init = function(t) {}, I.prototype._$Nr = function(t, i) {}, I.prototype.interpolateOpacity = function(t, i, e, r) {null == this._$mS ? e.setInterpolatedOpacity(1) : e.setInterpolatedOpacity(v._$br(t, i,r, this._$mS))}, I.prototype._$2b = function(t, i) {}, I.prototype._$nb = function(t, i, e, r, o, n,s) {}, I.prototype.getType = function() {}, I.prototype._$gs = function(t) {this._$dr = t}, I.prototype._$a2 = function(t) {this._$kP = t}, I.prototype.getTargetBaseDataID = function() {return this._$dr}, I.prototype.getBaseDataID = function() {return this._$kP}, I.prototype._$32 = function() {return null != this._$dr && this._$dr != yt._$2o()}, w._$W2 = 0, w._$CS = w._$W2, w._$Mo = function() {return !0}, w._$XP = function(t) {try {for (var i = getTimeMSec(); getTimeMSec() - i < t;);} catch (t) {t._$Rb()}}, w.getUserTimeMSec = function() {return w._$CS == w._$W2 ? w.getSystemTimeMSec() : w._$CS}, w.setUserTimeMSec = function(t) {w._$CS = t}, w.updateUserTimeMSec = function() {return w._$CS = w.getSystemTimeMSec()}, w.getTimeMSec = function() {return (new Date).getTime()}, w.getSystemTimeMSec = function() {return (new Date).getTime()}, w._$Q = function(t) {}, w._$jT = function(t, i, e, r, o) {for (var n = 0; n < o; n++) e[r + n] = t[i + n]}, x._$ds = -2, x.prototype._$F0 = function(t) {this._$wL = t._$nP(), this._$VP = t._$6L(), this._$GP = t._$nP()}, x.prototype.getParamIndex = function(t) {return this._$2r != t && (this._$8o = x._$ds), this._$8o}, x.prototype._$Pb = function(t, i) {this._$8o = t, this._$2r = i}, x.prototype.getParamID = function() {return this._$wL}, x.prototype._$yP = function(t) {this._$wL = t}, x.prototype._$N2 = function() {return this._$VP}, x.prototype._$d2 = function() {return this._$GP}, x.prototype._$t2 = function(t, i) {this._$VP = t, this._$GP = i}, x.prototype._$Lr = function() {return this._$O2}, x.prototype._$wr = function(t) {this._$O2 = t}, x.prototype._$SL = function() {return this._$ri}, x.prototype._$AL = function(t) {this._$ri = t}, O.startsWith = function(t, i, e) {var r = i + e.length;if (r >= t.length) return !1;for (var o = i; o < r; o++)if (O.getChar(t, o) != e.charAt(o - i)) return !1;return !0}, O.getChar = function(t, i) {return String.fromCharCode(t.getUint8(i))}, O.createString = function(t, i, e) {for (var r = new ArrayBuffer(2 * e), o = new Uint16Array(r), n = 0; n < e; n++) o[n] = t.getUint8(i + n);return String.fromCharCode.apply(null, o)}, O._$LS = function(t, i, e, r) {t instanceof ArrayBuffer && (t = new DataView(t));var o = e,n = !1,s = !1,_ = 0,a = O.getChar(t, o);"-" == a && (n = !0, o++);for (var h = !1; o < i; o++) {switch (a = O.getChar(t, o)) {case "0":_ *= 10;break;case "1":_ = 10 * _ + 1;break;case "2":_ = 10 * _ + 2;break;case "3":_ = 10 * _ + 3;break;case "4":_ = 10 * _ + 4;break;case "5":_ = 10 * _ + 5;break;case "6":_ = 10 * _ + 6;break;case "7":_ = 10 * _ + 7;break;case "8":_ = 10 * _ + 8;break;case "9":_ = 10 * _ + 9;break;case ".":s = !0, o++, h = !0;break;default:h = !0}if (h) break}if (s)for (var l = .1, $ = !1; o < i; o++) {switch (a = O.getChar(t, o)) {case "0":break;case "1":_ += 1 * l;break;case "2":_ += 2 * l;break;case "3":_ += 3 * l;break;case "4":_ += 4 * l;break;case "5":_ += 5 * l;break;case "6":_ += 6 * l;break;case "7":_ += 7 * l;break;case "8":_ += 8 * l;break;case "9":_ += 9 * l;break;default:$ = !0}if (l *= .1, $) break}return n && (_ = -_), r[0] = o, _}, D.prototype._$zP = function() {this._$Ob = new Array}, D.prototype._$F0 = function(t) {this._$Ob = t._$nP()}, D.prototype._$Ur = function(t) {if (t._$WS()) return !0;for (var i = t._$v2(), e = this._$Ob.length - 1; e >= 0; --e) {var r = this._$Ob[e].getParamIndex(i);if (r == x._$ds && (r = t.getParamIndex(this._$Ob[e].getParamID())), t._$Xb(r))return !0}return !1}, D.prototype._$Q2 = function(t, i) {for (var e, r, o = this._$Ob.length, n = t._$v2(), s = 0, _ = 0; _ < o; _++) {var a = this._$Ob[_];if (e = a.getParamIndex(n), e == x._$ds && (e = t.getParamIndex(a.getParamID()), a._$Pb(e, n)), e < 0) throw new Exception("err 23242 : " + a.getParamID());var h = e < 0 ? 0 : t.getParamFloat(e);r = a._$N2();var l, $, u = a._$d2(),p = -1,f = 0;if (r < 1);else if (1 == r) l = u[0], l - U._$J < h && h < l + U._$J ? (p = 0, f = 0) : (p = 0,i[0] = !0);else if (l = u[0], h < l - U._$J) p = 0, i[0] = !0;else if (h < l + U._$J) p = 0;else {for (var c = !1, d = 1; d < r; ++d) {if ($ = u[d], h < $ + U._$J) {$ - U._$J < h ? p = d : (p = d - 1, f = (h - l) / ($ - l), s++), c = !0;break}l = $}c || (p = r - 1, f = 0, i[0] = !0)}a._$wr(p), a._$AL(f)}return s}, D.prototype._$zr = function(t, i, e) {var r = 1 << e;r + 1 > U._$Qb && console.log("err 23245\n");for (var o = this._$Ob.length, n = 1, s = 1, _ = 0, a = 0; a < r; ++a) t[a] = 0;for (var h = 0; h < o; ++h) {var l = this._$Ob[h];if (0 == l._$SL()) {var $ = l._$Lr() * n;if ($ < 0 && at._$3T) throw new Exception("err 23246");for (var a = 0; a < r; ++a) t[a] += $} else {for (var $ = n * l._$Lr(), u = n * (l._$Lr() + 1), a = 0; a < r; ++a) t[a] += (a / s | 0) % 2 == 0 ? $ : u;i[_++] = l._$SL(), s *= 2}n *= l._$N2()}t[r] = 65535, i[_] = -1}, D.prototype._$h2 = function(t, i, e) {for (var r = new Float32Array(i), o = 0; o < i; ++o) r[o] = e[o];var n = new x;n._$yP(t), n._$t2(i, r), this._$Ob.push(n)}, D.prototype._$J2 = function(t) {for (var i = t, e = this._$Ob.length, r = 0; r < e; ++r) {var o = this._$Ob[r],n = o._$N2(),s = i % o._$N2(),_ = o._$d2()[s];console.log("%s[%d]=%7.2f / ", o.getParamID(), s, _), i /= n}console.log("\n")}, D.prototype.getParamCount = function() {return this._$Ob.length}, D.prototype._$zs = function() {return this._$Ob}, R.prototype.identity = function() {for (var t = 0; t < 16; t++) this.m[t] = t % 5 == 0 ? 1 : 0}, R.prototype.getArray = function() {return this.m}, R.prototype.getCopyMatrix = function() {return new Float32Array(this.m)}, R.prototype.setMatrix = function(t) {if (null != t && 16 == t.length)for (var i = 0; i < 16; i++) this.m[i] = t[i]}, R.prototype.mult = function(t, i, e) {return null == i ? null : (this == i ? this.mult_safe(this.m, t.m, i.m, e) : this.mult_fast(this.m, t.m, i.m, e), i)}, R.prototype.mult_safe = function(t, i, e, r) {if (t == e) {var o = new Array(16);this.mult_fast(t, i, o, r);for (var n = 15; n >= 0; --n) e[n] = o[n]} else this.mult_fast(t, i, e, r)}, R.prototype.mult_fast = function(t, i, e, r) {r ? (e[0] = t[0] * i[0] + t[4] * i[1] + t[8] * i[2], e[4] = t[0] * i[4] + t[4] * i[5] +t[8] * i[6], e[8] = t[0] * i[8] + t[4] * i[9] + t[8] * i[10], e[12] = t[0] * i[12] + t[4] * i[13] + t[8] * i[14] + t[12], e[1] = t[1] * i[0] + t[5] * i[1] + t[9] * i[2], e[5] = t[1] * i[4] + t[5] * i[5] + t[9] * i[6], e[9] = t[1] *i[8] + t[5] * i[9] + t[9] * i[10], e[13] = t[1] * i[12] + t[5] * i[13] + t[9] *i[14] + t[13], e[2] = t[2] * i[0] + t[6] * i[1] + t[10] * i[2], e[6] = t[2] * i[4] + t[6] * i[5] + t[10] * i[6], e[10] = t[2] * i[8] + t[6] * i[9] + t[10] *i[10], e[14] = t[2] * i[12] + t[6] * i[13] + t[10] * i[14] + t[14], e[3] = e[7] = e[11] = 0, e[15] = 1) : (e[0] = t[0] * i[0] + t[4] * i[1] + t[8] * i[2] +t[12] * i[3], e[4] = t[0] * i[4] + t[4] * i[5] + t[8] * i[6] + t[12] * i[7], e[8] = t[0] * i[8] + t[4] * i[9] + t[8] * i[10] + t[12] * i[11], e[12] = t[0] * i[12] + t[4] * i[13] + t[8] * i[14] + t[12] * i[15], e[1] = t[1] * i[0] +t[5] * i[1] + t[9] * i[2] + t[13] * i[3], e[5] = t[1] * i[4] + t[5] * i[5] + t[9] * i[6] + t[13] * i[7], e[9] = t[1] * i[8] + t[5] * i[9] + t[9] * i[10] +t[13] * i[11], e[13] = t[1] * i[12] + t[5] * i[13] + t[9] * i[14] + t[13] * i[15], e[2] = t[2] * i[0] + t[6] * i[1] + t[10] * i[2] + t[14] * i[3], e[6] =t[2] * i[4] + t[6] * i[5] + t[10] * i[6] + t[14] * i[7], e[10] = t[2] * i[8] +t[6] * i[9] + t[10] * i[10] + t[14] * i[11], e[14] = t[2] * i[12] + t[6] * i[13] + t[10] * i[14] + t[14] * i[15], e[3] = t[3] * i[0] + t[7] * i[1] + t[11] *i[2] + t[15] * i[3], e[7] = t[3] * i[4] + t[7] * i[5] + t[11] * i[6] + t[15] *i[7], e[11] = t[3] * i[8] + t[7] * i[9] + t[11] * i[10] + t[15] * i[11], e[15] =t[3] * i[12] + t[7] * i[13] + t[11] * i[14] + t[15] * i[15])}, R.prototype.translate = function(t, i, e) {this.m[12] = this.m[0] * t + this.m[4] * i + this.m[8] * e + this.m[12], this.m[13] =this.m[1] * t + this.m[5] * i + this.m[9] * e + this.m[13], this.m[14] = this.m[2] *t + this.m[6] * i + this.m[10] * e + this.m[14], this.m[15] = this.m[3] * t + this.m[7] * i + this.m[11] * e + this.m[15]}, R.prototype.scale = function(t, i, e) {this.m[0] *= t, this.m[4] *= i, this.m[8] *= e, this.m[1] *= t, this.m[5] *= i, this.m[9] *= e, this.m[2] *= t, this.m[6] *= i, this.m[10] *= e, this.m[3] *= t, this.m[7] *= i, this.m[11] *= e}, R.prototype.rotateX = function(t) {var i = Lt.fcos(t),e = Lt._$9(t),r = this.m[4];this.m[4] = r * i + this.m[8] * e, this.m[8] = r * -e + this.m[8] * i, r = this.m[5],this.m[5] = r * i + this.m[9] * e, this.m[9] = r * -e + this.m[9] * i, r = this.m[6], this.m[6] = r * i + this.m[10] * e, this.m[10] = r * -e + this.m[10] * i, r =this.m[7], this.m[7] = r * i + this.m[11] * e, this.m[11] = r * -e + this.m[11] * i}, R.prototype.rotateY = function(t) {var i = Lt.fcos(t),e = Lt._$9(t),r = this.m[0];this.m[0] = r * i + this.m[8] * -e, this.m[8] = r * e + this.m[8] * i, r = this.m[1],this.m[1] = r * i + this.m[9] * -e, this.m[9] = r * e + this.m[9] * i, r = m[2],this.m[2] = r * i + this.m[10] * -e, this.m[10] = r * e + this.m[10] * i, r = m[3],this.m[3] = r * i + this.m[11] * -e, this.m[11] = r * e + this.m[11] * i}, R.prototype.rotateZ = function(t) {var i = Lt.fcos(t),e = Lt._$9(t),r = this.m[0];this.m[0] = r * i + this.m[4] * e, this.m[4] = r * -e + this.m[4] * i, r = this.m[1],this.m[1] = r * i + this.m[5] * e, this.m[5] = r * -e + this.m[5] * i, r = this.m[2], this.m[2] = r * i + this.m[6] * e, this.m[6] = r * -e + this.m[6] * i, r = this.m[3], this.m[3] = r * i + this.m[7] * e, this.m[7] = r * -e + this.m[7] * i}, b.prototype = new et, b._$tP = new Object, b._$27 = function() {b._$tP.clear()}, b.getID = function(t) {var i = b._$tP[t];return null == i && (i = new b(t), b._$tP[t] = i), i}, b.prototype._$3s = function() {return new b}, F._$kS = -1, F._$pS = 0, F._$hb = 1, F.STATE_IDENTITY = 0, F._$gb = 1, F._$fo = 2, F._$go = 4, F.prototype.transform = function(t, i, e) {var r, o, n, s, _, a, h = 0,l = 0;switch (this._$hi) {default:return;case F._$go | F._$fo | F._$gb:for (r = this._$7, o = this._$H, n = this._$k, s = this._$f, _ = this._$g, a =this._$w; --e >= 0;) {var $ = t[h++],u = t[h++];i[l++] = r * $ + o * u + n, i[l++] = s * $ + _ * u + a}return;case F._$go | F._$fo:for (r = this._$7, o = this._$H, s = this._$f, _ = this._$g; --e >= 0;) {var $ = t[h++],u = t[h++];i[l++] = r * $ + o * u, i[l++] = s * $ + _ * u}return;case F._$go | F._$gb:for (o = this._$H, n = this._$k, s = this._$f, a = this._$w; --e >= 0;) {var $ = t[h++];i[l++] = o * t[h++] + n, i[l++] = s * $ + a}return;case F._$go:for (o = this._$H, s = this._$f; --e >= 0;) {var $ = t[h++];i[l++] = o * t[h++], i[l++] = s * $}return;case F._$fo | F._$gb:for (r = this._$7, n = this._$k, _ = this._$g, a = this._$w; --e >= 0;) i[l++] =r * t[h++] + n, i[l++] = _ * t[h++] + a;return;case F._$fo:for (r = this._$7, _ = this._$g; --e >= 0;) i[l++] = r * t[h++], i[l++] = _ * t[h++];return;case F._$gb:for (n = this._$k, a = this._$w; --e >= 0;) i[l++] = t[h++] + n, i[l++] = t[h++] + a;return;case F.STATE_IDENTITY:return void(t == i && h == l || w._$jT(t, h, i, l, 2 * e))}}, F.prototype.update = function() {0 == this._$H && 0 == this._$f ? 1 == this._$7 && 1 == this._$g ? 0 == this._$k && 0 ==this._$w ? (this._$hi = F.STATE_IDENTITY, this._$Z = F._$pS) : (this._$hi = F._$gb,this._$Z = F._$hb) : 0 == this._$k && 0 == this._$w ? (this._$hi = F._$fo, this._$Z = F._$kS) : (this._$hi = F._$fo | F._$gb, this._$Z = F._$kS) : 0 == this._$7 && 0 == this._$g ? 0 == this._$k && 0 == this._$w ? (this._$hi = F._$go, this._$Z = F._$kS) : (this._$hi = F._$go | F._$gb, this._$Z = F._$kS) : 0 == this._$k && 0 == this._$w ? (this._$hi = F._$go | F._$fo, this._$Z = F._$kS) : (this._$hi = F._$go | F._$fo | F._$gb, this._$Z = F._$kS)}, F.prototype._$RT = function(t) {this._$IT(t);var i = t[0],e = t[2],r = t[1],o = t[3],n = Math.sqrt(i * i + r * r),s = i * o - e * r;0 == n ? at._$so && console.log("affine._$RT() / rt==0") : (t[0] = n, t[1] = s / n, t[2] = (r * o + i * e) / s, t[3] = Math.atan2(r, i))}, F.prototype._$ho = function(t, i, e, r) {var o = new Float32Array(6),n = new Float32Array(6);t._$RT(o), i._$RT(n);var s = new Float32Array(6);s[0] = o[0] + (n[0] - o[0]) * e, s[1] = o[1] + (n[1] - o[1]) * e, s[2] = o[2] + (n[2] -o[2]) * e, s[3] = o[3] + (n[3] - o[3]) * e, s[4] = o[4] + (n[4] - o[4]) * e, s[5] = o[5] + (n[5] - o[5]) * e, r._$CT(s)}, F.prototype._$CT = function(t) {var i = Math.cos(t[3]),e = Math.sin(t[3]);this._$7 = t[0] * i, this._$f = t[0] * e, this._$H = t[1] * (t[2] * i - e), this._$g =t[1] * (t[2] * e + i), this._$k = t[4], this._$w = t[5], this.update()}, F.prototype._$IT = function(t) {t[0] = this._$7, t[1] = this._$f, t[2] = this._$H, t[3] = this._$g, t[4] = this._$k, t[5] = this._$w}, C.prototype = new s, C._$cs = "VISIBLE:", C._$ar = "LAYOUT:", C._$Co = 0, C._$D2 = [], C._$1T = 1, C.loadMotion = function(t) {var i = new C,e = [0],r = t.length;i._$yT = 0;for (var o = 0; o < r; ++o) {var n = 255 & t[o];if ("\n" != n && "\r" != n)if ("#" != n)if ("$" != n) {if ("a" <= n && n <= "z" || "A" <= n && n <= "Z" || "_" == n) {for (var s = o, _ = -1; o < r && ("\r" != (n = 255 & t[o]) &&"\n" != n); ++o)if ("=" == n) {_ = o;break} if (_ >= 0) {var a = new B;O.startsWith(t, s, C._$cs) ? (a._$RP = B._$hs, a._$4P =new String(t, s, _ - s)) : O.startsWith(t, s, C._$ar) ?(a._$4P = new String(t, s + 7, _ - s - 7), O.startsWith(t,s + 7, "ANCHOR_X") ? a._$RP = B._$xs : O.startsWith(t, s + 7, "ANCHOR_Y") ? a._$RP = B._$us : O.startsWith(t, s + 7, "SCALE_X") ? a._$RP = B._$qs : O.startsWith(t, s + 7, "SCALE_Y") ? a._$RP = B._$Ys : O.startsWith(t, s + 7, "X") ? a._$RP = B._$ws : O.startsWith(t, s + 7, "Y") && (a._$RP = B._$Ns)) : (a._$RP = B._$Fr, a._$4P = new String(t, s, _ - s)), i.motions.push(a);var h = 0;for (C._$D2.clear(), o = _ + 1; o < r && ("\r" != (n = 255 & t[o]) && "\n" != n); ++o)if ("," != n && " " != n && "\t" != n) {var l = O._$LS(t, r, o, e);if (e[0] > 0) {C._$D2.push(l), h++;var $ = e[0];if ($ < o) {console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}o = $}} a._$I0 = C._$D2._$BL(), h > i._$yT && (i._$yT = h)}}} else {for (var s = o, _ = -1; o < r && ("\r" != (n = 255 & t[o]) && "\n" !=n); ++o)if ("=" == n) {_ = o;break} var u = !1;if (_ >= 0)for (_ == s + 4 && "f" == t[s + 1] && "p" == t[s + 2] && "s" == t[s + 3] && (u = !0), o = _ + 1; o < r && ("\r" != (n = 255 &t[o]) && "\n" != n); ++o)if ("," != n && " " != n && "\t" != n) {var l = O._$LS(t, r, o, e);e[0] > 0 && u && 5 < l && l < 121 && (i._$D0 = l), o = e[0]} for (; o < r && ("\n" != t[o] && "\r" != t[o]); ++o);}elsefor (; o < r && ("\n" != t[o] && "\r" != t[o]); ++o);}return i._$AS = 1e3 * i._$yT / i._$D0 | 0, i}, C.prototype.getDurationMSec = function() {return this._$AS}, C.prototype.dump = function() {for (var t = 0; t < this.motions.length; t++) {var i = this.motions[t];console.log("_$wL[%s] [%d]. ", i._$4P, i._$I0.length);for (var e = 0; e < i._$I0.length && e < 10; e++) console.log("%5.2f ,", i._$I0[e]);console.log("\n")}}, C.prototype.updateParamExe = function(t, i, e, r) {for (var o = i - r._$z2, n = o * this._$D0 / 1e3, s = 0 | n, _ = n - s, a = 0; a < this.motions.length; a++) {var h = this.motions[a],l = h._$I0.length,$ = h._$4P;if (h._$RP == B._$hs) {var u = h._$I0[s >= l ? l - 1 : s];t.setParamFloat($, u)} else if (B._$ws <= h._$RP && h._$RP <= B._$Ys);else {var p = t.getParamFloat($),f = h._$I0[s >= l ? l - 1 : s],c = h._$I0[s + 1 >= l ? l - 1 : s + 1],d = f + (c - f) * _,g = p + (d - p) * e;t.setParamFloat($, g)}}s >= this._$yT && (this._$E ? (r._$z2 = i, this.loopFadeIn && (r._$bs = i)) : r._$9L = !0)}, C.prototype._$r0 = function() {return this._$E}, C.prototype._$aL = function(t) {this._$E = t}, C.prototype.isLoopFadeIn = function() {return this.loopFadeIn}, C.prototype.setLoopFadeIn = function(t) {this.loopFadeIn = t}, N.prototype.clear = function() {this.size = 0}, N.prototype.add = function(t) {if (this._$P.length <= this.size) {var i = new Float32Array(2 * this.size);w._$jT(this._$P, 0, i, 0, this.size), this._$P = i}this._$P[this.size++] = t}, N.prototype._$BL = function() {var t = new Float32Array(this.size);return w._$jT(this._$P, 0, t, 0, this.size), t}, B._$Fr = 0, B._$hs = 1, B._$ws = 100, B._$Ns = 101, B._$xs = 102, B._$us = 103, B._$qs =104, B._$Ys = 105, U._$Ms = 1, U._$Qs = 2, U._$i2 = 0, U._$No = 2, U._$do = U._$Ms, U._$Ls = !0, U._$1r = 5, U._$Qb = 65, U._$J = 1e-4, U._$FT = .001, U._$Ss = 3, G._$o7 = 6, G._$S7 = 7, G._$s7 = 8, G._$77 = 9, G.LIVE2D_FORMAT_VERSION_V2_10_SDK2 = 10, G.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1 = 11, G._$T7 = G.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1, G._$Is = -2004318072, G._$h0 = 0, G._$4L = 23, G._$7P = 33, G._$uT = function(t) {console.log("_$bo :: _$6 _$mo _$E0 : %d\n", t)}, G._$9o = function(t) {if (t < 40) return G._$uT(t), null;if (t < 50) return G._$uT(t), null;if (t < 60) return G._$uT(t), null;if (t < 100) switch (t) {case 65:return new Z;case 66:return new D;case 67:return new x;case 68:return new z;case 69:return new P;case 70:return new $t;default:return G._$uT(t), null} else if (t < 150) switch (t) {case 131:return new st;case 133:return new tt;case 136:return new p;case 137:return new ot;case 142:return new j}return G._$uT(t), null}, Y._$HP = 0, Y._$_0 = !0;Y._$V2 = -1, Y._$W0 = -1, Y._$jr = !1, Y._$ZS = !0, Y._$tr = -1e6, Y._$lr = 1e6, Y._$is = 32, Y._$e = !1, Y.prototype.getDrawDataIndex = function(t) {for (var i = this._$aS.length - 1; i >= 0; --i)if (null != this._$aS[i] && this._$aS[i].getDrawDataID() == t) return i;return -1}, Y.prototype.getDrawData = function(t) {if (t instanceof b) {if (null == this._$Bo) {this._$Bo = new Object;for (var i = this._$aS.length, e = 0; e < i; e++) {var r = this._$aS[e],o = r.getDrawDataID();null != o && (this._$Bo[o] = r)}}return this._$Bo[id]}return t < this._$aS.length ? this._$aS[t] : null}, Y.prototype.release = function() {this._$3S.clear(), this._$aS.clear(), this._$F2.clear(), null != this._$Bo && this._$Bo.clear(), this._$db.clear(), this._$8b.clear(), this._$Hr.clear()}, Y.prototype.init = function() {this._$co++, this._$F2.length > 0 && this.release();for (var t = this._$Ri.getModelImpl(), i = t._$Xr(), r = i.length, o = new Array, n =new Array, s = 0; s < r; ++s) {var _ = i[s];this._$F2.push(_), this._$Hr.push(_.init(this));for (var a = _.getBaseData(), h = a.length, l = 0; l < h; ++l) o.push(a[l]);for (var l = 0; l < h; ++l) {var $ = a[l].init(this);$._$l2(s), n.push($)}for (var u = _.getDrawData(), p = u.length, l = 0; l < p; ++l) {var f = u[l],c = f.init(this);c._$IP = s, this._$aS.push(f), this._$8b.push(c)}}for (var d = o.length, g = yt._$2o();;) {for (var y = !1, s = 0; s < d; ++s) {var m = o[s];if (null != m) {var T = m.getTargetBaseDataID();(null == T || T == g || this.getBaseDataIndex(T) >= 0) && (this._$3S.push(m), this._$db.push(n[s]), o[s] = null, y = !0)}}if (!y) break}var P = t._$E2();if (null != P) {var S = P._$1s();if (null != S)for (var v = S.length, s = 0; s < v; ++s) {var L = S[s];null != L && this._$02(L.getParamID(), L.getDefaultValue(), L.getMinValue(),L.getMaxValue())}}this.clipManager = new e(this.dp_webgl), this.clipManager.init(this, this._$aS, this._$8b), this._$QT = !0}, Y.prototype.update = function() {Y._$e && _.start("_$zL");for (var t = this._$_2.length, i = 0; i < t; i++) this._$_2[i] != this._$vr[i] && (this._$Js[i] = Y._$ZS, this._$vr[i] = this._$_2[i]);var e = this._$3S.length,r = this._$aS.length,o = W._$or(),n = W._$Pr(),s = n - o + 1;(null == this._$Ws || this._$Ws.length < s) && (this._$Ws = new Int16Array(s), this._$Vs = new Int16Array(s));for (var i = 0; i < s; i++) this._$Ws[i] = Y._$V2, this._$Vs[i] = Y._$V2;(null == this._$Er || this._$Er.length < r) && (this._$Er = new Int16Array(r));for (var i = 0; i < r; i++) this._$Er[i] = Y._$W0;Y._$e && _.dump("_$zL"), Y._$e && _.start("_$UL");for (var a = null, h = 0; h < e; ++h) {var l = this._$3S[h],$ = this._$db[h];try {l._$Nr(this, $), l._$2b(this, $)} catch (t) {null == a && (a = t)}}null != a && Y._$_0 && _._$Rb(a), Y._$e && _.dump("_$UL"), Y._$e && _.start("_$DL");for (var u = null, p = 0; p < r; ++p) {var f = this._$aS[p],c = this._$8b[p];try {if (f._$Nr(this, c), c._$u2()) continue;f._$2b(this, c);var d, g = Math.floor(f._$zS(this, c) - o);try {d = this._$Vs[g]} catch (t) {console.log("_$li :: %s / %s \t\t\t\t@@_$fS\n", t.toString(), f.getDrawDataID().toString()), g = Math.floor(f._$zS(this, c) - o);continue}d == Y._$V2 ? this._$Ws[g] = p : this._$Er[d] = p, this._$Vs[g] = p} catch (t) {null == u && (u = t, at._$sT(at._$H7))}}null != u && Y._$_0 && _._$Rb(u), Y._$e && _.dump("_$DL"), Y._$e && _.start("_$eL");for (var i = this._$Js.length - 1; i >= 0; i--) this._$Js[i] = Y._$jr;return this._$QT = !1, Y._$e && _.dump("_$eL"), !1}, Y.prototype.preDraw = function(t) {null != this.clipManager && (t._$ZT(), this.clipManager.setupClip(this, t))}, Y.prototype.draw = function(t) {if (null == this._$Ws) return void _._$li("call _$Ri.update() before _$Ri.draw() ");var i = this._$Ws.length;t._$ZT();for (var e = 0; e < i; ++e) {var r = this._$Ws[e];if (r != Y._$V2)for (;;) {var o = this._$aS[r],n = this._$8b[r];if (n._$yo()) {var s = n._$IP,a = this._$Hr[s];n._$VS = a.getPartsOpacity(), o.draw(t, this, n)}var h = this._$Er[r];if (h <= r || h == Y._$W0) break;r = h}}}, Y.prototype.getParamIndex = function(t) {for (var i = this._$pb.length - 1; i >= 0; --i)if (this._$pb[i] == t) return i;return this._$02(t, 0, Y._$tr, Y._$lr)}, Y.prototype._$BS = function(t) {return this.getBaseDataIndex(t)}, Y.prototype.getBaseDataIndex = function(t) {for (var i = this._$3S.length - 1; i >= 0; --i)if (null != this._$3S[i] && this._$3S[i].getBaseDataID() == t) return i;return -1}, Y.prototype._$UT = function(t, i) {var e = new Float32Array(i);return w._$jT(t, 0, e, 0, t.length), e}, Y.prototype._$02 = function(t, i, e, r) {if (this._$qo >= this._$pb.length) {var o = this._$pb.length,n = new Array(2 * o);w._$jT(this._$pb, 0, n, 0, o), this._$pb = n, this._$_2 = this._$UT(this._$_2, 2 *o), this._$vr = this._$UT(this._$vr, 2 * o), this._$Rr = this._$UT(this._$Rr, 2 * o), this._$Or = this._$UT(this._$Or, 2 * o);var s = new Array;w._$jT(this._$Js, 0, s, 0, o), this._$Js = s}return this._$pb[this._$qo] = t, this._$_2[this._$qo] = i, this._$vr[this._$qo] = i,this._$Rr[this._$qo] = e, this._$Or[this._$qo] = r, this._$Js[this._$qo] = Y._$ZS,this._$qo++}, Y.prototype._$Zo = function(t, i) {this._$3S[t] = i}, Y.prototype.setParamFloat = function(t, i) {i < this._$Rr[t] && (i = this._$Rr[t]), i > this._$Or[t] && (i = this._$Or[t]), this._$_2[t] = i}, Y.prototype.loadParam = function() {var t = this._$_2.length;t > this._$fs.length && (t = this._$fs.length), w._$jT(this._$fs, 0, this._$_2, 0, t)}, Y.prototype.saveParam = function() {var t = this._$_2.length;t > this._$fs.length && (this._$fs = new Float32Array(t)), w._$jT(this._$_2, 0, this._$fs, 0, t)}, Y.prototype._$v2 = function() {return this._$co}, Y.prototype._$WS = function() {return this._$QT}, Y.prototype._$Xb = function(t) {return this._$Js[t] == Y._$ZS}, Y.prototype._$vs = function() {return this._$Es}, Y.prototype._$Tr = function() {return this._$ZP}, Y.prototype.getBaseData = function(t) {return this._$3S[t]}, Y.prototype.getParamFloat = function(t) {return this._$_2[t]}, Y.prototype.getParamMax = function(t) {return this._$Or[t]}, Y.prototype.getParamMin = function(t) {return this._$Rr[t]}, Y.prototype.setPartsOpacity = function(t, i) {this._$Hr[t].setPartsOpacity(i)}, Y.prototype.getPartsOpacity = function(t) {return this._$Hr[t].getPartsOpacity()}, Y.prototype.getPartsDataIndex = function(t) {for (var i = this._$F2.length - 1; i >= 0; --i)if (null != this._$F2[i] && this._$F2[i]._$p2() == t) return i;return -1}, Y.prototype._$q2 = function(t) {return this._$db[t]}, Y.prototype._$C2 = function(t) {return this._$8b[t]}, Y.prototype._$Bb = function(t) {return this._$Hr[t]}, Y.prototype._$5s = function(t, i) {for (var e = this._$Ws.length, r = t, o = 0; o < e; ++o) {var n = this._$Ws[o];if (n != Y._$V2)for (;;) {var s = this._$8b[n];s._$yo() && (s._$GT()._$B2(this, s, r), r += i);var _ = this._$Er[n];if (_ <= n || _ == Y._$W0) break;n = _}}}, Y.prototype.setDrawParam = function(t) {this.dp_webgl = t}, Y.prototype.getDrawParam = function() {return this.dp_webgl}, k._$0T = function(t) {return k._$0T(new _$5(t))}, k._$0T = function(t) {if (!t.exists()) throw new _$ls(t._$3b());for (var i, e = t.length(), r = new Int8Array(e), o = new _$Xs(new _$kb(t), 8192), n =0;(i = o.read(r, n, e - n)) > 0;) n += i;return r}, k._$C = function(t) {var i = null,e = null;try {i = t instanceof Array ? t : new _$Xs(t, 8192), e = new _$js;for (var r, o = new Int8Array(1e3);(r = i.read(o)) > 0;) e.write(o, 0, r);return e._$TS()} finally {null != t && t.close(), null != e && (e.flush(), e.close())}}, V.prototype._$T2 = function() {return w.getUserTimeMSec() + Math._$10() * (2 * this._$Br - 1)}, V.prototype._$uo = function(t) {this._$Br = t}, V.prototype._$QS = function(t, i, e) {this._$Dr = t, this._$Cb = i, this._$mr = e}, V.prototype._$7T = function(t) {var i, e = w.getUserTimeMSec(),r = 0;switch (this._$_L) {case STATE_CLOSING:r = (e - this._$bb) / this._$Dr, r >= 1 && (r = 1, this._$_L = wt.STATE_CLOSED,this._$bb = e), i = 1 - r;break;case STATE_CLOSED:r = (e - this._$bb) / this._$Cb, r >= 1 && (this._$_L = wt.STATE_OPENING, this._$bb = e), i = 0;break;case STATE_OPENING:r = (e - this._$bb) / this._$mr, r >= 1 && (r = 1, this._$_L = wt.STATE_INTERVAL, this._$12 = this._$T2()), i = r;break;case STATE_INTERVAL:this._$12 < e && (this._$_L = wt.STATE_CLOSING, this._$bb = e), i = 1;break;case STATE_FIRST:default:this._$_L = wt.STATE_INTERVAL, this._$12 = this._$T2(), i = 1}this._$jo || (i = -i), t.setParamFloat(this._$iL, i), t.setParamFloat(this._$0L, i)};var wt = function() {};wt.STATE_FIRST = "STATE_FIRST", wt.STATE_INTERVAL = "STATE_INTERVAL", wt.STATE_CLOSING ="STATE_CLOSING", wt.STATE_CLOSED = "STATE_CLOSED", wt.STATE_OPENING = "STATE_OPENING", X.prototype = new E, X._$As = 32, X._$Gr = !1, X._$NT = null, X._$vS = null, X._$no = null, X._$9r = function(t) {return new Float32Array(t)}, X._$vb = function(t) {return new Int16Array(t)}, X._$cr = function(t, i) {return null == t || t._$yL() < i.length ? (t = X._$9r(2 * i.length), t.put(i), t._$oT(0)) : (t.clear(), t.put(i), t._$oT(0)), t}, X._$mb = function(t, i) {return null == t || t._$yL() < i.length ? (t = X._$vb(2 * i.length), t.put(i), t._$oT(0)) : (t.clear(), t.put(i), t._$oT(0)), t}, X._$Hs = function() {return X._$Gr}, X._$as = function(t) {X._$Gr = t}, X.prototype.setGL = function(t) {this.gl = t}, X.prototype.setTransform = function(t) {this.transform = t}, X.prototype._$ZT = function() {}, X.prototype._$Uo = function(t, i, e, r, o, n, s, _) {if (!(n < .01)) {var a = this._$U2[t],h = n > .9 ? at.EXPAND_W : 0;this.gl.drawElements(a, e, r, o, n, h, this.transform, _)}}, X.prototype._$Rs = function() {throw new Error("_$Rs")}, X.prototype._$Ds = function(t) {throw new Error("_$Ds")}, X.prototype._$K2 = function() {for (var t = 0; t < this._$sb.length; t++) {0 != this._$sb[t] && (this.gl._$Sr(1, this._$sb, t), this._$sb[t] = 0)}}, X.prototype.setTexture = function(t, i) {this._$sb.length < t + 1 && this._$nS(t), this._$sb[t] = i}, X.prototype.setTexture = function(t, i) {this._$sb.length < t + 1 && this._$nS(t), this._$U2[t] = i}, X.prototype._$nS = function(t) {var i = Math.max(2 * this._$sb.length, t + 1 + 10),e = new Int32Array(i);w._$jT(this._$sb, 0, e, 0, this._$sb.length), this._$sb = e;var r = new Array;w._$jT(this._$U2, 0, r, 0, this._$U2.length), this._$U2 = r}, z.prototype = new I, z._$Xo = new Float32Array(2), z._$io = new Float32Array(2), z._$0o =new Float32Array(2), z._$Lo = new Float32Array(2), z._$To = new Float32Array(2), z._$Po =new Float32Array(2), z._$gT = new Array, z.prototype._$zP = function() {this._$GS = new D, this._$GS._$zP(), this._$Y0 = new Array}, z.prototype.getType = function() {return I._$c2}, z.prototype._$F0 = function(t) {I.prototype._$F0.call(this, t), this._$GS = t._$nP(), this._$Y0 = t._$nP(), I.prototype.readV2_opacity.call(this, t)}, z.prototype.init = function(t) {var i = new H(this);return i._$Yr = new P, this._$32() && (i._$Wr = new P), i}, z.prototype._$Nr = function(t, i) {this != i._$GT() && console.log("### assert!! ### ");var e = i;if (this._$GS._$Ur(t)) {var r = z._$gT;r[0] = !1;var o = this._$GS._$Q2(t, r);i._$Ib(r[0]), this.interpolateOpacity(t, this._$GS, i, r);var n = t._$vs(),s = t._$Tr();if (this._$GS._$zr(n, s, o), o <= 0) {var _ = this._$Y0[n[0]];e._$Yr.init(_)} else if (1 == o) {var _ = this._$Y0[n[0]],a = this._$Y0[n[1]],h = s[0];e._$Yr._$fL = _._$fL + (a._$fL - _._$fL) * h, e._$Yr._$gL = _._$gL + (a._$gL - _._$gL) * h, e._$Yr._$B0 = _._$B0 + (a._$B0 - _._$B0) * h, e._$Yr._$z0 =_._$z0 + (a._$z0 - _._$z0) * h, e._$Yr._$qT = _._$qT + (a._$qT - _._$qT) * h} else if (2 == o) {var _ = this._$Y0[n[0]],a = this._$Y0[n[1]],l = this._$Y0[n[2]],$ = this._$Y0[n[3]],h = s[0],u = s[1],p = _._$fL + (a._$fL - _._$fL) * h,f = l._$fL + ($._$fL - l._$fL) * h;e._$Yr._$fL = p + (f - p) * u, p = _._$gL + (a._$gL - _._$gL) * h, f = l._$gL +($._$gL - l._$gL) * h, e._$Yr._$gL = p + (f - p) * u, p = _._$B0 + (a._$B0 -_._$B0) * h, f = l._$B0 + ($._$B0 - l._$B0) * h, e._$Yr._$B0 = p + (f -p) * u, p = _._$z0 + (a._$z0 - _._$z0) * h, f = l._$z0 + ($._$z0 - l._$z0) * h, e._$Yr._$z0 = p + (f - p) * u, p = _._$qT + (a._$qT - _._$qT) * h, f = l._$qT + ($._$qT - l._$qT) * h, e._$Yr._$qT = p + (f -p) * u} else if (3 == o) {var c = this._$Y0[n[0]],d = this._$Y0[n[1]],g = this._$Y0[n[2]],y = this._$Y0[n[3]],m = this._$Y0[n[4]],T = this._$Y0[n[5]],P = this._$Y0[n[6]],S = this._$Y0[n[7]],h = s[0],u = s[1],v = s[2],p = c._$fL + (d._$fL - c._$fL) * h,f = g._$fL + (y._$fL - g._$fL) * h,L = m._$fL + (T._$fL - m._$fL) * h,M = P._$fL + (S._$fL - P._$fL) * h;e._$Yr._$fL = (1 - v) * (p + (f - p) * u) + v * (L + (M - L) * u), p = c._$gL +(d._$gL - c._$gL) * h, f = g._$gL + (y._$gL - g._$gL) * h, L = m._$gL + (T._$gL - m._$gL) * h, M = P._$gL + (S._$gL - P._$gL) * h, e._$Yr._$gL = (1 - v) * (p + (f - p) * u) + v * (L + (M - L) * u), p = c._$B0 + (d._$B0 - c._$B0) * h, f = g._$B0 + (y._$B0 - g._$B0) * h, L = m._$B0 + (T._$B0 - m._$B0) * h, M = P._$B0 + (S._$B0 - P._$B0) * h, e._$Yr._$B0 = (1 - v) * (p + (f - p) * u) + v * (L + (M - L) * u), p = c._$z0 + (d._$z0 - c._$z0) * h, f = g._$z0 + (y._$z0 - g._$z0) * h, L = m._$z0 + (T._$z0 - m._$z0) * h, M = P._$z0 + (S._$z0 - P._$z0) * h, e._$Yr._$z0 = (1 - v) * (p + (f - p) * u) + v * (L + (M - L) * u), p = c._$qT + (d._$qT - c._$qT) * h, f = g._$qT + (y._$qT - g._$qT) * h, L = m._$qT + (T._$qT - m._$qT) * h, M = P._$qT + (S._$qT - P._$qT) * h, e._$Yr._$qT = (1 - v) * (p + (f - p) * u) + v * (L + (M - L) * u)} else if (4 == o) {var E = this._$Y0[n[0]],A = this._$Y0[n[1]],I = this._$Y0[n[2]],w = this._$Y0[n[3]],x = this._$Y0[n[4]],O = this._$Y0[n[5]],D = this._$Y0[n[6]],R = this._$Y0[n[7]],b = this._$Y0[n[8]],F = this._$Y0[n[9]],C = this._$Y0[n[10]],N = this._$Y0[n[11]],B = this._$Y0[n[12]],U = this._$Y0[n[13]],G = this._$Y0[n[14]],Y = this._$Y0[n[15]],h = s[0],u = s[1],v = s[2],k = s[3],p = E._$fL + (A._$fL - E._$fL) * h,f = I._$fL + (w._$fL - I._$fL) * h,L = x._$fL + (O._$fL - x._$fL) * h,M = D._$fL + (R._$fL - D._$fL) * h,V = b._$fL + (F._$fL - b._$fL) * h,X = C._$fL + (N._$fL - C._$fL) * h,H = B._$fL + (U._$fL - B._$fL) * h,W = G._$fL + (Y._$fL - G._$fL) * h;e._$Yr._$fL = (1 - k) * ((1 - v) * (p + (f - p) * u) + v * (L + (M - L) * u)) +k * ((1 - v) * (V + (X - V) * u) + v * (H + (W - H) * u)), p = E._$gL + (A._$gL - E._$gL) * h, f = I._$gL + (w._$gL - I._$gL) * h, L = x._$gL + (O._$gL - x._$gL) * h, M = D._$gL + (R._$gL - D._$gL) * h, V = b._$gL + (F._$gL - b._$gL) * h, X = C._$gL + (N._$gL - C._$gL) * h, H = B._$gL + (U._$gL - B._$gL) * h, W = G._$gL + (Y._$gL - G._$gL) * h, e._$Yr._$gL = (1 - k) * ((1 - v) * (p + (f - p) * u) + v * (L + (M - L) * u)) + k * ((1 - v) * (V + (X - V) * u) + v * (H + (W - H) * u)), p = E._$B0 + (A._$B0 - E._$B0) * h, f = I._$B0 + (w._$B0 - I._$B0) * h, L = x._$B0 + (O._$B0 - x._$B0) * h, M = D._$B0 + (R._$B0 - D._$B0) * h, V = b._$B0 + (F._$B0 - b._$B0) * h, X = C._$B0 + (N._$B0 - C._$B0) * h, H = B._$B0 + (U._$B0 - B._$B0) * h, W = G._$B0 + (Y._$B0 - G._$B0) * h, e._$Yr._$B0 = (1 - k) * ((1 - v) * (p + (f - p) * u) + v * (L + (M - L) * u)) + k * ((1 - v) * (V + (X - V) * u) + v * (H + (W - H) * u)), p = E._$z0 + (A._$z0 - E._$z0) * h, f = I._$z0 + (w._$z0 - I._$z0) * h, L = x._$z0 + (O._$z0 - x._$z0) * h, M = D._$z0 + (R._$z0 - D._$z0) * h, V = b._$z0 + (F._$z0 - b._$z0) * h, X = C._$z0 + (N._$z0 - C._$z0) * h, H = B._$z0 + (U._$z0 - B._$z0) * h, W = G._$z0 + (Y._$z0 - G._$z0) * h, e._$Yr._$z0 = (1 - k) * ((1 - v) * (p + (f - p) * u) + v * (L + (M - L) * u)) + k * ((1 - v) * (V + (X - V) * u) + v * (H + (W - H) * u)), p = E._$qT + (A._$qT - E._$qT) * h, f = I._$qT + (w._$qT - I._$qT) * h, L = x._$qT + (O._$qT - x._$qT) * h, M = D._$qT + (R._$qT - D._$qT) * h, V = b._$qT + (F._$qT - b._$qT) * h, X = C._$qT + (N._$qT - C._$qT) * h, H = B._$qT + (U._$qT - B._$qT) * h, W = G._$qT + (Y._$qT - G._$qT) * h, e._$Yr._$qT = (1 - k) * ((1 - v) * (p + (f - p) * u) + v * (L + (M - L) * u)) + k * ((1 - v) * (V + (X - V) * u) + v * (H + (W - H) * u))} else {for (var j = 0 | Math.pow(2, o), q = new Float32Array(j), J = 0; J < j; J++) {for (var Q = J, Z = 1, K = 0; K < o; K++) Z *= Q % 2 == 0 ? 1 - s[K] : s[K],Q /= 2;q[J] = Z}for (var tt = new Array, it = 0; it < j; it++) tt[it] = this._$Y0[n[it]];for (var et = 0, rt = 0, ot = 0, nt = 0, st = 0, it = 0; it < j; it++) et += q[it] * tt[it]._$fL, rt += q[it] * tt[it]._$gL, ot += q[it] * tt[it]._$B0,nt += q[it] * tt[it]._$z0, st += q[it] * tt[it]._$qT;e._$Yr._$fL = et, e._$Yr._$gL = rt, e._$Yr._$B0 = ot, e._$Yr._$z0 = nt, e._$Yr._$qT = st}var _ = this._$Y0[n[0]];e._$Yr.reflectX = _.reflectX, e._$Yr.reflectY = _.reflectY}}, z.prototype._$2b = function(t, i) {this != i._$GT() && console.log("### assert!! ### ");var e = i;if (e._$hS(!0), this._$32()) {var r = this.getTargetBaseDataID();if (e._$8r == I._$ur && (e._$8r = t.getBaseDataIndex(r)), e._$8r < 0) at._$so && _._$li("_$L _$0P _$G :: %s", r), e._$hS(!1);else {var o = t.getBaseData(e._$8r);if (null != o) {var n = t._$q2(e._$8r),s = z._$Xo;s[0] = e._$Yr._$fL, s[1] = e._$Yr._$gL;var a = z._$io;a[0] = 0, a[1] = -.1;n._$GT().getType() == I._$c2 ? a[1] = -10 : a[1] = -.1;var h = z._$0o;this._$Jr(t, o, n, s, a, h);var l = Lt._$92(a, h);o._$nb(t, n, s, s, 1, 0, 2), e._$Wr._$fL = s[0], e._$Wr._$gL = s[1], e._$Wr._$B0 = e._$Yr._$B0, e._$Wr._$z0 = e._$Yr._$z0, e._$Wr._$qT = e._$Yr._$qT - l * Lt._$NS;var $ = n.getTotalScale();e.setTotalScale_notForClient($ * e._$Wr._$B0);var u = n.getTotalOpacity();e.setTotalOpacity(u * e.getInterpolatedOpacity()), e._$Wr.reflectX = e._$Yr.reflectX, e._$Wr.reflectY = e._$Yr.reflectY, e._$hS(n._$yo())} else e._$hS(!1)}} else e.setTotalScale_notForClient(e._$Yr._$B0), e.setTotalOpacity(e.getInterpolatedOpacity())}, z.prototype._$nb = function(t, i, e, r, o, n, s) {this != i._$GT() && console.log("### assert!! ### ");for (var _, a, h = i, l = null != h._$Wr ? h._$Wr : h._$Yr, $ = Math.sin(Lt._$bS * l._$qT), u = Math.cos(Lt._$bS * l._$qT), p = h.getTotalScale(), f = l.reflectX ? -1 : 1, c = l.reflectY ? -1 : 1, d = u * p * f, g = -$ * p * c, y =$ * p * f, m = u * p * c, T = l._$fL, P = l._$gL, S = o * s, v = n; v < S; v +=s) _ = e[v], a = e[v + 1], r[v] = d * _ + g * a + T, r[v + 1] = y * _ + m * a + P}, z.prototype._$Jr = function(t, i, e, r, o, n) {i != e._$GT() && console.log("### assert!! ### ");var s = z._$Lo;z._$Lo[0] = r[0], z._$Lo[1] = r[1], i._$nb(t, e, s, s, 1, 0, 2);for (var _ = z._$To, a = z._$Po, h = 1, l = 0; l < 10; l++) {if (a[0] = r[0] + h * o[0], a[1] = r[1] + h * o[1], i._$nb(t, e, a, _, 1, 0, 2), _[0] -= s[0], _[1] -= s[1], 0 != _[0] || 0 != _[1]) return n[0] = _[0], void(n[1] = _[1]);if (a[0] = r[0] - h * o[0], a[1] = r[1] - h * o[1], i._$nb(t, e, a, _, 1, 0, 2), _[0] -= s[0], _[1] -= s[1], 0 != _[0] || 0 != _[1]) return _[0] = -_[0], _[0] = -_[0], n[0] = _[0], void(n[1] = _[1]);h *= .1}at._$so && console.log("_$L0 to transform _$SP\n")}, H.prototype = new _t, W.prototype = new M, W._$ur = -2, W._$ES = 500, W._$wb = 2, W._$8S = 3, W._$os = 4, W._$52 = W._$ES, W._$R2 = W._$ES, W._$Sb = function(t) {for (var i = t.length - 1; i >= 0; --i) {var e = t[i];e < W._$52 ? W._$52 = e : e > W._$R2 && (W._$R2 = e)}}, W._$or = function() {return W._$52}, W._$Pr = function() {return W._$R2}, W.prototype._$F0 = function(t) {this._$gP = t._$nP(), this._$dr = t._$nP(), this._$GS = t._$nP(), this._$qb = t._$6L(),this._$Lb = t._$cS(), this._$mS = t._$Tb(), t.getFormatVersion() >= G._$T7 ? (this.clipID = t._$nP(), this.clipIDList = this.convertClipIDForV2_11(this.clipID)) :this.clipIDList = null, W._$Sb(this._$Lb)}, W.prototype.getClipIDList = function() {return this.clipIDList}, W.prototype._$Nr = function(t, i) {if (i._$IS[0] = !1, i._$Us = v._$Z2(t, this._$GS, i._$IS, this._$Lb), at._$Zs);else if (i._$IS[0]) return;i._$7s = v._$br(t, this._$GS, i._$IS, this._$mS)}, W.prototype._$2b = function(t) {}, W.prototype.getDrawDataID = function() {return this._$gP}, W.prototype._$j2 = function(t) {this._$gP = t}, W.prototype.getOpacity = function(t, i) {return i._$7s}, W.prototype._$zS = function(t, i) {return i._$Us}, W.prototype.getTargetBaseDataID = function() {return this._$dr}, W.prototype._$gs = function(t) {this._$dr = t}, W.prototype._$32 = function() {return null != this._$dr && this._$dr != yt._$2o()}, W.prototype.getType = function() {}, j._$42 = 0, j.prototype._$1b = function() {return this._$3S}, j.prototype.getDrawDataList = function() {return this._$aS}, j.prototype._$F0 = function(t) {this._$NL = t._$nP(), this._$aS = t._$nP(), this._$3S = t._$nP()}, j.prototype._$kr = function(t) {t._$Zo(this._$3S), t._$xo(this._$aS), this._$3S = null, this._$aS = null}, q.prototype = new i, q.loadModel = function(t) {var e = new q;return i._$62(e, t), e}, q.loadModel = function(t) {var e = new q;return i._$62(e, t), e}, q._$to = function() {return new q}, q._$er = function(t) {var i = new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if (0 == i.exists()) throw new _$ls("_$t0 _$_ _$6 _$Ui :: " + i._$PL());for (var e = ["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1", "../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"], r = q.loadModel(i._$3b()), o = 0; o < e.length; o++) {var n = new _$5(e[o]);if (0 == n.exists()) throw new _$ls("_$t0 _$_ _$6 _$Ui :: " + n._$PL());r.setTexture(o, _$nL._$_o(t, n._$3b()))}return r}, q.prototype.setGL = function(t) {this._$zo.setGL(t)}, q.prototype.setTransform = function(t) {this._$zo.setTransform(t)}, q.prototype.draw = function() {this._$5S.draw(this._$zo)}, q.prototype._$K2 = function() {this._$zo._$K2()}, q.prototype.setTexture = function(t, i) {null == this._$zo && _._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"), this._$zo.setTexture(t, i)}, q.prototype.setTexture = function(t, i) {null == this._$zo && _._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"), this._$zo.setTexture(t, i)}, q.prototype._$Rs = function() {return this._$zo._$Rs()}, q.prototype._$Ds = function(t) {this._$zo._$Ds(t)}, q.prototype.getDrawParam = function() {return this._$zo}, J.prototype = new s, J._$cs = "VISIBLE:", J._$ar = "LAYOUT:", J.MTN_PREFIX_FADEIN ="FADEIN:", J.MTN_PREFIX_FADEOUT = "FADEOUT:", J._$Co = 0, J._$1T = 1, J.loadMotion =function(t) {var i = k._$C(t);return J.loadMotion(i)}, J.loadMotion = function(t) {t instanceof ArrayBuffer && (t = new DataView(t));var i = new J,e = [0],r = t.byteLength;i._$yT = 0;for (var o = 0; o < r; ++o) {var n = Q(t, o),s = n.charCodeAt(0);if ("\n" != n && "\r" != n)if ("#" != n)if ("$" != n) {if (97 <= s && s <= 122 || 65 <= s && s <= 90 || "_" == n) {for (var _ = o, a = -1; o < r && ("\r" != (n = Q(t, o)) && "\n" !=n); ++o)if ("=" == n) {a = o;break} if (a >= 0) {var h = new B;O.startsWith(t, _, J._$cs) ? (h._$RP = B._$hs, h._$4P = O.createString(t, _, a - _)) : O.startsWith(t, _, J._$ar) ? (h._$4P = O.createString(t, _ + 7, a - _ - 7), O.startsWith(t, _ + 7, "ANCHOR_X") ? h._$RP = B._$xs : O.startsWith(t, _ + 7, "ANCHOR_Y") ? h._$RP = B._$us : O.startsWith(t, _ + 7, "SCALE_X") ? h._$RP = B._$qs : O.startsWith(t, _ + 7, "SCALE_Y") ? h._$RP = B._$Ys : O.startsWith(t, _ + 7, "X") ? h._$RP = B._$ws : O.startsWith(t, _ + 7, "Y") && (h._$RP = B._$Ns)) : (h._$RP = B._$Fr, h._$4P = O.createString(t, _, a - _)), i.motions.push(h);var l = 0,$ = [];for (o = a + 1; o < r && ("\r" != (n = Q(t, o)) && "\n" !=n); ++o)if ("," != n && " " != n && "\t" != n) {var u = O._$LS(t, r, o, e);if (e[0] > 0) {$.push(u), l++;var p = e[0];if (p < o) {console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}o = p - 1}} h._$I0 = new Float32Array($), l > i._$yT && (i._$yT = l)}}} else {for (var _ = o, a = -1; o < r && ("\r" != (n = Q(t, o)) && "\n" !=n); ++o)if ("=" == n) {a = o;break} var f = !1;if (a >= 0)for (a == _ + 4 && "f" == Q(t, _ + 1) && "p" == Q(t, _ + 2) &&"s" == Q(t, _ + 3) && (f = !0), o = a + 1; o < r && ("\r" != (n = Q(t, o)) && "\n" != n); ++o)if ("," != n && " " != n && "\t" != n) {var u = O._$LS(t, r, o, e);e[0] > 0 && f && 5 < u && u < 121 && (i._$D0 = u), o = e[0]} for (; o < r && ("\n" != Q(t, o) && "\r" != Q(t, o)); ++o);}elsefor (; o < r && ("\n" != Q(t, o) && "\r" != Q(t, o)); ++o);}return i._$rr = 1e3 * i._$yT / i._$D0 | 0, i}, J.prototype.getDurationMSec = function() {return this._$E ? -1 : this._$rr}, J.prototype.getLoopDurationMSec = function() {return this._$rr}, J.prototype.dump = function() {for (var t = 0; t < this.motions.length; t++) {var i = this.motions[t];console.log("_$wL[%s] [%d]. ", i._$4P, i._$I0.length);for (var e = 0; e < i._$I0.length && e < 10; e++) console.log("%5.2f ,", i._$I0[e]);console.log("\n")}}, J.prototype.updateParamExe = function(t, i, e, r) {for (var o = i - r._$z2, n = o * this._$D0 / 1e3, s = 0 | n, _ = n - s, a = 0; a < this.motions.length; a++) {var h = this.motions[a],l = h._$I0.length,$ = h._$4P;if (h._$RP == B._$hs) {var u = h._$I0[s >= l ? l - 1 : s];t.setParamFloat($, u)} else if (B._$ws <= h._$RP && h._$RP <= B._$Ys);else {var p, f = t.getParamIndex($),c = t.getModelContext(),d = c.getParamMax(f),g = c.getParamMin(f),y = .4 * (d - g),m = c.getParamFloat(f),T = h._$I0[s >= l ? l - 1 : s],P = h._$I0[s + 1 >= l ? l - 1 : s + 1];p = T < P && P - T > y || T > P && T - P > y ? T : T + (P - T) * _;var S = m + (p - m) * e;t.setParamFloat($, S)}}s >= this._$yT && (this._$E ? (r._$z2 = i, this.loopFadeIn && (r._$bs = i)) : r._$9L = !0), this._$eP = e}, J.prototype._$r0 = function() {return this._$E}, J.prototype._$aL = function(t) {this._$E = t}, J.prototype._$S0 = function() {return this._$D0}, J.prototype._$U0 = function(t) {this._$D0 = t}, J.prototype.isLoopFadeIn = function() {return this.loopFadeIn}, J.prototype.setLoopFadeIn = function(t) {this.loopFadeIn = t}, N.prototype.clear = function() {this.size = 0}, N.prototype.add = function(t) {if (this._$P.length <= this.size) {var i = new Float32Array(2 * this.size);w._$jT(this._$P, 0, i, 0, this.size), this._$P = i}this._$P[this.size++] = t}, N.prototype._$BL = function() {var t = new Float32Array(this.size);return w._$jT(this._$P, 0, t, 0, this.size), t}, B._$Fr = 0, B._$hs = 1, B._$ws = 100, B._$Ns = 101, B._$xs = 102, B._$us = 103, B._$qs =104, B._$Ys = 105, Z.prototype = new I, Z._$gT = new Array, Z.prototype._$zP = function() {this._$GS = new D, this._$GS._$zP()}, Z.prototype._$F0 = function(t) {I.prototype._$F0.call(this, t), this._$A = t._$6L(), this._$o = t._$6L(), this._$GS = t._$nP(), this._$Eo = t._$nP(), I.prototype.readV2_opacity.call(this, t)}, Z.prototype.init = function(t) {var i = new K(this),e = (this._$o + 1) * (this._$A + 1);return null != i._$Cr && (i._$Cr = null), i._$Cr = new Float32Array(2 * e), null != i._$hr && (i._$hr = null), this._$32() ? i._$hr = new Float32Array(2 * e) : i._$hr =null, i}, Z.prototype._$Nr = function(t, i) {var e = i;if (this._$GS._$Ur(t)) {var r = this._$VT(),o = Z._$gT;o[0] = !1, v._$Vr(t, this._$GS, o, r, this._$Eo, e._$Cr, 0, 2), i._$Ib(o[0]), this.interpolateOpacity(t, this._$GS, i, o)}}, Z.prototype._$2b = function(t, i) {var e = i;if (e._$hS(!0), this._$32()) {var r = this.getTargetBaseDataID();if (e._$8r == I._$ur && (e._$8r = t.getBaseDataIndex(r)), e._$8r < 0) at._$so && _._$li("_$L _$0P _$G :: %s", r), e._$hS(!1);else {var o = t.getBaseData(e._$8r),n = t._$q2(e._$8r);if (null != o && n._$yo()) {var s = n.getTotalScale();e.setTotalScale_notForClient(s);var a = n.getTotalOpacity();e.setTotalOpacity(a * e.getInterpolatedOpacity()), o._$nb(t, n, e._$Cr, e._$hr, this._$VT(), 0, 2), e._$hS(!0)} else e._$hS(!1)}} else e.setTotalOpacity(e.getInterpolatedOpacity())}, Z.prototype._$nb = function(t, i, e, r, o, n, s) {var _ = i,a = null != _._$hr ? _._$hr : _._$Cr;Z.transformPoints_sdk2(e, r, o, n, s, a, this._$o, this._$A)}, Z.transformPoints_sdk2 = function(i, e, r, o, n, s, _, a) {for (var h, l, $, u = r * n, p = 0, f = 0, c = 0, d = 0, g = 0, y = 0, m = !1, T =o; T < u; T += n) {var P, S, v, L;if (v = i[T], L = i[T + 1], P = v * _, S = L * a, P < 0 || S < 0 || _ <= P || a <=S) {var M = _ + 1;if (!m) {m = !0, p = .25 * (s[2 * (0 + 0 * M)] + s[2 * (_ + 0 * M)] + s[2 * (0 + a *M)] + s[2 * (_ + a * M)]), f = .25 * (s[2 * (0 + 0 * M) + 1] + s[2 *(_ + 0 * M) + 1] + s[2 * (0 + a * M) + 1] + s[2 * (_ + a * M) +1]);var E = s[2 * (_ + a * M)] - s[2 * (0 + 0 * M)],A = s[2 * (_ + a * M) + 1] - s[2 * (0 + 0 * M) + 1],I = s[2 * (_ + 0 * M)] - s[2 * (0 + a * M)],w = s[2 * (_ + 0 * M) + 1] - s[2 * (0 + a * M) + 1];c = .5 * (E + I), d = .5 * (A + w), g = .5 * (E - I), y = .5 * (A - w), p -=.5 * (c + g), f -= .5 * (d + y)}if (-2 < v && v < 3 && -2 < L && L < 3)if (v <= 0)if (L <= 0) {var x = s[2 * (0 + 0 * M)],O = s[2 * (0 + 0 * M) + 1],D = p - 2 * c,R = f - 2 * d,b = p - 2 * g,F = f - 2 * y,C = p - 2 * c - 2 * g,N = f - 2 * d - 2 * y,B = .5 * (v - -2),U = .5 * (L - -2);B + U <= 1 ? (e[T] = C + (b - C) * B + (D - C) * U, e[T + 1] = N + (F - N) * B + (R - N) * U) : (e[T] = x + (D - x) * (1 - B) +(b - x) * (1 - U), e[T + 1] = O + (R - O) * (1 - B) + (F -O) * (1 - U))} else if (L >= 1) {var b = s[2 * (0 + a * M)],F = s[2 * (0 + a * M) + 1],C = p - 2 * c + 1 * g,N = f - 2 * d + 1 * y,x = p + 3 * g,O = f + 3 * y,D = p - 2 * c + 3 * g,R = f - 2 * d + 3 * y,B = .5 * (v - -2),U = .5 * (L - 1);B + U <= 1 ? (e[T] = C + (b - C) * B + (D - C) * U, e[T + 1] = N + (F - N) *B + (R - N) * U) : (e[T] = x + (D - x) * (1 - B) + (b - x) * (1 -U), e[T + 1] = O + (R - O) * (1 - B) + (F - O) * (1 - U))} else {var G = 0 | S;G == a && (G = a - 1);var B = .5 * (v - -2),U = S - G,Y = G / a,k = (G + 1) / a,b = s[2 * (0 + G * M)],F = s[2 * (0 + G * M) + 1],x = s[2 * (0 + (G + 1) * M)],O = s[2 * (0 + (G + 1) * M) + 1],C = p - 2 * c + Y * g,N = f - 2 * d + Y * y,D = p - 2 * c + k * g,R = f - 2 * d + k * y;B + U <= 1 ? (e[T] = C + (b - C) * B + (D - C) * U, e[T + 1] = N + (F - N) *B + (R - N) * U) : (e[T] = x + (D - x) * (1 - B) + (b - x) * (1 -U), e[T + 1] = O + (R - O) * (1 - B) + (F - O) * (1 - U))} else if (1 <= v)if (L <= 0) {var D = s[2 * (_ + 0 * M)],R = s[2 * (_ + 0 * M) + 1],x = p + 3 * c,O = f + 3 * d,C = p + 1 * c - 2 * g,N = f + 1 * d - 2 * y,b = p + 3 * c - 2 * g,F = f + 3 * d - 2 * y,B = .5 * (v - 1),U = .5 * (L - -2);B + U <= 1 ? (e[T] = C + (b - C) * B + (D - C) * U, e[T + 1] = N + (F -N) * B + (R - N) * U) : (e[T] = x + (D - x) * (1 - B) + (b -x) * (1 - U), e[T + 1] = O + (R - O) * (1 - B) + (F - O) * (1 -U))} else if (L >= 1) {var C = s[2 * (_ + a * M)],N = s[2 * (_ + a * M) + 1],b = p + 3 * c + 1 * g,F = f + 3 * d + 1 * y,D = p + 1 * c + 3 * g,R = f + 1 * d + 3 * y,x = p + 3 * c + 3 * g,O = f + 3 * d + 3 * y,B = .5 * (v - 1),U = .5 * (L - 1);B + U <= 1 ? (e[T] = C + (b - C) * B + (D - C) * U, e[T + 1] = N + (F - N) *B + (R - N) * U) : (e[T] = x + (D - x) * (1 - B) + (b - x) * (1 -U), e[T + 1] = O + (R - O) * (1 - B) + (F - O) * (1 - U))} else {var G = 0 | S;G == a && (G = a - 1);var B = .5 * (v - 1),U = S - G,Y = G / a,k = (G + 1) / a,C = s[2 * (_ + G * M)],N = s[2 * (_ + G * M) + 1],D = s[2 * (_ + (G + 1) * M)],R = s[2 * (_ + (G + 1) * M) + 1],b = p + 3 * c + Y * g,F = f + 3 * d + Y * y,x = p + 3 * c + k * g,O = f + 3 * d + k * y;B + U <= 1 ? (e[T] = C + (b - C) * B + (D - C) * U, e[T + 1] = N + (F - N) *B + (R - N) * U) : (e[T] = x + (D - x) * (1 - B) + (b - x) * (1 -U), e[T + 1] = O + (R - O) * (1 - B) + (F - O) * (1 - U))} else if (L <= 0) {var V = 0 | P;V == _ && (V = _ - 1);var B = P - V,U = .5 * (L - -2),X = V / _,z = (V + 1) / _,D = s[2 * (V + 0 * M)],R = s[2 * (V + 0 * M) + 1],x = s[2 * (V + 1 + 0 * M)],O = s[2 * (V + 1 + 0 * M) + 1],C = p + X * c - 2 * g,N = f + X * d - 2 * y,b = p + z * c - 2 * g,F = f + z * d - 2 * y;B + U <= 1 ? (e[T] = C + (b - C) * B + (D - C) * U, e[T + 1] = N + (F - N) *B + (R - N) * U) : (e[T] = x + (D - x) * (1 - B) + (b - x) * (1 -U), e[T + 1] = O + (R - O) * (1 - B) + (F - O) * (1 - U))} else if (L >= 1) {var V = 0 | P;V == _ && (V = _ - 1);var B = P - V,U = .5 * (L - 1),X = V / _,z = (V + 1) / _,C = s[2 * (V + a * M)],N = s[2 * (V + a * M) + 1],b = s[2 * (V + 1 + a * M)],F = s[2 * (V + 1 + a * M) + 1],D = p + X * c + 3 * g,R = f + X * d + 3 * y,x = p + z * c + 3 * g,O = f + z * d + 3 * y;B + U <= 1 ? (e[T] = C + (b - C) * B + (D - C) * U, e[T + 1] = N + (F - N) *B + (R - N) * U) : (e[T] = x + (D - x) * (1 - B) + (b - x) * (1 -U), e[T + 1] = O + (R - O) * (1 - B) + (F - O) * (1 - U))} else t.err.printf("_$li calc : %.4f , %.4f\t\t\t\t\t@@BDBoxGrid\n", v, L);else e[T] = p + v * c + L * g, e[T + 1] = f + v * d + L * y} else l = P - (0 | P), $ = S - (0 | S), h = 2 * ((0 | P) + (0 | S) * (_ + 1)), l +$ < 1 ? (e[T] = s[h] * (1 - l - $) + s[h + 2] * l + s[h + 2 * (_ + 1)] * $, e[T + 1] = s[h + 1] * (1 - l - $) + s[h + 3] * l + s[h + 2 * (_ + 1) +1] * $) : (e[T] = s[h + 2 * (_ + 1) + 2] * (l - 1 + $) + s[h + 2 * (_ +1)] * (1 - l) + s[h + 2] * (1 - $), e[T + 1] = s[h + 2 * (_ + 1) + 3] * (l -1 + $) + s[h + 2 * (_ + 1) + 1] * (1 - l) + s[h + 3] * (1 - $))}}, Z.prototype.transformPoints_sdk1 = function(t, i, e, r, o, n, s) {for (var _, a, h, l, $, u, p, f = i, c = this._$o, d = this._$A, g = o * s, y = null !=f._$hr ? f._$hr : f._$Cr, m = n; m < g; m += s) at._$ts ? (_ = e[m], a = e[m +1], _ < 0 ? _ = 0 : _ > 1 && (_ = 1), a < 0 ? a = 0 : a > 1 && (a = 1), _ *=c, a *= d, h = 0 | _, l = 0 | a, h > c - 1 && (h = c - 1), l > d - 1 && (l = d -1), u = _ - h, p = a - l, $ = 2 * (h + l * (c + 1))) : (_ = e[m] * c, a = e[m + 1] * d, u = _ - (0 | _), p = a - (0 | a), $ = 2 * ((0 | _) + (0 | a) * (c + 1))), u + p < 1 ? (r[m] = y[$] * (1 - u - p) + y[$ + 2] * u + y[$ + 2 * (c +1)] * p, r[m + 1] = y[$ + 1] * (1 - u - p) + y[$ + 3] * u + y[$ + 2 * (c +1) + 1] * p) : (r[m] = y[$ + 2 * (c + 1) + 2] * (u - 1 + p) + y[$ + 2 * (c +1)] * (1 - u) + y[$ + 2] * (1 - p), r[m + 1] = y[$ + 2 * (c + 1) + 3] * (u - 1 +p) + y[$ + 2 * (c + 1) + 1] * (1 - u) + y[$ + 3] * (1 - p))}, Z.prototype._$VT = function() {return (this._$o + 1) * (this._$A + 1)}, Z.prototype.getType = function() {return I._$_b}, K.prototype = new _t, tt._$42 = 0, tt.prototype._$zP = function() {this._$3S = new Array, this._$aS = new Array}, tt.prototype._$F0 = function(t) {this._$g0 = t._$8L(), this.visible = t._$8L(), this._$NL = t._$nP(), this._$3S = t._$nP(), this._$aS = t._$nP()}, tt.prototype.init = function(t) {var i = new it(this);return i.setPartsOpacity(this.isVisible() ? 1 : 0), i}, tt.prototype._$6o = function(t) {if (null == this._$3S) throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(t)}, tt.prototype._$3o = function(t) {if (null == this._$aS) throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(t)}, tt.prototype._$Zo = function(t) {this._$3S = t}, tt.prototype._$xo = function(t) {this._$aS = t}, tt.prototype.isVisible = function() {return this.visible}, tt.prototype._$uL = function() {return this._$g0}, tt.prototype._$KP = function(t) {this.visible = t}, tt.prototype._$ET = function(t) {this._$g0 = t}, tt.prototype.getBaseData = function() {return this._$3S}, tt.prototype.getDrawData = function() {return this._$aS}, tt.prototype._$p2 = function() {return this._$NL}, tt.prototype._$ob = function(t) {this._$NL = t}, tt.prototype.getPartsID = function() {return this._$NL}, tt.prototype._$MP = function(t) {this._$NL = t}, it.prototype = new $, it.prototype.getPartsOpacity = function() {return this._$VS}, it.prototype.setPartsOpacity = function(t) {this._$VS = t}, et._$L7 = function() {u._$27(), yt._$27(), b._$27(), l._$27()}, et.prototype.toString = function() {return this.id}, rt.prototype._$F0 = function(t) {}, ot.prototype._$1s = function() {return this._$4S}, ot.prototype._$zP = function() {this._$4S = new Array}, ot.prototype._$F0 = function(t) {this._$4S = t._$nP()}, ot.prototype._$Ks = function(t) {this._$4S.push(t)}, nt.tr = new gt, nt._$50 = new gt, nt._$Ti = new Array(0, 0), nt._$Pi = new Array(0, 0),nt._$B = new Array(0, 0), nt.prototype._$lP = function(t, i, e, r) {this.viewport = new Array(t, i, e, r)}, nt.prototype._$bL = function() {this.context.save();var t = this.viewport;null != t && (this.context.beginPath(), this.context._$Li(t[0], t[1], t[2], t[3]), this.context.clip())}, nt.prototype._$ei = function() {this.context.restore()}, nt.prototype.drawElements = function(t, i, e, r, o, n, s, a) {try {o != this._$Qo && (this._$Qo = o, this.context.globalAlpha = o);for (var h = i.length, l = t.width, $ = t.height, u = this.context, p = this._$xP,f = this._$uP, c = this._$6r, d = this._$3r, g = nt.tr, y = nt._$Ti, m = nt._$Pi, T = nt._$B, P = 0; P < h; P += 3) {u.save();var S = i[P],v = i[P + 1],L = i[P + 2],M = p + c * e[2 * S],E = f + d * e[2 * S + 1],A = p + c * e[2 * v],I = f + d * e[2 * v + 1],w = p + c * e[2 * L],x = f + d * e[2 * L + 1];s && (s._$PS(M, E, T), M = T[0], E = T[1], s._$PS(A, I, T), A = T[0], I = T[1],s._$PS(w, x, T), w = T[0], x = T[1]);var O = l * r[2 * S],D = $ - $ * r[2 * S + 1],R = l * r[2 * v],b = $ - $ * r[2 * v + 1],F = l * r[2 * L],C = $ - $ * r[2 * L + 1],N = Math.atan2(b - D, R - O),B = Math.atan2(I - E, A - M),U = A - M,G = I - E,Y = Math.sqrt(U * U + G * G),k = R - O,V = b - D,X = Math.sqrt(k * k + V * V),z = Y / X;It._$ni(F, C, O, D, R - O, b - D, -(b - D), R - O, y), It._$ni(w, x, M, E, A -M, I - E, -(I - E), A - M, m);var H = (m[0] - y[0]) / y[1],W = Math.min(O, R, F),j = Math.max(O, R, F),q = Math.min(D, b, C),J = Math.max(D, b, C),Q = Math.floor(W),Z = Math.floor(q),K = Math.ceil(j),tt = Math.ceil(J);g.identity(), g.translate(M, E), g.rotate(B), g.scale(1, m[1] / y[1]), g.shear(H, 0), g.scale(z, z), g.rotate(-N), g.translate(-O, -D), g.setContext(u);if (n || (n = 1.2), at.IGNORE_EXPAND && (n = 0), at.USE_CACHED_POLYGON_IMAGE) {var it = a._$e0;if (it.gl_cacheImage = it.gl_cacheImage || {}, !it.gl_cacheImage[P]) {var et = nt.createCanvas(K - Q, tt - Z);at.DEBUG_DATA.LDGL_CANVAS_MB = at.DEBUG_DATA.LDGL_CANVAS_MB || 0, at.DEBUG_DATA.LDGL_CANVAS_MB += (K - Q) * (tt - Z) * 4;var rt = et.getContext("2d");rt.translate(-Q, -Z), nt.clip(rt, g, n, Y, O, D, R, b, F, C, M, E, A, I,w, x), rt.drawImage(t, 0, 0), it.gl_cacheImage[P] = {cacheCanvas: et,cacheContext: rt}}u.drawImage(it.gl_cacheImage[P].cacheCanvas, Q, Z)} else at.IGNORE_CLIP || nt.clip(u, g, n, Y, O, D, R, b, F, C, M, E, A, I, w,x), at.USE_ADJUST_TRANSLATION && (W = 0, j = l, q = 0, J = $), u.drawImage(t, W, q, j - W, J - q, W, q, j - W, J - q);u.restore()}} catch (t) {_._$Rb(t)}}, nt.clip = function(t, i, e, r, o, n, s, _, a, h, l, $, u, p, f, c) {e > .02 ? nt.expandClip(t, i, e, r, l, $, u, p, f, c) : nt.clipWithTransform(t, null, o,n, s, _, a, h)}, nt.expandClip = function(t, i, e, r, o, n, s, _, a, h) {var l = s - o,$ = _ - n,u = a - o,p = h - n,f = l * p - $ * u > 0 ? e : -e,c = -$,d = l,g = a - s,y = h - _,m = -y,T = g,P = Math.sqrt(g * g + y * y),S = -p,v = u,L = Math.sqrt(u * u + p * p),M = o - f * c / r,E = n - f * d / r,A = s - f * c / r,I = _ - f * d / r,w = s - f * m / P,x = _ - f * T / P,O = a - f * m / P,D = h - f * T / P,R = o + f * S / L,b = n + f * v / L,F = a + f * S / L,C = h + f * v / L,N = nt._$50;return null != i._$P2(N) && (nt.clipWithTransform(t, N, M, E, A, I, w, x, O, D, F, C, R,b), !0)}, nt.clipWithTransform = function(t, i, e, r, o, n, s, a) {if (arguments.length < 7) return void _._$li("err : @LDGL.clip()");if (!(arguments[1] instanceof gt)) return void _._$li("err : a[0] is _$6 LDTransform @LDGL.clip()");var h = nt._$B,l = i,$ = arguments;if (t.beginPath(), l) {l._$PS($[2], $[3], h), t.moveTo(h[0], h[1]);for (var u = 4; u < $.length; u += 2) l._$PS($[u], $[u + 1], h), t.lineTo(h[0], h[1])} else {t.moveTo($[2], $[3]);for (var u = 4; u < $.length; u += 2) t.lineTo($[u], $[u + 1])}t.clip()}, nt.createCanvas = function(t, i) {var e = document.createElement("canvas");return e.setAttribute("width", t), e.setAttribute("height", i), e || _._$li("err : " +e), e}, nt.dumpValues = function() {for (var t = "", i = 0; i < arguments.length; i++) t += "[" + i + "]= " + arguments[i].toFixed(3) + " , ";console.log(t)}, st.prototype._$F0 = function(t) {this._$TT = t._$_T(), this._$LT = t._$_T(), this._$FS = t._$_T(), this._$wL = t._$nP()}, st.prototype.getMinValue = function() {return this._$TT}, st.prototype.getMaxValue = function() {return this._$LT}, st.prototype.getDefaultValue = function() {return this._$FS}, st.prototype.getParamID = function() {return this._$wL}, _t.prototype._$yo = function() {return this._$AT && !this._$JS}, _t.prototype._$hS = function(t) {this._$AT = t}, _t.prototype._$GT = function() {return this._$e0}, _t.prototype._$l2 = function(t) {this._$IP = t}, _t.prototype.getPartsIndex = function() {return this._$IP}, _t.prototype._$x2 = function() {return this._$JS}, _t.prototype._$Ib = function(t) {this._$JS = t}, _t.prototype.getTotalScale = function() {return this.totalScale}, _t.prototype.setTotalScale_notForClient = function(t) {this.totalScale = t}, _t.prototype.getInterpolatedOpacity = function() {return this._$7s}, _t.prototype.setInterpolatedOpacity = function(t) {this._$7s = t}, _t.prototype.getTotalOpacity = function(t) {return this.totalOpacity}, _t.prototype.setTotalOpacity = function(t) {this.totalOpacity = t}, at._$2s = "2.1.00_1", at._$Kr = 201001e3, at._$sP = !0, at._$so = !0, at._$cb = !1, at._$3T = !0, at._$Ts = !0, at._$fb = !0, at._$ts = !0, at.L2D_DEFORMER_EXTEND = !0, at._$Wb = !1;at._$yr = !1, at._$Zs = !1, at.L2D_NO_ERROR = 0, at._$i7 = 1e3, at._$9s = 1001, at._$es = 1100,at._$r7 = 2e3, at._$07 = 2001, at._$b7 = 2002, at._$H7 = 4e3, at.L2D_COLOR_BLEND_MODE_MULT =0, at.L2D_COLOR_BLEND_MODE_ADD = 1, at.L2D_COLOR_BLEND_MODE_INTERPOLATE = 2, at._$6b = !0,at._$cT = 0, at.clippingMaskBufferSize = 256, at.glContext = new Array, at.frameBuffers =new Array, at.fTexture = new Array, at.IGNORE_CLIP = !1, at.IGNORE_EXPAND = !1, at.EXPAND_W = 2, at.USE_ADJUST_TRANSLATION = !0, at.USE_CANVAS_TRANSFORM = !0, at.USE_CACHED_POLYGON_IMAGE = !1, at.DEBUG_DATA = {}, at.PROFILE_IOS_SPEED = {PROFILE_NAME: "iOS Speed",USE_ADJUST_TRANSLATION: !0,USE_CACHED_POLYGON_IMAGE: !0,EXPAND_W: 4}, at.PROFILE_IOS_QUALITY = {PROFILE_NAME: "iOS HiQ",USE_ADJUST_TRANSLATION: !0,USE_CACHED_POLYGON_IMAGE: !1,EXPAND_W: 2}, at.PROFILE_IOS_DEFAULT = at.PROFILE_IOS_QUALITY, at.PROFILE_ANDROID = {PROFILE_NAME: "Android",USE_ADJUST_TRANSLATION: !1,USE_CACHED_POLYGON_IMAGE: !1,EXPAND_W: 2}, at.PROFILE_DESKTOP = {PROFILE_NAME: "Desktop",USE_ADJUST_TRANSLATION: !1,USE_CACHED_POLYGON_IMAGE: !1,EXPAND_W: 2}, at.initProfile = function() {Et.isIOS() ? at.setupProfile(at.PROFILE_IOS_DEFAULT) : Et.isAndroid() ? at.setupProfile(at.PROFILE_ANDROID) : at.setupProfile(at.PROFILE_DESKTOP)}, at.setupProfile = function(t, i) {if ("number" == typeof t) switch (t) {case 9901:t = at.PROFILE_IOS_SPEED;break;case 9902:t = at.PROFILE_IOS_QUALITY;break;case 9903:t = at.PROFILE_IOS_DEFAULT;break;case 9904:t = at.PROFILE_ANDROID;break;case 9905:t = at.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : " + t)}arguments.length < 2 && (i = !0), i && console.log("profile : " + t.PROFILE_NAME);for (var e in t) at[e] = t[e], i && console.log("  [" + e + "] = " + t[e])}, at.init = function() {if (at._$6b) {console.log("Live2D %s", at._$2s), at._$6b = !1;!0, at.initProfile()}}, at.getVersionStr = function() {return at._$2s}, at.getVersionNo = function() {return at._$Kr}, at._$sT = function(t) {at._$cT = t}, at.getError = function() {var t = at._$cT;return at._$cT = 0, t}, at.dispose = function() {at.glContext = [], at.frameBuffers = [], at.fTexture = []}, at.setGL = function(t, i) {var e = i || 0;at.glContext[e] = t}, at.getGL = function(t) {return at.glContext[t]}, at.setClippingMaskBufferSize = function(t) {at.clippingMaskBufferSize = t}, at.getClippingMaskBufferSize = function() {return at.clippingMaskBufferSize}, at.deleteBuffer = function(t) {at.getGL(t).deleteFramebuffer(at.frameBuffers[t].framebuffer), delete at.frameBuffers[t], delete at.glContext[t]}, ht._$r2 = function(t) {return t < 0 ? 0 : t > 1 ? 1 : .5 - .5 * Math.cos(t * Lt.PI_F)}, lt._$fr = -1, lt.prototype.toString = function() {return this._$ib}, $t.prototype = new W, $t._$42 = 0, $t._$Os = 30, $t._$ms = 0, $t._$ns = 1, $t._$_s = 2,$t._$gT = new Array, $t.prototype._$_S = function(t) {this._$LP = t}, $t.prototype.getTextureNo = function() {return this._$LP}, $t.prototype._$ZL = function() {return this._$Qi}, $t.prototype._$H2 = function() {return this._$JP}, $t.prototype.getNumPoints = function() {return this._$d0}, $t.prototype.getType = function() {return W._$wb}, $t.prototype._$B2 = function(t, i, e) {var r = i,o = null != r._$hr ? r._$hr : r._$Cr;switch (U._$do) {default:case U._$Ms:throw new Error("_$L _$ro ");case U._$Qs:for (var n = this._$d0 - 1; n >= 0; --n) o[n * U._$No + 4] = e}}, $t.prototype._$zP = function() {this._$GS = new D, this._$GS._$zP()}, $t.prototype._$F0 = function(t) {W.prototype._$F0.call(this, t), this._$LP = t._$6L(), this._$d0 = t._$6L(), this._$Yo =t._$6L();var i = t._$nP();this._$BP = new Int16Array(3 * this._$Yo);for (var e = 3 * this._$Yo - 1; e >= 0; --e) this._$BP[e] = i[e];if (this._$Eo = t._$nP(), this._$Qi = t._$nP(), t.getFormatVersion() >= G._$s7) {if (this._$JP = t._$6L(), 0 != this._$JP) {if (0 != (1 & this._$JP)) {var r = t._$6L();null == this._$5P && (this._$5P = new Object), this._$5P._$Hb = parseInt(r)}0 != (this._$JP & $t._$Os) ? this._$6s = (this._$JP & $t._$Os) >> 1 : this._$6s = $t._$ms, 0 != (32 & this._$JP) && (this.culling = !1)}} else this._$JP = 0}, $t.prototype.init = function(t) {var i = new ut(this),e = this._$d0 * U._$No,r = this._$32();switch (null != i._$Cr && (i._$Cr = null), i._$Cr = new Float32Array(e), null != i._$hr && (i._$hr = null), i._$hr = r ? new Float32Array(e) : null, U._$do) {default:case U._$Ms:if (U._$Ls)for (var o = this._$d0 - 1; o >= 0; --o) {var n = o << 1;this._$Qi[n + 1] = 1 - this._$Qi[n + 1]}break;case U._$Qs:for (var o = this._$d0 - 1; o >= 0; --o) {var n = o << 1,s = o * U._$No,_ = this._$Qi[n],a = this._$Qi[n + 1];i._$Cr[s] = _, i._$Cr[s + 1] = a, i._$Cr[s + 4] = 0, r && (i._$hr[s] = _, i._$hr[s + 1] = a, i._$hr[s + 4] = 0)}}return i}, $t.prototype._$Nr = function(t, i) {var e = i;if (this != e._$GT() && console.log("### assert!! ### "), this._$GS._$Ur(t) && (W.prototype._$Nr.call(this, t, e), !e._$IS[0])) {var r = $t._$gT;r[0] = !1, v._$Vr(t, this._$GS, r, this._$d0, this._$Eo, e._$Cr, U._$i2, U._$No)}}, $t.prototype._$2b = function(t, i) {try {this != i._$GT() && console.log("### assert!! ### ");var e = !1;i._$IS[0] && (e = !0);var r = i;if (!e && (W.prototype._$2b.call(this, t), this._$32())) {var o = this.getTargetBaseDataID();if (r._$8r == W._$ur && (r._$8r = t.getBaseDataIndex(o)), r._$8r < 0) at._$so &&_._$li("_$L _$0P _$G :: %s", o);else {var n = t.getBaseData(r._$8r),s = t._$q2(r._$8r);null == n || s._$x2() ? r._$AT = !1 : (n._$nb(t, s, r._$Cr, r._$hr, this._$d0, U._$i2, U._$No), r._$AT = !0), r.baseOpacity = s.getTotalOpacity()}}} catch (t) {throw t}}, $t.prototype.draw = function(t, i, e) {if (this != e._$GT() && console.log("### assert!! ### "), !e._$IS[0]) {var r = e,o = this._$LP;o < 0 && (o = 1);var n = this.getOpacity(i, r) * e._$VS * e.baseOpacity,s = null != r._$hr ? r._$hr : r._$Cr;t.setClipBufPre_clipContextForDraw(e.clipBufPre_clipContext), t._$WP(this.culling),t._$Uo(o, 3 * this._$Yo, this._$BP, s, this._$Qi, n, this._$6s, r)}}, $t.prototype.dump = function() {console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n", this._$LP, this._$d0, this._$Yo), console.log("  _$Oi _$di = { ");for (var t = 0; t < this._$BP.length; t++) console.log("%5d ,", this._$BP[t]);console.log("\n  _$5i _$30");for (var t = 0; t < this._$Eo.length; t++) {console.log("\n    _$30[%d] = ", t);for (var i = this._$Eo[t], e = 0; e < i.length; e++) console.log("%6.2f, ", i[e])}console.log("\n")}, $t.prototype._$72 = function(t) {return null == this._$5P ? null : this._$5P[t]}, $t.prototype.getIndexArray = function() {return this._$BP}, ut.prototype = new Mt, ut.prototype.getTransformedPoints = function() {return null != this._$hr ? this._$hr : this._$Cr}, pt.prototype._$HT = function(t) {this.x = t.x, this.y = t.y}, pt.prototype._$HT = function(t, i) {this.x = t, this.y = i}, ft.prototype = new i, ft.loadModel = function(t) {var e = new ft;return i._$62(e, t), e}, ft.loadModel = function(t, e) {var r = e || 0,o = new ft(r);return i._$62(o, t), o}, ft._$to = function() {return new ft}, ft._$er = function(t) {var i = new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if (0 == i.exists()) throw new _$ls("_$t0 _$_ _$6 _$Ui :: " + i._$PL());for (var e = ["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1", "../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"], r = ft.loadModel(i._$3b()), o = 0; o < e.length; o++) {var n = new _$5(e[o]);if (0 == n.exists()) throw new _$ls("_$t0 _$_ _$6 _$Ui :: " + n._$PL());r.setTexture(o, _$nL._$_o(t, n._$3b()))}return r}, ft.prototype.setGL = function(t) {at.setGL(t)}, ft.prototype.setTransform = function(t) {this.drawParamWebGL.setTransform(t)}, ft.prototype.update = function() {this._$5S.update(), this._$5S.preDraw(this.drawParamWebGL)}, ft.prototype.draw = function() {this._$5S.draw(this.drawParamWebGL)}, ft.prototype._$K2 = function() {this.drawParamWebGL._$K2()}, ft.prototype.setTexture = function(t, i) {null == this.drawParamWebGL && _._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"), this.drawParamWebGL.setTexture(t, i)}, ft.prototype.setTexture = function(t, i) {null == this.drawParamWebGL && _._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"), this.drawParamWebGL.setTexture(t, i)}, ft.prototype._$Rs = function() {return this.drawParamWebGL._$Rs()}, ft.prototype._$Ds = function(t) {this.drawParamWebGL._$Ds(t)}, ft.prototype.getDrawParam = function() {return this.drawParamWebGL}, ft.prototype.setMatrix = function(t) {this.drawParamWebGL.setMatrix(t)}, ft.prototype.setPremultipliedAlpha = function(t) {this.drawParamWebGL.setPremultipliedAlpha(t)}, ft.prototype.isPremultipliedAlpha = function() {return this.drawParamWebGL.isPremultipliedAlpha()}, ft.prototype.setAnisotropy = function(t) {this.drawParamWebGL.setAnisotropy(t)}, ft.prototype.getAnisotropy = function() {return this.drawParamWebGL.getAnisotropy()}, ct.prototype._$tb = function() {return this.motions}, ct.prototype.startMotion = function(t, i) {for (var e = null, r = this.motions.length, o = 0; o < r; ++o) null != (e = this.motions[o]) && (e._$qS(e._$w0.getFadeOut()), this._$eb && _._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n", r, e._$sr));if (null == t) return -1;e = new dt, e._$w0 = t, this.motions.push(e);var n = e._$sr;return this._$eb && _._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n", r, n), n}, ct.prototype.updateParam = function(t) {try {for (var i = !1, e = 0; e < this.motions.length; e++) {var r = this.motions[e];if (null != r) {var o = r._$w0;null != o ? (o.updateParam(t, r), i = !0, r.isFinished() && (this._$eb && _._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n",this.motions.length - 1, r._$sr), this.motions.splice(e, 1),e--)) : (this.motions = this.motions.splice(e, 1), e--)} else this.motions.splice(e, 1), e--}return i} catch (t) {return _._$li(t), !0}}, ct.prototype.isFinished = function(t) {if (arguments.length >= 1) {for (var i = 0; i < this.motions.length; i++) {var e = this.motions[i];if (null != e && (e._$sr == t && !e.isFinished())) return !1}return !0}for (var i = 0; i < this.motions.length; i++) {var e = this.motions[i];if (null != e) {if (null != e._$w0) {if (!e.isFinished()) return !1} else this.motions.splice(i, 1), i--} else this.motions.splice(i, 1), i--}return !0}, ct.prototype.stopAllMotions = function() {for (var t = 0; t < this.motions.length; t++) {var i = this.motions[t];if (null != i) {i._$w0;this.motions.splice(t, 1), t--} else this.motions.splice(t, 1), t--}}, ct.prototype._$Zr = function(t) {this._$eb = t}, ct.prototype._$e = function() {console.log("-- _$R --\n");for (var t = 0; t < this.motions.length; t++) {var i = this.motions[t],e = i._$w0;console.log("MotionQueueEnt[%d] :: %s\n", this.motions.length, e.toString())}}, dt._$Gs = 0, dt.prototype.isFinished = function() {return this._$9L}, dt.prototype._$qS = function(t) {var i = w.getUserTimeMSec(),e = i + t;(this._$Do < 0 || e < this._$Do) && (this._$Do = e)}, dt.prototype._$Bs = function() {return this._$sr}, gt.prototype.setContext = function(t) {var i = this.m;t.transform(i[0], i[1], i[3], i[4], i[6], i[7])}, gt.prototype.toString = function() {for (var t = "LDTransform { ", i = 0; i < 9; i++) t += this.m[i].toFixed(2) + " ,";return t += " }"}, gt.prototype.identity = function() {var t = this.m;t[0] = t[4] = t[8] = 1, t[1] = t[2] = t[3] = t[5] = t[6] = t[7] = 0}, gt.prototype._$PS = function(t, i, e) {null == e && (e = new Array(0, 0));var r = this.m;return e[0] = r[0] * t + r[3] * i + r[6], e[1] = r[1] * t + r[4] * i + r[7], e}, gt.prototype._$P2 = function(t) {t || (t = new gt);var i = this.m,e = i[0],r = i[1],o = i[2],n = i[3],s = i[4],_ = i[5],a = i[6],h = i[7],l = i[8],$ = e * s * l + r * _ * a + o * n * h - e * _ * h - o * s * a - r * n * l;if (0 == $) return null;var u = 1 / $;return t.m[0] = u * (s * l - h * _), t.m[1] = u * (h * o - r * l), t.m[2] = u * (r * _ -s * o), t.m[3] = u * (a * _ - n * l), t.m[4] = u * (e * l - a * o), t.m[5] = u *(n * o - e * _), t.m[6] = u * (n * h - a * s), t.m[7] = u * (a * r - e * h), t.m[8] = u * (e * s - n * r), t}, gt.prototype.transform = function(t, i, e) {null == e && (e = new Array(0, 0));var r = this.m;return e[0] = r[0] * t + r[3] * i + r[6], e[1] = r[1] * t + r[4] * i + r[7], e}, gt.prototype.translate = function(t, i) {var e = this.m;e[6] = e[0] * t + e[3] * i + e[6], e[7] = e[1] * t + e[4] * i + e[7], e[8] = e[2] * t +e[5] * i + e[8]}, gt.prototype.scale = function(t, i) {var e = this.m;e[0] *= t, e[1] *= t, e[2] *= t, e[3] *= i, e[4] *= i, e[5] *= i}, gt.prototype.shear = function(t, i) {var e = this.m,r = e[0] + e[3] * i,o = e[1] + e[4] * i,n = e[2] + e[5] * i;e[3] = e[0] * t + e[3], e[4] = e[1] * t + e[4], e[5] = e[2] * t + e[5], e[0] = r, e[1] =o, e[2] = n}, gt.prototype.rotate = function(t) {var i = this.m,e = Math.cos(t),r = Math.sin(t),o = i[0] * e + i[3] * r,n = i[1] * e + i[4] * r,s = i[2] * e + i[5] * r;i[3] = -i[0] * r + i[3] * e, i[4] = -i[1] * r + i[4] * e, i[5] = -i[2] * r + i[5] * e,i[0] = o, i[1] = n, i[2] = s}, gt.prototype.concatenate = function(t) {var i = this.m,e = t.m,r = i[0] * e[0] + i[3] * e[1] + i[6] * e[2],o = i[1] * e[0] + i[4] * e[1] + i[7] * e[2],n = i[2] * e[0] + i[5] * e[1] + i[8] * e[2],s = i[0] * e[3] + i[3] * e[4] + i[6] * e[5],_ = i[1] * e[3] + i[4] * e[4] + i[7] * e[5],a = i[2] * e[3] + i[5] * e[4] + i[8] * e[5],h = i[0] * e[6] + i[3] * e[7] + i[6] * e[8],l = i[1] * e[6] + i[4] * e[7] + i[7] * e[8],$ = i[2] * e[6] + i[5] * e[7] + i[8] * e[8];m[0] = r, m[1] = o, m[2] = n, m[3] = s, m[4] = _, m[5] = a, m[6] = h, m[7] = l, m[8] = $}, yt.prototype = new et, yt._$eT = null, yt._$tP = new Object, yt._$2o = function() {return null == yt._$eT && (yt._$eT = yt.getID("DST_BASE")), yt._$eT}, yt._$27 = function() {yt._$tP.clear(), yt._$eT = null}, yt.getID = function(t) {var i = yt._$tP[t];return null == i && (i = new yt(t), yt._$tP[t] = i), i}, yt.prototype._$3s = function() {return new yt}, mt.prototype = new E, mt._$9r = function(t) {return new Float32Array(t)}, mt._$vb = function(t) {return new Int16Array(t)}, mt._$cr = function(t, i) {return null == t || t._$yL() < i.length ? (t = mt._$9r(2 * i.length), t.put(i), t._$oT(0)) : (t.clear(), t.put(i), t._$oT(0)), t}, mt._$mb = function(t, i) {return null == t || t._$yL() < i.length ? (t = mt._$vb(2 * i.length), t.put(i), t._$oT(0)) : (t.clear(), t.put(i), t._$oT(0)), t}, mt._$Hs = function() {return this._$Gr}, mt._$as = function(t) {this._$Gr = t}, mt.prototype.getGL = function() {return this.gl}, mt.prototype.setGL = function(t) {this.gl = t}, mt.prototype.setTransform = function(t) {this.transform = t}, mt.prototype._$ZT = function() {var t = this.gl;this.firstDraw && (this.initShader(), this.firstDraw = !1, this.anisotropyExt = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic"), this.anisotropyExt && (this.maxAnisotropy = t.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))), t.disable(t.SCISSOR_TEST), t.disable(t.STENCIL_TEST), t.disable(t.DEPTH_TEST), t.frontFace(t.CW), t.enable(t.BLEND), t.colorMask(1, 1, 1, 1), t.bindBuffer(t.ARRAY_BUFFER, null), t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, null)}, mt.prototype._$Uo = function(t, i, e, r, o, n, s, _) {if (!(n < .01 && null == this.clipBufPre_clipContextMask)) {var a = (n > .9 && at.EXPAND_W, this.gl);if (null == this.gl) throw new Error("gl is null");var h = 1 * this._$C0 * n,l = 1 * this._$tT * n,$ = 1 * this._$WL * n,u = this._$lT * n;if (null != this.clipBufPre_clipContextMask) {a.frontFace(a.CCW), a.useProgram(this.shaderProgram), this._$vS = Tt(a, this._$vS, r), this._$no = Pt(a, this._$no, e), a.enableVertexAttribArray(this.a_position_Loc), a.vertexAttribPointer(this.a_position_Loc, 2, a.FLOAT, !1, 0, 0), this._$NT = Tt(a, this._$NT, o), a.activeTexture(a.TEXTURE1), a.bindTexture(a.TEXTURE_2D, this.textures[t]), a.uniform1i(this.s_texture0_Loc, 1), a.enableVertexAttribArray(this.a_texCoord_Loc),a.vertexAttribPointer(this.a_texCoord_Loc, 2, a.FLOAT, !1, 0, 0), a.uniformMatrix4fv(this.u_matrix_Loc, !1, this.getClipBufPre_clipContextMask().matrixForMask);var p = this.getClipBufPre_clipContextMask().layoutChannelNo,f = this.getChannelFlagAsColor(p);a.uniform4f(this.u_channelFlag, f.r, f.g, f.b, f.a);var c = this.getClipBufPre_clipContextMask().layoutBounds;a.uniform4f(this.u_baseColor_Loc, 2 * c.x - 1, 2 * c.y - 1, 2 * c._$EL() - 1,2 * c._$5T() - 1), a.uniform1i(this.u_maskFlag_Loc, !0)} else if (null != this.getClipBufPre_clipContextDraw()) {a.useProgram(this.shaderProgramOff), this._$vS = Tt(a, this._$vS, r), this._$no = Pt(a, this._$no, e), a.enableVertexAttribArray(this.a_position_Loc_Off), a.vertexAttribPointer(this.a_position_Loc_Off, 2,a.FLOAT, !1, 0, 0), this._$NT = Tt(a, this._$NT, o), a.activeTexture(a.TEXTURE1), a.bindTexture(a.TEXTURE_2D, this.textures[t]), a.uniform1i(this.s_texture0_Loc_Off, 1), a.enableVertexAttribArray(this.a_texCoord_Loc_Off), a.vertexAttribPointer(this.a_texCoord_Loc_Off, 2,a.FLOAT, !1, 0, 0), a.uniformMatrix4fv(this.u_clipMatrix_Loc_Off, !1,this.getClipBufPre_clipContextDraw().matrixForDraw), a.uniformMatrix4fv(this.u_matrix_Loc_Off, !1, this.matrix4x4), a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D, at.fTexture[this.glno]), a.uniform1i(this.s_texture1_Loc_Off, 2);var p = this.getClipBufPre_clipContextDraw().layoutChannelNo,f = this.getChannelFlagAsColor(p);a.uniform4f(this.u_channelFlag_Loc_Off, f.r, f.g, f.b, f.a), a.uniform4f(this.u_baseColor_Loc_Off, h, l, $, u)} else a.useProgram(this.shaderProgram), this._$vS = Tt(a, this._$vS, r), this._$no = Pt(a, this._$no, e), a.enableVertexAttribArray(this.a_position_Loc), a.vertexAttribPointer(this.a_position_Loc, 2, a.FLOAT, !1, 0, 0), this._$NT = Tt(a, this._$NT, o), a.activeTexture(a.TEXTURE1), a.bindTexture(a.TEXTURE_2D,this.textures[t]), a.uniform1i(this.s_texture0_Loc, 1), a.enableVertexAttribArray(this.a_texCoord_Loc), a.vertexAttribPointer(this.a_texCoord_Loc, 2, a.FLOAT, !1, 0, 0), a.uniformMatrix4fv(this.u_matrix_Loc, !1, this.matrix4x4), a.uniform4f(this.u_baseColor_Loc, h, l,$, u), a.uniform1i(this.u_maskFlag_Loc, !1);this.culling ? this.gl.enable(a.CULL_FACE) : this.gl.disable(a.CULL_FACE), this.gl.enable(a.BLEND);var d, g, y, m;if (null != this.clipBufPre_clipContextMask) d = a.ONE, g = a.ONE_MINUS_SRC_ALPHA,y = a.ONE, m = a.ONE_MINUS_SRC_ALPHA;else switch (s) {case $t._$ms:d = a.ONE, g = a.ONE_MINUS_SRC_ALPHA, y = a.ONE, m = a.ONE_MINUS_SRC_ALPHA;break;case $t._$ns:d = a.ONE, g = a.ONE, y = a.ZERO, m = a.ONE;break;case $t._$_s:d = a.DST_COLOR, g = a.ONE_MINUS_SRC_ALPHA, y = a.ZERO, m = a.ONE}a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD), a.blendFuncSeparate(d, g, y, m),this.anisotropyExt && a.texParameteri(a.TEXTURE_2D, this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT, this.maxAnisotropy);var T = e.length;a.drawElements(a.TRIANGLES, T, a.UNSIGNED_SHORT, 0), a.bindTexture(a.TEXTURE_2D,null)}}, mt.prototype._$Rs = function() {throw new Error("_$Rs")}, mt.prototype._$Ds = function(t) {throw new Error("_$Ds")}, mt.prototype._$K2 = function() {for (var t = 0; t < this.textures.length; t++) {0 != this.textures[t] && (this.gl._$K2(1, this.textures, t), this.textures[t] =null)}}, mt.prototype.setTexture = function(t, i) {this.textures[t] = i}, mt.prototype.initShader = function() {var t = this.gl;this.loadShaders2(), this.a_position_Loc = t.getAttribLocation(this.shaderProgram,"a_position"), this.a_texCoord_Loc = t.getAttribLocation(this.shaderProgram,"a_texCoord"), this.u_matrix_Loc = t.getUniformLocation(this.shaderProgram,"u_mvpMatrix"), this.s_texture0_Loc = t.getUniformLocation(this.shaderProgram,"s_texture0"), this.u_channelFlag = t.getUniformLocation(this.shaderProgram,"u_channelFlag"), this.u_baseColor_Loc = t.getUniformLocation(this.shaderProgram, "u_baseColor"), this.u_maskFlag_Loc = t.getUniformLocation(this.shaderProgram, "u_maskFlag"), this.a_position_Loc_Off = t.getAttribLocation(this.shaderProgramOff, "a_position"), this.a_texCoord_Loc_Off = t.getAttribLocation(this.shaderProgramOff, "a_texCoord"), this.u_matrix_Loc_Off = t.getUniformLocation(this.shaderProgramOff, "u_mvpMatrix"), this.u_clipMatrix_Loc_Off = t.getUniformLocation(this.shaderProgramOff, "u_ClipMatrix"),this.s_texture0_Loc_Off = t.getUniformLocation(this.shaderProgramOff, "s_texture0"),this.s_texture1_Loc_Off = t.getUniformLocation(this.shaderProgramOff, "s_texture1"),this.u_channelFlag_Loc_Off = t.getUniformLocation(this.shaderProgramOff,"u_channelFlag"), this.u_baseColor_Loc_Off = t.getUniformLocation(this.shaderProgramOff, "u_baseColor")}, mt.prototype.disposeShader = function() {var t = this.gl;this.shaderProgram && (t.deleteProgram(this.shaderProgram), this.shaderProgram = null),this.shaderProgramOff && (t.deleteProgram(this.shaderProgramOff), this.shaderProgramOff = null)}, mt.prototype.compileShader = function(t, i) {var e = this.gl,r = i,o = e.createShader(t);if (null == o) return _._$Ji("_$L0 to create shader"), null;if (e.shaderSource(o, r), e.compileShader(o), !e.getShaderParameter(o, e.COMPILE_STATUS)) {var n = e.getShaderInfoLog(o);return _._$Ji("_$L0 to compile shader : " + n), e.deleteShader(o), null}return o}, mt.prototype.loadShaders2 = function() {var t = this.gl;if (this.shaderProgram = t.createProgram(), !this.shaderProgram) return !1;if (this.shaderProgramOff = t.createProgram(), !this.shaderProgramOff) return !1;if (this.vertShader = this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}"), !this.vertShader) return _._$Ji("Vertex shader compile _$li!"), !1;if (this.vertShaderOff = this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}"), !this.vertShaderOff) return _._$Ji("OffVertex shader compile _$li!"), !1;if (this.fragShader = this.compileShader(t.FRAGMENT_SHADER,"precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}"), !this.fragShader) return _._$Ji("Fragment shader compile _$li!"), !1;if (this.fragShaderOff = this.compileShader(t.FRAGMENT_SHADER,"precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}"), !this.fragShaderOff) return _._$Ji("OffFragment shader compile _$li!"), !1;if (t.attachShader(this.shaderProgram, this.vertShader), t.attachShader(this.shaderProgram, this.fragShader), t.attachShader(this.shaderProgramOff, this.vertShaderOff), t.attachShader(this.shaderProgramOff, this.fragShaderOff), t.linkProgram(this.shaderProgram), t.linkProgram(this.shaderProgramOff), !t.getProgramParameter(this.shaderProgram, t.LINK_STATUS)) {var i = t.getProgramInfoLog(this.shaderProgram);return _._$Ji("_$L0 to link program: " + i), this.vertShader && (t.deleteShader(this.vertShader), this.vertShader = 0), this.fragShader && (t.deleteShader(this.fragShader), this.fragShader = 0), this.shaderProgram && (t.deleteProgram(this.shaderProgram), this.shaderProgram = 0), this.vertShaderOff && (t.deleteShader(this.vertShaderOff), this.vertShaderOff = 0), this.fragShaderOff && (t.deleteShader(this.fragShaderOff), this.fragShaderOff = 0),this.shaderProgramOff && (t.deleteProgram(this.shaderProgramOff), this.shaderProgramOff = 0), !1}return !0}, mt.prototype.createFramebuffer = function() {var t = this.gl,i = at.clippingMaskBufferSize,e = t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER, e);var r = t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER, r), t.renderbufferStorage(t.RENDERBUFFER, t.RGBA4, i,i), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.RENDERBUFFER, r);var o = t.createTexture();return t.bindTexture(t.TEXTURE_2D, o), t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, i, i, 0, t.RGBA, t.UNSIGNED_BYTE, null), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.LINEAR), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, t.LINEAR), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, o, 0), t.bindTexture(t.TEXTURE_2D, null), t.bindRenderbuffer(t.RENDERBUFFER, null), t.bindFramebuffer(t.FRAMEBUFFER, null), at.fTexture[this.glno] = o, {framebuffer: e,renderbuffer: r,texture: at.fTexture[this.glno]}}, St.prototype._$fP = function() {var t, i, e, r = this._$ST();if (0 == (128 & r)) return 255 & r;if (0 == (128 & (t = this._$ST()))) return (127 & r) << 7 | 127 & t;if (0 == (128 & (i = this._$ST()))) return (127 & r) << 14 | (127 & t) << 7 | 255 & i;if (0 == (128 & (e = this._$ST()))) return (127 & r) << 21 | (127 & t) << 14 | (127 &i) << 7 | 255 & e;throw new lt("_$L _$0P  _")}, St.prototype.getFormatVersion = function() {return this._$S2}, St.prototype._$gr = function(t) {this._$S2 = t}, St.prototype._$3L = function() {return this._$fP()}, St.prototype._$mP = function() {return this._$zT(), this._$F += 8, this._$T.getFloat64(this._$F - 8)}, St.prototype._$_T = function() {return this._$zT(), this._$F += 4, this._$T.getFloat32(this._$F - 4)}, St.prototype._$6L = function() {return this._$zT(), this._$F += 4, this._$T.getInt32(this._$F - 4)}, St.prototype._$ST = function() {return this._$zT(), this._$T.getInt8(this._$F++)}, St.prototype._$9T = function() {return this._$zT(), this._$F += 2, this._$T.getInt16(this._$F - 2)}, St.prototype._$2T = function() {throw this._$zT(), this._$F += 8, new lt("_$L _$q read long")}, St.prototype._$po = function() {return this._$zT(), 0 != this._$T.getInt8(this._$F++)};var xt = !0;St.prototype._$bT = function() {this._$zT();var t = this._$3L(),i = null;if (xt) try {var e = new ArrayBuffer(2 * t);i = new Uint16Array(e);for (var r = 0; r < t; ++r) i[r] = this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null, i)} catch (t) {xt = !1}try {var o = new Array;if (null == i)for (var r = 0; r < t; ++r) o[r] = this._$T.getUint8(this._$F++);elsefor (var r = 0; r < t; ++r) o[r] = i[r];return String.fromCharCode.apply(null, o)} catch (t) {console.log("read utf8 / _$rT _$L0 !! : " + t)}}, St.prototype._$cS = function() {this._$zT();for (var t = this._$3L(), i = new Int32Array(t), e = 0; e < t; e++) i[e] = this._$T.getInt32(this._$F), this._$F += 4;return i}, St.prototype._$Tb = function() {this._$zT();for (var t = this._$3L(), i = new Float32Array(t), e = 0; e < t; e++) i[e] = this._$T.getFloat32(this._$F), this._$F += 4;return i}, St.prototype._$5b = function() {this._$zT();for (var t = this._$3L(), i = new Float64Array(t), e = 0; e < t; e++) i[e] = this._$T.getFloat64(this._$F), this._$F += 8;return i}, St.prototype._$nP = function() {return this._$Jb(-1)}, St.prototype._$Jb = function(t) {if (this._$zT(), t < 0 && (t = this._$3L()), t == G._$7P) {var i = this._$6L();if (0 <= i && i < this._$Ko.length) return this._$Ko[i];throw new lt("_$sL _$4i @_$m0")}var e = this._$4b(t);return this._$Ko.push(e), e}, St.prototype._$4b = function(t) {if (0 == t) return null;if (50 == t) {var i = this._$bT(),e = b.getID(i);return e}if (51 == t) {var i = this._$bT(),e = yt.getID(i);return e}if (134 == t) {var i = this._$bT(),e = l.getID(i);return e}if (60 == t) {var i = this._$bT(),e = u.getID(i);return e}if (t >= 48) {var r = G._$9o(t);return null != r ? (r._$F0(this), r) : null}switch (t) {case 1:return this._$bT();case 10:return new n(this._$6L(), !0);case 11:return new S(this._$mP(), this._$mP(), this._$mP(), this._$mP());case 12:return new S(this._$_T(), this._$_T(), this._$_T(), this._$_T());case 13:return new L(this._$mP(), this._$mP());case 14:return new L(this._$_T(), this._$_T());case 15:for (var o = this._$3L(), e = new Array(o), s = 0; s < o; s++) e[s] = this._$nP();return e;case 17:var e = new F(this._$mP(), this._$mP(), this._$mP(), this._$mP(), this._$mP(),this._$mP());return e;case 21:return new h(this._$6L(), this._$6L(), this._$6L(), this._$6L());case 22:return new pt(this._$6L(), this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new lt("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : " + t);default:throw new lt("_$6 _$q : _$nP() NO _$i : " + t)}}, St.prototype._$8L = function() {return 0 == this._$hL ? this._$v0 = this._$ST() : 8 == this._$hL && (this._$v0 = this._$ST(), this._$hL = 0), 1 == (this._$v0 >> 7 - this._$hL++ & 1)}, St.prototype._$zT = function() {0 != this._$hL && (this._$hL = 0)}, vt.prototype._$wP = function(t, i, e) {for (var r = 0; r < e; r++) {for (var o = 0; o < i; o++) {var n = 2 * (o + r * i);console.log("(% 7.3f , % 7.3f) , ", t[n], t[n + 1])}console.log("\n")}console.log("\n")}, Lt._$2S = Math.PI / 180, Lt._$bS = Math.PI / 180, Lt._$wS = 180 / Math.PI, Lt._$NS =180 / Math.PI, Lt.PI_F = Math.PI, Lt._$kT = [0, .012368, .024734, .037097, .049454, .061803,.074143, .086471, .098786, .111087, .12337, .135634, .147877, .160098, .172295, .184465,.196606, .208718, .220798, .232844, .244854, .256827, .268761, .280654, .292503,.304308, .316066, .327776, .339436, .351044, .362598, .374097, .385538, .396921,.408243, .419502, .430697, .441826, .452888, .463881, .474802, .485651, .496425,.507124, .517745, .528287, .538748, .549126, .559421, .56963, .579752, .589785, .599728,.609579, .619337, .629, .638567, .648036, .657406, .666676, .675843, .684908, .693867,.70272, .711466, .720103, .72863, .737045, .745348, .753536, .76161, .769566, .777405,.785125, .792725, .800204, .807561, .814793, .821901, .828884, .835739, .842467,.849066, .855535, .861873, .868079, .874153, .880093, .885898, .891567, .897101,.902497, .907754, .912873, .917853, .922692, .92739, .931946, .936359, .940629, .944755,.948737, .952574, .956265, .959809, .963207, .966457, .96956, .972514, .97532, .977976,.980482, .982839, .985045, .987101, .989006, .990759, .992361, .993811, .995109,.996254, .997248, .998088, .998776, .999312, .999694, .999924, 1], Lt._$92 = function(t, i) {var e = Math.atan2(t[1], t[0]),r = Math.atan2(i[1], i[0]);return Lt._$tS(e, r)}, Lt._$tS = function(t, i) {for (var e = t - i; e < -Math.PI;) e += 2 * Math.PI;for (; e > Math.PI;) e -= 2 * Math.PI;return e}, Lt._$9 = function(t) {return Math.sin(t)}, Lt.fcos = function(t) {return Math.cos(t)}, Mt.prototype._$u2 = function() {return this._$IS[0]}, Mt.prototype._$yo = function() {return this._$AT && !this._$IS[0]}, Mt.prototype._$GT = function() {return this._$e0}, Et._$W2 = 0, Et.SYSTEM_INFO = null, Et.USER_AGENT = navigator.userAgent, Et.isIPhone =function() {return Et.SYSTEM_INFO || Et.setup(), Et.SYSTEM_INFO._isIPhone}, Et.isIOS = function() {return Et.SYSTEM_INFO || Et.setup(), Et.SYSTEM_INFO._isIPhone || Et.SYSTEM_INFO._isIPad}, Et.isAndroid = function() {return Et.SYSTEM_INFO || Et.setup(), Et.SYSTEM_INFO._isAndroid}, Et.getOSVersion = function() {return Et.SYSTEM_INFO || Et.setup(), Et.SYSTEM_INFO.version}, Et.getOS = function() {return Et.SYSTEM_INFO || Et.setup(), Et.SYSTEM_INFO._isIPhone || Et.SYSTEM_INFO._isIPad ? "iOS" : Et.SYSTEM_INFO._isAndroid ? "Android" : "_$Q0 OS"}, Et.setup = function() {function t(t, i) {for (var e = t.substring(i).split(/[ _,;\.]/), r = 0, o = 0; o <= 2 && !isNaN(e[o]); o++) {var n = parseInt(e[o]);if (n < 0 || n > 999) {_._$li("err : " + n + " @UtHtml5.setup()"), r = 0;break}r += n * Math.pow(1e3, 2 - o)}return r}var i, e = Et.USER_AGENT,r = Et.SYSTEM_INFO = {userAgent: e};if ((i = e.indexOf("iPhone OS ")) >= 0) r.os = "iPhone", r._isIPhone = !0, r.version =t(e, i + "iPhone OS ".length);else if ((i = e.indexOf("iPad")) >= 0) {if ((i = e.indexOf("CPU OS")) < 0) return void _._$li(" err : " + e +" @UtHtml5.setup()");r.os = "iPad", r._isIPad = !0, r.version = t(e, i + "CPU OS ".length)} else(i = e.indexOf("Android")) >= 0 ? (r.os = "Android", r._isAndroid = !0, r.version = t(e, i + "Android ".length)) : (r.os = "-", r.version = -1)}, window.UtSystem = w, window.UtDebug = _, window.LDTransform = gt, window.LDGL = nt,window.Live2D = at, window.Live2DModelWebGL = ft, window.Live2DModelJS = q, window.Live2DMotion = J, window.MotionQueueManager = ct, window.PhysicsHair = f, window.AMotion =s, window.PartsDataID = l, window.DrawDataID = b, window.BaseDataID = yt, window.ParamID =u, at.init();var At = !1}()}).call(i, e(7))}, function(t, i) {t.exports = {import: function() {throw new Error("System.import cannot be used indirectly")}}}, function(t, i, e) {"use strict";function r(t) {return t && t.__esModule ? t : {default: t}}function o() {this.models = [], this.count = -1, this.reloadFlg = !1, Live2D.init(), n.Live2DFramework.setPlatformManager(new _.default)}Object.defineProperty(i, "__esModule", {value: !0}), i.default = o;var n = e(0),s = e(9),_ = r(s),a = e(10),h = r(a),l = e(1),$ = r(l);o.prototype.createModel = function() {var t = new h.default;return this.models.push(t), t}, o.prototype.changeModel = function(t, i) {if (this.reloadFlg) {this.reloadFlg = !1;this.releaseModel(0, t), this.createModel(), this.models[0].load(t, i)}}, o.prototype.getModel = function(t) {return t >= this.models.length ? null : this.models[t]}, o.prototype.releaseModel = function(t, i) {this.models.length <= t || (this.models[t].release(i), delete this.models[t], this.models.splice(t,1))}, o.prototype.numModels = function() {return this.models.length}, o.prototype.setDrag = function(t, i) {for (var e = 0; e < this.models.length; e++) this.models[e].setDrag(t, i)}, o.prototype.maxScaleEvent = function() {$.default.DEBUG_LOG && console.log("Max scale event.");for (var t = 0; t < this.models.length; t++) this.models[t].startRandomMotion($.default.MOTION_GROUP_PINCH_IN, $.default.PRIORITY_NORMAL)}, o.prototype.minScaleEvent = function() {$.default.DEBUG_LOG && console.log("Min scale event.");for (var t = 0; t < this.models.length; t++) this.models[t].startRandomMotion($.default.MOTION_GROUP_PINCH_OUT, $.default.PRIORITY_NORMAL)}, o.prototype.tapEvent = function(t, i) {$.default.DEBUG_LOG && console.log("tapEvent view x:" + t + " y:" + i);for (var e = 0; e < this.models.length; e++) this.models[e].hitTest($.default.HIT_AREA_HEAD, t, i) ?($.default.DEBUG_LOG && console.log("Tap face."), this.models[e].setRandomExpression()) : this.models[e].hitTest($.default.HIT_AREA_BODY, t, i) ? ($.default.DEBUG_LOG && console.log("Tap body. models[" + e + "]"), this.models[e].startRandomMotion($.default.MOTION_GROUP_TAP_BODY, $.default.PRIORITY_NORMAL)) : this.models[e].hitTestCustom("head",t, i) ? ($.default.DEBUG_LOG && console.log("Tap face."), this.models[e].startRandomMotion($.default.MOTION_GROUP_FLICK_HEAD, $.default.PRIORITY_NORMAL)) : this.models[e].hitTestCustom("body", t, i) && ($.default.DEBUG_LOG && console.log("Tap body. models[" + e +"]"), this.models[e].startRandomMotion($.default.MOTION_GROUP_TAP_BODY, $.default.PRIORITY_NORMAL));return !0}}, function(t, i, e) {"use strict";function r() {}Object.defineProperty(i, "__esModule", {value: !0}), i.default = r;var o = e(2);var requestCache = {};r.prototype.loadBytes = function(t, i) {if (requestCache[t] !== undefined) {i(requestCache[t]);return;}var e = new XMLHttpRequest;e.open("GET", t, !0), e.responseType = "arraybuffer", e.onload = function() {switch (e.status) {case 200:requestCache[t] = e.response;i(e.response);break;default:console.error("Failed to load (" + e.status + ") : " + t)}}, e.send(null)}, r.prototype.loadString = function(t) {this.loadBytes(t, function(t) {return t})}, r.prototype.loadLive2DModel = function(t, i) {var e = null;this.loadBytes(t, function(t) {e = Live2DModelWebGL.loadModel(t), i(e)})}, r.prototype.loadTexture = function(t, i, e, r) {var n = new Image;n.crossOrigin = "Anonymous", n.src = e;n.onload = function() {var e = (0, o.getContext)(),s = e.createTexture();if (!s) return console.error("Failed to generate gl texture name."), -1;0 == t.isPremultipliedAlpha() && e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1), e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, 1), e.activeTexture(e.TEXTURE0), e.bindTexture(e.TEXTURE_2D, s), e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, n),e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR_MIPMAP_NEAREST), e.generateMipmap(e.TEXTURE_2D), t.setTexture(i, s), s = null, "function" == typeof r && r()}, n.onerror = function() {console.error("Failed to load image : " + e)}}, r.prototype.jsonParseFromBytes = function(t) {var i, e = new Uint8Array(t, 0, 3);return i = 239 == e[0] && 187 == e[1] && 191 == e[2] ? String.fromCharCode.apply(null,new Uint8Array(t, 3)) : String.fromCharCode.apply(null, new Uint8Array(t)), JSON.parse(i)}, r.prototype.log = function(t) {}}, function(t, i, e) {"use strict";function r(t) {return t && t.__esModule ? t : {default: t}}function o() {n.L2DBaseModel.prototype.constructor.call(this), this.modelHomeDir = "", this.modelSetting = null, this.tmpMatrix = []}Object.defineProperty(i, "__esModule", {value: !0}), i.default = o;var n = e(0),s = e(11),_ = r(s),a = e(1),h = r(a),l = e(3),$ = r(l);o.prototype = new n.L2DBaseModel, o.prototype.load = function(t, i, e) {this.setUpdating(!0), this.setInitialized(!1), this.modelHomeDir = i.substring(0, i.lastIndexOf("/") + 1), this.modelSetting = new _.default;var r = this;this.modelSetting.loadModelSetting(i, function() {var t = r.modelHomeDir + r.modelSetting.getModelFile();r.loadModelData(t, function(t) {for (var i = 0; i < r.modelSetting.getTextureNum(); i++) {if (/^https?:\/\/|^\/\//i.test(r.modelSetting.getTextureFile(i))) varo = r.modelSetting.getTextureFile(i);else var o = r.modelHomeDir + r.modelSetting.getTextureFile(i);r.loadTexture(i, o, function() {if (r.isTexLoaded) {if (r.modelSetting.getExpressionNum() > 0) {r.expressions = {};for (var t = 0; t < r.modelSetting.getExpressionNum(); t++) {var i = r.modelSetting.getExpressionName(t),o = r.modelHomeDir + r.modelSetting.getExpressionFile(t);r.loadExpression(i, o)}} else r.expressionManager = null, r.expressions = {};if (r.eyeBlink, null != r.modelSetting.getPhysicsFile() ? r.loadPhysics(r.modelHomeDir + r.modelSetting.getPhysicsFile()) : r.physics =null, null != r.modelSetting.getPoseFile() ? r.loadPose(r.modelHomeDir + r.modelSetting.getPoseFile(),function() {r.pose.updateParam(r.live2DModel)}) : r.pose = null, null != r.modelSetting.getLayout()) {var n = r.modelSetting.getLayout();null != n.width && r.modelMatrix.setWidth(n.width),null != n.height && r.modelMatrix.setHeight(n.height), null != n.x && r.modelMatrix.setX(n.x), null != n.y && r.modelMatrix.setY(n.y), null != n.center_x && r.modelMatrix.centerX(n.center_x), null != n.center_y && r.modelMatrix.centerY(n.center_y), null != n.top && r.modelMatrix.top(n.top), null != n.bottom && r.modelMatrix.bottom(n.bottom),null != n.left && r.modelMatrix.left(n.left),null != n.right && r.modelMatrix.right(n.right)}if (null != r.modelSetting.getHitAreasCustom()) {var s = r.modelSetting.getHitAreasCustom();null != s.head_x && (h.default.hit_areas_custom_head_x = s.head_x),null != s.head_y && (h.default.hit_areas_custom_head_y = s.head_y),null != s.body_x && (h.default.hit_areas_custom_body_x = s.body_x),null != s.body_y && (h.default.hit_areas_custom_body_y = s.body_y)}for (var t = 0; t < r.modelSetting.getInitParamNum(); t++) r.live2DModel.setParamFloat(r.modelSetting.getInitParamID(t), r.modelSetting.getInitParamValue(t));for (var t = 0; t < r.modelSetting.getInitPartsVisibleNum(); t++) r.live2DModel.setPartsOpacity(r.modelSetting.getInitPartsVisibleID(t), r.modelSetting.getInitPartsVisibleValue(t));r.live2DModel.saveParam(), r.preloadMotionGroup(h.default.MOTION_GROUP_IDLE), r.preloadMotionGroup(h.default.MOTION_GROUP_SLEEPY),r.mainMotionManager.stopAllMotions(), r.setUpdating(!1), r.setInitialized(!0), "function" ==typeof e && e()}})}})})}, o.prototype.release = function(t) {var i = n.Live2DFramework.getPlatformManager();t.deleteTexture(i.texture)}, o.prototype.preloadMotionGroup = function(t) {for (var i = this, e = 0; e < this.modelSetting.getMotionNum(t); e++) {var r = this.modelSetting.getMotionFile(t, e);this.loadMotion(r, this.modelHomeDir + r, function(r) {r.setFadeIn(i.modelSetting.getMotionFadeIn(t, e)), r.setFadeOut(i.modelSetting.getMotionFadeOut(t, e))})}}, o.prototype.update = function() {if (null == this.live2DModel) return void(h.default.DEBUG_LOG && console.error("Failed to update."));var t = UtSystem.getUserTimeMSec() - this.startTimeMSec,i = t / 1e3,e = 2 * i * Math.PI;if (this.mainMotionManager.isFinished()) {"1" === sessionStorage.getItem("Sleepy") ? this.startRandomMotion(h.default.MOTION_GROUP_SLEEPY,h.default.PRIORITY_SLEEPY) : this.startRandomMotion(h.default.MOTION_GROUP_IDLE, h.default.PRIORITY_IDLE)}this.live2DModel.loadParam(), this.mainMotionManager.updateParam(this.live2DModel) || null != this.eyeBlink && this.eyeBlink.updateParam(this.live2DModel), this.live2DModel.saveParam(), null ==this.expressionManager || null == this.expressions || this.expressionManager.isFinished() ||this.expressionManager.updateParam(this.live2DModel), this.live2DModel.addToParamFloat("PARAM_ANGLE_X", 30 * this.dragX, 1), this.live2DModel.addToParamFloat("PARAM_ANGLE_Y", 30 *this.dragY, 1), this.live2DModel.addToParamFloat("PARAM_ANGLE_Z", this.dragX * this.dragY *-30, 1), this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X", 10 * this.dragX, 1), this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X", this.dragX, 1), this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y", this.dragY, 1), this.live2DModel.addToParamFloat("PARAM_ANGLE_X", Number(15 * Math.sin(e / 6.5345)), .5), this.live2DModel.addToParamFloat("PARAM_ANGLE_Y", Number(8 * Math.sin(e / 3.5345)), .5), this.live2DModel.addToParamFloat("PARAM_ANGLE_Z", Number(10 * Math.sin(e / 5.5345)), .5), this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X", Number(4 * Math.sin(e / 15.5345)), .5), this.live2DModel.setParamFloat("PARAM_BREATH", Number(.5 + .5 * Math.sin(e / 3.2345)), 1), null != this.physics && this.physics.updateParam(this.live2DModel), null == this.lipSync && this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y", this.lipSyncValue), null != this.pose && this.pose.updateParam(this.live2DModel), this.live2DModel.update()}, o.prototype.setRandomExpression = function() {var t = [];for (var i in this.expressions) t.push(i);var e = parseInt(Math.random() * t.length);this.setExpression(t[e])}, o.prototype.startRandomMotion = function(t, i) {var e = this.modelSetting.getMotionNum(t),r = parseInt(Math.random() * e);this.startMotion(t, r, i)}, o.prototype.startMotion = function(t, i, e) {var r = this.modelSetting.getMotionFile(t, i);if (null == r || "" == r) return void(h.default.DEBUG_LOG && console.error("Failed to motion."));if (e == h.default.PRIORITY_FORCE) this.mainMotionManager.setReservePriority(e);else if (!this.mainMotionManager.reserveMotion(e)) return void(h.default.DEBUG_LOG && console.log("Motion is running."));var o, n = this;null == this.motions[t] ? this.loadMotion(null, this.modelHomeDir + r, function(r) {o = r, n.setFadeInFadeOut(t, i, e, o)}) : (o = this.motions[t], n.setFadeInFadeOut(t, i, e, o))}, o.prototype.setFadeInFadeOut = function(t, i, e, r) {var o = this.modelSetting.getMotionFile(t, i);if (r.setFadeIn(this.modelSetting.getMotionFadeIn(t, i)), r.setFadeOut(this.modelSetting.getMotionFadeOut(t, i)), h.default.DEBUG_LOG && console.log("Start motion : " + o), null ==this.modelSetting.getMotionSound(t, i)) this.mainMotionManager.startMotionPrio(r, e);else {var n = this.modelSetting.getMotionSound(t, i),s = document.createElement("audio");s.src = this.modelHomeDir + n, h.default.DEBUG_LOG && console.log("Start sound : " + n), s.play(), this.mainMotionManager.startMotionPrio(r, e)}}, o.prototype.setExpression = function(t) {var i = this.expressions[t];h.default.DEBUG_LOG && console.log("Expression : " + t), this.expressionManager.startMotion(i, !1)}, o.prototype.draw = function(t) {$.default.push(), $.default.multMatrix(this.modelMatrix.getArray()), this.tmpMatrix = $.default.getMatrix(), this.live2DModel.setMatrix(this.tmpMatrix), this.live2DModel.draw(), $.default.pop()}, o.prototype.hitTest = function(t, i, e) {for (var r = this.modelSetting.getHitAreaNum(), o = 0; o < r; o++)if (t == this.modelSetting.getHitAreaName(o)) {var n = this.modelSetting.getHitAreaID(o);return this.hitTestSimple(n, i, e)} return !1}, o.prototype.hitTestCustom = function(t, i, e) {return "head" == t ? this.hitTestSimpleCustom(h.default.hit_areas_custom_head_x, h.default.hit_areas_custom_head_y, i, e) : "body" == t && this.hitTestSimpleCustom(h.default.hit_areas_custom_body_x, h.default.hit_areas_custom_body_y, i, e)}}, function(t, i, e) {"use strict";function r() {this.NAME = "name", this.ID = "id", this.MODEL = "model", this.TEXTURES = "textures", this.HIT_AREAS ="hit_areas", this.PHYSICS = "physics", this.POSE = "pose", this.EXPRESSIONS = "expressions", this.MOTION_GROUPS = "motions", this.SOUND = "sound", this.FADE_IN = "fade_in", this.FADE_OUT ="fade_out", this.LAYOUT = "layout", this.HIT_AREAS_CUSTOM = "hit_areas_custom", this.INIT_PARAM ="init_param", this.INIT_PARTS_VISIBLE = "init_parts_visible", this.VALUE = "val", this.FILE ="file", this.json = {}}Object.defineProperty(i, "__esModule", {value: !0}), i.default = r;var o = e(0);r.prototype.loadModelSetting = function(t, i) {var e = this;o.Live2DFramework.getPlatformManager().loadBytes(t, function(t) {var r = String.fromCharCode.apply(null, new Uint8Array(t));e.json = JSON.parse(r), i()})}, r.prototype.getTextureFile = function(t) {return null == this.json[this.TEXTURES] || null == this.json[this.TEXTURES][t] ? null : this.json[this.TEXTURES][t]}, r.prototype.getModelFile = function() {return this.json[this.MODEL]}, r.prototype.getTextureNum = function() {return null == this.json[this.TEXTURES] ? 0 : this.json[this.TEXTURES].length}, r.prototype.getHitAreaNum = function() {return null == this.json[this.HIT_AREAS] ? 0 : this.json[this.HIT_AREAS].length}, r.prototype.getHitAreaID = function(t) {return null == this.json[this.HIT_AREAS] || null == this.json[this.HIT_AREAS][t] ? null : this.json[this.HIT_AREAS][t][this.ID]}, r.prototype.getHitAreaName = function(t) {return null == this.json[this.HIT_AREAS] || null == this.json[this.HIT_AREAS][t] ? null : this.json[this.HIT_AREAS][t][this.NAME]}, r.prototype.getPhysicsFile = function() {return this.json[this.PHYSICS]}, r.prototype.getPoseFile = function() {return this.json[this.POSE]}, r.prototype.getExpressionNum = function() {return null == this.json[this.EXPRESSIONS] ? 0 : this.json[this.EXPRESSIONS].length}, r.prototype.getExpressionFile = function(t) {return null == this.json[this.EXPRESSIONS] ? null : this.json[this.EXPRESSIONS][t][this.FILE]}, r.prototype.getExpressionName = function(t) {return null == this.json[this.EXPRESSIONS] ? null : this.json[this.EXPRESSIONS][t][this.NAME]}, r.prototype.getLayout = function() {return this.json[this.LAYOUT]}, r.prototype.getHitAreasCustom = function() {return this.json[this.HIT_AREAS_CUSTOM]}, r.prototype.getInitParamNum = function() {return null == this.json[this.INIT_PARAM] ? 0 : this.json[this.INIT_PARAM].length}, r.prototype.getMotionNum = function(t) {return null == this.json[this.MOTION_GROUPS] || null == this.json[this.MOTION_GROUPS][t] ? 0 : this.json[this.MOTION_GROUPS][t].length}, r.prototype.getMotionFile = function(t, i) {return null == this.json[this.MOTION_GROUPS] || null == this.json[this.MOTION_GROUPS][t] || null ==this.json[this.MOTION_GROUPS][t][i] ? null : this.json[this.MOTION_GROUPS][t][i][this.FILE]}, r.prototype.getMotionSound = function(t, i) {return null == this.json[this.MOTION_GROUPS] || null == this.json[this.MOTION_GROUPS][t] || null ==this.json[this.MOTION_GROUPS][t][i] || null == this.json[this.MOTION_GROUPS][t][i][this.SOUND] ?null : this.json[this.MOTION_GROUPS][t][i][this.SOUND]}, r.prototype.getMotionFadeIn = function(t, i) {return null == this.json[this.MOTION_GROUPS] || null == this.json[this.MOTION_GROUPS][t] || null ==this.json[this.MOTION_GROUPS][t][i] || null == this.json[this.MOTION_GROUPS][t][i][this.FADE_IN] ? 1e3 : this.json[this.MOTION_GROUPS][t][i][this.FADE_IN]}, r.prototype.getMotionFadeOut = function(t, i) {return null == this.json[this.MOTION_GROUPS] || null == this.json[this.MOTION_GROUPS][t] || null ==this.json[this.MOTION_GROUPS][t][i] || null == this.json[this.MOTION_GROUPS][t][i][this.FADE_OUT] ? 1e3 : this.json[this.MOTION_GROUPS][t][i][this.FADE_OUT]}, r.prototype.getInitParamID = function(t) {return null == this.json[this.INIT_PARAM] || null == this.json[this.INIT_PARAM][t] ? null : this.json[this.INIT_PARAM][t][this.ID]}, r.prototype.getInitParamValue = function(t) {return null == this.json[this.INIT_PARAM] || null == this.json[this.INIT_PARAM][t] ? NaN : this.json[this.INIT_PARAM][t][this.VALUE]}, r.prototype.getInitPartsVisibleNum = function() {return null == this.json[this.INIT_PARTS_VISIBLE] ? 0 : this.json[this.INIT_PARTS_VISIBLE].length}, r.prototype.getInitPartsVisibleID = function(t) {return null == this.json[this.INIT_PARTS_VISIBLE] || null == this.json[this.INIT_PARTS_VISIBLE][t] ?null : this.json[this.INIT_PARTS_VISIBLE][t][this.ID]}, r.prototype.getInitPartsVisibleValue = function(t) {return null == this.json[this.INIT_PARTS_VISIBLE] || null == this.json[this.INIT_PARTS_VISIBLE][t] ?NaN : this.json[this.INIT_PARTS_VISIBLE][t][this.VALUE]}}]);]]></content>
      
    </entry>
    
    
  
</search>
